"use strict";
var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// ../../node_modules/property-expr/index.js
var require_property_expr = __commonJS({
  "../../node_modules/property-expr/index.js"(exports2, module2) {
    "use strict";
    function Cache(maxSize) {
      this._maxSize = maxSize;
      this.clear();
    }
    Cache.prototype.clear = function() {
      this._size = 0;
      this._values = /* @__PURE__ */ Object.create(null);
    };
    Cache.prototype.get = function(key) {
      return this._values[key];
    };
    Cache.prototype.set = function(key, value) {
      this._size >= this._maxSize && this.clear();
      if (!(key in this._values))
        this._size++;
      return this._values[key] = value;
    };
    var SPLIT_REGEX = /[^.^\]^[]+|(?=\[\]|\.\.)/g;
    var DIGIT_REGEX = /^\d+$/;
    var LEAD_DIGIT_REGEX = /^\d/;
    var SPEC_CHAR_REGEX = /[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g;
    var CLEAN_QUOTES_REGEX = /^\s*(['"]?)(.*?)(\1)\s*$/;
    var MAX_CACHE_SIZE = 512;
    var pathCache = new Cache(MAX_CACHE_SIZE);
    var setCache = new Cache(MAX_CACHE_SIZE);
    var getCache = new Cache(MAX_CACHE_SIZE);
    module2.exports = {
      Cache,
      split: split2,
      normalizePath: normalizePath2,
      setter: function(path) {
        var parts = normalizePath2(path);
        return setCache.get(path) || setCache.set(path, function setter(obj, value) {
          var index = 0;
          var len = parts.length;
          var data = obj;
          while (index < len - 1) {
            var part = parts[index];
            if (part === "__proto__" || part === "constructor" || part === "prototype") {
              return obj;
            }
            data = data[parts[index++]];
          }
          data[parts[index]] = value;
        });
      },
      getter: function(path, safe) {
        var parts = normalizePath2(path);
        return getCache.get(path) || getCache.set(path, function getter2(data) {
          var index = 0, len = parts.length;
          while (index < len) {
            if (data != null || !safe)
              data = data[parts[index++]];
            else
              return;
          }
          return data;
        });
      },
      join: function(segments) {
        return segments.reduce(function(path, part) {
          return path + (isQuoted(part) || DIGIT_REGEX.test(part) ? "[" + part + "]" : (path ? "." : "") + part);
        }, "");
      },
      forEach: function(path, cb, thisArg) {
        forEach2(Array.isArray(path) ? path : split2(path), cb, thisArg);
      }
    };
    function normalizePath2(path) {
      return pathCache.get(path) || pathCache.set(
        path,
        split2(path).map(function(part) {
          return part.replace(CLEAN_QUOTES_REGEX, "$2");
        })
      );
    }
    function split2(path) {
      return path.match(SPLIT_REGEX) || [""];
    }
    function forEach2(parts, iter, thisArg) {
      var len = parts.length, part, idx, isArray2, isBracket;
      for (idx = 0; idx < len; idx++) {
        part = parts[idx];
        if (part) {
          if (shouldBeQuoted(part)) {
            part = '"' + part + '"';
          }
          isBracket = isQuoted(part);
          isArray2 = !isBracket && /^\d+$/.test(part);
          iter.call(thisArg, part, isBracket, isArray2, idx, parts);
        }
      }
    }
    function isQuoted(str) {
      return typeof str === "string" && str && ["'", '"'].indexOf(str.charAt(0)) !== -1;
    }
    function hasLeadingNumber(part) {
      return part.match(LEAD_DIGIT_REGEX) && !part.match(DIGIT_REGEX);
    }
    function hasSpecialChars(part) {
      return SPEC_CHAR_REGEX.test(part);
    }
    function shouldBeQuoted(part) {
      return !isQuoted(part) && (hasLeadingNumber(part) || hasSpecialChars(part));
    }
  }
});

// ../../node_modules/tiny-case/index.js
var require_tiny_case = __commonJS({
  "../../node_modules/tiny-case/index.js"(exports2, module2) {
    "use strict";
    var reWords = /[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g;
    var words = (str) => str.match(reWords) || [];
    var upperFirst = (str) => str[0].toUpperCase() + str.slice(1);
    var join2 = (str, d) => words(str).join(d).toLowerCase();
    var camelCase2 = (str) => words(str).reduce(
      (acc, next) => `${acc}${!acc ? next.toLowerCase() : next[0].toUpperCase() + next.slice(1).toLowerCase()}`,
      ""
    );
    var pascalCase = (str) => upperFirst(camelCase2(str));
    var snakeCase2 = (str) => join2(str, "_");
    var kebabCase = (str) => join2(str, "-");
    var sentenceCase = (str) => upperFirst(join2(str, " "));
    var titleCase = (str) => words(str).map(upperFirst).join(" ");
    module2.exports = {
      words,
      upperFirst,
      camelCase: camelCase2,
      pascalCase,
      snakeCase: snakeCase2,
      kebabCase,
      sentenceCase,
      titleCase
    };
  }
});

// ../../node_modules/toposort/index.js
var require_toposort = __commonJS({
  "../../node_modules/toposort/index.js"(exports2, module2) {
    "use strict";
    module2.exports = function(edges) {
      return toposort2(uniqueNodes(edges), edges);
    };
    module2.exports.array = toposort2;
    function toposort2(nodes, edges) {
      var cursor = nodes.length, sorted = new Array(cursor), visited = {}, i = cursor, outgoingEdges = makeOutgoingEdges(edges), nodesHash = makeNodesHash(nodes);
      edges.forEach(function(edge) {
        if (!nodesHash.has(edge[0]) || !nodesHash.has(edge[1])) {
          throw new Error("Unknown node. There is an unknown node in the supplied edges.");
        }
      });
      while (i--) {
        if (!visited[i])
          visit(nodes[i], i, /* @__PURE__ */ new Set());
      }
      return sorted;
      function visit(node, i2, predecessors) {
        if (predecessors.has(node)) {
          var nodeRep;
          try {
            nodeRep = ", node was:" + JSON.stringify(node);
          } catch (e) {
            nodeRep = "";
          }
          throw new Error("Cyclic dependency" + nodeRep);
        }
        if (!nodesHash.has(node)) {
          throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: " + JSON.stringify(node));
        }
        if (visited[i2])
          return;
        visited[i2] = true;
        var outgoing = outgoingEdges.get(node) || /* @__PURE__ */ new Set();
        outgoing = Array.from(outgoing);
        if (i2 = outgoing.length) {
          predecessors.add(node);
          do {
            var child = outgoing[--i2];
            visit(child, nodesHash.get(child), predecessors);
          } while (i2);
          predecessors.delete(node);
        }
        sorted[--cursor] = node;
      }
    }
    function uniqueNodes(arr) {
      var res = /* @__PURE__ */ new Set();
      for (var i = 0, len = arr.length; i < len; i++) {
        var edge = arr[i];
        res.add(edge[0]);
        res.add(edge[1]);
      }
      return Array.from(res);
    }
    function makeOutgoingEdges(arr) {
      var edges = /* @__PURE__ */ new Map();
      for (var i = 0, len = arr.length; i < len; i++) {
        var edge = arr[i];
        if (!edges.has(edge[0]))
          edges.set(edge[0], /* @__PURE__ */ new Set());
        if (!edges.has(edge[1]))
          edges.set(edge[1], /* @__PURE__ */ new Set());
        edges.get(edge[0]).add(edge[1]);
      }
      return edges;
    }
    function makeNodesHash(arr) {
      var res = /* @__PURE__ */ new Map();
      for (var i = 0, len = arr.length; i < len; i++) {
        res.set(arr[i], i);
      }
      return res;
    }
  }
});

// ../../node_modules/react-fast-compare/index.js
var require_react_fast_compare = __commonJS({
  "../../node_modules/react-fast-compare/index.js"(exports2, module2) {
    "use strict";
    var isArray2 = Array.isArray;
    var keyList = Object.keys;
    var hasProp = Object.prototype.hasOwnProperty;
    var hasElementType = typeof Element !== "undefined";
    function equal(a, b) {
      if (a === b)
        return true;
      if (a && b && typeof a == "object" && typeof b == "object") {
        var arrA = isArray2(a), arrB = isArray2(b), i, length, key;
        if (arrA && arrB) {
          length = a.length;
          if (length != b.length)
            return false;
          for (i = length; i-- !== 0; )
            if (!equal(a[i], b[i]))
              return false;
          return true;
        }
        if (arrA != arrB)
          return false;
        var dateA = a instanceof Date, dateB = b instanceof Date;
        if (dateA != dateB)
          return false;
        if (dateA && dateB)
          return a.getTime() == b.getTime();
        var regexpA = a instanceof RegExp, regexpB = b instanceof RegExp;
        if (regexpA != regexpB)
          return false;
        if (regexpA && regexpB)
          return a.toString() == b.toString();
        var keys2 = keyList(a);
        length = keys2.length;
        if (length !== keyList(b).length)
          return false;
        for (i = length; i-- !== 0; )
          if (!hasProp.call(b, keys2[i]))
            return false;
        if (hasElementType && a instanceof Element && b instanceof Element)
          return a === b;
        for (i = length; i-- !== 0; ) {
          key = keys2[i];
          if (key === "_owner" && a.$$typeof) {
            continue;
          } else {
            if (!equal(a[key], b[key]))
              return false;
          }
        }
        return true;
      }
      return a !== a && b !== b;
    }
    module2.exports = function exportedEqual(a, b) {
      try {
        return equal(a, b);
      } catch (error2) {
        if (error2.message && error2.message.match(/stack|recursion/i) || error2.number === -2146828260) {
          console.warn("Warning: react-fast-compare does not handle circular references.", error2.name, error2.message);
          return false;
        }
        throw error2;
      }
    };
  }
});

// ../../node_modules/react-is/cjs/react-is.production.min.js
var require_react_is_production_min = __commonJS({
  "../../node_modules/react-is/cjs/react-is.production.min.js"(exports2) {
    "use strict";
    var b = "function" === typeof Symbol && Symbol.for;
    var c = b ? Symbol.for("react.element") : 60103;
    var d = b ? Symbol.for("react.portal") : 60106;
    var e = b ? Symbol.for("react.fragment") : 60107;
    var f = b ? Symbol.for("react.strict_mode") : 60108;
    var g = b ? Symbol.for("react.profiler") : 60114;
    var h = b ? Symbol.for("react.provider") : 60109;
    var k = b ? Symbol.for("react.context") : 60110;
    var l = b ? Symbol.for("react.async_mode") : 60111;
    var m = b ? Symbol.for("react.concurrent_mode") : 60111;
    var n = b ? Symbol.for("react.forward_ref") : 60112;
    var p = b ? Symbol.for("react.suspense") : 60113;
    var q = b ? Symbol.for("react.suspense_list") : 60120;
    var r = b ? Symbol.for("react.memo") : 60115;
    var t = b ? Symbol.for("react.lazy") : 60116;
    var v = b ? Symbol.for("react.block") : 60121;
    var w = b ? Symbol.for("react.fundamental") : 60117;
    var x = b ? Symbol.for("react.responder") : 60118;
    var y = b ? Symbol.for("react.scope") : 60119;
    function z(a) {
      if ("object" === typeof a && null !== a) {
        var u = a.$$typeof;
        switch (u) {
          case c:
            switch (a = a.type, a) {
              case l:
              case m:
              case e:
              case g:
              case f:
              case p:
                return a;
              default:
                switch (a = a && a.$$typeof, a) {
                  case k:
                  case n:
                  case t:
                  case r:
                  case h:
                    return a;
                  default:
                    return u;
                }
            }
          case d:
            return u;
        }
      }
    }
    function A(a) {
      return z(a) === m;
    }
    exports2.AsyncMode = l;
    exports2.ConcurrentMode = m;
    exports2.ContextConsumer = k;
    exports2.ContextProvider = h;
    exports2.Element = c;
    exports2.ForwardRef = n;
    exports2.Fragment = e;
    exports2.Lazy = t;
    exports2.Memo = r;
    exports2.Portal = d;
    exports2.Profiler = g;
    exports2.StrictMode = f;
    exports2.Suspense = p;
    exports2.isAsyncMode = function(a) {
      return A(a) || z(a) === l;
    };
    exports2.isConcurrentMode = A;
    exports2.isContextConsumer = function(a) {
      return z(a) === k;
    };
    exports2.isContextProvider = function(a) {
      return z(a) === h;
    };
    exports2.isElement = function(a) {
      return "object" === typeof a && null !== a && a.$$typeof === c;
    };
    exports2.isForwardRef = function(a) {
      return z(a) === n;
    };
    exports2.isFragment = function(a) {
      return z(a) === e;
    };
    exports2.isLazy = function(a) {
      return z(a) === t;
    };
    exports2.isMemo = function(a) {
      return z(a) === r;
    };
    exports2.isPortal = function(a) {
      return z(a) === d;
    };
    exports2.isProfiler = function(a) {
      return z(a) === g;
    };
    exports2.isStrictMode = function(a) {
      return z(a) === f;
    };
    exports2.isSuspense = function(a) {
      return z(a) === p;
    };
    exports2.isValidElementType = function(a) {
      return "string" === typeof a || "function" === typeof a || a === e || a === m || a === g || a === f || a === p || a === q || "object" === typeof a && null !== a && (a.$$typeof === t || a.$$typeof === r || a.$$typeof === h || a.$$typeof === k || a.$$typeof === n || a.$$typeof === w || a.$$typeof === x || a.$$typeof === y || a.$$typeof === v);
    };
    exports2.typeOf = z;
  }
});

// ../../node_modules/react-is/cjs/react-is.development.js
var require_react_is_development = __commonJS({
  "../../node_modules/react-is/cjs/react-is.development.js"(exports2) {
    "use strict";
    if (process.env.NODE_ENV !== "production") {
      (function() {
        "use strict";
        var hasSymbol = typeof Symbol === "function" && Symbol.for;
        var REACT_ELEMENT_TYPE2 = hasSymbol ? Symbol.for("react.element") : 60103;
        var REACT_PORTAL_TYPE = hasSymbol ? Symbol.for("react.portal") : 60106;
        var REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for("react.fragment") : 60107;
        var REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for("react.strict_mode") : 60108;
        var REACT_PROFILER_TYPE = hasSymbol ? Symbol.for("react.profiler") : 60114;
        var REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for("react.provider") : 60109;
        var REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for("react.context") : 60110;
        var REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for("react.async_mode") : 60111;
        var REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for("react.concurrent_mode") : 60111;
        var REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for("react.forward_ref") : 60112;
        var REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for("react.suspense") : 60113;
        var REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for("react.suspense_list") : 60120;
        var REACT_MEMO_TYPE = hasSymbol ? Symbol.for("react.memo") : 60115;
        var REACT_LAZY_TYPE = hasSymbol ? Symbol.for("react.lazy") : 60116;
        var REACT_BLOCK_TYPE = hasSymbol ? Symbol.for("react.block") : 60121;
        var REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for("react.fundamental") : 60117;
        var REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for("react.responder") : 60118;
        var REACT_SCOPE_TYPE = hasSymbol ? Symbol.for("react.scope") : 60119;
        function isValidElementType(type) {
          return typeof type === "string" || typeof type === "function" || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.
          type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === "object" && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);
        }
        function typeOf(object2) {
          if (typeof object2 === "object" && object2 !== null) {
            var $$typeof = object2.$$typeof;
            switch ($$typeof) {
              case REACT_ELEMENT_TYPE2:
                var type = object2.type;
                switch (type) {
                  case REACT_ASYNC_MODE_TYPE:
                  case REACT_CONCURRENT_MODE_TYPE:
                  case REACT_FRAGMENT_TYPE:
                  case REACT_PROFILER_TYPE:
                  case REACT_STRICT_MODE_TYPE:
                  case REACT_SUSPENSE_TYPE:
                    return type;
                  default:
                    var $$typeofType = type && type.$$typeof;
                    switch ($$typeofType) {
                      case REACT_CONTEXT_TYPE:
                      case REACT_FORWARD_REF_TYPE:
                      case REACT_LAZY_TYPE:
                      case REACT_MEMO_TYPE:
                      case REACT_PROVIDER_TYPE:
                        return $$typeofType;
                      default:
                        return $$typeof;
                    }
                }
              case REACT_PORTAL_TYPE:
                return $$typeof;
            }
          }
          return void 0;
        }
        var AsyncMode = REACT_ASYNC_MODE_TYPE;
        var ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;
        var ContextConsumer = REACT_CONTEXT_TYPE;
        var ContextProvider = REACT_PROVIDER_TYPE;
        var Element2 = REACT_ELEMENT_TYPE2;
        var ForwardRef = REACT_FORWARD_REF_TYPE;
        var Fragment38 = REACT_FRAGMENT_TYPE;
        var Lazy = REACT_LAZY_TYPE;
        var Memo = REACT_MEMO_TYPE;
        var Portal3 = REACT_PORTAL_TYPE;
        var Profiler = REACT_PROFILER_TYPE;
        var StrictMode = REACT_STRICT_MODE_TYPE;
        var Suspense = REACT_SUSPENSE_TYPE;
        var hasWarnedAboutDeprecatedIsAsyncMode = false;
        function isAsyncMode(object2) {
          {
            if (!hasWarnedAboutDeprecatedIsAsyncMode) {
              hasWarnedAboutDeprecatedIsAsyncMode = true;
              console["warn"]("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.");
            }
          }
          return isConcurrentMode(object2) || typeOf(object2) === REACT_ASYNC_MODE_TYPE;
        }
        function isConcurrentMode(object2) {
          return typeOf(object2) === REACT_CONCURRENT_MODE_TYPE;
        }
        function isContextConsumer(object2) {
          return typeOf(object2) === REACT_CONTEXT_TYPE;
        }
        function isContextProvider(object2) {
          return typeOf(object2) === REACT_PROVIDER_TYPE;
        }
        function isElement(object2) {
          return typeof object2 === "object" && object2 !== null && object2.$$typeof === REACT_ELEMENT_TYPE2;
        }
        function isForwardRef(object2) {
          return typeOf(object2) === REACT_FORWARD_REF_TYPE;
        }
        function isFragment(object2) {
          return typeOf(object2) === REACT_FRAGMENT_TYPE;
        }
        function isLazy(object2) {
          return typeOf(object2) === REACT_LAZY_TYPE;
        }
        function isMemo(object2) {
          return typeOf(object2) === REACT_MEMO_TYPE;
        }
        function isPortal(object2) {
          return typeOf(object2) === REACT_PORTAL_TYPE;
        }
        function isProfiler(object2) {
          return typeOf(object2) === REACT_PROFILER_TYPE;
        }
        function isStrictMode(object2) {
          return typeOf(object2) === REACT_STRICT_MODE_TYPE;
        }
        function isSuspense(object2) {
          return typeOf(object2) === REACT_SUSPENSE_TYPE;
        }
        exports2.AsyncMode = AsyncMode;
        exports2.ConcurrentMode = ConcurrentMode;
        exports2.ContextConsumer = ContextConsumer;
        exports2.ContextProvider = ContextProvider;
        exports2.Element = Element2;
        exports2.ForwardRef = ForwardRef;
        exports2.Fragment = Fragment38;
        exports2.Lazy = Lazy;
        exports2.Memo = Memo;
        exports2.Portal = Portal3;
        exports2.Profiler = Profiler;
        exports2.StrictMode = StrictMode;
        exports2.Suspense = Suspense;
        exports2.isAsyncMode = isAsyncMode;
        exports2.isConcurrentMode = isConcurrentMode;
        exports2.isContextConsumer = isContextConsumer;
        exports2.isContextProvider = isContextProvider;
        exports2.isElement = isElement;
        exports2.isForwardRef = isForwardRef;
        exports2.isFragment = isFragment;
        exports2.isLazy = isLazy;
        exports2.isMemo = isMemo;
        exports2.isPortal = isPortal;
        exports2.isProfiler = isProfiler;
        exports2.isStrictMode = isStrictMode;
        exports2.isSuspense = isSuspense;
        exports2.isValidElementType = isValidElementType;
        exports2.typeOf = typeOf;
      })();
    }
  }
});

// ../../node_modules/react-is/index.js
var require_react_is = __commonJS({
  "../../node_modules/react-is/index.js"(exports2, module2) {
    "use strict";
    if (process.env.NODE_ENV === "production") {
      module2.exports = require_react_is_production_min();
    } else {
      module2.exports = require_react_is_development();
    }
  }
});

// ../../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js
var require_hoist_non_react_statics_cjs = __commonJS({
  "../../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"(exports2, module2) {
    "use strict";
    var reactIs = require_react_is();
    var REACT_STATICS = {
      childContextTypes: true,
      contextType: true,
      contextTypes: true,
      defaultProps: true,
      displayName: true,
      getDefaultProps: true,
      getDerivedStateFromError: true,
      getDerivedStateFromProps: true,
      mixins: true,
      propTypes: true,
      type: true
    };
    var KNOWN_STATICS = {
      name: true,
      length: true,
      prototype: true,
      caller: true,
      callee: true,
      arguments: true,
      arity: true
    };
    var FORWARD_REF_STATICS = {
      "$$typeof": true,
      render: true,
      defaultProps: true,
      displayName: true,
      propTypes: true
    };
    var MEMO_STATICS = {
      "$$typeof": true,
      compare: true,
      defaultProps: true,
      displayName: true,
      propTypes: true,
      type: true
    };
    var TYPE_STATICS = {};
    TYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;
    TYPE_STATICS[reactIs.Memo] = MEMO_STATICS;
    function getStatics(component) {
      if (reactIs.isMemo(component)) {
        return MEMO_STATICS;
      }
      return TYPE_STATICS[component["$$typeof"]] || REACT_STATICS;
    }
    var defineProperty2 = Object.defineProperty;
    var getOwnPropertyNames = Object.getOwnPropertyNames;
    var getOwnPropertySymbols = Object.getOwnPropertySymbols;
    var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
    var getPrototypeOf = Object.getPrototypeOf;
    var objectPrototype = Object.prototype;
    function hoistNonReactStatics2(targetComponent, sourceComponent, blacklist) {
      if (typeof sourceComponent !== "string") {
        if (objectPrototype) {
          var inheritedComponent = getPrototypeOf(sourceComponent);
          if (inheritedComponent && inheritedComponent !== objectPrototype) {
            hoistNonReactStatics2(targetComponent, inheritedComponent, blacklist);
          }
        }
        var keys2 = getOwnPropertyNames(sourceComponent);
        if (getOwnPropertySymbols) {
          keys2 = keys2.concat(getOwnPropertySymbols(sourceComponent));
        }
        var targetStatics = getStatics(targetComponent);
        var sourceStatics = getStatics(sourceComponent);
        for (var i = 0; i < keys2.length; ++i) {
          var key = keys2[i];
          if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {
            var descriptor = getOwnPropertyDescriptor(sourceComponent, key);
            try {
              defineProperty2(targetComponent, key, descriptor);
            } catch (e) {
            }
          }
        }
      }
      return targetComponent;
    }
    module2.exports = hoistNonReactStatics2;
  }
});

// src/index.tsx
var src_exports = {};
__export(src_exports, {
  AccountManagementCard: () => AccountManagementCard,
  AccountSection: () => AccountSection,
  ActionButton: () => ActionButton,
  ActivityFeed: () => ActivityFeed,
  AddCategoryDialog: () => AddCategoryDialog,
  AddCustomerDialog: () => AddCustomerDialog,
  AddCustomerForm: () => AddCustomerForm,
  AddUserDialog: () => AddUserDialog,
  AdminPageHeader: () => AdminPageHeader,
  AdminSidebar: () => AdminSidebar,
  AdminStatusBadge: () => AdminStatusBadge,
  Alert: () => Alert,
  AlertDescription: () => AlertDescription,
  AlertTitle: () => AlertTitle,
  ApiEndpointCard: () => ApiEndpointCard_default,
  ApiEndpointsGrid: () => ApiEndpointsGrid,
  ApiKeyCard: () => ApiKeyCard_default,
  ApiKeysGrid: () => ApiKeysGrid,
  AuditLogDetail: () => AuditLogDetail,
  AuditLogViewer: () => AuditLogViewer,
  AuditLogViewerSimple: () => AuditLogViewerSimple,
  BackupCard: () => BackupCard_default,
  BackupGrid: () => BackupGrid,
  BackupScheduleCard: () => BackupScheduleCard_default,
  BackupSchedulesGrid: () => BackupSchedulesGrid,
  Badge: () => Badge,
  BillingCycleDetailDialog: () => BillingCycleDetailDialog,
  BillingCycleForm: () => BillingCycleForm,
  BillingCycleTable: () => BillingCycleTable,
  Breadcrumb: () => Breadcrumb,
  Button: () => Button,
  ButtonClean: () => ButtonClean,
  ButtonColorful: () => ButtonColorful,
  CalendarEventLoading: () => CalendarEventLoading,
  CalendarGrid: () => CalendarGrid,
  CalendarHeader: () => CalendarHeader,
  CalendarLoading: () => CalendarLoading,
  CalendarNavigation: () => CalendarNavigation,
  CalendarSkeleton: () => CalendarSkeleton,
  CalendarStats: () => CalendarStats,
  Calendars: () => Calendars,
  Card: () => Card2,
  CardClean: () => CardClean,
  CardColorful: () => CardColorful,
  CardContent: () => CardContent2,
  CardContentClean: () => CardContentClean,
  CardContentColorful: () => CardContentColorful,
  CardDescription: () => CardDescription2,
  CardHeader: () => CardHeader2,
  CardHeaderClean: () => CardHeaderClean,
  CardHeaderColorful: () => CardHeaderColorful,
  CardSkeleton: () => CardSkeleton,
  CardTitle: () => CardTitle2,
  CardTitleClean: () => CardTitleClean,
  CardTitleColorful: () => CardTitleColorful,
  Categories: () => Categories,
  CategoriesLoading: () => CategoriesLoading,
  CategoryActions: () => CategoryActions,
  CategoryCard: () => CategoryCard,
  CategoryDetailLoading: () => CategoryDetailLoading,
  CategoryFilters: () => CategoryFilters,
  CategoryForm: () => CategoryForm,
  CategoryFormContent: () => CategoryFormContent,
  CategoryGrid: () => CategoryGrid,
  CategoryHeader: () => CategoryHeader,
  CategorySearch: () => CategorySearch,
  CategoryTable: () => CategoryTable,
  CategoryView: () => CategoryView,
  ChangePasswordDialog: () => ChangePasswordDialog,
  ClientSidebar: () => ClientSidebar,
  CollectionReturnModal: () => CollectionReturnModal,
  ColorfulList: () => ColorfulList,
  ColorfulQuickActions: () => ColorfulQuickActions,
  ColorfulTodaysFocus: () => ColorfulTodaysFocus,
  ConfirmationDialog: () => ConfirmationDialog,
  ConfirmationDialogWithReason: () => ConfirmationDialogWithReason,
  CreateOrderForm: () => CreateOrderForm,
  CurrencySelector: () => CurrencySelector,
  CustomerActions: () => CustomerActions,
  CustomerDetailDialog: () => CustomerDetailDialog,
  CustomerDetailLoading: () => CustomerDetailLoading,
  CustomerForm: () => CustomerForm,
  CustomerHeader: () => CustomerHeader,
  CustomerInfoCard: () => CustomerInfoCard,
  CustomerOrdersDialog: () => CustomerOrdersDialog,
  CustomerOrdersSummaryCard: () => CustomerOrdersSummaryCard,
  CustomerPageHeader: () => CustomerPageHeader,
  CustomerSearch: () => CustomerSearch,
  CustomerStats: () => CustomerStats,
  CustomerTable: () => CustomerTable,
  Customers: () => Customers_default,
  CustomersLoading: () => CustomersLoading,
  Dashboard: () => Dashboard_default,
  DashboardActions: () => DashboardActions,
  DashboardCharts: () => DashboardCharts,
  DashboardFocus: () => DashboardFocus,
  DashboardFocusLoading: () => DashboardFocusLoading,
  DashboardHeader: () => DashboardHeader,
  DashboardLoading: () => DashboardLoading,
  DashboardNavigation: () => DashboardNavigation,
  DashboardStats: () => DashboardStats,
  DashboardWrapper: () => DashboardWrapper,
  DashboardWrapperClean: () => DashboardWrapperClean,
  DashboardWrapperColorful: () => DashboardWrapperColorful,
  DataTable: () => DataTable,
  DateRangePicker: () => DateRangePicker,
  DeleteAccountDialog: () => DeleteAccountDialog,
  Dialog: () => Dialog,
  DialogContent: () => DialogContent,
  DialogDescription: () => DialogDescription,
  DialogFooter: () => DialogFooter,
  DialogHeader: () => DialogHeader,
  DialogTitle: () => DialogTitle,
  DialogTrigger: () => DialogTrigger,
  DropdownMenu: () => DropdownMenu,
  DropdownMenuCheckboxItem: () => DropdownMenuCheckboxItem,
  DropdownMenuContent: () => DropdownMenuContent,
  DropdownMenuGroup: () => DropdownMenuGroup,
  DropdownMenuItem: () => DropdownMenuItem,
  DropdownMenuLabel: () => DropdownMenuLabel,
  DropdownMenuPortal: () => DropdownMenuPortal,
  DropdownMenuRadioGroup: () => DropdownMenuRadioGroup,
  DropdownMenuRadioItem: () => DropdownMenuRadioItem,
  DropdownMenuSeparator: () => DropdownMenuSeparator,
  DropdownMenuShortcut: () => DropdownMenuShortcut,
  DropdownMenuSub: () => DropdownMenuSub,
  DropdownMenuSubContent: () => DropdownMenuSubContent,
  DropdownMenuSubTrigger: () => DropdownMenuSubTrigger,
  DropdownMenuTrigger: () => DropdownMenuTrigger,
  EditCustomerForm: () => EditCustomerForm,
  EmptyState: () => EmptyState7,
  ForgetPasswordForm: () => ForgetPasswordForm_default,
  FormField: () => FormField,
  FormSkeleton: () => FormSkeleton,
  GridSkeleton: () => GridSkeleton,
  HeaderSkeleton: () => HeaderSkeleton,
  IncomeChart: () => IncomeChart,
  Input: () => Input2,
  Label: () => Label2,
  LanguageSwitcher: () => LanguageSwitcher,
  Layout: () => Layout,
  LimitInput: () => LimitInput,
  LoadingIndicator: () => LoadingIndicator,
  LoadingInline: () => LoadingInline,
  LogEntryCard: () => LogEntryCard_default,
  LogFilters: () => LogFilters,
  LoginForm: () => LoginForm_default,
  LogsList: () => LogsList,
  MaintenanceModeToggle: () => MaintenanceModeToggle,
  MaintenanceTaskCard: () => MaintenanceTaskCard_default,
  MaintenanceTasksGrid: () => MaintenanceTasksGrid,
  MaintenanceWindowCard: () => MaintenanceWindowCard,
  ManualRenewalModal: () => ManualRenewalModal,
  MerchantDetail: () => MerchantDetail,
  MerchantRegistrationForm: () => MerchantRegistrationForm,
  MerchantSection: () => MerchantSection,
  MerchantSelect: () => MerchantSelect,
  MerchantSubscriptionSection: () => MerchantSubscriptionSection,
  Merchants: () => Merchants_default,
  MetricCard: () => MetricCard,
  Navigation: () => Navigation,
  NavigationSkeleton: () => NavigationSkeleton,
  NumericInput: () => NumericInput,
  NumericInputDemo: () => NumericInputDemo,
  OrderActions: () => OrderActions,
  OrderChart: () => OrderChart,
  OrderDetail: () => OrderDetail,
  OrderDetailLoading: () => OrderDetailLoading,
  OrderFilters: () => OrderFilters,
  OrderForm: () => OrderForm,
  OrderHeader: () => OrderHeader,
  OrderPagination: () => OrderPagination,
  OrderStats: () => OrderStats,
  OrderSummary: () => OrderSummary,
  OrderTable: () => OrderTable,
  Orders: () => Orders_default,
  OrdersList: () => OrdersList,
  OrdersLoading: () => OrdersLoading,
  OutletDetailLoading: () => OutletDetailLoading,
  OutletFilters: () => OutletFilters,
  OutletGrid: () => OutletGrid,
  OutletHeader: () => OutletHeader,
  OutletPagination: () => OutletPagination,
  OutletSearch: () => OutletSearch,
  OutletSection: () => OutletSection,
  OutletSelect: () => OutletSelect,
  OutletTable: () => OutletTable,
  Outlets: () => Outlets,
  OutletsLoading: () => OutletsLoading,
  PageContent: () => PageContent4,
  PageHeader: () => PageHeader,
  PageSection: () => PageSection,
  PageTitle: () => PageTitle,
  PageWrapper: () => PageWrapper4,
  Pagination: () => Pagination,
  PaginationSkeleton: () => PaginationSkeleton,
  PaymentDetailDialog: () => PaymentDetailDialog,
  PaymentForm: () => PaymentForm,
  PaymentHistoryTable: () => PaymentHistoryTable,
  PaymentTable: () => PaymentTable,
  PerformanceAlertCard: () => PerformanceAlertCard_default,
  PerformanceAlertsList: () => PerformanceAlertsList,
  PerformanceMetricCard: () => PerformanceMetricCard_default,
  PerformanceMetricsGrid: () => PerformanceMetricsGrid,
  PieChart: () => PieChart,
  PlanActions: () => PlanActions,
  PlanCard: () => PlanCard,
  PlanDetailModal: () => PlanDetailModal,
  PlanDialog: () => PlanDialog,
  PlanFilters: () => PlanFilters,
  PlanForm: () => PlanForm,
  PlanSelection: () => PlanSelection,
  PlanSelectionModal: () => PlanSelectionModal,
  PlanStats: () => PlanStats,
  PlanTable: () => PlanTable,
  PriceInput: () => PriceInput,
  ProductActions: () => ProductActions,
  ProductAddDialog: () => ProductAddDialog,
  ProductAddForm: () => ProductAddForm,
  ProductAvailabilityAsyncDisplay: () => ProductAvailabilityAsyncDisplay,
  ProductAvailabilityBadge: () => ProductAvailabilityBadge,
  ProductAvailabilityWarning: () => ProductAvailabilityWarning,
  ProductCard: () => ProductCard,
  ProductDetail: () => ProductDetailMultiLayout,
  ProductDetailList: () => ProductDetailList,
  ProductDetailLoading: () => ProductDetailLoading,
  ProductEdit: () => ProductEdit,
  ProductFilters: () => ProductFilters,
  ProductForm: () => ProductForm,
  ProductGrid: () => ProductGrid,
  ProductHeader: () => ProductHeader,
  ProductOrdersDialog: () => ProductOrdersDialog,
  ProductOrdersView: () => ProductOrdersView,
  ProductPageHeader: () => ProductPageHeader,
  ProductTable: () => ProductTable,
  Products: () => Products_default,
  ProductsLoading: () => ProductsLoading,
  ProfileSection: () => ProfileSection,
  QuickActions: () => QuickActions,
  QuickActionsGrid: () => QuickActionsGrid,
  RadioGroup: () => RadioGroup,
  RadioGroupItem: () => RadioGroupItem,
  RecentOrders: () => RecentOrders,
  RegisterForm: () => RegisterForm_default,
  RentalPeriodSelector: () => RentalPeriodSelector2,
  RestrictedAction: () => RestrictedAction,
  RestrictedButton: () => RestrictedButton,
  RestrictedSection: () => RestrictedSection,
  RoleSelect: () => RoleSelect,
  SearchAndFilters: () => SearchAndFilters,
  SearchInput: () => SearchInput,
  SearchSkeleton: () => SearchSkeleton,
  SearchableSelect: () => SearchableSelect,
  SecurityCard: () => SecurityCard,
  SecurityEventCard: () => SecurityEventCard_default,
  SecurityEventsList: () => SecurityEventsList,
  SecurityMetricsCard: () => SecurityMetricsCard,
  SecuritySection: () => SecuritySection,
  Select: () => Select2,
  SelectContent: () => SelectContent2,
  SelectItem: () => SelectItem2,
  SelectTrigger: () => SelectTrigger2,
  SelectValue: () => SelectValue2,
  Separator: () => Separator2,
  ServerTopNavigation: () => ServerTopNavigation,
  Settings: () => SettingsComponent,
  SettingsChangePasswordDialog: () => ChangePasswordDialog2,
  SettingsComponent: () => Settings_default,
  SettingsForm: () => SettingsForm,
  SettingsLayout: () => SettingsLayout,
  SettingsNavigation: () => SettingsNavigation,
  SettingsPageLayout: () => SettingsLayout2,
  ShopDetailLoading: () => ShopDetailLoading,
  ShopsLoading: () => ShopsLoading,
  Sidebar: () => Sidebar,
  SidebarSkeleton: () => SidebarSkeleton,
  SimpleList: () => SimpleList,
  Skeleton: () => Skeleton,
  StatsOverview: () => StatsOverview,
  StatsSkeleton: () => StatsSkeleton,
  StatusBadge: () => StatusBadge,
  SubscriptionActivityTimeline: () => SubscriptionActivityTimeline,
  SubscriptionChangePlanDialog: () => SubscriptionChangePlanDialog,
  SubscriptionEditDialog: () => SubscriptionEditDialog,
  SubscriptionForm: () => SubscriptionForm,
  SubscriptionFormSimple: () => SubscriptionFormSimple,
  SubscriptionHistoryDialog: () => SubscriptionHistoryDialog,
  SubscriptionList: () => SubscriptionList,
  SubscriptionPeriodCard: () => SubscriptionPeriodCard,
  SubscriptionPreviewPage: () => SubscriptionPreviewPage,
  SubscriptionSection: () => SubscriptionSection,
  SubscriptionStatus: () => SubscriptionStatus,
  SubscriptionStatusBanner: () => SubscriptionStatusBanner,
  SubscriptionStatusCard: () => SubscriptionStatusCard,
  Switch: () => Switch,
  SystemHealth: () => SystemHealth,
  SystemStatus: () => SystemStatus,
  Table: () => Table,
  TableBody: () => TableBody,
  TableCaption: () => TableCaption,
  TableCell: () => TableCell,
  TableHead: () => TableHead,
  TableHeader: () => TableHeader,
  TableRow: () => TableRow,
  TableRowSkeleton: () => TableRowSkeleton,
  TableSkeleton: () => TableSkeleton,
  Textarea: () => Textarea,
  TimePeriodSelector: () => TimePeriodSelector,
  Toast: () => Toast,
  ToastContainer: () => ToastContainer,
  ToastProvider: () => ToastProvider,
  TodaysFocus: () => TodaysFocus,
  TopCustomers: () => TopCustomers,
  TopNavigation: () => TopNavigation,
  TopProducts: () => TopProducts,
  UpgradeTrialModal: () => UpgradeTrialModal,
  UserActions: () => UserActions,
  UserCard: () => UserCard,
  UserDetailDialog: () => UserDetailDialog,
  UserDisplayInfo: () => UserDisplayInfo,
  UserFilters: () => UserFilters,
  UserForm: () => UserForm,
  UserGrid: () => UserGrid,
  UserHeader: () => UserHeader,
  UserPageHeader: () => UserPageHeader,
  UserRow: () => UserRow,
  UserTable: () => UserTable,
  Users: () => Users_default,
  UsersLoading: () => UsersLoading,
  badgeVariants: () => badgeVariants,
  buttonVariants: () => buttonVariants,
  cn: () => cn2,
  emailSettingsFields: () => emailSettingsFields,
  formatCurrency: () => import_utils20.formatCurrency,
  formatDate: () => formatDate,
  generalSettingsFields: () => generalSettingsFields,
  notificationSettingsFields: () => notificationSettingsFields,
  securitySettingsFields: () => securitySettingsFields,
  settingsTabs: () => settingsTabs,
  systemSettingsFields: () => systemSettingsFields,
  useToast: () => useToast2,
  useToasts: () => useToasts,
  validateConfirmPassword: () => validateConfirmPassword,
  validateEmail: () => validateEmail,
  validateName: () => validateName,
  validatePassword: () => validatePassword,
  validatePhone: () => validatePhone,
  validateUserCreateInput: () => validateUserCreateInput,
  validateUserUpdateInput: () => validateUserUpdateInput
});
module.exports = __toCommonJS(src_exports);

// src/components/ui/alert.tsx
var React = __toESM(require("react"));
var import_class_variance_authority = require("class-variance-authority");

// src/lib/utils.ts
var import_clsx = require("clsx");
var import_tailwind_merge = require("tailwind-merge");
function cn(...inputs) {
  return (0, import_tailwind_merge.twMerge)((0, import_clsx.clsx)(inputs));
}
function formatDate(date2, locale2 = "vi-VN") {
  if (!date2)
    return "N/A";
  const dateObj = typeof date2 === "string" ? new Date(date2) : date2;
  if (isNaN(dateObj.getTime()))
    return "Invalid Date";
  return new Intl.DateTimeFormat(locale2, {
    year: "numeric",
    month: "2-digit",
    day: "2-digit",
    hour: "2-digit",
    minute: "2-digit"
  }).format(dateObj);
}

// src/components/ui/alert.tsx
var import_jsx_runtime = require("react/jsx-runtime");
var alertVariants = (0, import_class_variance_authority.cva)(
  "relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",
  {
    variants: {
      variant: {
        default: "bg-background text-foreground",
        destructive: "border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",
        warning: "border-yellow-500/50 text-yellow-700 dark:border-yellow-500 dark:text-yellow-300 [&>svg]:text-yellow-600",
        success: "border-green-500/50 text-green-700 dark:border-green-500 dark:text-green-300 [&>svg]:text-green-600",
        info: "border-blue-500/50 text-blue-700 dark:border-blue-500 dark:text-blue-300 [&>svg]:text-blue-600"
      }
    },
    defaultVariants: {
      variant: "default"
    }
  }
);
var Alert = React.forwardRef(({ className, variant, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime.jsx)(
  "div",
  {
    ref,
    role: "alert",
    className: cn(alertVariants({ variant }), className),
    ...props
  }
));
Alert.displayName = "Alert";
var AlertTitle = React.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime.jsx)(
  "h5",
  {
    ref,
    className: cn("mb-1 font-medium leading-none tracking-tight", className),
    ...props
  }
));
AlertTitle.displayName = "AlertTitle";
var AlertDescription = React.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime.jsx)(
  "div",
  {
    ref,
    className: cn("text-sm [&_p]:leading-relaxed", className),
    ...props
  }
));
AlertDescription.displayName = "AlertDescription";

// src/components/ui/badge.tsx
var import_class_variance_authority2 = require("class-variance-authority");

// src/lib/cn.ts
var import_clsx2 = require("clsx");
var import_tailwind_merge2 = require("tailwind-merge");
function cn2(...inputs) {
  return (0, import_tailwind_merge2.twMerge)((0, import_clsx2.clsx)(inputs));
}

// src/components/ui/badge.tsx
var import_jsx_runtime2 = require("react/jsx-runtime");
var badgeVariants = (0, import_class_variance_authority2.cva)(
  "inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",
  {
    variants: {
      variant: {
        default: "border-transparent bg-primary text-primary-foreground hover:bg-primary/80",
        secondary: "border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",
        destructive: "border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",
        outline: "text-foreground"
      }
    },
    defaultVariants: {
      variant: "default"
    }
  }
);
function Badge({ className, variant, ...props }) {
  return /* @__PURE__ */ (0, import_jsx_runtime2.jsx)("div", { className: cn2(badgeVariants({ variant }), className), ...props });
}

// src/components/ui/status-badge.tsx
var import_constants = require("@rentalshop/constants");
var import_jsx_runtime3 = require("react/jsx-runtime");
var specialStatusConfig = {
  // User Statuses
  online: {
    color: "bg-action-success/10 text-action-success border-action-success/20",
    icon: "\u{1F7E2}"
  },
  offline: {
    color: "bg-text-tertiary/10 text-text-tertiary border-text-tertiary/20",
    icon: "\u26AA"
  },
  // System Statuses
  healthy: {
    color: "bg-action-success/10 text-action-success border-action-success/20",
    icon: "\u2705"
  },
  warning: {
    color: "bg-action-warning/10 text-action-warning border-action-warning/20",
    icon: "\u26A0\uFE0F"
  },
  error: {
    color: "bg-action-danger/10 text-action-danger border-action-danger/20",
    icon: "\u274C"
  },
  // Outlet Statuses
  default: {
    color: "bg-gray-100 text-gray-700 border-gray-300 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600",
    icon: ""
  },
  "main branch": {
    color: "bg-gray-100 text-gray-700 border-gray-300 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600",
    icon: ""
  }
};
var sizeClasses = {
  sm: "px-2 py-1 text-xs",
  md: "px-2.5 py-1 text-sm",
  lg: "px-3 py-1.5 text-base"
};
var StatusBadge = ({
  status,
  type = "entity",
  variant = "default",
  size = "md",
  className
}) => {
  const specialConfig = specialStatusConfig[status.toLowerCase()];
  let config;
  if (specialConfig) {
    config = specialConfig;
  } else {
    const colorClass = (0, import_constants.getStatusColor)(status, type);
    const label = (0, import_constants.getStatusLabel)(status, type);
    config = {
      color: colorClass,
      icon: ""
    };
  }
  const baseClasses = cn(
    "inline-flex items-center gap-1.5 rounded-full font-medium border",
    sizeClasses[size],
    config.color,
    className
  );
  return /* @__PURE__ */ (0, import_jsx_runtime3.jsxs)("span", { className: baseClasses, children: [
    /* @__PURE__ */ (0, import_jsx_runtime3.jsx)("span", { className: "text-xs", children: config.icon }),
    /* @__PURE__ */ (0, import_jsx_runtime3.jsx)("span", { className: "capitalize", children: status })
  ] });
};

// src/components/ui/breadcrumb.tsx
var import_link = __toESM(require("next/link"));
var import_lucide_react = require("lucide-react");
var import_jsx_runtime4 = require("react/jsx-runtime");
var Breadcrumb = ({
  items,
  showHome = true,
  homeHref = "/",
  separator = /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(import_lucide_react.ChevronRight, { className: "w-4 h-4" }),
  className
}) => {
  const allItems = showHome ? [{ label: "Home", href: homeHref, icon: /* @__PURE__ */ (0, import_jsx_runtime4.jsx)(import_lucide_react.Home, { className: "w-4 h-4" }) }, ...items] : items;
  return /* @__PURE__ */ (0, import_jsx_runtime4.jsx)("nav", { "aria-label": "Breadcrumb", className: cn("flex items-center space-x-2 py-3", className), children: /* @__PURE__ */ (0, import_jsx_runtime4.jsx)("ol", { className: "flex items-center space-x-2", children: allItems.map((item, index) => {
    const isLast = index === allItems.length - 1;
    return /* @__PURE__ */ (0, import_jsx_runtime4.jsxs)("li", { className: "flex items-center space-x-2", children: [
      index > 0 && /* @__PURE__ */ (0, import_jsx_runtime4.jsx)("span", { className: "text-gray-400 dark:text-gray-500", "aria-hidden": "true", children: separator }),
      item.href && !isLast ? /* @__PURE__ */ (0, import_jsx_runtime4.jsxs)(
        import_link.default,
        {
          href: item.href,
          className: cn(
            "flex items-center gap-1.5 text-sm font-medium transition-colors",
            "text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100",
            "hover:underline"
          ),
          children: [
            item.icon,
            /* @__PURE__ */ (0, import_jsx_runtime4.jsx)("span", { children: item.label })
          ]
        }
      ) : /* @__PURE__ */ (0, import_jsx_runtime4.jsxs)(
        "span",
        {
          className: cn(
            "flex items-center gap-1.5 text-sm font-medium",
            isLast ? "text-gray-900 dark:text-gray-100" : "text-gray-600 dark:text-gray-400"
          ),
          "aria-current": isLast ? "page" : void 0,
          children: [
            item.icon,
            /* @__PURE__ */ (0, import_jsx_runtime4.jsx)("span", { children: item.label })
          ]
        }
      )
    ] }, index);
  }) }) });
};

// src/components/ui/button.tsx
var React2 = __toESM(require("react"));
var import_react_slot = require("@radix-ui/react-slot");
var import_class_variance_authority3 = require("class-variance-authority");
var import_jsx_runtime5 = require("react/jsx-runtime");
var buttonVariants = (0, import_class_variance_authority3.cva)(
  "inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",
  {
    variants: {
      variant: {
        default: "bg-action-primary text-text-inverted hover:bg-brand-primary",
        destructive: "bg-action-danger text-text-inverted hover:bg-red-700",
        outline: "border border-border bg-bg-card text-text-primary hover:bg-bg-secondary",
        secondary: "bg-bg-secondary text-text-primary hover:bg-bg-tertiary",
        ghost: "hover:bg-bg-secondary hover:text-text-primary",
        link: "text-action-primary underline-offset-4 hover:underline",
        success: "bg-action-success text-text-inverted hover:bg-green-700",
        warning: "bg-action-warning text-text-inverted hover:bg-orange-700"
      },
      size: {
        default: "h-10 px-4 py-2",
        sm: "h-9 rounded-md px-3",
        lg: "h-11 rounded-md px-8",
        icon: "h-10 w-10"
      }
    },
    defaultVariants: {
      variant: "default",
      size: "default"
    }
  }
);
var Button = React2.forwardRef(
  ({ className, variant, size, asChild = false, ...props }, ref) => {
    const Comp = asChild ? import_react_slot.Slot : "button";
    return /* @__PURE__ */ (0, import_jsx_runtime5.jsx)(
      Comp,
      {
        className: cn2(buttonVariants({ variant, size, className })),
        ref,
        ...props
      }
    );
  }
);
Button.displayName = "Button";

// src/components/ui/button-clean.tsx
var import_react = __toESM(require("react"));
var import_class_variance_authority4 = require("class-variance-authority");
var import_jsx_runtime6 = require("react/jsx-runtime");
var buttonCleanVariants = (0, import_class_variance_authority4.cva)(
  "inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",
  {
    variants: {
      variant: {
        default: "bg-brand-primary text-white hover:bg-brand-600",
        secondary: "bg-bg-secondary text-text-primary hover:bg-bg-tertiary border border-border",
        outline: "border border-border bg-transparent text-text-primary hover:bg-bg-secondary",
        ghost: "hover:bg-bg-secondary hover:text-text-primary",
        link: "text-brand-primary underline-offset-4 hover:underline",
        success: "bg-action-success text-white hover:bg-green-600",
        danger: "bg-action-danger text-white hover:bg-red-600",
        warning: "bg-action-warning text-white hover:bg-amber-600"
      },
      size: {
        default: "h-9 px-4 py-2",
        sm: "h-8 px-3 text-xs",
        lg: "h-10 px-6",
        icon: "h-9 w-9"
      }
    },
    defaultVariants: {
      variant: "default",
      size: "default"
    }
  }
);
var ButtonClean = import_react.default.forwardRef(
  ({
    className,
    variant,
    size,
    asChild = false,
    icon,
    showIcon = true,
    iconPosition = "left",
    children,
    ...props
  }, ref) => {
    const Comp = asChild ? "button" : "button";
    const renderIcon = () => {
      if (!icon || !showIcon)
        return null;
      return /* @__PURE__ */ (0, import_jsx_runtime6.jsx)("span", { className: cn2(
        "inline-flex items-center",
        iconPosition === "left" ? "mr-2" : "ml-2"
      ), children: icon });
    };
    return /* @__PURE__ */ (0, import_jsx_runtime6.jsxs)(
      Comp,
      {
        className: cn2(buttonCleanVariants({ variant, size, className })),
        ref,
        ...props,
        children: [
          iconPosition === "left" && renderIcon(),
          children,
          iconPosition === "right" && renderIcon()
        ]
      }
    );
  }
);
ButtonClean.displayName = "ButtonClean";

// src/components/ui/button-colorful.tsx
var import_react2 = __toESM(require("react"));
var import_class_variance_authority5 = require("class-variance-authority");
var import_jsx_runtime7 = require("react/jsx-runtime");
var buttonColorfulVariants = (0, import_class_variance_authority5.cva)(
  "inline-flex items-center justify-center whitespace-nowrap rounded-xl text-lg font-semibold transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:scale-105 active:scale-95",
  {
    variants: {
      variant: {
        default: "bg-gradient-to-r from-brand-500 to-brand-600 text-white shadow-glow hover:shadow-glow-blue",
        destructive: "bg-gradient-to-r from-action-danger to-red-600 text-white shadow-glow hover:shadow-glow",
        outline: "border-2 border-brand-500 bg-transparent text-brand-500 hover:bg-brand-500 hover:text-white",
        secondary: "bg-gradient-to-r from-action-secondary to-purple-600 text-white shadow-glow-purple hover:shadow-glow",
        ghost: "hover:bg-brand-100 hover:text-brand-700",
        link: "text-brand-500 underline-offset-4 hover:underline",
        success: "bg-gradient-to-r from-action-success to-emerald-600 text-white shadow-glow hover:shadow-glow",
        warning: "bg-gradient-to-r from-action-warning to-amber-600 text-white shadow-glow hover:shadow-glow",
        info: "bg-gradient-to-r from-action-info to-cyan-600 text-white shadow-glow hover:shadow-glow",
        warm: "bg-gradient-to-r from-gradient-warm text-white shadow-glow hover:shadow-glow",
        cool: "bg-gradient-to-r from-gradient-cool text-white shadow-glow hover:shadow-glow"
      },
      size: {
        default: "h-12 px-8 py-3 text-lg",
        sm: "h-10 px-6 py-2 text-base",
        lg: "h-14 px-10 py-4 text-xl",
        xl: "h-16 px-12 py-5 text-2xl",
        icon: "h-12 w-12"
      }
    },
    defaultVariants: {
      variant: "default",
      size: "default"
    }
  }
);
var ButtonColorful = import_react2.default.forwardRef(
  ({ className, variant, size, asChild = false, ...props }, ref) => {
    const Comp = asChild ? "button" : "button";
    return /* @__PURE__ */ (0, import_jsx_runtime7.jsx)(
      Comp,
      {
        className: cn2(buttonColorfulVariants({ variant, size, className })),
        ref,
        ...props
      }
    );
  }
);
ButtonColorful.displayName = "ButtonColorful";

// src/components/ui/card.tsx
var React5 = __toESM(require("react"));
var import_jsx_runtime8 = require("react/jsx-runtime");
var Card2 = React5.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime8.jsx)(
  "div",
  {
    ref,
    className: cn2(
      "rounded-lg border border-border bg-bg-card text-text-primary shadow-sm",
      className
    ),
    ...props
  }
));
Card2.displayName = "Card";
var CardHeader2 = React5.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime8.jsx)(
  "div",
  {
    ref,
    className: cn2("flex flex-col space-y-1.5 p-6", className),
    ...props
  }
));
CardHeader2.displayName = "CardHeader";
var CardTitle2 = React5.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime8.jsx)(
  "h3",
  {
    ref,
    className: cn2(
      "text-2xl font-semibold leading-none tracking-tight text-text-primary",
      className
    ),
    ...props
  }
));
CardTitle2.displayName = "CardTitle";
var CardDescription2 = React5.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime8.jsx)(
  "p",
  {
    ref,
    className: cn2("text-sm text-text-secondary", className),
    ...props
  }
));
CardDescription2.displayName = "CardDescription";
var CardContent2 = React5.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime8.jsx)("div", { ref, className: cn2("p-6 pt-0", className), ...props }));
CardContent2.displayName = "CardContent";
var CardFooter = React5.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime8.jsx)(
  "div",
  {
    ref,
    className: cn2("flex items-center p-6 pt-0", className),
    ...props
  }
));
CardFooter.displayName = "CardFooter";

// src/components/ui/card-clean.tsx
var import_jsx_runtime9 = require("react/jsx-runtime");
var CardClean = ({
  children,
  className,
  variant = "default",
  size = "md"
}) => {
  const baseClasses = "rounded-lg transition-colors duration-200";
  const variantClasses = {
    default: "bg-white shadow-sm",
    subtle: "bg-bg-secondary",
    bordered: "bg-white border border-border"
  };
  const sizeClasses2 = {
    sm: "p-4",
    md: "p-6",
    lg: "p-8"
  };
  return /* @__PURE__ */ (0, import_jsx_runtime9.jsx)("div", { className: cn2(
    baseClasses,
    variantClasses[variant],
    sizeClasses2[size],
    className
  ), children });
};
var CardHeaderClean = ({
  children,
  className
}) => /* @__PURE__ */ (0, import_jsx_runtime9.jsx)("div", { className: cn2("mb-4", className), children });
var CardTitleClean = ({
  children,
  className,
  size = "md"
}) => {
  const sizeClasses2 = {
    sm: "text-lg font-medium",
    md: "text-xl font-semibold",
    lg: "text-2xl font-bold"
  };
  return /* @__PURE__ */ (0, import_jsx_runtime9.jsx)("h3", { className: cn2(
    "text-text-primary",
    sizeClasses2[size],
    className
  ), children });
};
var CardContentClean = ({
  children,
  className
}) => /* @__PURE__ */ (0, import_jsx_runtime9.jsx)("div", { className: cn2("space-y-3", className), children });

// src/components/ui/card-colorful.tsx
var import_jsx_runtime10 = require("react/jsx-runtime");
var CardColorful = ({
  children,
  className,
  variant = "default",
  size = "md"
}) => {
  const baseClasses = "rounded-2xl border-0 transition-all duration-300 hover:scale-105";
  const variantClasses = {
    default: "bg-white shadow-soft hover:shadow-medium",
    gradient: "bg-gradient-to-br from-brand-500 to-action-primary text-white shadow-glow",
    glow: "bg-white shadow-glow-blue border border-action-primary/20",
    elevated: "bg-white shadow-large hover:shadow-glow"
  };
  const sizeClasses2 = {
    sm: "p-4",
    md: "p-6",
    lg: "p-8",
    xl: "p-12"
  };
  return /* @__PURE__ */ (0, import_jsx_runtime10.jsx)("div", { className: cn2(
    baseClasses,
    variantClasses[variant],
    sizeClasses2[size],
    className
  ), children });
};
var CardHeaderColorful = ({
  children,
  className
}) => /* @__PURE__ */ (0, import_jsx_runtime10.jsx)("div", { className: cn2("mb-6", className), children });
var CardTitleColorful = ({
  children,
  className,
  size = "lg"
}) => {
  const sizeClasses2 = {
    sm: "text-lg font-semibold",
    md: "text-xl font-semibold",
    lg: "text-2xl font-bold",
    xl: "text-3xl font-bold"
  };
  return /* @__PURE__ */ (0, import_jsx_runtime10.jsx)("h3", { className: cn2(
    "font-display text-text-primary",
    sizeClasses2[size],
    className
  ), children });
};
var CardContentColorful = ({
  children,
  className
}) => /* @__PURE__ */ (0, import_jsx_runtime10.jsx)("div", { className: cn2("space-y-4", className), children });

// src/components/ui/select.tsx
var React6 = __toESM(require("react"));
var SelectPrimitive = __toESM(require("@radix-ui/react-select"));
var import_lucide_react2 = require("lucide-react");
var import_jsx_runtime11 = require("react/jsx-runtime");
var Select2 = SelectPrimitive.Root;
var SelectValue2 = SelectPrimitive.Value;
var SelectTrigger2 = React6.forwardRef(({ className, children, variant = "default", ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime11.jsxs)(
  SelectPrimitive.Trigger,
  {
    ref,
    className: cn2(
      variant === "filled" && "flex h-10 w-full items-center justify-between rounded-md bg-gray-50 border border-gray-200 px-3 py-2 text-sm focus:bg-white focus:border-blue-400 focus:ring-4 focus:ring-blue-100",
      variant === "underline" && "h-10 border-0 border-b border-gray-300 rounded-none px-0 text-sm focus:border-blue-500 focus:ring-0",
      variant === "ghost" && "h-10 bg-transparent border-transparent px-3 py-2 text-sm focus:border-blue-400 focus:ring-2 focus:ring-blue-100",
      variant === "default" && "flex h-10 w-full items-center justify-between rounded-lg border border-border bg-bg-card px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-action-primary focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",
      className
    ),
    ...props,
    children: [
      children,
      /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(SelectPrimitive.Icon, { asChild: true, children: /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(import_lucide_react2.ChevronDown, { className: "h-4 w-4 opacity-50" }) })
    ]
  }
));
SelectTrigger2.displayName = SelectPrimitive.Trigger.displayName;
var SelectScrollUpButton = React6.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(
  SelectPrimitive.ScrollUpButton,
  {
    ref,
    className: cn2(
      "flex cursor-default items-center justify-center py-1",
      className
    ),
    ...props,
    children: /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(import_lucide_react2.ChevronUp, { className: "h-4 w-4" })
  }
));
SelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName;
var SelectScrollDownButton = React6.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(
  SelectPrimitive.ScrollDownButton,
  {
    ref,
    className: cn2(
      "flex cursor-default items-center justify-center py-1",
      className
    ),
    ...props,
    children: /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(import_lucide_react2.ChevronDown, { className: "h-4 w-4" })
  }
));
SelectScrollDownButton.displayName = SelectPrimitive.ScrollDownButton.displayName;
var SelectContent2 = React6.forwardRef(({ className, children, position = "popper", ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(SelectPrimitive.Portal, { container: typeof document !== "undefined" ? document.body : void 0, children: /* @__PURE__ */ (0, import_jsx_runtime11.jsxs)(
  SelectPrimitive.Content,
  {
    ref,
    className: cn2(
      "relative z-[110] max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-white text-gray-900 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      position === "popper" && "data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",
      className
    ),
    position,
    ...props,
    children: [
      /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(SelectScrollUpButton, {}),
      /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(
        SelectPrimitive.Viewport,
        {
          className: cn2(
            "p-1",
            position === "popper" && "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"
          ),
          children
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(SelectScrollDownButton, {})
    ]
  }
) }));
SelectContent2.displayName = SelectPrimitive.Content.displayName;
var SelectLabel = React6.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(
  SelectPrimitive.Label,
  {
    ref,
    className: cn2("py-1.5 pl-8 pr-2 text-sm font-semibold", className),
    ...props
  }
));
SelectLabel.displayName = SelectPrimitive.Label.displayName;
var SelectItem2 = React6.forwardRef(({ className, children, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime11.jsxs)(
  SelectPrimitive.Item,
  {
    ref,
    className: cn2(
      "relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none hover:bg-gray-50 focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    ),
    ...props,
    children: [
      /* @__PURE__ */ (0, import_jsx_runtime11.jsx)("span", { className: "absolute left-2 flex h-3.5 w-3.5 items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(SelectPrimitive.ItemIndicator, { children: /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(import_lucide_react2.Check, { className: "h-4 w-4" }) }) }),
      /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(SelectPrimitive.ItemText, { children })
    ]
  }
));
SelectItem2.displayName = SelectPrimitive.Item.displayName;
var SelectSeparator = React6.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime11.jsx)(
  SelectPrimitive.Separator,
  {
    ref,
    className: cn2("-mx-1 my-1 h-px bg-muted", className),
    ...props
  }
));
SelectSeparator.displayName = SelectPrimitive.Separator.displayName;

// src/components/ui/currency-selector.tsx
var import_hooks = require("@rentalshop/hooks");
var import_jsx_runtime12 = require("react/jsx-runtime");
function CurrencySelector({
  className = "",
  showSymbols = true,
  showCodes = true,
  disabled = false,
  onCurrencyChange
}) {
  const { currentCurrency, setCurrency, settings } = (0, import_hooks.useCurrency)();
  const handleCurrencyChange = (value) => {
    const newCurrency = value;
    setCurrency(newCurrency);
    onCurrencyChange?.(newCurrency);
  };
  const availableCurrencies = settings.availableCurrencies;
  return /* @__PURE__ */ (0, import_jsx_runtime12.jsxs)(
    Select2,
    {
      value: currentCurrency,
      onValueChange: handleCurrencyChange,
      disabled,
      children: [
        /* @__PURE__ */ (0, import_jsx_runtime12.jsx)(SelectTrigger2, { className: `w-auto min-w-[120px] ${className}`, children: /* @__PURE__ */ (0, import_jsx_runtime12.jsx)(SelectValue2, { children: /* @__PURE__ */ (0, import_jsx_runtime12.jsxs)("span", { className: "flex items-center gap-2", children: [
          showSymbols && /* @__PURE__ */ (0, import_jsx_runtime12.jsx)("span", { className: "text-sm font-medium", children: currentCurrency === "USD" ? "$" : "\u0111" }),
          showCodes && /* @__PURE__ */ (0, import_jsx_runtime12.jsx)("span", { className: "text-sm", children: currentCurrency })
        ] }) }) }),
        /* @__PURE__ */ (0, import_jsx_runtime12.jsx)(SelectContent2, { children: availableCurrencies.map((currency) => /* @__PURE__ */ (0, import_jsx_runtime12.jsx)(SelectItem2, { value: currency.code, children: /* @__PURE__ */ (0, import_jsx_runtime12.jsxs)("div", { className: "flex items-center gap-2", children: [
          showSymbols && /* @__PURE__ */ (0, import_jsx_runtime12.jsx)("span", { className: "font-medium", children: currency.symbol }),
          showCodes && /* @__PURE__ */ (0, import_jsx_runtime12.jsx)("span", { children: currency.code }),
          /* @__PURE__ */ (0, import_jsx_runtime12.jsx)("span", { className: "text-muted-foreground text-xs", children: currency.name })
        ] }) }, currency.code)) })
      ]
    }
  );
}

// src/components/ui/dialog.tsx
var React7 = __toESM(require("react"));
var DialogPrimitive = __toESM(require("@radix-ui/react-dialog"));
var import_lucide_react3 = require("lucide-react");
var import_jsx_runtime13 = require("react/jsx-runtime");
var Dialog = DialogPrimitive.Root;
var DialogTrigger = DialogPrimitive.Trigger;
var DialogPortal = DialogPrimitive.Portal;
var DialogOverlay = React7.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
  DialogPrimitive.Overlay,
  {
    ref,
    className: cn2(
      "fixed inset-0 z-[100] bg-black/20 backdrop-blur-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className
    ),
    ...props
  }
));
DialogOverlay.displayName = DialogPrimitive.Overlay.displayName;
var DialogContent = React7.forwardRef(({ className, children, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime13.jsxs)(DialogPortal, { children: [
  /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(DialogOverlay, {}),
  /* @__PURE__ */ (0, import_jsx_runtime13.jsxs)(
    DialogPrimitive.Content,
    {
      ref,
      className: cn2(
        "fixed left-[50%] top-[50%] z-[100] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-bg-card p-6 shadow-xl rounded-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]",
        className
      ),
      ...props,
      children: [
        children,
        /* @__PURE__ */ (0, import_jsx_runtime13.jsxs)(DialogPrimitive.Close, { className: "absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground", children: [
          /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(import_lucide_react3.X, { className: "h-4 w-4" }),
          /* @__PURE__ */ (0, import_jsx_runtime13.jsx)("span", { className: "sr-only", children: "Close" })
        ] })
      ]
    }
  )
] }));
DialogContent.displayName = DialogPrimitive.Content.displayName;
var DialogHeader = ({
  className,
  ...props
}) => /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
  "div",
  {
    className: cn2(
      "flex flex-col space-y-1.5 text-center sm:text-left",
      className
    ),
    ...props
  }
);
DialogHeader.displayName = "DialogHeader";
var DialogFooter = ({
  className,
  ...props
}) => /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
  "div",
  {
    className: cn2(
      "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
      className
    ),
    ...props
  }
);
DialogFooter.displayName = "DialogFooter";
var DialogTitle = React7.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
  DialogPrimitive.Title,
  {
    ref,
    className: cn2(
      "text-lg font-semibold leading-none tracking-tight",
      className
    ),
    ...props
  }
));
DialogTitle.displayName = DialogPrimitive.Title.displayName;
var DialogDescription = React7.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime13.jsx)(
  DialogPrimitive.Description,
  {
    ref,
    className: cn2("text-sm text-muted-foreground", className),
    ...props
  }
));
DialogDescription.displayName = DialogPrimitive.Description.displayName;

// src/components/ui/confirmation-dialog.tsx
var import_lucide_react4 = require("lucide-react");
var import_jsx_runtime14 = require("react/jsx-runtime");
var getTypeConfig = (type) => {
  switch (type) {
    case "danger":
      return {
        icon: import_lucide_react4.XCircle,
        iconColor: "text-red-500",
        buttonVariant: "destructive",
        buttonColor: "bg-red-600 hover:bg-red-700 text-white"
      };
    case "warning":
      return {
        icon: import_lucide_react4.AlertTriangle,
        iconColor: "text-orange-500",
        buttonVariant: "outline",
        buttonColor: "border-orange-300 text-orange-600 hover:bg-orange-50"
      };
    case "info":
      return {
        icon: import_lucide_react4.Info,
        iconColor: "text-blue-500",
        buttonVariant: "outline",
        buttonColor: "border-blue-300 text-blue-600 hover:bg-blue-50"
      };
    case "success":
      return {
        icon: import_lucide_react4.CheckCircle,
        iconColor: "text-green-500",
        buttonVariant: "default",
        buttonColor: "bg-green-600 hover:bg-green-700 text-white"
      };
    default:
      return {
        icon: import_lucide_react4.AlertCircle,
        iconColor: "text-gray-500",
        buttonVariant: "outline",
        buttonColor: "border-gray-300 text-gray-600 hover:bg-gray-50"
      };
  }
};
var ConfirmationDialog = ({
  open,
  onOpenChange,
  type,
  title,
  description,
  confirmText,
  cancelText = "Cancel",
  onConfirm,
  onCancel,
  isLoading = false,
  disabled = false
}) => {
  const config = getTypeConfig(type);
  const IconComponent = config.icon;
  const handleConfirm = () => {
    onConfirm();
    onOpenChange(false);
  };
  const handleCancel = () => {
    if (onCancel) {
      onCancel();
    }
    onOpenChange(false);
  };
  return /* @__PURE__ */ (0, import_jsx_runtime14.jsx)(Dialog, { open, onOpenChange, children: /* @__PURE__ */ (0, import_jsx_runtime14.jsxs)(DialogContent, { className: "max-w-md", children: [
    /* @__PURE__ */ (0, import_jsx_runtime14.jsx)(DialogHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime14.jsxs)("div", { className: "flex items-center gap-3", children: [
      /* @__PURE__ */ (0, import_jsx_runtime14.jsx)(IconComponent, { className: `h-6 w-6 ${config.iconColor}` }),
      /* @__PURE__ */ (0, import_jsx_runtime14.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime14.jsx)(DialogTitle, { className: "text-lg font-semibold", children: title }),
        /* @__PURE__ */ (0, import_jsx_runtime14.jsx)(DialogDescription, { className: "text-sm text-gray-600 mt-1", children: description })
      ] })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime14.jsxs)(DialogFooter, { className: "flex justify-end space-x-2 mt-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime14.jsx)(
        Button,
        {
          variant: "outline",
          onClick: handleCancel,
          disabled: isLoading || disabled,
          children: cancelText
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime14.jsx)(
        Button,
        {
          variant: config.buttonVariant,
          onClick: handleConfirm,
          disabled: isLoading || disabled,
          className: config.buttonColor,
          children: isLoading ? "Processing..." : confirmText || "Confirm"
        }
      )
    ] })
  ] }) });
};

// src/components/ui/confirmation-dialog-with-reason.tsx
var import_react4 = require("react");

// src/components/ui/textarea.tsx
var React8 = __toESM(require("react"));
var import_jsx_runtime15 = require("react/jsx-runtime");
var Textarea = React8.forwardRef(({ className, variant = "filled", ...props }, ref) => {
  const base = "flex min-h-[80px] w-full rounded-lg border border-border bg-bg-card px-3 py-2 text-sm ring-offset-background placeholder:text-text-tertiary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-action-primary focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50";
  const variants = {
    default: base,
    filled: "flex w-full min-h-[80px] rounded-md bg-gray-50 border border-gray-200 px-3 py-2 text-sm focus:bg-white focus:border-blue-400 focus:ring-4 focus:ring-blue-100",
    underline: "flex w-full min-h-[80px] border-0 border-b border-gray-300 rounded-none px-0 text-sm focus:border-blue-500 focus:ring-0",
    ghost: "flex w-full min-h-[80px] bg-transparent border-transparent px-3 py-2 text-sm focus:border-blue-400 focus:ring-2 focus:ring-blue-100"
  };
  return /* @__PURE__ */ (0, import_jsx_runtime15.jsx)(
    "textarea",
    {
      className: cn2(variants[variant], className),
      ref,
      ...props
    }
  );
});
Textarea.displayName = "Textarea";

// src/components/ui/label.tsx
var import_react3 = __toESM(require("react"));
var import_jsx_runtime16 = require("react/jsx-runtime");
var Label2 = import_react3.default.forwardRef(
  ({ className, required, children, ...props }, ref) => {
    return /* @__PURE__ */ (0, import_jsx_runtime16.jsxs)(
      "label",
      {
        ref,
        className: cn(
          "text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",
          className
        ),
        ...props,
        children: [
          children,
          required && /* @__PURE__ */ (0, import_jsx_runtime16.jsx)("span", { className: "text-red-500 ml-1", children: "*" })
        ]
      }
    );
  }
);
Label2.displayName = "Label";

// src/components/ui/confirmation-dialog-with-reason.tsx
var import_lucide_react5 = require("lucide-react");
var import_jsx_runtime17 = require("react/jsx-runtime");
var getTypeConfig2 = (type) => {
  switch (type) {
    case "danger":
      return {
        icon: import_lucide_react5.XCircle,
        iconColor: "text-red-500",
        buttonVariant: "destructive",
        buttonColor: "bg-red-600 hover:bg-red-700 text-white"
      };
    case "warning":
      return {
        icon: import_lucide_react5.AlertTriangle,
        iconColor: "text-orange-500",
        buttonVariant: "outline",
        buttonColor: "border-orange-300 text-orange-600 hover:bg-orange-50"
      };
    case "info":
      return {
        icon: import_lucide_react5.Info,
        iconColor: "text-blue-500",
        buttonVariant: "outline",
        buttonColor: "border-blue-300 text-blue-600 hover:bg-blue-50"
      };
    case "success":
      return {
        icon: import_lucide_react5.CheckCircle,
        iconColor: "text-green-500",
        buttonVariant: "default",
        buttonColor: "bg-green-600 hover:bg-green-700 text-white"
      };
    default:
      return {
        icon: import_lucide_react5.AlertCircle,
        iconColor: "text-gray-500",
        buttonVariant: "outline",
        buttonColor: "border-gray-300 text-gray-600 hover:bg-gray-50"
      };
  }
};
var ConfirmationDialogWithReason = ({
  open,
  onOpenChange,
  type,
  title,
  description,
  confirmText,
  cancelText = "Cancel",
  onConfirm,
  onCancel,
  isLoading = false,
  disabled = false,
  reasonLabel = "Reason",
  reasonPlaceholder = "Enter reason...",
  requireReason = true
}) => {
  const [reason, setReason] = (0, import_react4.useState)("");
  const config = getTypeConfig2(type);
  const IconComponent = config.icon;
  const handleConfirm = () => {
    onConfirm(reason.trim());
    setReason("");
    onOpenChange(false);
  };
  const handleCancel = () => {
    setReason("");
    if (onCancel) {
      onCancel();
    }
    onOpenChange(false);
  };
  const isConfirmDisabled = isLoading || disabled || requireReason && !reason.trim();
  return /* @__PURE__ */ (0, import_jsx_runtime17.jsx)(Dialog, { open, onOpenChange, children: /* @__PURE__ */ (0, import_jsx_runtime17.jsxs)(DialogContent, { className: "max-w-md", children: [
    /* @__PURE__ */ (0, import_jsx_runtime17.jsx)(DialogHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime17.jsxs)("div", { className: "flex items-center gap-3", children: [
      /* @__PURE__ */ (0, import_jsx_runtime17.jsx)(IconComponent, { className: `h-6 w-6 ${config.iconColor}` }),
      /* @__PURE__ */ (0, import_jsx_runtime17.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime17.jsx)(DialogTitle, { className: "text-lg font-semibold", children: title }),
        /* @__PURE__ */ (0, import_jsx_runtime17.jsx)(DialogDescription, { className: "text-sm text-gray-600 mt-1", children: description })
      ] })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime17.jsx)("div", { className: "space-y-4 mt-6", children: /* @__PURE__ */ (0, import_jsx_runtime17.jsxs)("div", { children: [
      /* @__PURE__ */ (0, import_jsx_runtime17.jsx)(Label2, { htmlFor: "reason", children: reasonLabel }),
      /* @__PURE__ */ (0, import_jsx_runtime17.jsx)(
        Textarea,
        {
          id: "reason",
          value: reason,
          onChange: (e) => setReason(e.target.value),
          placeholder: reasonPlaceholder,
          rows: 3,
          className: "mt-1"
        }
      )
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime17.jsxs)(DialogFooter, { className: "flex justify-end space-x-2 mt-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime17.jsx)(
        Button,
        {
          variant: "outline",
          onClick: handleCancel,
          disabled: isLoading || disabled,
          children: cancelText
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime17.jsx)(
        Button,
        {
          variant: config.buttonVariant,
          onClick: handleConfirm,
          disabled: isConfirmDisabled,
          className: config.buttonColor,
          children: isLoading ? "Processing..." : confirmText || "Confirm"
        }
      )
    ] })
  ] }) });
};

// src/components/ui/input.tsx
var React11 = __toESM(require("react"));
var import_jsx_runtime18 = require("react/jsx-runtime");
var Input2 = React11.forwardRef(({ className, type, variant = "filled", leadingIcon, ...props }, ref) => {
  const base = "flex h-10 w-full rounded-lg border border-border bg-bg-card px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-text-tertiary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-action-primary focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50";
  const variants = {
    default: base,
    filled: "flex w-full h-11 rounded-md bg-gray-50 border border-gray-200 px-3 py-2 text-sm focus:bg-white focus:border-blue-400 focus:ring-4 focus:ring-blue-100",
    underline: "flex w-full h-11 border-0 border-b border-gray-300 rounded-none px-0 text-sm focus:border-blue-500 focus:ring-0",
    ghost: "flex w-full h-11 bg-transparent border-transparent px-3 py-2 text-sm focus:border-blue-400 focus:ring-2 focus:ring-blue-100"
  };
  const input = /* @__PURE__ */ (0, import_jsx_runtime18.jsx)(
    "input",
    {
      type,
      className: cn2(variants[variant], className),
      ref,
      ...props
    }
  );
  if (!leadingIcon)
    return input;
  return /* @__PURE__ */ (0, import_jsx_runtime18.jsxs)("div", { className: "relative", children: [
    /* @__PURE__ */ (0, import_jsx_runtime18.jsx)("span", { className: "absolute left-3 top-1/2 -translate-y-1/2 text-gray-400", children: leadingIcon }),
    React11.cloneElement(input, {
      className: cn2(variants[variant], "pl-9", className)
    })
  ] });
});
Input2.displayName = "Input";

// src/components/ui/loading-indicator.tsx
var import_jsx_runtime19 = require("react/jsx-runtime");
function LoadingIndicator({
  variant = "bar",
  size = "md",
  message = "Loading...",
  className
}) {
  const sizeClasses2 = {
    sm: { container: "text-sm", bar: "h-1", circular: "h-6 w-6", dots: "h-2 w-2", spinner: "h-6 w-6" },
    md: { container: "text-base", bar: "h-1.5", circular: "h-8 w-8", dots: "h-3 w-3", spinner: "h-8 w-8" },
    lg: { container: "text-lg", bar: "h-2", circular: "h-12 w-12", dots: "h-4 w-4", spinner: "h-12 w-12" }
  };
  const sizes = sizeClasses2[size];
  return /* @__PURE__ */ (0, import_jsx_runtime19.jsxs)("div", { className: cn("flex flex-col items-center justify-center space-y-4", className), children: [
    variant === "bar" && /* @__PURE__ */ (0, import_jsx_runtime19.jsx)("div", { className: "w-64 bg-gray-200 rounded-full overflow-hidden", children: /* @__PURE__ */ (0, import_jsx_runtime19.jsx)("div", { className: cn(
      "bg-gradient-to-r from-green-500 via-green-600 to-green-500 rounded-full",
      "animate-progress",
      sizes.bar
    ), children: /* @__PURE__ */ (0, import_jsx_runtime19.jsx)("div", { className: "h-full w-full bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer" }) }) }),
    variant === "circular" && /* @__PURE__ */ (0, import_jsx_runtime19.jsx)("div", { className: cn("relative", sizes.circular), children: /* @__PURE__ */ (0, import_jsx_runtime19.jsxs)("svg", { className: "w-full h-full transform -rotate-90", viewBox: "0 0 36 36", children: [
      /* @__PURE__ */ (0, import_jsx_runtime19.jsx)(
        "path",
        {
          className: "text-gray-200",
          stroke: "currentColor",
          strokeWidth: "3",
          fill: "none",
          d: "M18 2.0845\n                a 15.9155 15.9155 0 0 1 0 31.831\n                a 15.9155 15.9155 0 0 1 0 -31.831"
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime19.jsx)(
        "path",
        {
          className: "text-blue-600 animate-circular-progress",
          stroke: "currentColor",
          strokeWidth: "3",
          strokeLinecap: "round",
          fill: "none",
          strokeDasharray: "100, 100",
          strokeDashoffset: "25",
          d: "M18 2.0845\n                a 15.9155 15.9155 0 0 1 0 31.831\n                a 15.9155 15.9155 0 0 1 0 -31.831"
        }
      )
    ] }) }),
    variant === "dots" && /* @__PURE__ */ (0, import_jsx_runtime19.jsxs)("div", { className: "flex space-x-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime19.jsx)("div", { className: cn(sizes.dots, "bg-green-500 rounded-full animate-bounce [animation-delay:-0.3s]") }),
      /* @__PURE__ */ (0, import_jsx_runtime19.jsx)("div", { className: cn(sizes.dots, "bg-green-600 rounded-full animate-bounce [animation-delay:-0.15s]") }),
      /* @__PURE__ */ (0, import_jsx_runtime19.jsx)("div", { className: cn(sizes.dots, "bg-green-700 rounded-full animate-bounce") })
    ] }),
    variant === "pulse" && /* @__PURE__ */ (0, import_jsx_runtime19.jsxs)("div", { className: "relative", children: [
      /* @__PURE__ */ (0, import_jsx_runtime19.jsx)("div", { className: cn(sizes.spinner, "bg-green-500 rounded-full animate-ping absolute opacity-75") }),
      /* @__PURE__ */ (0, import_jsx_runtime19.jsx)("div", { className: cn(sizes.spinner, "bg-green-600 rounded-full relative") })
    ] }),
    variant === "spinner" && /* @__PURE__ */ (0, import_jsx_runtime19.jsxs)(
      "svg",
      {
        className: cn("animate-spin text-green-600", sizes.spinner),
        xmlns: "http://www.w3.org/2000/svg",
        fill: "none",
        viewBox: "0 0 24 24",
        children: [
          /* @__PURE__ */ (0, import_jsx_runtime19.jsx)("circle", { className: "opacity-25", cx: "12", cy: "12", r: "10", stroke: "currentColor", strokeWidth: "4" }),
          /* @__PURE__ */ (0, import_jsx_runtime19.jsx)("path", { className: "opacity-75", fill: "currentColor", d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" })
        ]
      }
    ),
    message && /* @__PURE__ */ (0, import_jsx_runtime19.jsx)("p", { className: cn("text-gray-600 font-medium", sizes.container), children: message })
  ] });
}
function LoadingInline({
  variant = "dots",
  size = "sm",
  className
}) {
  const sizeClasses2 = {
    sm: { dots: "h-1.5 w-1.5", spinner: "h-4 w-4" },
    md: { dots: "h-2 w-2", spinner: "h-5 w-5" },
    lg: { dots: "h-3 w-3", spinner: "h-6 w-6" }
  };
  const sizes = sizeClasses2[size];
  if (variant === "dots") {
    return /* @__PURE__ */ (0, import_jsx_runtime19.jsxs)("div", { className: cn("flex items-center space-x-1", className), children: [
      /* @__PURE__ */ (0, import_jsx_runtime19.jsx)("div", { className: cn(sizes.dots, "bg-current rounded-full animate-bounce [animation-delay:-0.3s]") }),
      /* @__PURE__ */ (0, import_jsx_runtime19.jsx)("div", { className: cn(sizes.dots, "bg-current rounded-full animate-bounce [animation-delay:-0.15s]") }),
      /* @__PURE__ */ (0, import_jsx_runtime19.jsx)("div", { className: cn(sizes.dots, "bg-current rounded-full animate-bounce") })
    ] });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime19.jsxs)(
    "svg",
    {
      className: cn("animate-spin", sizes.spinner, className),
      xmlns: "http://www.w3.org/2000/svg",
      fill: "none",
      viewBox: "0 0 24 24",
      children: [
        /* @__PURE__ */ (0, import_jsx_runtime19.jsx)("circle", { className: "opacity-25", cx: "12", cy: "12", r: "10", stroke: "currentColor", strokeWidth: "4" }),
        /* @__PURE__ */ (0, import_jsx_runtime19.jsx)("path", { className: "opacity-75", fill: "currentColor", d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" })
      ]
    }
  );
}

// src/components/ui/separator.tsx
var import_react5 = __toESM(require("react"));
var import_jsx_runtime20 = require("react/jsx-runtime");
var Separator2 = import_react5.default.forwardRef(
  ({ className, orientation = "horizontal", decorative = true, ...props }, ref) => {
    return /* @__PURE__ */ (0, import_jsx_runtime20.jsx)(
      "div",
      {
        ref,
        role: decorative ? "none" : "separator",
        "aria-orientation": orientation,
        className: cn(
          "shrink-0 bg-border",
          orientation === "horizontal" ? "h-[1px] w-full" : "h-full w-[1px]",
          className
        ),
        ...props
      }
    );
  }
);
Separator2.displayName = "Separator";

// src/components/ui/switch.tsx
var React13 = __toESM(require("react"));
var import_jsx_runtime21 = require("react/jsx-runtime");
var Switch = React13.forwardRef(
  ({ className, checked, onCheckedChange, ...props }, ref) => {
    const handleChange = (event) => {
      onCheckedChange?.(event.target.checked);
    };
    return /* @__PURE__ */ (0, import_jsx_runtime21.jsx)(
      "input",
      {
        type: "checkbox",
        ref,
        checked,
        onChange: handleChange,
        className: cn2(
          "peer h-6 w-11 shrink-0 cursor-pointer appearance-none rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",
          className
        ),
        style: {
          background: checked ? "var(--color-primary)" : "var(--color-input)"
        },
        ...props
      }
    );
  }
);
Switch.displayName = "Switch";

// src/components/ui/dropdown-menu.tsx
var React14 = __toESM(require("react"));
var import_lucide_react6 = require("lucide-react");
var import_jsx_runtime22 = require("react/jsx-runtime");
var DropdownMenu = React14.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime22.jsx)("div", { ref, className: cn2("relative", className), ...props }));
DropdownMenu.displayName = "DropdownMenu";
var DropdownMenuTrigger = React14.forwardRef(({ className, children, onToggle, asChild = false, ...props }, ref) => {
  if (asChild && React14.isValidElement(children)) {
    return React14.cloneElement(children, {
      ...props,
      ref,
      onClick: (e) => {
        e.stopPropagation();
        onToggle?.(true);
        children.props.onClick?.(e);
      }
    });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime22.jsx)(
    Button,
    {
      ref,
      variant: "ghost",
      className: cn2(
        "inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",
        className
      ),
      onClick: (e) => {
        e.stopPropagation();
        onToggle?.(true);
      },
      ...props,
      children
    }
  );
});
DropdownMenuTrigger.displayName = "DropdownMenuTrigger";
var DropdownMenuContent = React14.forwardRef(({ className, align = "start", sideOffset = 4, open = false, onOpenChange, ...props }, ref) => {
  const contentRef = React14.useRef(null);
  React14.useEffect(() => {
    const handleClickOutside = (event) => {
      if (open && contentRef.current && !contentRef.current.contains(event.target)) {
        onOpenChange?.(false);
      }
    };
    if (open) {
      document.addEventListener("mousedown", handleClickOutside);
      return () => document.removeEventListener("mousedown", handleClickOutside);
    }
  }, [open, onOpenChange]);
  if (!open)
    return null;
  return /* @__PURE__ */ (0, import_jsx_runtime22.jsx)(
    "div",
    {
      ref: (node) => {
        contentRef.current = node;
        if (typeof ref === "function") {
          ref(node);
        } else if (ref) {
          ref.current = node;
        }
      },
      className: cn2(
        "absolute z-50 min-w-[8rem] overflow-hidden rounded-md border bg-white p-1 text-gray-900 shadow-md animate-in fade-in-0 zoom-in-95",
        align === "end" ? "right-0" : "left-0",
        className
      ),
      style: { marginTop: sideOffset },
      onClick: (e) => e.stopPropagation(),
      ...props
    }
  );
});
DropdownMenuContent.displayName = "DropdownMenuContent";
var DropdownMenuItem = React14.forwardRef(({ className, inset, onSelect, onClick, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime22.jsx)(
  "div",
  {
    ref,
    className: cn2(
      "relative flex cursor-default select-none items-center justify-start rounded-sm px-2 py-1.5 text-sm text-left outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      inset && "pl-8",
      className
    ),
    onClick: (e) => {
      e.stopPropagation();
      onSelect?.();
      onClick?.(e);
    },
    ...props
  }
));
DropdownMenuItem.displayName = "DropdownMenuItem";
var DropdownMenuSeparator = React14.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime22.jsx)(
  "div",
  {
    ref,
    className: cn2("-mx-1 my-1 h-px bg-muted", className),
    ...props
  }
));
DropdownMenuSeparator.displayName = "DropdownMenuSeparator";
var DropdownMenuLabel = React14.forwardRef(({ className, inset, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime22.jsx)(
  "div",
  {
    ref,
    className: cn2(
      "px-2 py-1.5 text-sm font-semibold",
      inset && "pl-8",
      className
    ),
    ...props
  }
));
DropdownMenuLabel.displayName = "DropdownMenuLabel";
var DropdownMenuCheckboxItem = React14.forwardRef(({ className, children, checked, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime22.jsxs)(
  "div",
  {
    ref,
    className: cn2(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    ),
    ...props,
    children: [
      /* @__PURE__ */ (0, import_jsx_runtime22.jsx)("span", { className: "absolute left-2 flex h-3.5 w-3.5 items-center justify-center", children: checked && /* @__PURE__ */ (0, import_jsx_runtime22.jsx)(import_lucide_react6.Check, { className: "h-4 w-4" }) }),
      children
    ]
  }
));
DropdownMenuCheckboxItem.displayName = "DropdownMenuCheckboxItem";
var DropdownMenuRadioItem = React14.forwardRef(({ className, children, checked, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime22.jsxs)(
  "div",
  {
    ref,
    className: cn2(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    ),
    ...props,
    children: [
      /* @__PURE__ */ (0, import_jsx_runtime22.jsx)("span", { className: "absolute left-2 flex h-3.5 w-3.5 items-center justify-center", children: checked && /* @__PURE__ */ (0, import_jsx_runtime22.jsx)("div", { className: "h-2 w-2 rounded-full bg-current" }) }),
      children
    ]
  }
));
DropdownMenuRadioItem.displayName = "DropdownMenuRadioItem";
var DropdownMenuShortcut = ({
  className,
  ...props
}) => {
  return /* @__PURE__ */ (0, import_jsx_runtime22.jsx)(
    "span",
    {
      className: cn2("ml-auto text-xs tracking-widest opacity-60", className),
      ...props
    }
  );
};
DropdownMenuShortcut.displayName = "DropdownMenuShortcut";
var DropdownMenuGroup = React14.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime22.jsx)("div", { ref, className: cn2("", className), ...props }));
DropdownMenuGroup.displayName = "DropdownMenuGroup";
var DropdownMenuPortal = React14.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime22.jsx)("div", { ref, className: cn2("", className), ...props }));
DropdownMenuPortal.displayName = "DropdownMenuPortal";
var DropdownMenuSub = React14.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime22.jsx)("div", { ref, className: cn2("", className), ...props }));
DropdownMenuSub.displayName = "DropdownMenuSub";
var DropdownMenuSubContent = React14.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime22.jsx)(
  "div",
  {
    ref,
    className: cn2(
      "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg animate-in fade-in-0 zoom-in-95",
      className
    ),
    ...props
  }
));
DropdownMenuSubContent.displayName = "DropdownMenuSubContent";
var DropdownMenuSubTrigger = React14.forwardRef(({ className, inset, children, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime22.jsxs)(
  "div",
  {
    ref,
    className: cn2(
      "flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      inset && "pl-8",
      className
    ),
    ...props,
    children: [
      children,
      /* @__PURE__ */ (0, import_jsx_runtime22.jsx)(import_lucide_react6.ChevronDown, { className: "ml-auto h-4 w-4" })
    ]
  }
));
DropdownMenuSubTrigger.displayName = "DropdownMenuSubTrigger";
var DropdownMenuRadioGroup = React14.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime22.jsx)("div", { ref, className: cn2("", className), ...props }));
DropdownMenuRadioGroup.displayName = "DropdownMenuRadioGroup";

// src/components/ui/table.tsx
var React15 = __toESM(require("react"));
var import_jsx_runtime23 = require("react/jsx-runtime");
var Table = React15.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime23.jsx)("div", { className: "relative w-full overflow-auto", children: /* @__PURE__ */ (0, import_jsx_runtime23.jsx)(
  "table",
  {
    ref,
    className: cn2("w-full caption-bottom text-sm", className),
    ...props
  }
) }));
Table.displayName = "Table";
var TableHeader = React15.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime23.jsx)("thead", { ref, className: cn2("[&_tr]:border-b", className), ...props }));
TableHeader.displayName = "TableHeader";
var TableBody = React15.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime23.jsx)(
  "tbody",
  {
    ref,
    className: cn2("[&_tr:last-child]:border-0", className),
    ...props
  }
));
TableBody.displayName = "TableBody";
var TableFooter = React15.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime23.jsx)(
  "tfoot",
  {
    ref,
    className: cn2(
      "border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",
      className
    ),
    ...props
  }
));
TableFooter.displayName = "TableFooter";
var TableRow = React15.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime23.jsx)(
  "tr",
  {
    ref,
    className: cn2(
      "border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",
      className
    ),
    ...props
  }
));
TableRow.displayName = "TableRow";
var TableHead = React15.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime23.jsx)(
  "th",
  {
    ref,
    className: cn2(
      "h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",
      className
    ),
    ...props
  }
));
TableHead.displayName = "TableHead";
var TableCell = React15.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime23.jsx)(
  "td",
  {
    ref,
    className: cn2("p-4 align-middle [&:has([role=checkbox])]:pr-0", className),
    ...props
  }
));
TableCell.displayName = "TableCell";
var TableCaption = React15.forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ (0, import_jsx_runtime23.jsx)(
  "caption",
  {
    ref,
    className: cn2("mt-4 text-sm text-muted-foreground", className),
    ...props
  }
));
TableCaption.displayName = "TableCaption";

// src/components/ui/price-input.tsx
var import_react6 = require("react");
var import_jsx_runtime24 = require("react/jsx-runtime");
var NumericInput = ({
  value,
  onChange,
  placeholder = "0",
  className,
  error: error2 = false,
  disabled = false,
  min = 0,
  max,
  step = 1,
  required = false,
  label,
  allowDecimals = true,
  maxDecimalPlaces = 2,
  suffix
}) => {
  const [displayValue, setDisplayValue] = (0, import_react6.useState)("");
  (0, import_react6.useEffect)(() => {
    setDisplayValue(formatValueForDisplay(value || 0));
  }, [value]);
  const formatValueForDisplay = (numValue) => {
    if (numValue === void 0 || numValue === null || isNaN(numValue)) {
      return "";
    }
    if (numValue === 0)
      return "";
    if (allowDecimals) {
      return numValue.toLocaleString("en-US", {
        minimumFractionDigits: 0,
        maximumFractionDigits: maxDecimalPlaces
      });
    } else {
      return numValue.toLocaleString("en-US");
    }
  };
  const handleInputChange = (inputValue) => {
    if (!inputValue || inputValue.trim() === "") {
      setDisplayValue("");
      onChange(0);
      return;
    }
    const regex = allowDecimals ? /[^\d.]/g : /[^\d]/g;
    const cleanValue = inputValue.replace(regex, "");
    if (allowDecimals) {
      const parts = cleanValue.split(".");
      if (parts.length > 2)
        return;
      if (parts[1] && parts[1].length > maxDecimalPlaces)
        return;
    }
    const numericValue = allowDecimals ? parseFloat(cleanValue) || 0 : parseInt(cleanValue) || 0;
    if (min !== void 0 && numericValue < min)
      return;
    if (max !== void 0 && numericValue > max)
      return;
    setDisplayValue(cleanValue);
    onChange(numericValue);
  };
  const handleBlur = () => {
    if (value && value > 0) {
      setDisplayValue(formatValueForDisplay(value));
    }
  };
  const handleFocus = () => {
    if (value && value > 0) {
      setDisplayValue(value.toString());
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime24.jsxs)("div", { className: "space-y-2", children: [
    label && /* @__PURE__ */ (0, import_jsx_runtime24.jsxs)("label", { className: "text-sm font-medium text-text-primary", children: [
      label,
      required && /* @__PURE__ */ (0, import_jsx_runtime24.jsx)("span", { className: "text-red-500 ml-1", children: "*" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime24.jsxs)("div", { className: "relative", children: [
      /* @__PURE__ */ (0, import_jsx_runtime24.jsx)(
        Input2,
        {
          type: "text",
          value: displayValue,
          onChange: (e) => handleInputChange(e.target.value),
          onBlur: handleBlur,
          onFocus: handleFocus,
          placeholder,
          className: cn(
            suffix ? "pr-12" : "",
            error2 && "border-red-500 focus:border-red-500",
            className
          ),
          disabled
        }
      ),
      suffix && /* @__PURE__ */ (0, import_jsx_runtime24.jsx)("span", { className: "absolute right-3 top-1/2 transform -translate-y-1/2 text-text-secondary pointer-events-none", children: suffix })
    ] })
  ] });
};
var PriceInput = NumericInput;

// src/components/ui/numeric-input-demo.tsx
var import_react7 = require("react");
var import_jsx_runtime25 = require("react/jsx-runtime");
var NumericInputDemo = () => {
  const [price, setPrice] = (0, import_react7.useState)(0);
  const [quantity, setQuantity] = (0, import_react7.useState)(0);
  const [weight, setWeight] = (0, import_react7.useState)(0);
  const [percentage, setPercentage] = (0, import_react7.useState)(0);
  return /* @__PURE__ */ (0, import_jsx_runtime25.jsxs)("div", { className: "space-y-6 p-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime25.jsx)("h1", { className: "text-2xl font-bold", children: "NumericInput Component Demo" }),
    /* @__PURE__ */ (0, import_jsx_runtime25.jsx)("p", { className: "text-gray-600", children: "This component can be used for both price and quantity inputs with different configurations." }),
    /* @__PURE__ */ (0, import_jsx_runtime25.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime25.jsxs)(Card2, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime25.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime25.jsx)(CardTitle2, { children: "Price Inputs (with decimals)" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime25.jsxs)(CardContent2, { className: "space-y-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime25.jsx)(
            NumericInput,
            {
              label: "Price with Currency",
              value: price,
              onChange: setPrice,
              placeholder: "0.00",
              allowDecimals: true,
              maxDecimalPlaces: 2,
              suffix: "$"
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime25.jsx)(
            NumericInput,
            {
              label: "Price with VND",
              value: price,
              onChange: setPrice,
              placeholder: "0.00",
              allowDecimals: true,
              maxDecimalPlaces: 0,
              suffix: "\u20AB"
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime25.jsx)(
            NumericInput,
            {
              label: "Price without suffix",
              value: price,
              onChange: setPrice,
              placeholder: "0.00",
              allowDecimals: true,
              maxDecimalPlaces: 2
            }
          )
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime25.jsxs)(Card2, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime25.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime25.jsx)(CardTitle2, { children: "Quantity Inputs (no decimals)" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime25.jsxs)(CardContent2, { className: "space-y-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime25.jsx)(
            NumericInput,
            {
              label: "Stock Quantity",
              value: quantity,
              onChange: setQuantity,
              placeholder: "0",
              allowDecimals: false,
              min: 0
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime25.jsx)(
            NumericInput,
            {
              label: "Weight in grams",
              value: weight,
              onChange: setWeight,
              placeholder: "0",
              allowDecimals: false,
              min: 0,
              suffix: "g"
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime25.jsx)(
            NumericInput,
            {
              label: "Percentage",
              value: percentage,
              onChange: setPercentage,
              placeholder: "0",
              allowDecimals: false,
              min: 0,
              max: 100,
              suffix: "%"
            }
          )
        ] })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime25.jsxs)(Card2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime25.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime25.jsx)(CardTitle2, { children: "Current Values" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime25.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime25.jsxs)("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-4 text-sm", children: [
        /* @__PURE__ */ (0, import_jsx_runtime25.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime25.jsx)("span", { className: "font-medium", children: "Price:" }),
          " $",
          price.toFixed(2)
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime25.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime25.jsx)("span", { className: "font-medium", children: "Quantity:" }),
          " ",
          quantity
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime25.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime25.jsx)("span", { className: "font-medium", children: "Weight:" }),
          " ",
          weight,
          "g"
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime25.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime25.jsx)("span", { className: "font-medium", children: "Percentage:" }),
          " ",
          percentage,
          "%"
        ] })
      ] }) })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime25.jsxs)(Card2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime25.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime25.jsx)(CardTitle2, { children: "Features" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime25.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime25.jsxs)("ul", { className: "space-y-2 text-sm", children: [
        /* @__PURE__ */ (0, import_jsx_runtime25.jsx)("li", { children: "\u2705 Thousand separators (1,000 instead of 1000)" }),
        /* @__PURE__ */ (0, import_jsx_runtime25.jsx)("li", { children: "\u2705 No leading zeros (can type 1000 directly)" }),
        /* @__PURE__ */ (0, import_jsx_runtime25.jsx)("li", { children: "\u2705 Configurable decimal places (0-2)" }),
        /* @__PURE__ */ (0, import_jsx_runtime25.jsx)("li", { children: "\u2705 Optional suffix (currency, units, etc.)" }),
        /* @__PURE__ */ (0, import_jsx_runtime25.jsx)("li", { children: "\u2705 Min/max constraints" }),
        /* @__PURE__ */ (0, import_jsx_runtime25.jsx)("li", { children: "\u2705 Error state support" }),
        /* @__PURE__ */ (0, import_jsx_runtime25.jsx)("li", { children: "\u2705 Required field support" }),
        /* @__PURE__ */ (0, import_jsx_runtime25.jsx)("li", { children: "\u2705 Customizable styling" }),
        /* @__PURE__ */ (0, import_jsx_runtime25.jsx)("li", { children: "\u2705 Works for both price and quantity inputs" })
      ] }) })
    ] })
  ] });
};

// src/components/ui/limit-input.tsx
var import_jsx_runtime26 = require("react/jsx-runtime");
var LimitInput = ({
  id,
  label,
  value,
  onChange,
  placeholder = "-1 (unlimited)",
  className,
  error: error2 = false,
  disabled = false,
  min = -1,
  max,
  required = false,
  helpText = "Use -1 for unlimited"
}) => {
  const handleChange = (e) => {
    const inputValue = e.target.value;
    if (!inputValue || inputValue.trim() === "") {
      onChange(-1);
      return;
    }
    const numericValue = parseInt(inputValue);
    if (isNaN(numericValue)) {
      return;
    }
    if (min !== void 0 && numericValue < min && numericValue !== -1) {
      return;
    }
    if (max !== void 0 && numericValue > max) {
      return;
    }
    onChange(numericValue);
  };
  const getDisplayValue = () => {
    if (value === void 0 || value === null) {
      return "";
    }
    return value.toString();
  };
  return /* @__PURE__ */ (0, import_jsx_runtime26.jsxs)("div", { className: "space-y-2", children: [
    /* @__PURE__ */ (0, import_jsx_runtime26.jsxs)(Label2, { htmlFor: id, children: [
      label,
      required && /* @__PURE__ */ (0, import_jsx_runtime26.jsx)("span", { className: "text-red-500 ml-1", children: "*" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime26.jsx)(
      Input2,
      {
        id,
        type: "number",
        value: getDisplayValue(),
        onChange: handleChange,
        placeholder,
        min: min === -1 ? void 0 : min,
        max,
        disabled,
        className: cn(
          error2 && "border-red-500 focus:border-red-500",
          className
        )
      }
    ),
    helpText && /* @__PURE__ */ (0, import_jsx_runtime26.jsx)("p", { className: "text-xs text-gray-500", children: helpText })
  ] });
};

// src/components/ui/date-range-picker.tsx
var import_react8 = require("react");
var import_lucide_react7 = require("lucide-react");
var import_jsx_runtime27 = require("react/jsx-runtime");
var DateRangePicker = ({
  value = { from: void 0, to: void 0 },
  onChange,
  placeholder = "Select date range",
  className,
  disabled = false,
  minDate = /* @__PURE__ */ new Date(),
  maxDate,
  showPresets = true,
  format = "short",
  align = "left"
}) => {
  const [isOpen, setIsOpen] = (0, import_react8.useState)(false);
  const [currentMonth, setCurrentMonth] = (0, import_react8.useState)(() => {
    const startDate = value?.from || /* @__PURE__ */ new Date();
    return new Date(startDate.getFullYear(), startDate.getMonth(), 1);
  });
  const [hoveredDate, setHoveredDate] = (0, import_react8.useState)(null);
  const [tempRange, setTempRange] = (0, import_react8.useState)(value);
  const containerRef = (0, import_react8.useRef)(null);
  (0, import_react8.useEffect)(() => {
    setTempRange(value);
  }, [value]);
  (0, import_react8.useEffect)(() => {
    const handleClickOutside = (event) => {
      if (containerRef.current && !containerRef.current.contains(event.target)) {
        setIsOpen(false);
      }
    };
    document.addEventListener("mousedown", handleClickOutside);
    return () => document.removeEventListener("mousedown", handleClickOutside);
  }, []);
  const formatDate11 = (date2, formatType = format) => {
    const day = String(date2.getDate()).padStart(2, "0");
    const month = String(date2.getMonth() + 1).padStart(2, "0");
    const year = date2.getFullYear();
    if (formatType === "long") {
      return `${day}/${month}/${year}`;
    }
    return `${day}/${month}`;
  };
  const formatDisplayValue = () => {
    if (!value?.from && !value?.to)
      return placeholder;
    if (value.from && value.to) {
      return `${formatDate11(value.from, "long")} - ${formatDate11(value.to, "long")}`;
    }
    if (value.from) {
      return `From ${formatDate11(value.from, "long")}`;
    }
    if (value.to) {
      return `To ${formatDate11(value.to, "long")}`;
    }
    return placeholder;
  };
  const getDaysInMonth = (date2) => {
    const year = date2.getFullYear();
    const month = date2.getMonth();
    const firstDay = new Date(year, month, 1);
    const lastDay = new Date(year, month + 1, 0);
    const daysInMonth2 = lastDay.getDate();
    const startingDayOfWeek2 = firstDay.getDay();
    return { daysInMonth: daysInMonth2, startingDayOfWeek: startingDayOfWeek2 };
  };
  const isDateInRange = (date2) => {
    if (!tempRange.from && !tempRange.to)
      return false;
    const dateTime = date2.getTime();
    const fromTime = tempRange.from?.getTime() || 0;
    const toTime = tempRange.to?.getTime() || 0;
    if (tempRange.from && tempRange.to) {
      return dateTime >= fromTime && dateTime <= toTime;
    }
    if (tempRange.from) {
      return dateTime >= fromTime;
    }
    if (tempRange.to) {
      return dateTime <= toTime;
    }
    return false;
  };
  const isDateSelected = (date2) => {
    if (!tempRange.from && !tempRange.to)
      return false;
    const dateTime = date2.getTime();
    const fromTime = tempRange.from?.getTime() || 0;
    const toTime = tempRange.to?.getTime() || 0;
    return dateTime === fromTime || dateTime === toTime;
  };
  const isDateDisabled = (date2) => {
    const today = /* @__PURE__ */ new Date();
    today.setHours(0, 0, 0, 0);
    if (minDate && date2 < minDate)
      return true;
    if (maxDate && date2 > maxDate)
      return true;
    return false;
  };
  const handleDateClick = (date2) => {
    if (isDateDisabled(date2))
      return;
    if (!tempRange.from || tempRange.from && tempRange.to) {
      setTempRange({ from: date2, to: void 0 });
    } else {
      if (date2 < tempRange.from) {
        setTempRange({ from: date2, to: tempRange.from });
      } else {
        setTempRange({ from: tempRange.from, to: date2 });
      }
    }
  };
  const handleDateHover = (date2) => {
    if (tempRange.from && !tempRange.to) {
      setHoveredDate(date2);
    }
  };
  const handleApply = () => {
    if (onChange) {
      onChange(tempRange);
    }
    setIsOpen(false);
  };
  const handleClear = () => {
    const clearedRange = { from: void 0, to: void 0 };
    setTempRange(clearedRange);
    if (onChange) {
      onChange(clearedRange);
    }
  };
  const handlePresetClick = (days) => {
    const today = /* @__PURE__ */ new Date();
    const from = new Date(today);
    from.setDate(today.getDate() + 1);
    const to = new Date(from);
    to.setDate(from.getDate() + days - 1);
    const newRange = { from, to };
    setTempRange(newRange);
    if (onChange) {
      onChange(newRange);
    }
    setIsOpen(false);
  };
  const navigateMonth = (direction) => {
    setCurrentMonth((prev) => {
      const newMonth = new Date(prev);
      if (direction === "prev") {
        newMonth.setMonth(prev.getMonth() - 1);
      } else {
        newMonth.setMonth(prev.getMonth() + 1);
      }
      return newMonth;
    });
  };
  const { daysInMonth, startingDayOfWeek } = getDaysInMonth(currentMonth);
  const weekdays = ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"];
  return /* @__PURE__ */ (0, import_jsx_runtime27.jsxs)("div", { className: cn2("relative", className), ref: containerRef, children: [
    /* @__PURE__ */ (0, import_jsx_runtime27.jsxs)(
      Button,
      {
        variant: "outline",
        onClick: () => !disabled && setIsOpen(!isOpen),
        disabled,
        className: cn2(
          "w-full justify-start text-left font-normal",
          !value?.from && !value?.to && "text-muted-foreground"
        ),
        children: [
          /* @__PURE__ */ (0, import_jsx_runtime27.jsx)(import_lucide_react7.Calendar, { className: "mr-2 h-4 w-4" }),
          formatDisplayValue()
        ]
      }
    ),
    isOpen && /* @__PURE__ */ (0, import_jsx_runtime27.jsxs)("div", { className: cn2(
      "absolute top-full mt-2 w-full bg-white border border-gray-200 rounded-lg shadow-lg z-50 p-2",
      align === "left" ? "left-0" : "right-0"
    ), children: [
      /* @__PURE__ */ (0, import_jsx_runtime27.jsxs)("div", { className: "flex items-center justify-between mb-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime27.jsx)("h3", { className: "text-sm font-semibold text-gray-900", children: "Ch\u1ECDn kho\u1EA3ng th\u1EDDi gian" }),
        /* @__PURE__ */ (0, import_jsx_runtime27.jsx)(
          Button,
          {
            variant: "ghost",
            size: "sm",
            onClick: () => setIsOpen(false),
            className: "h-6 w-6 p-0",
            children: /* @__PURE__ */ (0, import_jsx_runtime27.jsx)(import_lucide_react7.X, { className: "h-4 w-4" })
          }
        )
      ] }),
      showPresets && /* @__PURE__ */ (0, import_jsx_runtime27.jsxs)("div", { className: "mb-4 p-3 bg-gray-50 rounded-lg", children: [
        /* @__PURE__ */ (0, import_jsx_runtime27.jsx)("h4", { className: "text-xs font-medium text-gray-600 mb-2", children: "G\u1EE3i \xFD nhanh" }),
        /* @__PURE__ */ (0, import_jsx_runtime27.jsx)("div", { className: "flex flex-wrap gap-2", children: [1, 3, 7, 14, 30].map((days) => /* @__PURE__ */ (0, import_jsx_runtime27.jsxs)(
          Button,
          {
            variant: "outline",
            size: "sm",
            onClick: () => handlePresetClick(days),
            className: "text-xs h-7 px-2",
            children: [
              days,
              " ",
              days === 1 ? "day" : "days"
            ]
          },
          days
        )) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime27.jsxs)("div", { className: "flex items-center justify-between mb-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime27.jsx)(
          Button,
          {
            variant: "ghost",
            size: "sm",
            onClick: () => navigateMonth("prev"),
            className: "h-8 w-8 p-0",
            children: /* @__PURE__ */ (0, import_jsx_runtime27.jsx)(import_lucide_react7.ChevronLeft, { className: "h-4 w-4" })
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime27.jsx)("h4", { className: "text-sm font-medium text-gray-900", children: currentMonth.toLocaleDateString("en-US", {
          month: "long",
          year: "numeric"
        }) }),
        /* @__PURE__ */ (0, import_jsx_runtime27.jsx)(
          Button,
          {
            variant: "ghost",
            size: "sm",
            onClick: () => navigateMonth("next"),
            className: "h-8 w-8 p-0",
            children: /* @__PURE__ */ (0, import_jsx_runtime27.jsx)(import_lucide_react7.ChevronRight, { className: "h-4 w-4" })
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime27.jsxs)("div", { className: "mb-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime27.jsx)("div", { className: "grid grid-cols-7 gap-2 mb-2", children: weekdays.map((day) => /* @__PURE__ */ (0, import_jsx_runtime27.jsx)("div", { className: "text-sm font-medium text-gray-500 text-center py-2", children: day }, day)) }),
        /* @__PURE__ */ (0, import_jsx_runtime27.jsxs)("div", { className: "grid grid-cols-7 gap-2", children: [
          Array.from({ length: startingDayOfWeek }, (_, i) => /* @__PURE__ */ (0, import_jsx_runtime27.jsx)("div", { className: "h-8" }, `empty-${i}`)),
          Array.from({ length: daysInMonth }, (_, i) => {
            const date2 = new Date(currentMonth.getFullYear(), currentMonth.getMonth(), i + 1);
            const isDisabled = isDateDisabled(date2);
            const isSelected = isDateSelected(date2);
            const isInRange = isDateInRange(date2);
            const isHovered = hoveredDate && date2.getTime() === hoveredDate.getTime();
            return /* @__PURE__ */ (0, import_jsx_runtime27.jsx)(
              Button,
              {
                variant: "ghost",
                onClick: () => handleDateClick(date2),
                onMouseEnter: () => handleDateHover(date2),
                disabled: isDisabled,
                className: cn2(
                  "h-8 w-8 text-sm rounded-lg transition-colors relative p-0",
                  isDisabled && "text-gray-300 cursor-not-allowed",
                  !isDisabled && "hover:bg-gray-100",
                  isSelected && "bg-blue-600 text-white hover:bg-blue-700",
                  isInRange && !isSelected && "bg-blue-100 text-blue-900",
                  isHovered && !isSelected && "bg-blue-50"
                ),
                children: date2.getDate()
              },
              i
            );
          })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime27.jsxs)("div", { className: "flex gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime27.jsx)(
          Button,
          {
            variant: "outline",
            size: "sm",
            onClick: handleClear,
            className: "flex-1",
            children: "Clear"
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime27.jsx)(
          Button,
          {
            size: "sm",
            onClick: handleApply,
            className: "flex-1",
            children: "Apply"
          }
        )
      ] })
    ] })
  ] });
};

// src/components/ui/pagination.tsx
var import_react9 = __toESM(require("react"));
var import_jsx_runtime28 = require("react/jsx-runtime");
function Pagination({
  currentPage,
  totalPages,
  total,
  limit,
  onPageChange,
  itemName = "items"
}) {
  const getPageNumbers = () => {
    const pages = [];
    const maxVisiblePages = 5;
    if (totalPages <= maxVisiblePages) {
      for (let i = 1; i <= totalPages; i++) {
        pages.push(i);
      }
    } else {
      if (currentPage <= 3) {
        for (let i = 1; i <= 4; i++) {
          pages.push(i);
        }
        pages.push("...");
        pages.push(totalPages);
      } else if (currentPage >= totalPages - 2) {
        pages.push(1);
        pages.push("...");
        for (let i = totalPages - 3; i <= totalPages; i++) {
          pages.push(i);
        }
      } else {
        pages.push(1);
        pages.push("...");
        for (let i = currentPage - 1; i <= currentPage + 1; i++) {
          pages.push(i);
        }
        pages.push("...");
        pages.push(totalPages);
      }
    }
    return pages;
  };
  const startItem = (currentPage - 1) * limit + 1;
  const endItem = Math.min(currentPage * limit, total);
  if (totalPages <= 1) {
    return null;
  }
  return /* @__PURE__ */ (0, import_jsx_runtime28.jsxs)("div", { className: "flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0", children: [
    /* @__PURE__ */ (0, import_jsx_runtime28.jsxs)("div", { className: "text-sm text-gray-700 dark:text-gray-300", children: [
      "Showing ",
      startItem,
      " to ",
      endItem,
      " of ",
      total,
      " ",
      itemName
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime28.jsxs)("div", { className: "flex items-center space-x-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime28.jsx)(
        Button,
        {
          variant: "outline",
          size: "sm",
          onClick: () => onPageChange(currentPage - 1),
          disabled: currentPage === 1,
          children: "Previous"
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime28.jsx)("div", { className: "flex items-center space-x-1", children: getPageNumbers().map((page, index) => /* @__PURE__ */ (0, import_jsx_runtime28.jsx)(import_react9.default.Fragment, { children: page === "..." ? /* @__PURE__ */ (0, import_jsx_runtime28.jsx)("span", { className: "px-3 py-2 text-gray-500", children: "..." }) : /* @__PURE__ */ (0, import_jsx_runtime28.jsx)(
        Button,
        {
          variant: currentPage === page ? "default" : "outline",
          size: "sm",
          onClick: () => onPageChange(page),
          className: "w-10 h-10 p-0",
          children: page
        }
      ) }, index)) }),
      /* @__PURE__ */ (0, import_jsx_runtime28.jsx)(
        Button,
        {
          variant: "outline",
          size: "sm",
          onClick: () => onPageChange(currentPage + 1),
          disabled: currentPage === totalPages,
          children: "Next"
        }
      )
    ] })
  ] });
}

// src/components/ui/radio-group.tsx
var React20 = __toESM(require("react"));
var RadioGroupPrimitive = __toESM(require("@radix-ui/react-radio-group"));
var import_lucide_react8 = require("lucide-react");
var import_jsx_runtime29 = require("react/jsx-runtime");
var RadioGroup = React20.forwardRef(({ className, ...props }, ref) => {
  return /* @__PURE__ */ (0, import_jsx_runtime29.jsx)(
    RadioGroupPrimitive.Root,
    {
      className: cn2("grid gap-2", className),
      ...props,
      ref
    }
  );
});
RadioGroup.displayName = RadioGroupPrimitive.Root.displayName;
var RadioGroupItem = React20.forwardRef(({ className, ...props }, ref) => {
  return /* @__PURE__ */ (0, import_jsx_runtime29.jsx)(
    RadioGroupPrimitive.Item,
    {
      ref,
      className: cn2(
        "aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",
        className
      ),
      ...props,
      children: /* @__PURE__ */ (0, import_jsx_runtime29.jsx)(RadioGroupPrimitive.Indicator, { className: "flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime29.jsx)(import_lucide_react8.Circle, { className: "h-2.5 w-2.5 fill-current text-current" }) })
    }
  );
});
RadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName;

// src/components/ui/skeleton.tsx
var import_jsx_runtime30 = require("react/jsx-runtime");
function Skeleton({ className }) {
  return /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(
    "div",
    {
      className: cn2(
        "animate-pulse rounded-md bg-gray-200 dark:bg-gray-700",
        className
      )
    }
  );
}
function CardSkeleton({ className }) {
  return /* @__PURE__ */ (0, import_jsx_runtime30.jsx)("div", { className: cn2("rounded-lg border bg-card p-6", className), children: /* @__PURE__ */ (0, import_jsx_runtime30.jsxs)("div", { className: "space-y-4", children: [
    /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-4 w-3/4" }),
    /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-4 w-1/2" }),
    /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-4 w-2/3" })
  ] }) });
}
function TableRowSkeleton({ columns = 4 }) {
  return /* @__PURE__ */ (0, import_jsx_runtime30.jsx)("tr", { className: "border-b transition-colors hover:bg-muted/50", children: Array.from({ length: columns }).map((_, index) => /* @__PURE__ */ (0, import_jsx_runtime30.jsx)("td", { className: "p-4", children: /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-4 w-full" }) }, index)) });
}
function TableSkeleton({
  rows = 5,
  columns = 4,
  className
}) {
  return /* @__PURE__ */ (0, import_jsx_runtime30.jsx)("div", { className: cn2("w-full", className), children: /* @__PURE__ */ (0, import_jsx_runtime30.jsxs)("div", { className: "rounded-md border", children: [
    /* @__PURE__ */ (0, import_jsx_runtime30.jsx)("div", { className: "border-b bg-muted/50 p-4", children: /* @__PURE__ */ (0, import_jsx_runtime30.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-6 w-32" }),
      /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-9 w-24" })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime30.jsxs)("table", { className: "w-full", children: [
      /* @__PURE__ */ (0, import_jsx_runtime30.jsx)("thead", { className: "border-b bg-muted/50", children: /* @__PURE__ */ (0, import_jsx_runtime30.jsx)("tr", { children: Array.from({ length: columns }).map((_, index) => /* @__PURE__ */ (0, import_jsx_runtime30.jsx)("th", { className: "p-4 text-left font-medium", children: /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-4 w-20" }) }, index)) }) }),
      /* @__PURE__ */ (0, import_jsx_runtime30.jsx)("tbody", { children: Array.from({ length: rows }).map((_, rowIndex) => /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(TableRowSkeleton, { columns }, rowIndex)) })
    ] })
  ] }) });
}
function GridSkeleton({
  items = 6,
  className
}) {
  return /* @__PURE__ */ (0, import_jsx_runtime30.jsx)("div", { className: cn2("grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3", className), children: Array.from({ length: items }).map((_, index) => /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(CardSkeleton, {}, index)) });
}
function FormSkeleton({ className }) {
  return /* @__PURE__ */ (0, import_jsx_runtime30.jsxs)("div", { className: cn2("space-y-6", className), children: [
    /* @__PURE__ */ (0, import_jsx_runtime30.jsxs)("div", { className: "space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-6 w-24" }),
      /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-10 w-full" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime30.jsxs)("div", { className: "space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-6 w-20" }),
      /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-10 w-full" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime30.jsxs)("div", { className: "space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-6 w-28" }),
      /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-24 w-full" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime30.jsxs)("div", { className: "flex gap-3", children: [
      /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-10 w-24" }),
      /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-10 w-24" })
    ] })
  ] });
}
function NavigationSkeleton({ className }) {
  return /* @__PURE__ */ (0, import_jsx_runtime30.jsx)("nav", { className: cn2("flex items-center space-x-4", className), children: Array.from({ length: 5 }).map((_, index) => /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-8 w-20" }, index)) });
}
function StatsSkeleton({ className }) {
  return /* @__PURE__ */ (0, import_jsx_runtime30.jsx)("div", { className: cn2("grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4", className), children: Array.from({ length: 4 }).map((_, index) => /* @__PURE__ */ (0, import_jsx_runtime30.jsx)("div", { className: "rounded-lg border bg-card p-6", children: /* @__PURE__ */ (0, import_jsx_runtime30.jsxs)("div", { className: "space-y-2", children: [
    /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-4 w-20" }),
    /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-8 w-16" }),
    /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-3 w-24" })
  ] }) }, index)) });
}
function CalendarSkeleton({ className }) {
  return /* @__PURE__ */ (0, import_jsx_runtime30.jsxs)("div", { className: cn2("space-y-4", className), children: [
    /* @__PURE__ */ (0, import_jsx_runtime30.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-8 w-32" }),
      /* @__PURE__ */ (0, import_jsx_runtime30.jsxs)("div", { className: "flex gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-8 w-8" }),
        /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-8 w-8" })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime30.jsxs)("div", { className: "grid grid-cols-7 gap-1", children: [
      Array.from({ length: 7 }).map((_, index) => /* @__PURE__ */ (0, import_jsx_runtime30.jsx)("div", { className: "h-10 rounded border p-2", children: /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-4 w-6" }) }, index)),
      Array.from({ length: 35 }).map((_, index) => /* @__PURE__ */ (0, import_jsx_runtime30.jsx)("div", { className: "h-20 rounded border p-2", children: /* @__PURE__ */ (0, import_jsx_runtime30.jsxs)("div", { className: "space-y-1", children: [
        /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-3 w-8" }),
        /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-2 w-6" })
      ] }) }, index))
    ] })
  ] });
}
function SearchSkeleton({ className }) {
  return /* @__PURE__ */ (0, import_jsx_runtime30.jsxs)("div", { className: cn2("space-y-4", className), children: [
    /* @__PURE__ */ (0, import_jsx_runtime30.jsxs)("div", { className: "flex gap-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-10 flex-1" }),
      /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-10 w-24" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime30.jsxs)("div", { className: "flex gap-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-8 w-20" }),
      /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-8 w-24" }),
      /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-8 w-16" })
    ] })
  ] });
}
function PaginationSkeleton({ className }) {
  return /* @__PURE__ */ (0, import_jsx_runtime30.jsxs)("div", { className: cn2("flex items-center justify-between", className), children: [
    /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-4 w-32" }),
    /* @__PURE__ */ (0, import_jsx_runtime30.jsxs)("div", { className: "flex gap-1", children: [
      /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-8 w-8" }),
      /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-8 w-8" }),
      /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-8 w-8" }),
      /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-8 w-8" })
    ] })
  ] });
}
function SidebarSkeleton({ className }) {
  return /* @__PURE__ */ (0, import_jsx_runtime30.jsxs)("div", { className: cn2("w-64 space-y-4 p-4", className), children: [
    /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-8 w-32" }),
    /* @__PURE__ */ (0, import_jsx_runtime30.jsx)("div", { className: "space-y-2", children: Array.from({ length: 6 }).map((_, index) => /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-10 w-full" }, index)) })
  ] });
}
function HeaderSkeleton({ className }) {
  return /* @__PURE__ */ (0, import_jsx_runtime30.jsx)("header", { className: cn2("border-b bg-background", className), children: /* @__PURE__ */ (0, import_jsx_runtime30.jsxs)("div", { className: "flex h-16 items-center justify-between px-4", children: [
    /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-8 w-32" }),
    /* @__PURE__ */ (0, import_jsx_runtime30.jsxs)("div", { className: "flex items-center gap-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-8 w-8" }),
      /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-8 w-8" }),
      /* @__PURE__ */ (0, import_jsx_runtime30.jsx)(Skeleton, { className: "h-8 w-24" })
    ] })
  ] }) });
}

// src/components/ui/product-availability-async-display.tsx
var import_react10 = require("react");
var import_lucide_react9 = require("lucide-react");
var import_jsx_runtime31 = require("react/jsx-runtime");
var ProductAvailabilityAsyncDisplay = ({
  product,
  pickupDate,
  returnDate,
  requestedQuantity,
  getProductAvailabilityStatus
}) => {
  const [availability, setAvailability] = (0, import_react10.useState)(null);
  const [isLoading, setIsLoading] = (0, import_react10.useState)(false);
  const [error2, setError] = (0, import_react10.useState)(null);
  (0, import_react10.useEffect)(() => {
    if (!product || !pickupDate || !returnDate) {
      setAvailability(null);
      return;
    }
    const checkAvailability = async () => {
      setIsLoading(true);
      setError(null);
      try {
        const status = await getProductAvailabilityStatus(
          product,
          pickupDate,
          returnDate,
          requestedQuantity
        );
        setAvailability(status);
      } catch (err) {
        setError("Failed to check availability");
        console.error("Availability check error:", err);
      } finally {
        setIsLoading(false);
      }
    };
    const timeoutId = setTimeout(checkAvailability, 300);
    return () => clearTimeout(timeoutId);
  }, [product, pickupDate, returnDate, requestedQuantity, getProductAvailabilityStatus]);
  if (!product)
    return null;
  if (isLoading) {
    return /* @__PURE__ */ (0, import_jsx_runtime31.jsxs)("div", { className: "inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600", children: [
      /* @__PURE__ */ (0, import_jsx_runtime31.jsx)(import_lucide_react9.Loader2, { className: "w-3 h-3 animate-spin mr-1" }),
      "Checking..."
    ] });
  }
  if (error2) {
    return /* @__PURE__ */ (0, import_jsx_runtime31.jsx)("div", { className: "inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-600", children: "\u26A0\uFE0F Error checking availability" });
  }
  if (!availability) {
    return null;
  }
  return /* @__PURE__ */ (0, import_jsx_runtime31.jsxs)("div", { className: `inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${availability.color}`, children: [
    availability.text,
    availability.status === "date-conflict" && /* @__PURE__ */ (0, import_jsx_runtime31.jsx)("span", { className: "ml-1", children: "\u26A0\uFE0F" }),
    availability.status === "out-of-stock" && /* @__PURE__ */ (0, import_jsx_runtime31.jsx)("span", { className: "ml-1", children: "\u{1F6AB}" }),
    availability.status === "unavailable" && /* @__PURE__ */ (0, import_jsx_runtime31.jsx)("span", { className: "ml-1", children: "\u26A0\uFE0F" }),
    availability.status === "available" && /* @__PURE__ */ (0, import_jsx_runtime31.jsx)("span", { className: "ml-1", children: "\u2705" })
  ] });
};

// src/components/ui/product-availability-badge.tsx
var import_lucide_react10 = require("lucide-react");
var import_jsx_runtime32 = require("react/jsx-runtime");
var ProductAvailabilityBadge = ({
  availability,
  isLoading = false,
  size = "sm"
}) => {
  if (isLoading) {
    return /* @__PURE__ */ (0, import_jsx_runtime32.jsxs)("div", { className: "inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600 border border-gray-200", children: [
      /* @__PURE__ */ (0, import_jsx_runtime32.jsx)(import_lucide_react10.Loader2, { className: "w-3 h-3 animate-spin" }),
      /* @__PURE__ */ (0, import_jsx_runtime32.jsx)("span", { children: "Checking..." })
    ] });
  }
  if (!availability) {
    return null;
  }
  const { status, available, storage } = availability;
  const getStatusStyle = () => {
    switch (status) {
      case "available":
        return {
          bgColor: "bg-green-100",
          textColor: "text-green-800",
          borderColor: "border-green-200",
          icon: import_lucide_react10.CheckCircle,
          iconColor: "text-green-600"
        };
      case "unavailable":
        return {
          bgColor: "bg-red-100",
          textColor: "text-red-800",
          borderColor: "border-red-200",
          icon: import_lucide_react10.XCircle,
          iconColor: "text-red-600"
        };
      default:
        return {
          bgColor: "bg-gray-100",
          textColor: "text-gray-800",
          borderColor: "border-gray-200",
          icon: import_lucide_react10.Package,
          iconColor: "text-gray-600"
        };
    }
  };
  const getStatusText = () => {
    switch (status) {
      case "available":
        return "Available";
      case "unavailable":
        return "Unavailable";
      default:
        return "Unknown";
    }
  };
  const getTooltipText = () => {
    const { hasDateConflict, conflictingQuantity, remainingStock } = availability;
    switch (status) {
      case "available":
        return `Available for rent: ${remainingStock || available}/${storage}`;
      case "unavailable":
        if (hasDateConflict) {
          return `Date conflict: ${conflictingQuantity} items rented during this period`;
        } else {
          return `Currently unavailable: ${storage - (remainingStock || available)} items rented out`;
        }
      default:
        return "Stock information unavailable";
    }
  };
  const style = getStatusStyle();
  const IconComponent = style.icon;
  const sizeClasses2 = {
    sm: "px-2 py-1 text-xs",
    md: "px-3 py-1.5 text-sm",
    lg: "px-4 py-2 text-base"
  };
  const iconSizes = {
    sm: "w-3 h-3",
    md: "w-4 h-4",
    lg: "w-5 h-5"
  };
  return /* @__PURE__ */ (0, import_jsx_runtime32.jsxs)(
    "div",
    {
      className: `inline-flex items-center gap-1 rounded-full font-medium border transition-colors duration-200 ${sizeClasses2[size]} ${style.bgColor} ${style.textColor} ${style.borderColor}`,
      title: getTooltipText(),
      children: [
        /* @__PURE__ */ (0, import_jsx_runtime32.jsx)(IconComponent, { className: `${iconSizes[size]} ${style.iconColor}` }),
        /* @__PURE__ */ (0, import_jsx_runtime32.jsx)("span", { children: getStatusText() })
      ]
    }
  );
};

// src/components/ui/product-availability-warning.tsx
var import_lucide_react11 = require("lucide-react");
var import_jsx_runtime33 = require("react/jsx-runtime");
var ProductAvailabilityWarning = ({
  orderItems,
  availabilityData
}) => {
  if (!orderItems || orderItems.length === 0) {
    return null;
  }
  const problematicProducts = orderItems.filter((order) => {
    const availability = availabilityData[order.productId];
    if (!availability)
      return false;
    return availability.status === "unavailable";
  });
  if (problematicProducts.length === 0) {
    return null;
  }
  const getWarningType = () => {
    const hasUnavailable = problematicProducts.some(
      (p) => availabilityData[p.productId]?.status === "unavailable"
    );
    if (hasUnavailable)
      return "warning";
    return "info";
  };
  const getWarningIcon = () => {
    const type = getWarningType();
    switch (type) {
      case "warning":
        return /* @__PURE__ */ (0, import_jsx_runtime33.jsx)(import_lucide_react11.AlertTriangle, { className: "w-5 h-5 text-orange-600" });
      default:
        return /* @__PURE__ */ (0, import_jsx_runtime33.jsx)(import_lucide_react11.CheckCircle, { className: "w-5 h-5 text-blue-600" });
    }
  };
  const getWarningClass = () => {
    const type = getWarningType();
    switch (type) {
      case "warning":
        return "bg-orange-50 border-orange-200 text-orange-800";
      default:
        return "bg-blue-50 border-blue-200 text-blue-800";
    }
  };
  const getWarningTitle = () => {
    const type = getWarningType();
    switch (type) {
      case "warning":
        return "Some products may not be available";
      default:
        return "Stock information";
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime33.jsx)("div", { className: `p-4 rounded-lg border ${getWarningClass()} mb-4`, children: /* @__PURE__ */ (0, import_jsx_runtime33.jsxs)("div", { className: "flex items-start gap-3", children: [
    getWarningIcon(),
    /* @__PURE__ */ (0, import_jsx_runtime33.jsxs)("div", { className: "flex-1", children: [
      /* @__PURE__ */ (0, import_jsx_runtime33.jsx)("h4", { className: "font-medium mb-2", children: getWarningTitle() }),
      /* @__PURE__ */ (0, import_jsx_runtime33.jsx)("div", { className: "space-y-2", children: problematicProducts.map((product) => {
        const availability = availabilityData[product.productId];
        if (!availability)
          return null;
        const getProductStatusText = () => {
          const { hasDateConflict, conflictingQuantity } = availability;
          switch (availability.status) {
            case "unavailable":
              if (hasDateConflict) {
                return `Date conflict: ${conflictingQuantity} items`;
              } else {
                return "Currently unavailable";
              }
            default:
              return "Unknown status";
          }
        };
        return /* @__PURE__ */ (0, import_jsx_runtime33.jsxs)("div", { className: "text-sm", children: [
          /* @__PURE__ */ (0, import_jsx_runtime33.jsx)("span", { className: "font-medium", children: product.productName }),
          /* @__PURE__ */ (0, import_jsx_runtime33.jsx)("span", { className: "mx-2", children: "-" }),
          /* @__PURE__ */ (0, import_jsx_runtime33.jsx)("span", { children: getProductStatusText() }),
          /* @__PURE__ */ (0, import_jsx_runtime33.jsxs)("span", { className: "text-xs opacity-75 ml-2", children: [
            "(Requested: ",
            product.quantity,
            ")"
          ] })
        ] }, product.productId);
      }) })
    ] })
  ] }) });
};

// src/components/ui/searchable-select.tsx
var React22 = __toESM(require("react"));
var import_lucide_react12 = require("lucide-react");
var import_jsx_runtime34 = require("react/jsx-runtime");
var SearchableSelect = ({
  value,
  onChange,
  options,
  placeholder = "Ch\u1ECDn...",
  searchPlaceholder = "T\xECm ki\u1EBFm...",
  className,
  onSearch,
  emptyText = "Kh\xF4ng c\xF3 d\u1EEF li\u1EC7u",
  displayMode = "input",
  showAddNew = false,
  addNewText = "Add New",
  onAddNew
}) => {
  const [open, setOpen] = React22.useState(false);
  const [query, setQuery] = React22.useState("");
  const [internalOptions, setInternalOptions] = React22.useState(options || []);
  const rootRef = React22.useRef(null);
  const onSearchRef = React22.useRef(onSearch);
  const debounceTimeoutRef = React22.useRef(null);
  React22.useEffect(() => {
    onSearchRef.current = onSearch;
  }, [onSearch]);
  React22.useEffect(() => {
    if (onSearch) {
      setInternalOptions([]);
    } else {
      setInternalOptions(options || []);
    }
  }, [onSearch, options]);
  React22.useEffect(() => {
    let active = true;
    const DEBOUNCE_DELAY = 300;
    if (debounceTimeoutRef.current) {
      clearTimeout(debounceTimeoutRef.current);
    }
    const runSearch = async () => {
      const currentOnSearch = onSearchRef.current;
      if (currentOnSearch && query.trim()) {
        console.log("\u{1F50D} SearchableSelect: Making API call for query:", query);
        const res = await currentOnSearch(query);
        if (active && Array.isArray(res)) {
          console.log("\u{1F50D} SearchableSelect: Received results:", res.length);
          setInternalOptions(res);
        }
      } else if (currentOnSearch && !query.trim() && !value) {
        console.log("\u{1F50D} SearchableSelect: Clearing results for empty query (no selection)");
        setInternalOptions([]);
      }
    };
    if (query.trim()) {
      debounceTimeoutRef.current = setTimeout(() => {
        runSearch();
      }, DEBOUNCE_DELAY);
    } else if (!query.trim() && !value) {
      setInternalOptions([]);
    }
    return () => {
      active = false;
      if (debounceTimeoutRef.current) {
        clearTimeout(debounceTimeoutRef.current);
      }
    };
  }, [query, value]);
  const filtered = React22.useMemo(() => {
    console.log("\u{1F50D} SearchableSelect: Filtering with query:", query, "onSearch:", !!onSearch, "options count:", options?.length || 0);
    if (onSearch) {
      if (query.trim()) {
        console.log("\u{1F50D} SearchableSelect: Search mode - returning internalOptions:", internalOptions.length);
        return internalOptions;
      } else {
        console.log("\u{1F50D} SearchableSelect: Search mode - returning empty array");
        return [];
      }
    }
    const q = query.trim().toLowerCase();
    if (!q) {
      console.log("\u{1F50D} SearchableSelect: No query - returning all options:", (options || []).length);
      return options || [];
    }
    const filtered2 = options?.filter((o) => o.label.toLowerCase().includes(q));
    console.log("\u{1F50D} SearchableSelect: Filtered results:", filtered2?.length || 0, "for query:", q);
    return filtered2 || [];
  }, [query, internalOptions, onSearch, options]);
  const selected = internalOptions.find((o) => o.value === String(value));
  const displayValue = selected?.label || query;
  React22.useEffect(() => {
    const handler = (e) => {
      const el = rootRef.current;
      if (!el)
        return;
      if (open && !el.contains(e.target)) {
        setOpen(false);
      }
    };
    document.addEventListener("mousedown", handler);
    document.addEventListener("touchstart", handler);
    return () => {
      document.removeEventListener("mousedown", handler);
      document.removeEventListener("touchstart", handler);
    };
  }, [open]);
  const handleSelect = (option) => {
    onChange?.(parseInt(option.value));
    setOpen(false);
    if (onSearch) {
      setInternalOptions([option]);
    }
    setTimeout(() => {
      setQuery("");
    }, 100);
  };
  return /* @__PURE__ */ (0, import_jsx_runtime34.jsxs)("div", { className: cn2("relative", className), ref: rootRef, children: [
    displayMode === "input" ? /* @__PURE__ */ (0, import_jsx_runtime34.jsxs)(import_jsx_runtime34.Fragment, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime34.jsx)(
        "input",
        {
          value: displayValue,
          onFocus: () => {
            setOpen(true);
          },
          onChange: (e) => {
            setQuery(e.target.value);
            setOpen(true);
          },
          onBlur: () => {
            setTimeout(() => {
              setOpen(false);
            }, 300);
          },
          placeholder: selected ? selected.label : placeholder,
          className: cn2(
            "h-11 w-full rounded-lg border border-gray-300 bg-white pl-4 pr-12 text-sm transition-all duration-200",
            "focus:bg-white focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-100 focus:ring-offset-0",
            "hover:border-gray-400"
          )
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("span", { className: "pointer-events-none absolute right-10 top-1/2 -translate-y-1/2 h-6 w-px bg-gray-300" }),
      /* @__PURE__ */ (0, import_jsx_runtime34.jsx)(
        Button,
        {
          variant: "ghost",
          size: "icon",
          type: "button",
          "aria-label": "Toggle options",
          className: "absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors duration-150 h-6 w-6 p-0",
          onMouseDown: (e) => {
            e.preventDefault();
            setOpen((o) => !o);
          },
          children: /* @__PURE__ */ (0, import_jsx_runtime34.jsx)(import_lucide_react12.ChevronDown, { className: "h-5 w-5" })
        }
      ),
      query && /* @__PURE__ */ (0, import_jsx_runtime34.jsx)(
        Button,
        {
          variant: "ghost",
          size: "icon",
          type: "button",
          onClick: () => {
            setQuery("");
            if (onSearch) {
              setInternalOptions([]);
            } else {
              setInternalOptions(options || []);
            }
            setOpen(false);
          },
          className: "absolute right-12 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors duration-150 h-6 w-6 p-0",
          children: "\u2715"
        }
      )
    ] }) : /* @__PURE__ */ (0, import_jsx_runtime34.jsxs)(
      Button,
      {
        variant: "outline",
        type: "button",
        onClick: () => setOpen((v) => !v),
        className: cn2(
          "h-11 w-full rounded-lg border border-gray-300 bg-white px-4 text-left text-sm flex items-center justify-between transition-all duration-200",
          "hover:bg-gray-50 hover:border-gray-400 focus:bg-white focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-100 focus:ring-offset-0"
        ),
        children: [
          /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("span", { className: cn2(!selected && "text-gray-400"), children: selected ? selected.label : placeholder }),
          /* @__PURE__ */ (0, import_jsx_runtime34.jsx)(import_lucide_react12.ChevronDown, { className: "h-5 w-5 text-gray-500" })
        ]
      }
    ),
    open && /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("div", { className: "absolute z-[9999] mt-1 w-full rounded-lg border border-gray-200 bg-white shadow-lg ring-1 ring-black ring-opacity-5", children: /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("div", { className: "max-h-64 overflow-auto py-2", children: filtered.length === 0 ? /* @__PURE__ */ (0, import_jsx_runtime34.jsxs)("div", { className: "px-4 py-6 text-center text-sm text-gray-500", children: [
      /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("div", { className: "w-8 h-8 mx-auto mb-2 text-gray-300", children: /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("svg", { className: "w-8 h-8", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" }) }) }),
      /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("div", { children: emptyText })
    ] }) : /* @__PURE__ */ (0, import_jsx_runtime34.jsxs)(import_jsx_runtime34.Fragment, { children: [
      showAddNew && onAddNew && /* @__PURE__ */ (0, import_jsx_runtime34.jsxs)(
        Button,
        {
          variant: "ghost",
          type: "button",
          onClick: () => {
            onAddNew();
            setOpen(false);
          },
          className: "flex w-full items-center gap-3 px-4 py-3 text-left text-sm hover:bg-green-50 hover:text-green-700 transition-all duration-150 ease-in-out border-b border-gray-100 h-auto justify-start rounded-none",
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("div", { className: "flex-shrink-0 w-5 h-5 text-green-500", children: /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("svg", { className: "w-5 h-5", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M12 6v6m0 0v6m0-6h6m-6 0H6" }) }) }),
            /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("div", { className: "flex-1 min-w-0", children: /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("div", { className: "font-medium text-green-700", children: addNewText }) })
          ]
        }
      ),
      filtered.map((opt) => {
        return /* @__PURE__ */ (0, import_jsx_runtime34.jsxs)(
          Button,
          {
            variant: "ghost",
            type: "button",
            onClick: () => {
              handleSelect(opt);
            },
            className: cn2(
              "flex w-full items-center gap-3 px-4 py-3 text-left text-sm hover:bg-gray-50 hover:text-gray-900 transition-all duration-150 ease-in-out h-auto justify-start rounded-none",
              value === parseInt(opt.value) && "bg-blue-50 text-blue-700 hover:bg-blue-100"
            ),
            children: [
              opt.type === "product" && opt.image ? (
                // Product with image
                /* @__PURE__ */ (0, import_jsx_runtime34.jsxs)("div", { className: "flex-shrink-0 w-12 h-12 rounded-lg overflow-hidden border border-gray-200", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime34.jsx)(
                    "img",
                    {
                      src: opt.image,
                      alt: opt.label,
                      className: "w-full h-full object-cover",
                      onError: (e) => {
                        e.currentTarget.style.display = "none";
                        e.currentTarget.nextElementSibling?.classList.remove("hidden");
                      }
                    }
                  ),
                  /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("div", { className: "hidden w-full h-full bg-gray-100 flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("svg", { className: "w-6 h-6 text-gray-400", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" }) }) })
                ] })
              ) : opt.type === "product" ? (
                // Product without image - use package icon
                /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("div", { className: "flex-shrink-0 w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("svg", { className: "w-6 h-6 text-gray-400", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" }) }) })
              ) : (
                // Customer or default - use user icon
                /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("div", { className: "flex-shrink-0 w-5 h-5 text-gray-400", children: /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("svg", { className: "w-5 h-5", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" }) }) })
              ),
              /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("div", { className: "flex-1 min-w-0", children: opt.type === "product" ? (
                // Product layout with rich information
                /* @__PURE__ */ (0, import_jsx_runtime34.jsxs)("div", { className: "space-y-1", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("div", { className: "font-medium text-gray-900 truncate", children: opt.label }),
                  opt.subtitle && /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("div", { className: "text-sm text-gray-600 truncate", children: opt.subtitle }),
                  opt.details && opt.details.length > 0 && /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("div", { className: "flex flex-wrap gap-2", children: opt.details.map((detail, index) => /* @__PURE__ */ (0, import_jsx_runtime34.jsx)(
                    "span",
                    {
                      className: "inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",
                      children: detail
                    },
                    index
                  )) })
                ] })
              ) : (
                // Customer or default layout
                /* @__PURE__ */ (0, import_jsx_runtime34.jsxs)("div", { className: "space-y-1", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("div", { className: "font-medium text-gray-900 truncate", children: opt.label }),
                  opt.description && /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("div", { className: "text-sm text-gray-600 whitespace-pre-line", children: opt.description })
                ] })
              ) }),
              value === parseInt(opt.value) && /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("div", { className: "flex-shrink-0 w-5 h-5 text-blue-600", children: /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("svg", { className: "w-5 h-5", fill: "currentColor", viewBox: "0 0 20 20", children: /* @__PURE__ */ (0, import_jsx_runtime34.jsx)("path", { fillRule: "evenodd", d: "M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z", clipRule: "evenodd" }) }) })
            ]
          },
          opt.value
        );
      })
    ] }) }) })
  ] });
};

// src/components/ui/toast.tsx
var import_react11 = require("react");
var import_lucide_react13 = require("lucide-react");
var import_jsx_runtime35 = require("react/jsx-runtime");
var toastIcons = {
  success: import_lucide_react13.CheckCircle,
  error: import_lucide_react13.AlertCircle,
  warning: import_lucide_react13.AlertTriangle,
  info: import_lucide_react13.Info
};
var toastStyles = {
  success: "bg-green-50 border-green-200 text-green-800",
  error: "bg-red-50 border-red-200 text-red-800",
  warning: "bg-yellow-50 border-yellow-200 text-yellow-800",
  info: "bg-blue-50 border-blue-200 text-blue-800"
};
var iconStyles = {
  success: "text-green-400",
  error: "text-red-400",
  warning: "text-yellow-400",
  info: "text-blue-400"
};
var Toast = ({
  id,
  type,
  title,
  message,
  duration = 5e3,
  onClose
}) => {
  const [isVisible, setIsVisible] = (0, import_react11.useState)(true);
  (0, import_react11.useEffect)(() => {
    if (duration > 0) {
      const timer = setTimeout(() => {
        setIsVisible(false);
        setTimeout(() => onClose(id), 300);
      }, duration);
      return () => clearTimeout(timer);
    }
  }, [duration, id, onClose]);
  const Icon2 = toastIcons[type];
  return /* @__PURE__ */ (0, import_jsx_runtime35.jsx)(
    "div",
    {
      className: cn(
        "w-full transition-all duration-300 ease-in-out",
        isVisible ? "opacity-100 scale-100" : "opacity-0 scale-95"
      ),
      children: /* @__PURE__ */ (0, import_jsx_runtime35.jsxs)(
        "div",
        {
          className: cn(
            "border rounded-lg shadow-lg p-4 flex items-start space-x-3",
            toastStyles[type]
          ),
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime35.jsx)(Icon2, { className: cn("w-5 h-5 mt-0.5 flex-shrink-0", iconStyles[type]) }),
            /* @__PURE__ */ (0, import_jsx_runtime35.jsxs)("div", { className: "flex-1 min-w-0", children: [
              /* @__PURE__ */ (0, import_jsx_runtime35.jsx)("h4", { className: "text-sm font-medium", children: title }),
              message && /* @__PURE__ */ (0, import_jsx_runtime35.jsx)("p", { className: "text-sm mt-1 opacity-90", children: message })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime35.jsx)(
              Button,
              {
                variant: "ghost",
                size: "icon",
                onClick: () => {
                  setIsVisible(false);
                  setTimeout(() => onClose(id), 300);
                },
                className: "ml-2 flex-shrink-0 opacity-70 hover:opacity-100 transition-opacity h-6 w-6 p-0",
                children: /* @__PURE__ */ (0, import_jsx_runtime35.jsx)(import_lucide_react13.X, { className: "w-4 h-4" })
              }
            )
          ]
        }
      )
    }
  );
};
var ToastContainer = ({ toasts, onClose }) => {
  console.log("\u{1F3AF} ToastContainer render:", { toastsCount: toasts?.length || 0, toasts });
  return /* @__PURE__ */ (0, import_jsx_runtime35.jsx)("div", { className: "fixed top-4 right-4 z-[9999] flex flex-col gap-3 max-w-sm", children: toasts?.map((toast, index) => /* @__PURE__ */ (0, import_jsx_runtime35.jsx)(
    "div",
    {
      className: "animate-slide-in-from-right",
      style: {
        animationDelay: `${index * 100}ms`,
        transform: `translateY(${index * 8}px)`
      },
      children: /* @__PURE__ */ (0, import_jsx_runtime35.jsx)(Toast, { ...toast, onClose })
    },
    toast.id
  )) });
};
var ToastContext = (0, import_react11.createContext)(void 0);
var ToastProvider = ({ children }) => {
  const [toasts, setToasts] = (0, import_react11.useState)([]);
  const addToast = (type, title, message, duration) => {
    const id = Math.random().toString(36).substr(2, 9);
    const newToast = {
      id,
      type,
      title,
      message,
      duration,
      onClose: removeToast
    };
    setToasts((prev) => [...prev, newToast]);
    return id;
  };
  const removeToast = (id) => {
    setToasts((prev) => prev.filter((toast) => toast.id !== id));
  };
  return /* @__PURE__ */ (0, import_jsx_runtime35.jsxs)(ToastContext.Provider, { value: { toasts, addToast, removeToast }, children: [
    children,
    /* @__PURE__ */ (0, import_jsx_runtime35.jsx)(ToastContainer, { toasts, onClose: removeToast })
  ] });
};
var useToasts = () => {
  const context = (0, import_react11.useContext)(ToastContext);
  if (context === void 0) {
    throw new Error("useToasts must be used within a ToastProvider");
  }
  return context;
};
var useToast2 = () => {
  const { addToast, removeToast } = useToasts();
  const toastSuccess = (title, message) => addToast("success", title, message);
  const toastError = (title, message) => addToast("error", title, message, 0);
  const toastWarning = (title, message) => addToast("warning", title, message);
  const toastInfo = (title, message) => addToast("info", title, message);
  return {
    // Primary API - use these to avoid naming conflicts
    toastSuccess,
    toastError,
    toastWarning,
    toastInfo,
    removeToast,
    // Deprecated: kept for backward compatibility, will be removed in future
    success: toastSuccess,
    error: toastError,
    warning: toastWarning,
    info: toastInfo
  };
};

// src/components/forms/ProductForm.tsx
var import_react12 = require("react");
var import_utils10 = require("@rentalshop/utils");
var import_lucide_react14 = require("lucide-react");
var import_jsx_runtime36 = require("react/jsx-runtime");
var ProductForm = ({
  initialData = {},
  categories = [],
  outlets = [],
  onSubmit,
  onCancel,
  loading = false,
  title = "Product Information",
  submitText = "Save Product",
  mode = "create",
  merchantId = "",
  hideHeader = false,
  hideSubmitButton = false,
  formId
}) => {
  const [formData, setFormData] = (0, import_react12.useState)({
    name: "",
    description: "",
    barcode: "",
    categoryId: 0,
    rentPrice: 0,
    salePrice: 0,
    deposit: 0,
    totalStock: 0,
    images: [],
    outletStock: [],
    sku: "",
    ...initialData
  });
  const [errors, setValidationErrors] = (0, import_react12.useState)({});
  const [isSubmitting, setIsSubmitting] = (0, import_react12.useState)(false);
  const [dragActive, setDragActive] = (0, import_react12.useState)(false);
  const [autoSaveStatus, setAutoSaveStatus] = (0, import_react12.useState)("idle");
  const [uploadProgress, setUploadProgress] = (0, import_react12.useState)({});
  const [uploadErrors, setUploadErrors] = (0, import_react12.useState)({});
  const fileInputRef = (0, import_react12.useRef)(null);
  (0, import_react12.useEffect)(() => {
    console.log("\u{1F50D} ProductForm - initialData changed:", initialData);
    console.log("\u{1F50D} ProductForm - initialData.categoryId:", initialData.categoryId);
    console.log("\u{1F50D} ProductForm - initialData.categoryId type:", typeof initialData.categoryId);
    console.log("\u{1F50D} ProductForm - mode:", mode);
    console.log("\u{1F50D} ProductForm - outlets:", outlets);
    console.log("\u{1F50D} ProductForm - initialData.outletStock:", initialData.outletStock);
    console.log("\u{1F50D} ProductForm - formData.outletStock:", formData.outletStock);
    console.log("\u{1F50D} ProductForm - outlets.length:", outlets.length);
    console.log("\u{1F50D} ProductForm - formData.outletStock.length:", formData.outletStock.length);
    if (mode === "edit") {
      console.log("\u{1F50D} ProductForm - EDIT MODE: Checking outlet stock coverage");
      const outletIds = outlets.map((o) => o.id);
      const stockOutletIds = formData.outletStock.map((os) => os.outletId);
      console.log("\u{1F50D} ProductForm - All outlet IDs:", outletIds);
      console.log("\u{1F50D} ProductForm - Stock outlet IDs:", stockOutletIds);
      const missingOutlets = outletIds.filter((id) => !stockOutletIds.includes(id));
      if (missingOutlets.length > 0) {
        console.warn("\u{1F50D} ProductForm - WARNING: Missing outlet stock for outlets:", missingOutlets);
      }
    }
  }, [initialData, mode, outlets, formData.outletStock]);
  (0, import_react12.useEffect)(() => {
    if (initialData && Object.keys(initialData).length > 0) {
      console.log("\u{1F50D} ProductForm - Re-initializing form with new initialData:", initialData);
      setFormData({
        name: "",
        description: "",
        barcode: "",
        categoryId: 0,
        rentPrice: 0,
        salePrice: 0,
        deposit: 0,
        totalStock: 0,
        images: [],
        outletStock: [],
        sku: "",
        ...initialData
      });
    }
  }, [initialData]);
  (0, import_react12.useEffect)(() => {
    let updatedFormData = { ...formData };
    if (mode === "create" && formData.outletStock.length === 0 && outlets.length > 0) {
      updatedFormData.outletStock = outlets.map((outlet) => ({
        outletId: outlet.id,
        stock: 0
      }));
    }
    if (!formData.categoryId && categories.length > 0) {
      updatedFormData.categoryId = categories[0].id;
    }
    if (mode === "create" && !formData.barcode) {
      updatedFormData.barcode = generateBarcode();
    }
    if (JSON.stringify(updatedFormData) !== JSON.stringify(formData)) {
      setFormData(updatedFormData);
    }
  }, [outlets, categories, formData.outletStock.length, formData.categoryId, formData.barcode, mode]);
  const generateBarcode = () => {
    const timestamp = Date.now().toString().slice(-8);
    const random = Math.floor(Math.random() * 1e3).toString().padStart(3, "0");
    return `${timestamp}${random}`;
  };
  (0, import_react12.useEffect)(() => {
    if (mode === "edit" && formData.name && formData.categoryId) {
      const timeoutId = setTimeout(() => {
        handleAutoSave();
      }, 2e3);
      return () => clearTimeout(timeoutId);
    }
  }, [formData.name, formData.description, formData.categoryId, mode]);
  const handleAutoSave = (0, import_react12.useCallback)(async () => {
    setAutoSaveStatus("saving");
    try {
      await new Promise((resolve) => setTimeout(resolve, 1e3));
      setAutoSaveStatus("saved");
      setTimeout(() => setAutoSaveStatus("idle"), 3e3);
    } catch (error2) {
      setAutoSaveStatus("error");
      setTimeout(() => setAutoSaveStatus("idle"), 3e3);
    }
  }, [formData]);
  const validateForm = () => {
    const newErrors = {};
    if (!formData.name.trim()) {
      newErrors.name = "Product name is required";
    }
    if (!formData.categoryId) {
      newErrors.categoryId = "Category is required";
    }
    if (formData.rentPrice <= 0) {
      newErrors.rentPrice = "Rent price is required and must be greater than 0";
    }
    if (formData.salePrice <= 0) {
      newErrors.salePrice = "Sale price is required and must be greater than 0";
    }
    if (formData.deposit < 0) {
      newErrors.deposit = "Deposit is required and cannot be negative";
    }
    if (formData.totalStock <= 0) {
      newErrors.totalStock = "Total stock is required and must be greater than 0";
    }
    if (outlets.length === 0) {
      newErrors.outletStock = "No outlets available. Please contact your administrator to set up outlets.";
      return false;
    }
    if (formData.outletStock.length === 0) {
      newErrors.outletStock = "Outlet stock is required. Please specify stock levels for at least one outlet.";
      return false;
    }
    if (formData.outletStock.length > 0) {
      const invalidOutletStock = formData.outletStock.find((item) => item.stock < 0);
      if (invalidOutletStock) {
        newErrors.outletStock = "Outlet stock values cannot be negative";
      }
    }
    return Object.keys(newErrors).length === 0;
  };
  const handleSubmit = async (e) => {
    e.preventDefault();
    console.log("\u{1F50D} ProductForm: Form submitted with data:", formData);
    console.log("\u{1F50D} ProductForm - categoryId type:", typeof formData.categoryId);
    console.log("\u{1F50D} ProductForm - categoryId value:", formData.categoryId);
    if (!validateForm()) {
      console.log("\u274C ProductForm: Validation failed");
      const newErrors = {};
      if (!formData.name.trim()) {
        newErrors.name = "Product name is required";
      }
      if (!formData.categoryId) {
        newErrors.categoryId = "Category is required";
      }
      if (formData.rentPrice <= 0) {
        newErrors.rentPrice = "Rent price is required and must be greater than 0";
      }
      if (formData.salePrice <= 0) {
        newErrors.salePrice = "Sale price is required and must be greater than 0";
      }
      if (formData.deposit < 0) {
        newErrors.deposit = "Deposit is required and cannot be negative";
      }
      if (formData.totalStock <= 0) {
        newErrors.totalStock = "Total stock is required and must be greater than 0";
      }
      if (formData.outletStock.length === 0) {
        newErrors.outletStock = "Outlet stock is required. Please specify stock levels for at least one outlet.";
        setValidationErrors(newErrors);
        return;
      }
      if (formData.outletStock.length > 0) {
        const invalidOutletStock = formData.outletStock.find((item) => item.stock < 0);
        if (invalidOutletStock) {
          newErrors.outletStock = "Outlet stock values cannot be negative";
        }
      }
      setValidationErrors(newErrors);
      return;
    }
    const productData = {
      merchantId: typeof merchantId === "string" ? parseInt(merchantId) || 0 : merchantId || 0,
      categoryId: formData.categoryId,
      name: formData.name,
      description: formData.description,
      barcode: formData.barcode,
      totalStock: formData.totalStock,
      rentPrice: formData.rentPrice,
      salePrice: formData.salePrice > 0 ? formData.salePrice : void 0,
      deposit: formData.deposit,
      images: formData.images,
      // Keep as array for ProductInput
      outletStock: formData.outletStock
    };
    onSubmit(productData);
  };
  const handleInputChange = (field, value) => {
    let processedValue = value;
    if (field === "categoryId") {
      processedValue = parseInt(value) || 0;
    } else if (field === "rentPrice" || field === "salePrice" || field === "deposit") {
      processedValue = parseFloat(value) || 0;
    } else if (field === "totalStock") {
      processedValue = parseInt(value) || 0;
    }
    setFormData((prev) => ({
      ...prev,
      [field]: processedValue
    }));
    if (errors[field]) {
      setValidationErrors((prev) => ({
        ...prev,
        [field]: void 0
      }));
    }
  };
  const updateOutletStock = (outletId, field, value) => {
    setFormData((prev) => ({
      ...prev,
      outletStock: prev.outletStock.map(
        (item) => item.outletId === outletId ? { ...item, [field]: value } : item
      )
    }));
  };
  const handleImageUpload = async (files) => {
    if (!files)
      return;
    if (formData.images.length >= 3) {
      console.warn("Maximum 3 images allowed");
      return;
    }
    const filesArray = Array.from(files);
    const filesToUpload = filesArray.slice(0, 3 - formData.images.length);
    const token = (0, import_utils10.getAuthToken)();
    if (!token) {
      console.error("No authentication token found");
      setUploadErrors((prev) => ({
        ...prev,
        general: "Authentication required. Please log in again."
      }));
      return;
    }
    for (const file of filesToUpload) {
      const fileId = `${file.name}-${Date.now()}`;
      setUploadErrors((prev) => {
        const newErrors = { ...prev };
        delete newErrors[fileId];
        return newErrors;
      });
      setFormData((prev) => ({
        ...prev,
        images: [...prev.images, `uploading-${fileId}`]
      }));
      try {
        const uploadResult = await (0, import_utils10.uploadImage)(file, token, {
          folder: "rentalshop/products",
          maxFileSize: 5 * 1024 * 1024,
          // 5MB
          allowedTypes: ["image/jpeg", "image/jpg", "image/png", "image/webp", "image/gif"],
          useBase64Fallback: true,
          // Enable fallback for development
          maxWidth: 1200,
          // Client-side resize before upload
          maxHeight: 900,
          quality: 0.85,
          onProgress: (progress) => {
            setUploadProgress((prev) => ({
              ...prev,
              [fileId]: progress
            }));
          }
        });
        if (uploadResult.success && uploadResult.data) {
          setFormData((prev) => ({
            ...prev,
            images: prev.images.map(
              (img) => img === `uploading-${fileId}` ? uploadResult.data.url : img
            )
          }));
          if (uploadResult.data.uploadMethod === "base64") {
            console.warn("\u26A0\uFE0F Image uploaded using base64 fallback. Configure Cloudinary for production.");
          } else if (uploadResult.data.uploadMethod === "local") {
            console.warn("\u26A0\uFE0F Image uploaded to local storage. Configure Cloudinary for production.");
          } else {
            console.log("\u2705 Image uploaded successfully to Cloudinary");
          }
          setUploadProgress((prev) => {
            const newProgress = { ...prev };
            delete newProgress[fileId];
            return newProgress;
          });
        } else {
          console.error("Upload failed:", uploadResult.error);
          setUploadErrors((prev) => ({
            ...prev,
            [fileId]: uploadResult.error || "Upload failed"
          }));
          setFormData((prev) => ({
            ...prev,
            images: prev.images.filter((img) => img !== `uploading-${fileId}`)
          }));
        }
      } catch (error2) {
        console.error("Upload error:", error2);
        setUploadErrors((prev) => ({
          ...prev,
          [fileId]: error2 instanceof Error ? error2.message : "Upload failed"
        }));
        setFormData((prev) => ({
          ...prev,
          images: prev.images.filter((img) => img !== `uploading-${fileId}`)
        }));
      }
    }
  };
  const removeImage = (index) => {
    setFormData((prev) => ({
      ...prev,
      images: prev.images.filter((_, i) => i !== index)
    }));
  };
  const handleDrag = (0, import_react12.useCallback)((e) => {
    e.preventDefault();
    e.stopPropagation();
    if (e.type === "dragenter" || e.type === "dragover") {
      setDragActive(true);
    } else if (e.type === "dragleave") {
      setDragActive(false);
    }
  }, []);
  const handleDrop = (0, import_react12.useCallback)((e) => {
    e.preventDefault();
    e.stopPropagation();
    setDragActive(false);
    if (e.dataTransfer.files && e.dataTransfer.files[0] && formData.images.length < 3) {
      handleImageUpload(e.dataTransfer.files);
    }
  }, [formData.images.length]);
  const getProductStatus = () => {
    if (formData.totalStock === 0)
      return { status: "Out of Stock", variant: "destructive" };
    return { status: "In Stock", variant: "default" };
  };
  const { status, variant } = getProductStatus();
  return /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("div", { className: "space-y-6", children: [
    !hideHeader && /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("h1", { className: "text-3xl font-bold text-text-primary mb-2", children: title }),
        mode === "edit" && /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("div", { className: "flex items-center gap-2 mt-2", children: [
          autoSaveStatus === "saving" && /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("div", { className: "flex items-center gap-2 text-sm text-text-secondary", children: [
            /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("div", { className: "animate-spin rounded-full h-3 w-3 border-b-2 border-text-secondary" }),
            "Auto-saving..."
          ] }),
          autoSaveStatus === "saved" && /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("div", { className: "flex items-center gap-2 text-sm text-green-600", children: [
            /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(import_lucide_react14.CheckCircle, { className: "w-4 h-4" }),
            "Auto-saved"
          ] }),
          autoSaveStatus === "error" && /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("div", { className: "flex items-center gap-2 text-sm text-red-600", children: [
            /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(import_lucide_react14.XCircle, { className: "w-4 h-4" }),
            "Auto-save failed"
          ] })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("div", { className: "flex items-center gap-3", children: /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(Badge, { variant, className: "text-sm", children: status }) })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("form", { id: formId, onSubmit: handleSubmit, className: "space-y-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)(Card2, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)(CardTitle2, { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(import_lucide_react14.Package, { className: "w-5 h-5" }),
          "Product Information"
        ] }) }),
        /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)(CardContent2, { className: "space-y-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
            /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("div", { className: "space-y-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("label", { className: "text-sm font-medium text-text-primary", children: "Product Name *" }),
              /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(
                Input2,
                {
                  value: formData.name,
                  onChange: (e) => handleInputChange("name", e.target.value),
                  placeholder: "Enter product name",
                  className: errors.name ? "border-red-500" : ""
                }
              ),
              errors.name && /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("p", { className: "text-sm text-red-500", children: errors.name })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("div", { className: "space-y-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("label", { className: "text-sm font-medium text-text-primary", children: "SKU" }),
              /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(
                Input2,
                {
                  value: formData.sku,
                  onChange: (e) => handleInputChange("sku", e.target.value),
                  placeholder: "Enter SKU (optional)"
                }
              )
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
            /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("div", { className: "space-y-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("label", { className: "text-sm font-medium text-text-primary", children: "Barcode" }),
              /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("div", { className: "flex gap-2", children: [
                /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(
                  Input2,
                  {
                    value: formData.barcode,
                    onChange: (e) => handleInputChange("barcode", e.target.value),
                    placeholder: "Enter barcode (optional)",
                    className: "flex-1"
                  }
                ),
                /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(
                  Button,
                  {
                    type: "button",
                    variant: "outline",
                    size: "sm",
                    onClick: () => handleInputChange("barcode", generateBarcode()),
                    title: "Generate new barcode",
                    children: /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(import_lucide_react14.RefreshCw, { className: "w-4 h-4" })
                  }
                )
              ] })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("div", { className: "space-y-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("label", { className: "text-sm font-medium text-text-primary", children: "Category *" }),
              /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)(
                Select2,
                {
                  value: formData.categoryId.toString(),
                  onValueChange: (value) => {
                    handleInputChange("categoryId", value);
                  },
                  children: [
                    /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(SelectTrigger2, { className: errors.categoryId ? "border-red-500" : "", children: /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(SelectValue2, { placeholder: "Select a category" }) }),
                    /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(SelectContent2, { children: categories.map((category) => /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(SelectItem2, { value: category.id.toString(), children: category.name }, category.id)) })
                  ]
                }
              ),
              errors.categoryId && /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("p", { className: "text-sm text-red-500", children: errors.categoryId })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("label", { className: "text-sm font-medium text-text-primary", children: "Description" }),
            /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(
              Textarea,
              {
                value: formData.description,
                onChange: (e) => handleInputChange("description", e.target.value),
                placeholder: "Enter product description (optional)",
                rows: 3
              }
            )
          ] })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)(Card2, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)(CardTitle2, { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(import_lucide_react14.DollarSign, { className: "w-5 h-5" }),
          "Pricing & Stock"
        ] }) }),
        /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)(CardContent2, { className: "space-y-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-4", children: [
            /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("div", { className: "space-y-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(
                NumericInput,
                {
                  label: "Rent Price",
                  value: formData.rentPrice,
                  onChange: (value) => handleInputChange("rentPrice", value),
                  placeholder: "0.00",
                  error: !!errors.rentPrice,
                  required: true,
                  allowDecimals: true,
                  maxDecimalPlaces: 2
                }
              ),
              errors.rentPrice && /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("p", { className: "text-sm text-red-500", children: errors.rentPrice })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("div", { className: "space-y-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(
                NumericInput,
                {
                  label: "Sale Price",
                  value: formData.salePrice,
                  onChange: (value) => handleInputChange("salePrice", value),
                  placeholder: "0.00",
                  error: !!errors.salePrice,
                  required: true,
                  allowDecimals: true,
                  maxDecimalPlaces: 2
                }
              ),
              errors.salePrice && /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("p", { className: "text-sm text-red-500", children: errors.salePrice })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("div", { className: "space-y-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(
                NumericInput,
                {
                  label: "Deposit",
                  value: formData.deposit,
                  onChange: (value) => handleInputChange("deposit", value),
                  placeholder: "0.00",
                  error: !!errors.deposit,
                  required: true,
                  allowDecimals: true,
                  maxDecimalPlaces: 2
                }
              ),
              errors.deposit && /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("p", { className: "text-sm text-red-500", children: errors.deposit })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(
              NumericInput,
              {
                label: "Total Stock",
                value: formData.totalStock,
                onChange: (value) => handleInputChange("totalStock", value),
                placeholder: "0",
                error: !!errors.totalStock,
                required: true,
                allowDecimals: false,
                min: 0
              }
            ),
            errors.totalStock && /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("p", { className: "text-sm text-red-500", children: errors.totalStock })
          ] }) })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)(Card2, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)(CardTitle2, { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(import_lucide_react14.Warehouse, { className: "w-5 h-5" }),
          "Outlet Stock Distribution *"
        ] }) }),
        /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)(CardContent2, { children: [
          /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("div", { className: "mb-4", children: /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("p", { className: "text-sm text-muted-foreground", children: [
            "Total outlets: ",
            outlets.length,
            " | Outlet stock entries: ",
            formData.outletStock.length,
            " | ",
            /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("span", { className: "text-red-500", children: "*" }),
            " Stock values are required"
          ] }) }),
          outlets.length === 0 ? /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("div", { className: "text-center py-8", children: [
            /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(import_lucide_react14.Warehouse, { className: "w-12 h-12 text-muted-foreground mx-auto mb-4" }),
            /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("h3", { className: "text-lg font-semibold mb-2", children: "No Outlets Available" }),
            /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("p", { className: "text-muted-foreground mb-4", children: "You need to create at least one outlet before you can add products. Products must be assigned to specific outlets for inventory management." }),
            /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("p", { className: "text-sm text-red-500", children: "Please contact your administrator to set up outlets for your merchant." })
          ] }) : /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)(import_jsx_runtime36.Fragment, { children: [
            /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)(Table, { children: [
              /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(TableHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)(TableRow, { children: [
                /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(TableHead, { children: "Outlet" }),
                /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(TableHead, { children: "Stock" })
              ] }) }),
              /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(TableBody, { children: formData.outletStock.map((outletStock) => {
                const outlet = outlets.find((o) => o.id === outletStock.outletId);
                return /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)(TableRow, { children: [
                  /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(TableCell, { className: "font-medium", children: /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("div", { children: [
                    /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("div", { className: "font-medium", children: outlet?.name || "Unknown Outlet" }),
                    outlet?.address && /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("div", { className: "text-sm text-text-secondary mt-1", children: outlet.address })
                  ] }) }),
                  /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(TableCell, { children: /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(
                    NumericInput,
                    {
                      value: outletStock.stock,
                      onChange: (value) => updateOutletStock(outletStock.outletId, "stock", value),
                      min: 0,
                      allowDecimals: false,
                      required: true,
                      className: "w-20"
                    }
                  ) })
                ] }, outletStock.outletId);
              }) })
            ] }),
            errors.outletStock && /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("div", { className: "mt-4", children: /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("p", { className: "text-sm text-red-500", children: errors.outletStock }) })
          ] })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)(Card2, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)(CardTitle2, { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(import_lucide_react14.Image, { className: "w-5 h-5" }),
          "Product Images"
        ] }) }),
        /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)(CardContent2, { className: "space-y-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)(
            "div",
            {
              className: `border-2 border-dashed rounded-lg p-6 text-center transition-colors ${dragActive && formData.images.length < 3 ? "border-action-primary bg-action-primary/10" : formData.images.length >= 3 ? "border-gray-300 bg-gray-50" : "border-border hover:border-action-primary/50"}`,
              onDragEnter: formData.images.length < 3 ? handleDrag : void 0,
              onDragLeave: formData.images.length < 3 ? handleDrag : void 0,
              onDragOver: formData.images.length < 3 ? handleDrag : void 0,
              onDrop: formData.images.length < 3 ? handleDrop : void 0,
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(import_lucide_react14.Upload, { className: `w-8 h-8 mx-auto mb-2 ${formData.images.length >= 3 ? "text-gray-400" : "text-text-secondary"}` }),
                /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("p", { className: "text-text-primary font-medium mb-1", children: formData.images.length >= 3 ? "Maximum images reached" : "Drag and drop images here" }),
                /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("p", { className: "text-text-secondary text-sm mb-3", children: "Supports JPG, PNG, WebP, GIF up to 5MB each (max 3 images, optional)" }),
                /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(
                  "input",
                  {
                    ref: fileInputRef,
                    type: "file",
                    multiple: true,
                    accept: "image/*",
                    onChange: (e) => handleImageUpload(e.target.files),
                    className: "hidden",
                    id: "image-upload",
                    disabled: formData.images.length >= 3
                  }
                ),
                /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(
                  Button,
                  {
                    type: "button",
                    variant: "outline",
                    size: "sm",
                    onClick: () => fileInputRef.current?.click(),
                    disabled: formData.images.length >= 3,
                    children: formData.images.length >= 3 ? "Max Images Reached" : "Browse Files"
                  }
                )
              ]
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("div", { className: "flex items-center justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("p", { className: "text-sm text-text-secondary", children: [
              formData.images.length,
              "/3 images uploaded (optional)"
            ] }),
            formData.images.length > 0 && /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(
              Button,
              {
                type: "button",
                variant: "outline",
                size: "sm",
                onClick: () => setFormData((prev) => ({ ...prev, images: [] })),
                children: "Clear All Images"
              }
            )
          ] }),
          Object.keys(uploadErrors).length > 0 && /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("div", { className: "space-y-2", children: Object.entries(uploadErrors).map(([fileId, error2]) => /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("div", { className: "flex items-start gap-2 p-3 bg-red-50 border border-red-200 rounded-lg", children: [
            /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(import_lucide_react14.AlertCircle, { className: "w-4 h-4 text-red-500 mt-0.5 flex-shrink-0" }),
            /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("div", { className: "flex-1", children: [
              /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("p", { className: "text-sm text-red-700 font-medium", children: "Upload Failed" }),
              /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("p", { className: "text-xs text-red-600 mt-1", children: error2 })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(
              Button,
              {
                variant: "ghost",
                size: "icon",
                type: "button",
                onClick: () => setUploadErrors((prev) => {
                  const newErrors = { ...prev };
                  delete newErrors[fileId];
                  return newErrors;
                }),
                className: "text-red-400 hover:text-red-600 h-6 w-6 p-0",
                children: /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(import_lucide_react14.XCircle, { className: "w-4 h-4" })
              }
            )
          ] }, fileId)) }),
          formData.images.length > 0 && /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("div", { className: "grid grid-cols-3 gap-3", children: formData.images.map((image, index) => {
            const isUploading = image.startsWith("uploading-");
            const fileId = isUploading ? image.replace("uploading-", "") : "";
            const progress = isUploading ? uploadProgress[fileId] : null;
            return /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("div", { className: "relative group", children: isUploading ? (
              // Upload Progress Card
              /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("div", { className: "w-full h-24 rounded-lg border border-action-primary bg-action-primary/5 flex flex-col items-center justify-center gap-2", children: [
                /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(import_lucide_react14.Loader2, { className: "w-6 h-6 animate-spin text-action-primary" }),
                progress && /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)(import_jsx_runtime36.Fragment, { children: [
                  /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("div", { className: "w-full px-4", children: /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("div", { className: "w-full bg-gray-200 rounded-full h-2", children: /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(
                    "div",
                    {
                      className: "bg-action-primary h-2 rounded-full transition-all duration-300",
                      style: { width: `${progress.percentage}%` }
                    }
                  ) }) }),
                  /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)("p", { className: "text-xs text-text-secondary", children: [
                    progress.stage === "preparing" && "Preparing...",
                    progress.stage === "uploading" && `Uploading ${progress.percentage}%`,
                    progress.stage === "processing" && "Processing...",
                    progress.stage === "complete" && "Complete!"
                  ] })
                ] })
              ] })
            ) : (
              // Image Preview
              /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)(import_jsx_runtime36.Fragment, { children: [
                /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(
                  "img",
                  {
                    src: image,
                    alt: `Product ${index + 1}`,
                    className: "w-full h-24 object-cover rounded-lg border"
                  }
                ),
                /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(
                  Button,
                  {
                    variant: "ghost",
                    size: "icon",
                    type: "button",
                    onClick: () => removeImage(index),
                    className: "absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600 h-6 w-6",
                    title: "Remove image",
                    children: /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(import_lucide_react14.XCircle, { className: "w-4 h-4" })
                  }
                )
              ] })
            ) }, index);
          }) })
        ] })
      ] }),
      !hideSubmitButton && /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("div", { className: "flex justify-end", children: /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(
        Button,
        {
          type: "submit",
          disabled: isSubmitting || !validateForm(),
          className: "min-w-[120px]",
          children: isSubmitting ? /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)(import_jsx_runtime36.Fragment, { children: [
            /* @__PURE__ */ (0, import_jsx_runtime36.jsx)("div", { className: "animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2" }),
            "Saving..."
          ] }) : /* @__PURE__ */ (0, import_jsx_runtime36.jsxs)(import_jsx_runtime36.Fragment, { children: [
            /* @__PURE__ */ (0, import_jsx_runtime36.jsx)(import_lucide_react14.CheckCircle, { className: "w-4 h-4 mr-2" }),
            submitText
          ] })
        }
      ) })
    ] })
  ] });
};

// src/components/forms/OrderForm.tsx
var import_react13 = require("react");
var import_ui2 = require("@rentalshop/ui");
var import_jsx_runtime37 = require("react/jsx-runtime");
var OrderForm = ({
  initialData,
  customers = [],
  products = [],
  outlets = [],
  onSubmit,
  onCancel,
  loading = false,
  layout = "stacked"
}) => {
  const { toastError, toastWarning } = (0, import_ui2.useToast)();
  const [formData, setFormData] = (0, import_react13.useState)({
    orderType: "RENT",
    customerId: "",
    outletId: "",
    pickupPlanAt: void 0,
    returnPlanAt: void 0,
    subtotal: 0,
    taxAmount: 0,
    discountAmount: 0,
    totalAmount: 0,
    depositAmount: 0,
    notes: "",
    customerName: "",
    customerPhone: "",
    customerEmail: "",
    orderItems: [],
    ...initialData
  });
  const [orderItems, setOrderItems] = (0, import_react13.useState)(
    initialData?.orderItems?.map((item) => ({
      productId: item.productId,
      quantity: item.quantity,
      unitPrice: item.unitPrice,
      totalPrice: item.totalPrice,
      rentalDays: item.rentalDays || 0,
      startDate: item.startDate?.toISOString().split("T")[0] || "",
      endDate: item.endDate?.toISOString().split("T")[0] || "",
      daysRented: item.daysRented || 0,
      deposit: item.deposit || 0,
      notes: item.notes || ""
    })) || []
  );
  const [selectedCustomer, setSelectedCustomer] = (0, import_react13.useState)(
    customers.find((c) => c.id === formData.customerId) || null
  );
  (0, import_react13.useEffect)(() => {
    const subtotal = orderItems.reduce((sum, item) => sum + item.totalPrice, 0);
    const taxAmount = subtotal * 0.1;
    const totalAmount = subtotal + taxAmount - (formData.discountAmount || 0);
    setFormData((prev) => ({
      ...prev,
      subtotal,
      taxAmount,
      totalAmount,
      orderItems: orderItems.map((item) => ({
        productId: item.productId,
        quantity: item.quantity,
        unitPrice: item.unitPrice,
        totalPrice: item.totalPrice,
        rentalDays: item.rentalDays,
        startDate: item.startDate ? new Date(item.startDate) : void 0,
        endDate: item.endDate ? new Date(item.endDate) : void 0,
        daysRented: item.daysRented,
        deposit: item.deposit,
        notes: item.notes
      }))
    }));
  }, [orderItems, formData.discountAmount]);
  (0, import_react13.useEffect)(() => {
    if (selectedCustomer) {
      setFormData((prev) => ({
        ...prev,
        customerId: selectedCustomer.id,
        customerName: `${selectedCustomer.firstName} ${selectedCustomer.lastName}`,
        customerPhone: selectedCustomer.phone,
        customerEmail: selectedCustomer.email
      }));
    }
  }, [selectedCustomer]);
  const addOrderItem = () => {
    setOrderItems((prev) => [...prev, {
      productId: "",
      quantity: 1,
      unitPrice: 0,
      totalPrice: 0,
      rentalDays: 0,
      startDate: "",
      endDate: "",
      daysRented: 0,
      deposit: 0,
      notes: ""
    }]);
  };
  const removeOrderItem = (index) => {
    setOrderItems((prev) => prev.filter((_, i) => i !== index));
  };
  const updateOrderItem = (index, field, value) => {
    setOrderItems((prev) => {
      const newItems = [...prev];
      const item = { ...newItems[index], [field]: value };
      if (field === "quantity" || field === "unitPrice") {
        item.totalPrice = item.quantity * item.unitPrice;
      }
      if (formData.orderType === "RENT" && field === "rentalDays") {
        item.totalPrice = item.quantity * item.unitPrice * (item.rentalDays || 1);
      }
      if (field === "productId") {
        const product = products.find((p) => p.id === value);
        if (product) {
          item.unitPrice = formData.orderType === "RENT" ? product.rentPrice : product.salePrice || 0;
          item.totalPrice = item.quantity * item.unitPrice;
        }
      }
      newItems[index] = item;
      return newItems;
    });
  };
  const handleSubmit = (e) => {
    e.preventDefault();
    if (!formData.outletId) {
      toastError("Validation Error", "Please select an outlet");
      return;
    }
    if (orderItems.length === 0) {
      toastError("Validation Error", "Please add at least one product");
      return;
    }
    if (orderItems.some((item) => !item.productId)) {
      toastError("Validation Error", "Please select a product for all items");
      return;
    }
    onSubmit(formData);
  };
  const InfoCard = /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)(import_ui2.Card, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.CardTitle, { children: "Th\xF4ng tin \u0111\u01A1n h\xE0ng" }) }),
    /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)(import_ui2.CardContent, { className: "space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Lo\u1EA1i \u0111\u01A1n h\xE0ng" }),
          /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)(
            import_ui2.Select,
            {
              value: formData.orderType,
              onValueChange: (value) => setFormData((prev) => ({ ...prev, orderType: value })),
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.SelectTrigger, { variant: "filled", children: /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.SelectValue, {}) }),
                /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)(import_ui2.SelectContent, { children: [
                  /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.SelectItem, { value: "RENT", children: "Thu\xEA" }),
                  /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.SelectItem, { value: "SALE", children: "B\xE1n" }),
                  /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.SelectItem, { value: "RENT_TO_OWN", children: "Thu\xEA \u0111\u1EC3 mua" })
                ] })
              ]
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "C\u1EEDa h\xE0ng *" }),
          /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)(
            import_ui2.Select,
            {
              value: formData.outletId,
              onValueChange: (value) => setFormData((prev) => ({ ...prev, outletId: value })),
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.SelectTrigger, { variant: "filled", children: /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.SelectValue, { placeholder: "Ch\u1ECDn c\u1EEDa h\xE0ng" }) }),
                /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.SelectContent, { children: outlets.map((outlet) => /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.SelectItem, { value: outlet.id, children: outlet.name }, outlet.id)) })
              ]
            }
          )
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Kh\xE1ch h\xE0ng" }),
        /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(
          import_ui2.SearchableSelect,
          {
            value: selectedCustomer?.id || void 0,
            onChange: (val) => {
              const customer = customers.find((c) => c.id === val);
              setSelectedCustomer(customer || null);
            },
            options: customers.map((c) => ({
              value: String(c.id),
              label: `${c.firstName} ${c.lastName} - ${c.phone}`
            })),
            placeholder: "Ch\u1ECDn kh\xE1ch h\xE0ng ho\u1EB7c \u0111\u1EC3 tr\u1ED1ng cho kh\xE1ch v\xE3ng lai",
            searchPlaceholder: "T\xECm ki\u1EBFm kh\xE1ch h\xE0ng..."
          }
        )
      ] }),
      !selectedCustomer && /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "T\xEAn kh\xE1ch h\xE0ng" }),
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.Input, { variant: "filled", value: formData.customerName || "", onChange: (e) => setFormData((prev) => ({ ...prev, customerName: e.target.value })), placeholder: "T\xEAn kh\xE1ch h\xE0ng" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "S\u1ED1 \u0111i\u1EC7n tho\u1EA1i" }),
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.Input, { variant: "filled", value: formData.customerPhone || "", onChange: (e) => setFormData((prev) => ({ ...prev, customerPhone: e.target.value })), placeholder: "S\u1ED1 \u0111i\u1EC7n tho\u1EA1i" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Email" }),
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.Input, { type: "email", variant: "filled", value: formData.customerEmail || "", onChange: (e) => setFormData((prev) => ({ ...prev, customerEmail: e.target.value })), placeholder: "Email" })
        ] })
      ] }),
      formData.orderType === "RENT" && /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Ng\xE0y nh\u1EADn d\u1EF1 ki\u1EBFn" }),
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(
            import_ui2.Input,
            {
              type: "datetime-local",
              variant: "filled",
              value: formData.pickupPlanAt?.toISOString().slice(0, 16) || "",
              onChange: (e) => setFormData((prev) => ({ ...prev, pickupPlanAt: e.target.value ? new Date(e.target.value) : void 0 }))
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Ng\xE0y tr\u1EA3 d\u1EF1 ki\u1EBFn" }),
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(
            import_ui2.Input,
            {
              type: "datetime-local",
              variant: "filled",
              value: formData.returnPlanAt?.toISOString().slice(0, 16) || "",
              onChange: (e) => setFormData((prev) => ({ ...prev, returnPlanAt: e.target.value ? new Date(e.target.value) : void 0 }))
            }
          )
        ] })
      ] })
    ] })
  ] });
  const ProductsCard = /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)(import_ui2.Card, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.CardTitle, { children: "S\u1EA3n ph\u1EA9m" }),
      /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.Button, { type: "button", onClick: addOrderItem, variant: "outline", size: "sm", children: "Th\xEAm s\u1EA3n ph\u1EA9m" })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.CardContent, { children: orderItems.length === 0 ? /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("div", { className: "text-center py-8 text-gray-500", children: 'Ch\u01B0a c\xF3 s\u1EA3n ph\u1EA9m n\xE0o. Nh\u1EA5n "Th\xEAm s\u1EA3n ph\u1EA9m" \u0111\u1EC3 b\u1EAFt \u0111\u1EA7u.' }) : /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("div", { className: "space-y-4", children: orderItems.map((item, index) => /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { className: "border rounded-lg p-4 space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { className: "flex items-center justify-between", children: [
        /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("h4", { className: "font-medium", children: [
          "S\u1EA3n ph\u1EA9m ",
          index + 1
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.Button, { type: "button", variant: "destructive", size: "sm", onClick: () => removeOrderItem(index), children: "X\xF3a" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "S\u1EA3n ph\u1EA9m *" }),
          /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)(import_ui2.Select, { value: item.productId, onValueChange: (value) => updateOrderItem(index, "productId", value), children: [
            /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.SelectTrigger, { variant: "filled", children: /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.SelectValue, { placeholder: "Ch\u1ECDn s\u1EA3n ph\u1EA9m" }) }),
            /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.SelectContent, { children: products.map((product) => /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)(import_ui2.SelectItem, { value: product.id, children: [
              product.name,
              " - ",
              (0, import_ui2.formatCurrency)(product.rentPrice),
              "/ng\xE0y"
            ] }, product.id)) })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "S\u1ED1 l\u01B0\u1EE3ng" }),
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.Input, { variant: "filled", type: "number", min: "1", value: item.quantity, onChange: (e) => updateOrderItem(index, "quantity", parseInt(e.target.value) || 1) })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "\u0110\u01A1n gi\xE1" }),
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.Input, { variant: "filled", type: "number", min: "0", step: "0.01", value: item.unitPrice, onChange: (e) => updateOrderItem(index, "unitPrice", parseFloat(e.target.value) || 0) })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Ti\u1EC1n c\u1ECDc" }),
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.Input, { variant: "filled", type: "number", min: "0", step: "0.01", value: item.deposit, onChange: (e) => updateOrderItem(index, "deposit", parseFloat(e.target.value) || 0) })
        ] })
      ] }),
      formData.orderType === "RENT" && /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Ng\xE0y b\u1EAFt \u0111\u1EA7u thu\xEA" }),
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.Input, { variant: "filled", type: "date", value: item.startDate || "", onChange: (e) => updateOrderItem(index, "startDate", e.target.value) })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Ng\xE0y k\u1EBFt th\xFAc thu\xEA" }),
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.Input, { variant: "filled", type: "date", value: item.endDate || "", onChange: (e) => updateOrderItem(index, "endDate", e.target.value) })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Ghi ch\xFA" }),
        /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.Textarea, { value: item.notes, onChange: (e) => updateOrderItem(index, "notes", e.target.value), placeholder: "Ghi ch\xFA cho s\u1EA3n ph\u1EA9m n\xE0y" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("div", { className: "flex justify-end", children: /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)(import_ui2.Badge, { variant: "outline", children: [
        "T\u1ED5ng: ",
        (0, import_ui2.formatCurrency)(item.totalPrice)
      ] }) })
    ] }, index)) }) })
  ] });
  const FinancialCard = /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)(import_ui2.Card, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.CardTitle, { children: "T\xF3m t\u1EAFt \u0111\u01A1n h\xE0ng" }) }),
    /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { className: "space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Gi\u1EA3m gi\xE1" }),
        /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(
          import_ui2.Input,
          {
            variant: "filled",
            type: "number",
            min: "0",
            step: "0.01",
            value: formData.discountAmount || 0,
            onChange: (e) => setFormData((prev) => ({ ...prev, discountAmount: parseFloat(e.target.value) || 0 }))
          }
        )
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { className: "border-t pt-4 space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { className: "flex justify-between", children: [
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("span", { children: "T\u1EA1m t\xEDnh:" }),
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("span", { children: (0, import_ui2.formatCurrency)(formData.subtotal || 0) })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { className: "flex justify-between", children: [
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("span", { children: "Thu\u1EBF (10%):" }),
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("span", { children: (0, import_ui2.formatCurrency)(formData.taxAmount || 0) })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { className: "flex justify-between", children: [
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("span", { children: "Gi\u1EA3m gi\xE1:" }),
          /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("span", { children: [
            "-",
            (0, import_ui2.formatCurrency)(formData.discountAmount || 0)
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { className: "flex justify-between text-lg font-semibold border-t pt-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("span", { children: "T\u1ED5ng c\u1ED9ng:" }),
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("span", { className: "text-green-600", children: (0, import_ui2.formatCurrency)(formData.totalAmount || 0) })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { className: "flex justify-between text-lg font-semibold", children: [
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("span", { children: "Ti\u1EC1n c\u1ECDc:" }),
          /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("span", { className: "text-blue-600", children: (0, import_ui2.formatCurrency)(formData.depositAmount || 0) })
        ] })
      ] })
    ] }) })
  ] });
  const NotesCard = /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)(import_ui2.Card, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.CardTitle, { children: "Ghi ch\xFA" }) }),
    /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.Textarea, { value: formData.notes || "", onChange: (e) => setFormData((prev) => ({ ...prev, notes: e.target.value })), placeholder: "Ghi ch\xFA cho \u0111\u01A1n h\xE0ng", rows: 3 }) })
  ] });
  return /* @__PURE__ */ (0, import_jsx_runtime37.jsx)("form", { onSubmit: handleSubmit, className: "space-y-6", children: layout === "split" ? /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)(import_jsx_runtime37.Fragment, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { className: "grid grid-cols-1 lg:grid-cols-3 gap-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { className: "lg:col-span-2 space-y-6", children: [
        ProductsCard,
        NotesCard
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { className: "lg:col-span-1 space-y-6 lg:sticky lg:top-24", children: [
        InfoCard,
        FinancialCard
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { className: "flex justify-end space-x-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.Button, { type: "button", variant: "outline", onClick: onCancel, children: "H\u1EE7y" }),
      /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.Button, { type: "submit", disabled: loading, children: loading ? "\u0110ang x\u1EED l\xFD..." : "L\u01B0u \u0111\u01A1n h\xE0ng" })
    ] })
  ] }) : /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)(import_jsx_runtime37.Fragment, { children: [
    InfoCard,
    ProductsCard,
    FinancialCard,
    NotesCard,
    /* @__PURE__ */ (0, import_jsx_runtime37.jsxs)("div", { className: "flex justify-end space-x-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.Button, { type: "button", variant: "outline", onClick: onCancel, children: "H\u1EE7y" }),
      /* @__PURE__ */ (0, import_jsx_runtime37.jsx)(import_ui2.Button, { type: "submit", disabled: loading, children: loading ? "\u0110ang x\u1EED l\xFD..." : "L\u01B0u \u0111\u01A1n h\xE0ng" })
    ] })
  ] }) });
};

// src/components/forms/CreateOrderForm/CreateOrderForm.tsx
var import_react21 = require("react");
var import_ui12 = require("@rentalshop/ui");
var import_utils16 = require("@rentalshop/utils");
var import_hooks2 = require("@rentalshop/hooks");
var import_constants6 = require("@rentalshop/constants");

// src/components/forms/CreateOrderForm/hooks/useCreateOrderForm.ts
var import_react14 = require("react");
var import_ui3 = require("@rentalshop/ui");
var import_constants2 = require("@rentalshop/constants");
var useCreateOrderForm = (props) => {
  const {
    outlets = [],
    isEditMode = false,
    initialOrder,
    merchantId
  } = props;
  const [formData, setFormData] = (0, import_react14.useState)(() => {
    if (isEditMode && initialOrder) {
      return {
        orderType: initialOrder.orderType || "RENT",
        customerId: parseInt(initialOrder.customerId) || void 0,
        outletId: initialOrder.outletId || outlets[0]?.id || void 0,
        pickupPlanAt: initialOrder.pickupPlanAt ? new Date(initialOrder.pickupPlanAt).toISOString().split("T")[0] : "",
        returnPlanAt: initialOrder.returnPlanAt ? new Date(initialOrder.returnPlanAt).toISOString().split("T")[0] : "",
        subtotal: initialOrder.subtotal || 0,
        taxAmount: initialOrder.taxAmount || 0,
        discountType: initialOrder.discountType || "amount",
        discountValue: initialOrder.discountValue || import_constants2.BUSINESS.DEFAULT_DISCOUNT,
        discountAmount: initialOrder.discountAmount || import_constants2.BUSINESS.DEFAULT_DISCOUNT,
        depositAmount: initialOrder.depositAmount || import_constants2.BUSINESS.DEFAULT_DEPOSIT,
        securityDeposit: initialOrder.securityDeposit || 0,
        lateFee: initialOrder.lateFee || 0,
        damageFee: initialOrder.damageFee || 0,
        totalAmount: initialOrder.totalAmount || 0,
        notes: initialOrder.notes || "",
        orderItems: []
      };
    }
    return {
      orderType: "RENT",
      customerId: void 0,
      outletId: outlets[0]?.id || void 0,
      pickupPlanAt: "",
      returnPlanAt: "",
      subtotal: 0,
      taxAmount: 0,
      discountType: "amount",
      discountValue: import_constants2.BUSINESS.DEFAULT_DISCOUNT,
      discountAmount: import_constants2.BUSINESS.DEFAULT_DISCOUNT,
      depositAmount: import_constants2.BUSINESS.DEFAULT_DEPOSIT,
      securityDeposit: 0,
      lateFee: 0,
      damageFee: 0,
      totalAmount: 0,
      notes: "",
      orderItems: []
    };
  });
  const [orderItems, setOrderItems] = (0, import_react14.useState)(() => {
    if (isEditMode && initialOrder?.orderItems) {
      return initialOrder.orderItems.map((item) => ({
        id: item.id,
        // Keep database CUID for existing items
        productId: item.product?.id || item.productId || 0,
        // Frontend uses id (number)
        product: {
          id: item.product?.id || item.productId || 0,
          // Frontend uses id (number)
          name: item.product?.name || "Unknown Product",
          description: item.product?.description || "",
          images: item.product?.images || null,
          barcode: item.product?.barcode || "",
          rentPrice: item.unitPrice || 0,
          // Use unitPrice as rentPrice
          deposit: item.deposit ?? 0
        },
        quantity: item.quantity || 1,
        unitPrice: item.unitPrice || 0,
        totalPrice: item.totalPrice || 0,
        rentalDays: item.rentalDays || 0,
        deposit: item.deposit ?? 0,
        notes: item.notes || ""
      }));
    }
    return [];
  });
  const orderItemsRef = (0, import_react14.useRef)(orderItems);
  (0, import_react14.useEffect)(() => {
    orderItemsRef.current = orderItems;
  }, [orderItems]);
  const [isSubmitting, setIsSubmitting] = (0, import_react14.useState)(false);
  const [showOrderPreview, setShowOrderPreview] = (0, import_react14.useState)(false);
  const { toastSuccess, toastError } = (0, import_ui3.useToast)();
  (0, import_react14.useEffect)(() => {
    const subtotal = orderItems.reduce((sum, item) => sum + item.quantity * item.unitPrice, 0);
    const discountAmount = formData.discountType === "percentage" ? subtotal * formData.discountValue / 100 : formData.discountValue;
    const totalAmount = subtotal - discountAmount;
    setFormData((prev) => ({
      ...prev,
      subtotal,
      discountAmount,
      totalAmount
    }));
  }, [orderItems, formData.discountType, formData.discountValue]);
  (0, import_react14.useEffect)(() => {
    if (formData.orderType === "RENT") {
      const totalDeposit = orderItems.reduce((sum, item) => sum + (item.deposit ?? 0), 0);
      setFormData((prev) => ({
        ...prev,
        depositAmount: totalDeposit
      }));
    } else {
      setFormData((prev) => ({
        ...prev,
        depositAmount: 0
      }));
    }
  }, [orderItems, formData.orderType]);
  (0, import_react14.useEffect)(() => {
    if (isEditMode && initialOrder) {
      setFormData((prev) => ({
        ...prev,
        orderType: initialOrder.orderType || "RENT",
        customerId: initialOrder.customerId || void 0,
        outletId: initialOrder.outletId || outlets[0]?.id || void 0,
        pickupPlanAt: initialOrder.pickupPlanAt ? new Date(initialOrder.pickupPlanAt).toISOString().split("T")[0] : "",
        returnPlanAt: initialOrder.returnPlanAt ? new Date(initialOrder.returnPlanAt).toISOString().split("T")[0] : "",
        subtotal: initialOrder.subtotal || 0,
        taxAmount: initialOrder.taxAmount || 0,
        discountType: initialOrder.discountType || "amount",
        discountValue: initialOrder.discountValue || import_constants2.BUSINESS.DEFAULT_DISCOUNT,
        discountAmount: initialOrder.discountAmount || import_constants2.BUSINESS.DEFAULT_DISCOUNT,
        depositAmount: initialOrder.depositAmount || import_constants2.BUSINESS.DEFAULT_DEPOSIT,
        securityDeposit: initialOrder.securityDeposit || 0,
        lateFee: initialOrder.lateFee || 0,
        damageFee: initialOrder.damageFee || 0,
        totalAmount: initialOrder.totalAmount || 0,
        notes: initialOrder.notes || ""
      }));
      if (initialOrder.orderItems) {
        const initialOrderItems = initialOrder.orderItems.map((item) => ({
          id: item.id,
          // Keep database CUID for existing items
          productId: item.product?.id || item.productId || 0,
          // Frontend uses id (number)
          product: {
            id: item.product?.id || item.productId || 0,
            // Frontend uses id (number)
            name: item.product?.name || "Unknown Product",
            description: item.product?.description || "",
            images: item.product?.images || null,
            barcode: item.product?.barcode || "",
            rentPrice: item.unitPrice || 0,
            // Use unitPrice as rentPrice
            deposit: item.deposit ?? 0
          },
          quantity: item.quantity || 1,
          unitPrice: item.unitPrice || 0,
          totalPrice: item.totalPrice || 0,
          rentalDays: item.rentalDays || 0,
          deposit: item.deposit ?? 0,
          notes: item.notes || ""
        }));
        setOrderItems(initialOrderItems);
        if (initialOrder.orderType === "RENT") {
          const totalDeposit = initialOrderItems.reduce((sum, item) => sum + (item.deposit ?? 0), 0);
          setFormData((prev) => ({
            ...prev,
            depositAmount: totalDeposit
          }));
        }
      }
    }
  }, [isEditMode, initialOrder, outlets]);
  const addProductToOrder = (0, import_react14.useCallback)((product) => {
    const productIdNumber = product.id;
    const existingItem = orderItems.find((item) => item.productId === productIdNumber);
    if (existingItem) {
      const updatedItems = orderItems.map(
        (item) => item.productId === productIdNumber ? { ...item, quantity: item.quantity + 1 } : item
      );
      setOrderItems(updatedItems);
    } else {
      const rentPrice = product.rentPrice ?? 0;
      const deposit = product.deposit ?? 0;
      const newItem = {
        productId: productIdNumber,
        product: {
          id: productIdNumber,
          name: product.name || "Unknown Product",
          description: product.description || "",
          images: product.images || null,
          barcode: product.barcode || "",
          rentPrice,
          deposit
        },
        quantity: import_constants2.BUSINESS.DEFAULT_QUANTITY,
        unitPrice: formData.orderType === "RENT" ? rentPrice : rentPrice,
        totalPrice: (formData.orderType === "RENT" ? rentPrice : rentPrice) * import_constants2.BUSINESS.DEFAULT_QUANTITY,
        deposit,
        notes: ""
      };
      const newOrderItems = [...orderItems, newItem];
      setOrderItems(newOrderItems);
    }
  }, [orderItems, formData.orderType]);
  const removeProductFromOrder = (0, import_react14.useCallback)((productId) => {
    setOrderItems(orderItems.filter((item) => item.productId !== productId));
  }, [orderItems]);
  const updateOrderItem = (0, import_react14.useCallback)((productId, field, value) => {
    const updatedItems = orderItems.map((item) => {
      if (item.productId === productId) {
        return { ...item, [field]: value };
      }
      return item;
    });
    setOrderItems(updatedItems);
  }, [orderItems]);
  const calculateRentalDays = (0, import_react14.useCallback)((startDate, endDate) => {
    if (!startDate || !endDate)
      return 0;
    const start = new Date(startDate);
    const end = new Date(endDate);
    const diffTime = Math.abs(end.getTime() - start.getTime());
    return Math.ceil(diffTime / (1e3 * 60 * 60 * 24));
  }, []);
  const updateRentalDates = (0, import_react14.useCallback)((startDate, endDate) => {
    setFormData((prev) => ({
      ...prev,
      pickupPlanAt: startDate,
      returnPlanAt: endDate
    }));
    const days = calculateRentalDays(startDate, endDate);
    const updatedItems = orderItems.map((item) => ({
      ...item,
      startDate,
      endDate,
      daysRented: days,
      totalPrice: item.unitPrice * days * item.quantity
    }));
    setOrderItems(updatedItems);
  }, [orderItems, calculateRentalDays]);
  const handlePreviewClick = (0, import_react14.useCallback)((e) => {
    e.preventDefault();
    console.log("\u{1F50D} Preview clicked - Current orderItems:", orderItems);
    console.log("\u{1F50D} Preview clicked - orderItems length:", orderItems.length);
    console.log("\u{1F50D} Preview clicked - orderItems details:", orderItems.map((item) => ({
      productId: item.productId,
      productName: item.product?.name,
      quantity: item.quantity
    })));
    setShowOrderPreview(true);
  }, [orderItems]);
  const handleSubmit = (0, import_react14.useCallback)(async (e) => {
    e.preventDefault();
    const currentOrderItems = orderItemsRef.current;
    if (isSubmitting)
      return;
    if (!currentOrderItems || currentOrderItems.length === 0) {
      throw new Error("Please add at least one product to the order before submitting.");
    }
    setIsSubmitting(true);
    try {
      const apiPayload = {
        orderType: formData.orderType,
        customerId: formData.customerId,
        // Send as number
        outletId: formData.outletId,
        // Send as number
        pickupPlanAt: formData.pickupPlanAt ? new Date(formData.pickupPlanAt).toISOString() : void 0,
        returnPlanAt: formData.returnPlanAt ? new Date(formData.returnPlanAt).toISOString() : void 0,
        subtotal: formData.subtotal,
        taxAmount: formData.taxAmount,
        discountType: formData.discountType,
        discountValue: formData.discountValue,
        discountAmount: formData.discountAmount,
        depositAmount: formData.depositAmount,
        securityDeposit: formData.securityDeposit,
        lateFee: formData.lateFee,
        damageFee: formData.damageFee,
        totalAmount: formData.totalAmount,
        notes: formData.notes,
        orderItems: currentOrderItems.map((item) => ({
          productId: item.productId,
          // Send as number
          quantity: item.quantity,
          unitPrice: item.unitPrice,
          deposit: item.deposit ?? 0,
          notes: item.notes || ""
        }))
      };
      if (isEditMode && initialOrder?.id) {
        apiPayload.id = initialOrder.id;
      }
      props.onSubmit?.(apiPayload);
    } catch (error2) {
      throw error2;
    } finally {
      setIsSubmitting(false);
    }
  }, [formData, isEditMode, initialOrder, props, isSubmitting]);
  const handleOrderConfirm = (0, import_react14.useCallback)(async () => {
    setShowOrderPreview(false);
    const mockEvent = { preventDefault: () => {
    } };
    await handleSubmit(mockEvent);
  }, [orderItems, handleSubmit]);
  const resetForm = (0, import_react14.useCallback)(() => {
    if (isEditMode && initialOrder) {
      setFormData({
        orderType: initialOrder.orderType || "RENT",
        customerId: parseInt(initialOrder.customerId) || void 0,
        outletId: initialOrder.outletId || outlets[0]?.id || void 0,
        pickupPlanAt: initialOrder.pickupPlanAt ? new Date(initialOrder.pickupPlanAt).toISOString().split("T")[0] : "",
        returnPlanAt: initialOrder.returnPlanAt ? new Date(initialOrder.returnPlanAt).toISOString().split("T")[0] : "",
        subtotal: initialOrder.subtotal || 0,
        taxAmount: initialOrder.taxAmount || 0,
        discountType: "amount",
        discountValue: import_constants2.BUSINESS.DEFAULT_DISCOUNT,
        discountAmount: initialOrder.discountAmount || import_constants2.BUSINESS.DEFAULT_DISCOUNT,
        depositAmount: initialOrder.depositAmount || import_constants2.BUSINESS.DEFAULT_DEPOSIT,
        securityDeposit: initialOrder.securityDeposit || 0,
        lateFee: initialOrder.lateFee || 0,
        damageFee: initialOrder.damageFee || 0,
        totalAmount: initialOrder.totalAmount || 0,
        notes: initialOrder.notes || "",
        orderItems: []
      });
      setOrderItems(initialOrder.orderItems.map((item) => ({
        id: item.id,
        productId: item.productId || 0,
        product: {
          id: item.product?.id || item.productId || 0,
          name: item.product?.name || "Unknown Product",
          description: item.product?.description || "",
          images: item.product?.images || null,
          barcode: item.product?.barcode || "",
          rentPrice: item.unitPrice || 0,
          deposit: item.deposit ?? 0
        },
        quantity: item.quantity || 1,
        unitPrice: item.unitPrice || 0,
        totalPrice: item.totalPrice || 0,
        rentalDays: item.rentalDays || 0,
        deposit: item.deposit ?? 0,
        notes: item.notes || ""
      })));
    } else {
      setFormData({
        orderType: "RENT",
        customerId: void 0,
        outletId: outlets[0]?.id || void 0,
        pickupPlanAt: "",
        returnPlanAt: "",
        subtotal: 0,
        taxAmount: 0,
        discountType: "amount",
        discountValue: import_constants2.BUSINESS.DEFAULT_DISCOUNT,
        discountAmount: import_constants2.BUSINESS.DEFAULT_DISCOUNT,
        depositAmount: import_constants2.BUSINESS.DEFAULT_DEPOSIT,
        securityDeposit: 0,
        lateFee: 0,
        damageFee: 0,
        totalAmount: 0,
        notes: "",
        orderItems: []
      });
      setOrderItems([]);
    }
  }, [isEditMode, initialOrder, outlets]);
  return {
    // State
    formData,
    setFormData,
    orderItems,
    setOrderItems,
    isSubmitting,
    showOrderPreview,
    setShowOrderPreview,
    // Actions
    addProductToOrder,
    removeProductFromOrder,
    updateOrderItem,
    updateRentalDates,
    handlePreviewClick,
    handleOrderConfirm,
    handleSubmit,
    resetForm,
    // Utilities
    calculateRentalDays
  };
};

// src/components/forms/CreateOrderForm/hooks/useOrderValidation.ts
var import_react15 = require("react");
var import_constants3 = require("@rentalshop/constants");
var useOrderValidation = () => {
  const [validationErrors, setValidationErrors] = (0, import_react15.useState)({});
  const calculateRentalDays = (0, import_react15.useCallback)((startDate, endDate) => {
    if (!startDate || !endDate)
      return 0;
    const start = new Date(startDate);
    const end = new Date(endDate);
    const diffTime = Math.abs(end.getTime() - start.getTime());
    return Math.ceil(diffTime / (1e3 * 60 * 60 * 24));
  }, []);
  const validateForm = (0, import_react15.useCallback)((formData, orderItems) => {
    const errors = {};
    if (!formData.customerId || formData.customerId <= 0) {
      errors.customerId = "Customer selection is required";
    }
    if (!formData.outletId || formData.outletId <= 0) {
      errors.outletId = "Outlet selection is required";
    }
    if (orderItems.length === 0) {
      errors.orderItems = "At least one product is required";
    }
    if (formData.orderType === "RENT") {
      if (!formData.pickupPlanAt) {
        errors.pickupPlanAt = "Pickup date is required for rentals";
      }
      if (!formData.returnPlanAt) {
        errors.returnPlanAt = "Return date is required for rentals";
      }
      if (formData.pickupPlanAt && formData.returnPlanAt) {
        const days = calculateRentalDays(formData.pickupPlanAt, formData.returnPlanAt);
        if (days < import_constants3.BUSINESS.MIN_RENTAL_DAYS) {
          errors.returnPlanAt = `Rental must be at least ${import_constants3.BUSINESS.MIN_RENTAL_DAYS} day`;
        } else if (days > import_constants3.BUSINESS.MAX_RENTAL_DAYS) {
          errors.returnPlanAt = `Rental cannot exceed ${import_constants3.BUSINESS.MAX_RENTAL_DAYS} days`;
        }
      }
    }
    if (formData.orderType === "RENT" && formData.depositAmount < import_constants3.VALIDATION.MIN_DEPOSIT_AMOUNT) {
      errors.depositAmount = `Deposit amount cannot be less than ${import_constants3.VALIDATION.MIN_DEPOSIT_AMOUNT}`;
    }
    setValidationErrors(errors);
    return Object.keys(errors).length === 0;
  }, [calculateRentalDays]);
  const isFormValid = (0, import_react15.useCallback)((formData, orderItems) => {
    const hasProducts = orderItems.length > 0;
    const hasCustomer = Boolean(formData.customerId && formData.customerId > 0);
    const hasOutlet = Boolean(formData.outletId && formData.outletId > 0);
    if (formData.orderType === "RENT") {
      return hasProducts && hasCustomer && hasOutlet && Boolean(formData.pickupPlanAt) && Boolean(formData.returnPlanAt);
    } else {
      return hasProducts && hasCustomer && hasOutlet;
    }
  }, []);
  const clearValidationErrors = (0, import_react15.useCallback)(() => {
    setValidationErrors({});
  }, []);
  const setValidationError = (0, import_react15.useCallback)((field, message) => {
    setValidationErrors((prev) => ({
      ...prev,
      [field]: message
    }));
  }, []);
  const clearValidationError = (0, import_react15.useCallback)((field) => {
    setValidationErrors((prev) => {
      const newErrors = { ...prev };
      delete newErrors[field];
      return newErrors;
    });
  }, []);
  return {
    validationErrors,
    validateForm,
    isFormValid,
    clearValidationErrors,
    setValidationError,
    clearValidationError,
    calculateRentalDays
  };
};

// src/components/forms/CreateOrderForm/hooks/useProductSearch.ts
var import_react16 = require("react");
var import_utils11 = require("@rentalshop/utils");
var import_constants4 = require("@rentalshop/constants");
var useProductSearch = () => {
  const [isLoadingProducts, setIsLoadingProducts] = (0, import_react16.useState)(false);
  const searchProductsForSelect = (0, import_react16.useCallback)(async (query) => {
    if (!query.trim()) {
      return [];
    }
    try {
      setIsLoadingProducts(true);
      const result = await import_utils11.productsApi.getProducts({
        search: query,
        limit: import_constants4.PAGINATION.SEARCH_LIMIT
      });
      if (result.success && result.data?.products) {
        return result.data.products.map((product) => {
          const outletStock = product.outletStock?.[0];
          const available = outletStock?.available ?? 0;
          const stock = outletStock?.stock ?? 0;
          const totalStock = stock;
          return {
            value: String(product.id),
            // Use id from server response
            label: product.name,
            image: product.image || product.imageUrl,
            // Support both image and imageUrl fields
            subtitle: product.barcode ? `Barcode: ${product.barcode}` : "No Barcode",
            details: [
              `$${(product.rentPrice || 0).toFixed(2)}`,
              `Deposit: $${(product.deposit || 0).toFixed(2)}`,
              `Available: ${available}`,
              `Total Stock: ${totalStock}`,
              product.category?.name || "No Category"
            ].filter(Boolean),
            // Remove empty values
            type: "product"
          };
        });
      }
      return [];
    } catch (error2) {
      console.error("Error searching products:", error2);
      return [];
    } finally {
      setIsLoadingProducts(false);
    }
  }, []);
  const searchProducts = (0, import_react16.useCallback)(async (query) => {
    if (!query.trim())
      return [];
    try {
      setIsLoadingProducts(true);
      const result = await import_utils11.productsApi.getProducts({
        search: query,
        limit: import_constants4.PAGINATION.SEARCH_LIMIT
      });
      if (result.success && result.data?.products) {
        return result.data.products;
      }
      return [];
    } catch (error2) {
      console.error("Error searching products:", error2);
      return [];
    } finally {
      setIsLoadingProducts(false);
    }
  }, []);
  return {
    isLoadingProducts,
    searchProductsForSelect,
    searchProducts
  };
};

// src/components/forms/CreateOrderForm/hooks/useCustomerSearch.ts
var import_react17 = require("react");
var import_utils12 = require("@rentalshop/utils");
var import_constants5 = require("@rentalshop/constants");
var useCustomerSearch = () => {
  const [isLoadingCustomers, setIsLoadingCustomers] = (0, import_react17.useState)(false);
  const [customerSearchResults, setCustomerSearchResults] = (0, import_react17.useState)([]);
  const searchCustomers = (0, import_react17.useCallback)(async (query) => {
    if (!query.trim()) {
      setCustomerSearchResults([]);
      return [];
    }
    try {
      setIsLoadingCustomers(true);
      const result = await import_utils12.customersApi.getCustomers({
        search: query,
        limit: import_constants5.PAGINATION.SEARCH_LIMIT,
        isActive: true
      });
      if (result.success && result.data?.customers && result.data.customers.length > 0) {
        setCustomerSearchResults(result.data.customers);
        const searchOptions = result.data.customers.map((customer) => ({
          value: customer.id,
          label: `${customer.firstName} ${customer.lastName} - ${customer.phone}`,
          type: "customer"
        }));
        return searchOptions;
      } else {
        setCustomerSearchResults([]);
        return [];
      }
    } catch (error2) {
      console.error("Error searching customers:", error2);
      setCustomerSearchResults([]);
      return [];
    } finally {
      setIsLoadingCustomers(false);
    }
  }, []);
  const clearCustomerSearchResults = (0, import_react17.useCallback)(() => {
    setCustomerSearchResults([]);
  }, []);
  const setCustomerResults = (0, import_react17.useCallback)((customers) => {
    setCustomerSearchResults(customers);
  }, []);
  return {
    isLoadingCustomers,
    customerSearchResults,
    searchCustomers,
    clearCustomerSearchResults,
    setCustomerResults
  };
};

// src/components/forms/CreateOrderForm/components/OrderFormHeader.tsx
var import_ui4 = require("@rentalshop/ui");
var import_lucide_react15 = require("lucide-react");
var import_navigation = require("next/navigation");
var import_jsx_runtime38 = require("react/jsx-runtime");
var OrderFormHeader = ({
  orderNumber,
  isEditMode,
  showBackButton = true,
  onBack
}) => {
  const router = (0, import_navigation.useRouter)();
  const handleBack = () => {
    if (onBack) {
      onBack();
    } else {
      router.push("/orders");
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime38.jsx)("div", { className: "bg-white border-b border-gray-200 px-6 py-4 mb-6", children: /* @__PURE__ */ (0, import_jsx_runtime38.jsxs)("div", { className: "flex items-center gap-4", children: [
    showBackButton && /* @__PURE__ */ (0, import_jsx_runtime38.jsx)(
      import_ui4.Button,
      {
        variant: "ghost",
        size: "icon",
        onClick: handleBack,
        className: "shrink-0",
        children: /* @__PURE__ */ (0, import_jsx_runtime38.jsx)(import_lucide_react15.ArrowLeft, { className: "h-5 w-5" })
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime38.jsxs)("div", { className: "flex-1 flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime38.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime38.jsx)("h1", { className: "text-2xl font-bold text-gray-900", children: isEditMode && orderNumber ? `Edit Order #${orderNumber}` : "Create New Order" }),
        /* @__PURE__ */ (0, import_jsx_runtime38.jsx)("p", { className: "text-sm text-gray-600", children: isEditMode ? "Modify order information and items" : "Fill in the order details to create a new rental or sale order" })
      ] }),
      isEditMode && /* @__PURE__ */ (0, import_jsx_runtime38.jsx)(import_ui4.Badge, { variant: "default", className: "bg-blue-100 text-blue-800", children: "EDIT MODE" })
    ] })
  ] }) });
};

// src/components/forms/CreateOrderForm/CreateOrderForm.tsx
var import_hooks3 = require("@rentalshop/hooks");

// src/components/forms/CreateOrderForm/components/ProductsSection.tsx
var import_ui5 = require("@rentalshop/ui");
var import_lucide_react16 = require("lucide-react");
var import_utils13 = require("@rentalshop/utils");
var import_ui6 = require("@rentalshop/ui");
var import_jsx_runtime39 = require("react/jsx-runtime");
var ProductsSection = ({
  orderItems,
  products,
  onAddProduct,
  onRemoveProduct,
  onUpdateOrderItem,
  onSearchProducts,
  isLoadingProducts,
  orderType,
  pickupDate,
  returnDate,
  getProductAvailabilityStatus
}) => {
  return /* @__PURE__ */ (0, import_jsx_runtime39.jsx)(import_ui5.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)(import_ui5.CardContent, { className: "space-y-4 pt-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime39.jsx)("div", { className: "space-y-3", children: /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)("div", { className: "relative", children: [
      /* @__PURE__ */ (0, import_jsx_runtime39.jsx)(
        import_ui5.SearchableSelect,
        {
          placeholder: "Search products by name, barcode or description...",
          value: void 0,
          onChange: (productId) => {
            console.log("\u{1F50D} SearchableSelect onChange called with productId:", productId);
            console.log("\u{1F50D} Available products:", products);
            const product = products.find((p) => p.id === productId);
            console.log("\u{1F50D} Found product:", product);
            if (product) {
              console.log("\u{1F50D} Calling onAddProduct with product:", product);
              onAddProduct(product);
            } else {
              console.error("\u274C Product not found for ID:", productId);
            }
          },
          onSearch: onSearchProducts,
          searchPlaceholder: "Type to search products...",
          emptyText: "No products found. Try a different search term.",
          showAddNew: false
        }
      ),
      isLoadingProducts && /* @__PURE__ */ (0, import_jsx_runtime39.jsx)("div", { className: "absolute right-3 top-1/2 transform -translate-y-1/2", children: /* @__PURE__ */ (0, import_jsx_runtime39.jsx)(import_ui5.Skeleton, { className: "w-4 h-4 rounded-full" }) })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime39.jsx)("div", { className: "space-y-4", children: /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)(import_ui5.Card, { className: "border border-gray-200", children: [
      /* @__PURE__ */ (0, import_jsx_runtime39.jsx)(import_ui5.CardHeader, { className: "pb-3", children: /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)(import_ui5.CardTitle, { className: "text-lg flex items-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime39.jsx)(import_lucide_react16.Package, { className: "w-5 h-5" }),
        "Selected Products ",
        /* @__PURE__ */ (0, import_jsx_runtime39.jsx)("span", { className: "text-red-500", children: "*" }),
        /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)("span", { className: "text-sm font-normal text-gray-500", children: [
          "(",
          orderItems.length,
          ")"
        ] })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime39.jsx)(import_ui5.CardContent, { children: orderItems.length === 0 ? (
        /* Empty State Placeholder */
        /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)("div", { className: "p-8 text-center", children: [
          /* @__PURE__ */ (0, import_jsx_runtime39.jsx)("div", { className: "w-16 h-16 mx-auto mb-4 text-gray-400", children: /* @__PURE__ */ (0, import_jsx_runtime39.jsx)(import_lucide_react16.Package, { className: "w-16 h-16" }) }),
          /* @__PURE__ */ (0, import_jsx_runtime39.jsx)("h3", { className: "text-lg font-medium text-gray-600 mb-2", children: "No Products Selected" }),
          /* @__PURE__ */ (0, import_jsx_runtime39.jsx)("p", { className: "text-sm text-gray-500 mb-4 max-w-sm mx-auto", children: "Search for products above to add them to your order. You can search by name, barcode, or description." })
        ] })
      ) : (
        /* Product List */
        /* @__PURE__ */ (0, import_jsx_runtime39.jsx)("div", { className: "space-y-3", children: orderItems.map((item, index) => /* @__PURE__ */ (0, import_jsx_runtime39.jsx)(
          OrderItemCard,
          {
            item,
            product: products.find((p) => p.id === item.productId),
            onRemove: onRemoveProduct,
            onUpdate: onUpdateOrderItem,
            orderType,
            pickupDate,
            returnDate,
            getProductAvailabilityStatus
          },
          index
        )) })
      ) })
    ] }) })
  ] }) });
};
var OrderItemCard = ({
  item,
  product,
  onRemove,
  onUpdate,
  orderType,
  pickupDate,
  returnDate,
  getProductAvailabilityStatus
}) => {
  const displayProduct = item.product || product;
  if (!displayProduct) {
    return /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)("div", { className: "p-4 bg-gray-50 rounded-lg border border-gray-100", children: [
      /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)("div", { className: "flex items-start gap-4 mb-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime39.jsx)("div", { className: "flex-shrink-0", children: /* @__PURE__ */ (0, import_jsx_runtime39.jsx)("div", { className: "w-16 h-16 rounded-lg overflow-hidden border border-gray-200 bg-gray-200 flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime39.jsx)(import_lucide_react16.Package, { className: "w-8 h-8 text-gray-400" }) }) }),
        /* @__PURE__ */ (0, import_jsx_runtime39.jsx)("div", { className: "flex-1 min-w-0", children: /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)("div", { className: "flex items-start justify-between", children: [
          /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)("h4", { className: "text-sm font-medium text-gray-900", children: [
              "Product ID: ",
              item.productId
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime39.jsx)("p", { className: "text-xs text-gray-500 mt-1", children: "Product information not available" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime39.jsx)(
            import_ui5.Button,
            {
              variant: "ghost",
              size: "icon",
              onClick: () => onRemove(item.productId),
              className: "text-red-500 hover:text-red-700 p-1 h-auto w-auto",
              title: "Remove product",
              children: /* @__PURE__ */ (0, import_jsx_runtime39.jsx)(import_lucide_react16.Trash2, { className: "w-4 h-4" })
            }
          )
        ] }) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)("div", { className: "grid grid-cols-2 gap-3 mb-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime39.jsx)("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Quantity" }),
          /* @__PURE__ */ (0, import_jsx_runtime39.jsx)(
            "input",
            {
              type: "number",
              value: item.quantity,
              onChange: (e) => onUpdate(item.productId, "quantity", parseInt(e.target.value) || 1),
              className: "w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",
              min: "1"
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime39.jsx)("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Unit Price" }),
          /* @__PURE__ */ (0, import_jsx_runtime39.jsx)(
            "input",
            {
              type: "number",
              value: item.unitPrice,
              onChange: (e) => onUpdate(item.productId, "unitPrice", parseFloat(e.target.value) || 0),
              className: "w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",
              step: "0.01",
              min: "0"
            }
          )
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)("div", { className: "mb-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime39.jsx)("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Notes" }),
        /* @__PURE__ */ (0, import_jsx_runtime39.jsx)(
          "textarea",
          {
            value: item.notes || "",
            onChange: (e) => onUpdate(item.productId, "notes", e.target.value),
            className: "w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",
            rows: 2,
            placeholder: "Add notes about this product..."
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)("div", { className: "flex justify-between items-center text-sm", children: [
        /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)("span", { className: "text-gray-600", children: [
          "Total: ",
          item.quantity,
          " \xD7 ",
          item.unitPrice,
          " \u20AB = ",
          item.quantity * item.unitPrice,
          " \u20AB"
        ] }),
        orderType === "RENT" && /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)("span", { className: "text-gray-600", children: [
          "Deposit: ",
          item.deposit || 0,
          " \u20AB"
        ] })
      ] })
    ] });
  }
  const imageUrl = displayProduct.images?.[0];
  return /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)("div", { className: "p-4 bg-gray-50 rounded-lg border border-gray-100", children: [
    /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)("div", { className: "flex items-start gap-4 mb-3", children: [
      /* @__PURE__ */ (0, import_jsx_runtime39.jsx)("div", { className: "flex-shrink-0", children: imageUrl ? /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)("div", { className: "w-16 h-16 rounded-lg overflow-hidden border border-gray-200", children: [
        /* @__PURE__ */ (0, import_jsx_runtime39.jsx)(
          "img",
          {
            src: imageUrl,
            alt: displayProduct.name || "Product",
            className: "w-full h-full object-cover",
            onError: (e) => {
              e.currentTarget.style.display = "none";
              e.currentTarget.nextElementSibling?.classList.remove("hidden");
            }
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime39.jsx)("div", { className: "hidden w-full h-16 bg-gray-100 flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime39.jsx)(import_lucide_react16.Package, { className: "w-8 h-8 text-gray-400" }) })
      ] }) : /* @__PURE__ */ (0, import_jsx_runtime39.jsx)("div", { className: "w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center border border-gray-200", children: /* @__PURE__ */ (0, import_jsx_runtime39.jsx)(import_lucide_react16.Package, { className: "w-8 h-8 text-gray-400" }) }) }),
      /* @__PURE__ */ (0, import_jsx_runtime39.jsx)("div", { className: "flex-1 min-w-0", children: /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)("div", { className: "flex items-start justify-between", children: [
        /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)("div", { className: "flex-1", children: [
          /* @__PURE__ */ (0, import_jsx_runtime39.jsx)("div", { className: "font-medium text-gray-900", children: displayProduct.name || "Unknown Product" }),
          /* @__PURE__ */ (0, import_jsx_runtime39.jsx)("div", { className: "text-sm text-gray-500", children: displayProduct.barcode || "No Barcode" }),
          orderType === "RENT" && /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)("div", { className: "mt-2", children: [
            product && /* @__PURE__ */ (0, import_jsx_runtime39.jsx)(
              import_ui6.ProductAvailabilityAsyncDisplay,
              {
                product,
                pickupDate,
                returnDate,
                requestedQuantity: item.quantity || 1,
                getProductAvailabilityStatus
              }
            ),
            !pickupDate || !returnDate ? /* @__PURE__ */ (0, import_jsx_runtime39.jsx)("div", { className: "text-xs text-gray-500 mt-1", children: "Select rental dates to check availability" }) : null
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime39.jsx)(
          import_ui5.Button,
          {
            type: "button",
            variant: "ghost",
            size: "sm",
            onClick: () => onRemove(item.productId),
            className: "shrink-0 h-8 w-8 p-0 text-red-600 hover:bg-red-50 hover:text-red-700 transition-colors duration-150",
            title: "Remove product",
            children: /* @__PURE__ */ (0, import_jsx_runtime39.jsx)(import_lucide_react16.Trash2, { className: "w-4 h-4" })
          }
        )
      ] }) })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-3", children: [
      /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime39.jsx)("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Quantity" }),
        /* @__PURE__ */ (0, import_jsx_runtime39.jsx)(
          import_ui5.Input,
          {
            type: "number",
            min: "1",
            value: item.quantity,
            onChange: (e) => onUpdate(item.productId, "quantity", parseInt(e.target.value) || 1),
            className: "h-8 text-sm"
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime39.jsx)("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Unit Price" }),
        /* @__PURE__ */ (0, import_jsx_runtime39.jsx)(
          import_ui5.Input,
          {
            type: "number",
            min: "0",
            step: "0.01",
            value: item.unitPrice,
            onChange: (e) => onUpdate(item.productId, "unitPrice", parseFloat(e.target.value) || 0),
            className: "h-8 text-sm"
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime39.jsx)("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Deposit" }),
        /* @__PURE__ */ (0, import_jsx_runtime39.jsx)(
          import_ui5.Input,
          {
            type: "number",
            min: "0",
            step: "0.01",
            value: item.deposit,
            onChange: (e) => onUpdate(item.productId, "deposit", parseFloat(e.target.value) || 0),
            className: "h-8 text-sm"
          }
        )
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)("div", { className: "mt-3", children: [
      /* @__PURE__ */ (0, import_jsx_runtime39.jsx)("label", { className: "block text-xs font-medium text-gray-700 mb-1", children: "Notes" }),
      /* @__PURE__ */ (0, import_jsx_runtime39.jsx)(
        import_ui5.Input,
        {
          value: item.notes,
          onChange: (e) => onUpdate(item.productId, "notes", e.target.value),
          placeholder: "Add notes for this item...",
          className: "h-8 text-sm"
        }
      )
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)("div", { className: "flex items-center justify-between mt-3 pt-3 border-t border-gray-200", children: [
      /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)("div", { className: "text-sm text-gray-600", children: [
        "Total: ",
        item.quantity,
        " \xD7 ",
        (0, import_utils13.formatCurrency)(item.unitPrice),
        " = ",
        (0, import_utils13.formatCurrency)(item.quantity * item.unitPrice)
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime39.jsxs)("div", { className: "text-sm text-gray-600", children: [
        "Deposit: ",
        (0, import_utils13.formatCurrency)(item.deposit)
      ] })
    ] })
  ] });
};

// src/components/forms/CreateOrderForm/components/OrderInfoSection.tsx
var import_react18 = require("react");
var import_ui7 = require("@rentalshop/ui");
var import_lucide_react17 = require("lucide-react");
var import_jsx_runtime40 = require("react/jsx-runtime");
var OrderInfoSection = ({
  formData,
  outlets,
  selectedCustomer,
  searchQuery,
  customerSearchResults,
  isLoadingCustomers,
  isEditMode,
  merchantData,
  onFormDataChange,
  onCustomerSelect,
  onCustomerClear,
  onSearchQueryChange,
  onCustomerSearch,
  onShowAddCustomerDialog,
  onUpdateRentalDates
}) => {
  const [showManualCustomerInput, setShowManualCustomerInput] = (0, import_react18.useState)(false);
  return /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)(import_ui7.Card, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime40.jsx)(import_ui7.CardHeader, { className: "pb-3", children: /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)(import_ui7.CardTitle, { className: "text-lg flex items-center gap-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime40.jsx)(import_lucide_react17.User, { className: "w-4 h-4" }),
      "Order Information"
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)(import_ui7.CardContent, { className: "space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)("div", { className: "space-y-2 w-full", children: [
        /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)("label", { className: "text-sm font-medium text-text-primary", children: [
          "Outlet ",
          /* @__PURE__ */ (0, import_jsx_runtime40.jsx)("span", { className: "text-red-500", children: "*" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)(
          import_ui7.Select,
          {
            value: formData.outletId ? String(formData.outletId) : void 0,
            onValueChange: (value) => {
              console.log("\u{1F50D} Outlet selection changed:", {
                previousValue: formData.outletId,
                newValue: value,
                convertedValue: value ? parseInt(value, 10) : void 0,
                outlets
              });
              const outletId = value ? parseInt(value, 10) : void 0;
              onFormDataChange("outletId", outletId);
            },
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime40.jsx)(import_ui7.SelectTrigger, { variant: "filled", className: "w-full", children: /* @__PURE__ */ (0, import_jsx_runtime40.jsx)(import_ui7.SelectValue, { placeholder: "Select outlet..." }) }),
              /* @__PURE__ */ (0, import_jsx_runtime40.jsx)(import_ui7.SelectContent, { children: outlets.map((outlet) => /* @__PURE__ */ (0, import_jsx_runtime40.jsx)(import_ui7.SelectItem, { value: String(outlet.id), children: outlet.name }, outlet.id)) })
            ]
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)("div", { className: "space-y-2 w-full", children: [
        /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)("label", { className: "text-sm font-medium text-text-primary", children: [
          "Order Type",
          isEditMode && /* @__PURE__ */ (0, import_jsx_runtime40.jsx)("span", { className: "ml-2 text-xs text-gray-500 font-normal", children: "(Cannot be changed when editing)" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)("div", { className: "grid grid-cols-2 gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime40.jsx)(
            import_ui7.Button,
            {
              type: "button",
              variant: formData.orderType === "RENT" ? "default" : "outline",
              disabled: isEditMode,
              onClick: () => {
                if (!isEditMode) {
                  onFormDataChange("orderType", "RENT");
                }
              },
              className: `h-10 px-4 py-2 ${isEditMode ? "opacity-50 cursor-not-allowed" : ""}`,
              children: "Rent"
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime40.jsx)(
            import_ui7.Button,
            {
              type: "button",
              variant: formData.orderType === "SALE" ? "default" : "outline",
              disabled: isEditMode,
              onClick: () => {
                if (!isEditMode) {
                  onFormDataChange("orderType", "SALE");
                  onFormDataChange("pickupPlanAt", "");
                  onFormDataChange("returnPlanAt", "");
                  onFormDataChange("depositAmount", 0);
                }
              },
              className: `h-10 px-4 py-2 ${isEditMode ? "opacity-50 cursor-not-allowed" : ""}`,
              children: "Sale"
            }
          )
        ] })
      ] }),
      formData.orderType === "RENT" && /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)("div", { className: "space-y-2 w-full", children: [
        console.log("\u{1F50D} OrderInfoSection - Rental Period Check:", {
          orderType: formData.orderType,
          hasMerchantData: !!merchantData,
          pricingType: merchantData?.pricingType,
          businessType: merchantData?.businessType
        }),
        merchantData ? /* @__PURE__ */ (0, import_jsx_runtime40.jsx)(
          import_ui7.RentalPeriodSelector,
          {
            product: {
              id: 0,
              // Placeholder - will be updated when product is selected
              name: "Rental Period",
              rentPrice: 0,
              // Will be calculated based on merchant pricing
              deposit: 0
            },
            merchant: merchantData,
            initialStartDate: formData.pickupPlanAt,
            initialEndDate: formData.returnPlanAt,
            onPeriodChange: (startAt, endAt) => {
              const startDate = startAt.toISOString().split("T")[0];
              const endDate = endAt.toISOString().split("T")[0];
              onFormDataChange("pickupPlanAt", startDate);
              onFormDataChange("returnPlanAt", endDate);
              onUpdateRentalDates(startDate, endDate);
            },
            onPriceChange: (pricing) => {
              console.log("Pricing updated:", pricing);
            }
          }
        ) : (
          // Fallback to basic DateRangePicker if no merchant data
          /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)("label", { className: "text-sm font-medium text-text-primary", children: [
              "Rental Period ",
              /* @__PURE__ */ (0, import_jsx_runtime40.jsx)("span", { className: "text-red-500", children: "*" })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime40.jsx)(
              import_ui7.DateRangePicker,
              {
                value: {
                  from: formData.pickupPlanAt ? new Date(formData.pickupPlanAt) : void 0,
                  to: formData.returnPlanAt ? new Date(formData.returnPlanAt) : void 0
                },
                onChange: (range) => {
                  const startDate = range.from ? range.from.toISOString().split("T")[0] : "";
                  const endDate = range.to ? range.to.toISOString().split("T")[0] : "";
                  onFormDataChange("pickupPlanAt", startDate);
                  onFormDataChange("returnPlanAt", endDate);
                  if (startDate && endDate) {
                    onUpdateRentalDates(startDate, endDate);
                  }
                },
                placeholder: "Select rental period",
                minDate: /* @__PURE__ */ new Date(),
                showPresets: false,
                format: "long"
              }
            )
          ] })
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)("div", { className: "space-y-2 w-full", children: [
        /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)("label", { className: "text-sm font-medium text-text-primary", children: [
          "Customer ",
          /* @__PURE__ */ (0, import_jsx_runtime40.jsx)("span", { className: "text-red-500", children: "*" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)("div", { className: "relative", children: [
          /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)("div", { className: "relative", children: [
            /* @__PURE__ */ (0, import_jsx_runtime40.jsx)(
              "input",
              {
                type: "text",
                placeholder: "Search customers by name or phone...",
                value: selectedCustomer ? `${selectedCustomer.firstName} ${selectedCustomer.lastName} - ${selectedCustomer.phone}` : searchQuery,
                onFocus: () => {
                  if (searchQuery.trim()) {
                    onCustomerSearch(searchQuery);
                  }
                },
                onChange: (e) => {
                  const query = e.target.value;
                  if (selectedCustomer && query !== `${selectedCustomer.firstName} ${selectedCustomer.lastName} - ${selectedCustomer.phone}`) {
                    onCustomerClear();
                  }
                  onSearchQueryChange(query);
                  if (query.trim()) {
                    onCustomerSearch(query);
                  }
                },
                className: `h-11 w-full rounded-lg border pl-4 pr-12 text-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-0 ${selectedCustomer ? "border-green-500 bg-green-50 text-green-900 font-medium" : "border-gray-300 bg-white text-gray-900 hover:border-gray-400 focus:border-blue-500 focus:ring-blue-100"}`
              }
            ),
            selectedCustomer ? /* @__PURE__ */ (0, import_jsx_runtime40.jsx)(
              import_ui7.Button,
              {
                variant: "ghost",
                size: "icon",
                type: "button",
                onClick: onCustomerClear,
                className: "absolute right-3 top-1/2 transform -translate-y-1/2 text-red-500 hover:text-red-700 transition-colors duration-150 h-6 w-6 p-0",
                title: "Clear selected customer",
                children: /* @__PURE__ */ (0, import_jsx_runtime40.jsx)(import_lucide_react17.X, { className: "w-4 h-4" })
              }
            ) : /* @__PURE__ */ (0, import_jsx_runtime40.jsx)(
              import_ui7.Button,
              {
                variant: "ghost",
                size: "icon",
                type: "button",
                onClick: () => {
                  if (searchQuery.trim()) {
                    onCustomerSearch(searchQuery);
                  }
                },
                className: "absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors duration-150 h-6 w-6 p-0",
                children: /* @__PURE__ */ (0, import_jsx_runtime40.jsx)(import_lucide_react17.Search, { className: "w-4 h-4" })
              }
            ),
            !selectedCustomer && (customerSearchResults.length > 0 || searchQuery.trim()) && /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)("div", { className: "absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto", children: [
              /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)(
                import_ui7.Button,
                {
                  variant: "ghost",
                  type: "button",
                  onClick: onShowAddCustomerDialog,
                  className: "w-full px-4 py-3 text-left hover:bg-blue-50 border-b border-gray-200 bg-blue-50/50 text-blue-700 font-medium h-auto justify-start rounded-none",
                  children: [
                    /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)("div", { className: "flex items-center gap-2", children: [
                      /* @__PURE__ */ (0, import_jsx_runtime40.jsx)(import_lucide_react17.Plus, { className: "w-4 h-4" }),
                      /* @__PURE__ */ (0, import_jsx_runtime40.jsx)("span", { children: "Add New Customer" })
                    ] }),
                    searchQuery.trim() && /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)("div", { className: "text-xs text-blue-600 mt-1", children: [
                      'Create customer: "',
                      searchQuery,
                      '"'
                    ] })
                  ]
                }
              ),
              customerSearchResults.length > 0 ? /* @__PURE__ */ (0, import_jsx_runtime40.jsx)(import_jsx_runtime40.Fragment, { children: customerSearchResults.map((customer) => /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)(
                import_ui7.Button,
                {
                  variant: "ghost",
                  type: "button",
                  onClick: () => {
                    onCustomerSelect(customer);
                    onSearchQueryChange(`${customer.firstName} ${customer.lastName} - ${customer.phone}`);
                  },
                  className: "w-full px-4 py-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-b-0 h-auto justify-start rounded-none",
                  children: [
                    /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)("div", { className: "font-medium text-gray-900", children: [
                      customer.firstName,
                      " ",
                      customer.lastName
                    ] }),
                    /* @__PURE__ */ (0, import_jsx_runtime40.jsx)("div", { className: "text-sm text-gray-600", children: customer.phone })
                  ]
                },
                customer.id
              )) }) : (
                /* No Results - Show Message */
                /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)("div", { className: "p-4 text-center", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)("div", { className: "text-sm text-gray-500", children: [
                    'No customers found for "',
                    searchQuery,
                    '"'
                  ] }),
                  /* @__PURE__ */ (0, import_jsx_runtime40.jsx)("div", { className: "text-xs text-gray-400 mt-1", children: 'Use the "Add New Customer" button above to create one' })
                ] })
              )
            ] })
          ] }),
          isLoadingCustomers && /* @__PURE__ */ (0, import_jsx_runtime40.jsx)("div", { className: "absolute right-3 top-1/2 transform -translate-y-1/2", children: /* @__PURE__ */ (0, import_jsx_runtime40.jsx)(import_ui7.Skeleton, { className: "w-4 h-4 rounded-full" }) })
        ] })
      ] }),
      formData.orderType === "RENT" && /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)("div", { className: "space-y-2 w-full", children: [
        /* @__PURE__ */ (0, import_jsx_runtime40.jsx)("label", { className: "text-sm font-medium text-text-primary", children: "Deposit" }),
        /* @__PURE__ */ (0, import_jsx_runtime40.jsx)(
          import_ui7.Input,
          {
            type: "number",
            placeholder: "Enter deposit amount...",
            value: formData.depositAmount || "",
            onChange: (e) => {
              const value = parseFloat(e.target.value) || 0;
              onFormDataChange("depositAmount", value);
            },
            className: "w-full"
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)("div", { className: "space-y-2 w-full", children: [
        /* @__PURE__ */ (0, import_jsx_runtime40.jsx)("label", { className: "text-sm font-medium text-text-primary", children: "Discount" }),
        /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)("div", { className: "grid grid-cols-3 gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime40.jsx)("div", { className: "col-span-2", children: /* @__PURE__ */ (0, import_jsx_runtime40.jsx)(
            import_ui7.Input,
            {
              type: "number",
              placeholder: "Discount amount...",
              value: formData.discountValue || "",
              onChange: (e) => {
                const value = parseFloat(e.target.value) || 0;
                onFormDataChange("discountValue", value);
              },
              className: "w-full"
            }
          ) }),
          /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)(
            import_ui7.Select,
            {
              value: formData.discountType,
              onValueChange: (value) => {
                onFormDataChange("discountType", value);
              },
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime40.jsx)(import_ui7.SelectTrigger, { variant: "filled", className: "w-full", children: /* @__PURE__ */ (0, import_jsx_runtime40.jsx)(import_ui7.SelectValue, {}) }),
                /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)(import_ui7.SelectContent, { children: [
                  /* @__PURE__ */ (0, import_jsx_runtime40.jsx)(import_ui7.SelectItem, { value: "amount", children: "$" }),
                  /* @__PURE__ */ (0, import_jsx_runtime40.jsx)(import_ui7.SelectItem, { value: "percentage", children: "%" })
                ] })
              ]
            }
          )
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime40.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime40.jsx)("label", { className: "text-sm font-medium text-text-primary", children: "Order Notes" }),
        /* @__PURE__ */ (0, import_jsx_runtime40.jsx)(
          import_ui7.Textarea,
          {
            placeholder: "Enter order notes...",
            value: formData.notes,
            onChange: (e) => onFormDataChange("notes", e.target.value),
            rows: 3
          }
        )
      ] })
    ] })
  ] });
};

// src/components/forms/CreateOrderForm/components/OrderSummarySection.tsx
var import_ui8 = require("@rentalshop/ui");
var import_lucide_react18 = require("lucide-react");
var import_utils14 = require("@rentalshop/utils");
var import_jsx_runtime41 = require("react/jsx-runtime");
var OrderSummarySection = ({
  formData,
  orderItems,
  isEditMode,
  loading,
  isFormValid,
  onPreviewClick,
  onCancel
}) => {
  return /* @__PURE__ */ (0, import_jsx_runtime41.jsxs)(import_ui8.Card, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime41.jsx)(import_ui8.CardHeader, { className: "pb-3", children: /* @__PURE__ */ (0, import_jsx_runtime41.jsx)(import_ui8.CardTitle, { className: "text-lg flex items-center gap-2", children: "Order Summary & Actions" }) }),
    /* @__PURE__ */ (0, import_jsx_runtime41.jsxs)(import_ui8.CardContent, { className: "space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime41.jsxs)("div", { className: "space-y-3 p-4 border border-border rounded-lg bg-bg-primary", children: [
        /* @__PURE__ */ (0, import_jsx_runtime41.jsx)("h4", { className: "font-medium text-text-primary", children: "Order Summary" }),
        formData.orderType === "RENT" && formData.pickupPlanAt && formData.returnPlanAt && /* @__PURE__ */ (0, import_jsx_runtime41.jsxs)("div", { className: "pb-2 mb-2 border-b border-border", children: [
          /* @__PURE__ */ (0, import_jsx_runtime41.jsxs)("div", { className: "flex justify-between text-sm mb-1", children: [
            /* @__PURE__ */ (0, import_jsx_runtime41.jsx)("span", { className: "text-text-secondary", children: "Rental Duration:" }),
            /* @__PURE__ */ (0, import_jsx_runtime41.jsx)("span", { className: "font-medium", children: (() => {
              const start = new Date(formData.pickupPlanAt);
              const end = new Date(formData.returnPlanAt);
              const days = Math.ceil((end.getTime() - start.getTime()) / (1e3 * 60 * 60 * 24));
              return `${days} ${days === 1 ? "day" : "days"}`;
            })() })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime41.jsxs)("div", { className: "flex justify-between text-xs text-text-tertiary", children: [
            /* @__PURE__ */ (0, import_jsx_runtime41.jsxs)("span", { children: [
              "From: ",
              new Date(formData.pickupPlanAt).toLocaleDateString("en-GB")
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime41.jsxs)("span", { children: [
              "To: ",
              new Date(formData.returnPlanAt).toLocaleDateString("en-GB")
            ] })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime41.jsxs)("div", { className: "flex justify-between text-sm", children: [
          /* @__PURE__ */ (0, import_jsx_runtime41.jsx)("span", { className: "text-text-secondary", children: "Subtotal:" }),
          /* @__PURE__ */ (0, import_jsx_runtime41.jsx)("span", { className: "font-medium", children: (0, import_utils14.formatCurrency)(formData.subtotal) })
        ] }),
        formData.discountAmount > 0 && /* @__PURE__ */ (0, import_jsx_runtime41.jsxs)("div", { className: "flex justify-between text-sm text-action-success", children: [
          /* @__PURE__ */ (0, import_jsx_runtime41.jsx)("span", { children: "Discount:" }),
          /* @__PURE__ */ (0, import_jsx_runtime41.jsxs)("span", { className: "font-medium", children: [
            "-",
            (0, import_utils14.formatCurrency)(formData.discountAmount)
          ] })
        ] }),
        formData.orderType === "RENT" && formData.depositAmount > 0 && /* @__PURE__ */ (0, import_jsx_runtime41.jsxs)("div", { className: "flex justify-between text-sm", children: [
          /* @__PURE__ */ (0, import_jsx_runtime41.jsx)("span", { className: "text-text-secondary", children: "Deposit:" }),
          /* @__PURE__ */ (0, import_jsx_runtime41.jsx)("span", { className: "font-medium", children: (0, import_utils14.formatCurrency)(formData.depositAmount) })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime41.jsxs)("div", { className: "flex justify-between text-lg font-bold text-action-primary pt-2 border-t border-border", children: [
          /* @__PURE__ */ (0, import_jsx_runtime41.jsx)("span", { children: "Grand Total:" }),
          /* @__PURE__ */ (0, import_jsx_runtime41.jsx)("span", { children: (0, import_utils14.formatCurrency)(formData.totalAmount) })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime41.jsxs)("div", { className: "p-3 bg-gray-50 border border-gray-200 rounded-lg", children: [
        /* @__PURE__ */ (0, import_jsx_runtime41.jsx)("h4", { className: "font-medium text-gray-700 mb-2", children: "Order Requirements:" }),
        /* @__PURE__ */ (0, import_jsx_runtime41.jsxs)("div", { className: "space-y-2 text-sm", children: [
          /* @__PURE__ */ (0, import_jsx_runtime41.jsxs)("div", { className: "flex items-center gap-2", children: [
            orderItems.length > 0 ? /* @__PURE__ */ (0, import_jsx_runtime41.jsx)(import_lucide_react18.CheckCircle, { className: "w-4 h-4 text-green-600" }) : /* @__PURE__ */ (0, import_jsx_runtime41.jsx)(import_lucide_react18.XCircle, { className: "w-4 h-4 text-red-500" }),
            /* @__PURE__ */ (0, import_jsx_runtime41.jsxs)("span", { className: orderItems.length > 0 ? "text-green-700" : "text-red-600", children: [
              orderItems.length > 0 ? "\u2713" : "\u2717",
              " Select at least one product",
              orderItems.length > 0 && ` (${orderItems.length} selected)`
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime41.jsxs)("div", { className: "flex items-center gap-2", children: [
            formData.customerId && formData.customerId > 0 ? /* @__PURE__ */ (0, import_jsx_runtime41.jsx)(import_lucide_react18.CheckCircle, { className: "w-4 h-4 text-green-600" }) : /* @__PURE__ */ (0, import_jsx_runtime41.jsx)(import_lucide_react18.XCircle, { className: "w-4 h-4 text-red-500" }),
            /* @__PURE__ */ (0, import_jsx_runtime41.jsxs)("span", { className: formData.customerId && formData.customerId > 0 ? "text-green-700" : "text-red-600", children: [
              formData.customerId && formData.customerId > 0 ? "\u2713" : "\u2717",
              " Customer information required"
            ] })
          ] }),
          formData.orderType === "RENT" && /* @__PURE__ */ (0, import_jsx_runtime41.jsxs)("div", { className: "flex items-center gap-2", children: [
            formData.pickupPlanAt && formData.returnPlanAt ? /* @__PURE__ */ (0, import_jsx_runtime41.jsx)(import_lucide_react18.CheckCircle, { className: "w-4 h-4 text-green-600" }) : /* @__PURE__ */ (0, import_jsx_runtime41.jsx)(import_lucide_react18.XCircle, { className: "w-4 h-4 text-red-500" }),
            /* @__PURE__ */ (0, import_jsx_runtime41.jsxs)("span", { className: formData.pickupPlanAt && formData.returnPlanAt ? "text-green-700" : "text-red-600", children: [
              formData.pickupPlanAt && formData.returnPlanAt ? "\u2713" : "\u2717",
              " Rental period required (pickup & return dates)"
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime41.jsxs)("div", { className: "flex items-center gap-2", children: [
            formData.outletId && formData.outletId > 0 ? /* @__PURE__ */ (0, import_jsx_runtime41.jsx)(import_lucide_react18.CheckCircle, { className: "w-4 h-4 text-green-600" }) : /* @__PURE__ */ (0, import_jsx_runtime41.jsx)(import_lucide_react18.XCircle, { className: "w-4 h-4 text-red-500" }),
            /* @__PURE__ */ (0, import_jsx_runtime41.jsxs)("span", { className: formData.outletId && formData.outletId > 0 ? "text-green-700" : "text-red-600", children: [
              formData.outletId && formData.outletId > 0 ? "\u2713" : "\u2717",
              " Outlet selection required"
            ] })
          ] })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime41.jsx)("div", { className: "space-y-4 pt-2", children: /* @__PURE__ */ (0, import_jsx_runtime41.jsxs)("div", { className: "flex gap-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime41.jsx)(
          import_ui8.Button,
          {
            type: "button",
            disabled: loading || !isFormValid,
            onClick: onPreviewClick,
            className: "flex-1",
            children: loading ? "Processing..." : isEditMode ? "Update Order" : "Preview"
          }
        ),
        onCancel && /* @__PURE__ */ (0, import_jsx_runtime41.jsx)(
          import_ui8.Button,
          {
            type: "button",
            variant: "outline",
            onClick: onCancel,
            className: "flex-1",
            children: isEditMode ? "Cancel" : "Reset Selection"
          }
        )
      ] }) })
    ] })
  ] });
};

// src/components/forms/CreateOrderForm/components/CustomerCreationDialog.tsx
var import_react20 = require("react");
var import_ui9 = require("@rentalshop/ui");

// src/components/features/Customers/components/AddCustomerForm.tsx
var import_react19 = require("react");
var import_lucide_react19 = require("lucide-react");
var import_jsx_runtime42 = require("react/jsx-runtime");
var AddCustomerForm = ({
  onSave,
  onCancel,
  isSubmitting: externalIsSubmitting
}) => {
  const [formData, setFormData] = (0, import_react19.useState)({
    firstName: "",
    lastName: "",
    email: "",
    phone: "",
    companyName: "",
    address: "",
    city: "",
    state: "",
    zipCode: "",
    country: "",
    status: "active",
    membershipLevel: "basic"
  });
  const [errors, setErrors] = (0, import_react19.useState)({});
  const [internalIsSubmitting, setInternalIsSubmitting] = (0, import_react19.useState)(false);
  const [errorMessage, setErrorMessage] = (0, import_react19.useState)(null);
  const [phoneWarning, setPhoneWarning] = (0, import_react19.useState)(null);
  const isSubmitting = externalIsSubmitting !== void 0 ? externalIsSubmitting : internalIsSubmitting;
  const handleInputChange = (field, value) => {
    setFormData((prev) => ({ ...prev, [field]: value }));
    if (errors[field]) {
      setErrors((prev) => ({ ...prev, [field]: "" }));
    }
    if (errorMessage) {
      setErrorMessage(null);
    }
  };
  const validateForm = () => {
    const newErrors = {};
    if (!formData.firstName.trim()) {
      newErrors.firstName = "First name is required";
    } else if (formData.firstName.trim().length < 2) {
      newErrors.firstName = "First name must be at least 2 characters";
    }
    if (!formData.lastName.trim()) {
      newErrors.lastName = "Last name is required";
    } else if (formData.lastName.trim().length < 2) {
      newErrors.lastName = "Last name must be at least 2 characters";
    }
    if (formData.email && formData.email.trim()) {
      if (!/\S+@\S+\.\S+/.test(formData.email.trim())) {
        newErrors.email = "Email is invalid";
      }
    }
    if (!formData.phone.trim()) {
      newErrors.phone = "Phone number is required";
    } else if (!/^[0-9+\-\s()]+$/.test(formData.phone.trim())) {
      newErrors.phone = "Phone number contains invalid characters";
    } else if (formData.phone.trim().length < 8) {
      newErrors.phone = "Phone number must be at least 8 digits";
    } else {
      const normalizedPhone = formData.phone.replace(/[\s\-\(\)\+]/g, "");
      if (normalizedPhone.length < 8) {
        newErrors.phone = "Phone number must contain at least 8 digits after removing formatting";
      }
    }
    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };
  const handleSubmit = async (e) => {
    e.preventDefault();
    if (!validateForm()) {
      return;
    }
    try {
      setInternalIsSubmitting(true);
      setErrorMessage(null);
      await onSave({
        ...formData
        // merchantId will be automatically determined from JWT token
        // Only ADMIN users need to send merchantId in request
      });
    } catch (error2) {
      let errorMessage2 = "An unexpected error occurred";
      if (error2 instanceof Error) {
        if (error2.message.includes("already exists")) {
          errorMessage2 = error2.message;
        } else if (error2.message.includes("duplicate")) {
          errorMessage2 = error2.message;
        } else if (error2.message.includes("DUPLICATE_PHONE")) {
          errorMessage2 = "A customer with this phone number already exists";
        } else if (error2.message.includes("DUPLICATE_EMAIL")) {
          errorMessage2 = "A customer with this email address already exists";
        } else {
          errorMessage2 = error2.message;
        }
      } else {
        errorMessage2 = "An unexpected error occurred";
      }
      setErrorMessage(errorMessage2);
    } finally {
      setInternalIsSubmitting(false);
    }
  };
  const handleCancel = () => {
    if (onCancel) {
      onCancel();
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime42.jsxs)("form", { onSubmit: handleSubmit, className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime42.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime42.jsxs)(CardContent2, { className: "pt-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime42.jsx)("h3", { className: "text-lg font-medium text-gray-900 mb-4", children: "Personal Information" }),
      /* @__PURE__ */ (0, import_jsx_runtime42.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime42.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime42.jsx)(Label2, { htmlFor: "firstName", children: "First Name *" }),
          /* @__PURE__ */ (0, import_jsx_runtime42.jsx)(
            Input2,
            {
              id: "firstName",
              type: "text",
              value: formData.firstName,
              onChange: (e) => handleInputChange("firstName", e.target.value),
              placeholder: "Enter first name",
              className: errors.firstName ? "border-red-500" : ""
            }
          ),
          errors.firstName && /* @__PURE__ */ (0, import_jsx_runtime42.jsx)("p", { className: "text-sm text-red-600", children: errors.firstName })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime42.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime42.jsx)(Label2, { htmlFor: "lastName", children: "Last Name *" }),
          /* @__PURE__ */ (0, import_jsx_runtime42.jsx)(
            Input2,
            {
              id: "lastName",
              type: "text",
              value: formData.lastName,
              onChange: (e) => handleInputChange("lastName", e.target.value),
              placeholder: "Enter last name",
              className: errors.lastName ? "border-red-500" : ""
            }
          ),
          errors.lastName && /* @__PURE__ */ (0, import_jsx_runtime42.jsx)("p", { className: "text-sm text-red-600", children: errors.lastName })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime42.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 mt-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime42.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime42.jsx)(Label2, { htmlFor: "email", children: "Email" }),
          /* @__PURE__ */ (0, import_jsx_runtime42.jsx)(
            Input2,
            {
              id: "email",
              type: "email",
              value: formData.email,
              onChange: (e) => handleInputChange("email", e.target.value),
              placeholder: "Enter email address (optional)",
              className: errors.email ? "border-red-500" : ""
            }
          ),
          errors.email && /* @__PURE__ */ (0, import_jsx_runtime42.jsx)("p", { className: "text-sm text-red-600", children: errors.email })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime42.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime42.jsx)(Label2, { htmlFor: "phone", children: "Phone *" }),
          /* @__PURE__ */ (0, import_jsx_runtime42.jsx)(
            Input2,
            {
              id: "phone",
              type: "tel",
              value: formData.phone,
              onChange: (e) => handleInputChange("phone", e.target.value),
              placeholder: "Enter phone number (e.g., +1234567890)",
              className: errors.phone ? "border-red-500" : "",
              required: true
            }
          ),
          errors.phone && /* @__PURE__ */ (0, import_jsx_runtime42.jsx)("p", { className: "text-sm text-red-600", children: errors.phone }),
          /* @__PURE__ */ (0, import_jsx_runtime42.jsx)("p", { className: "text-xs text-gray-500", children: "Format: numbers, +, -, spaces, parentheses. Min 8 characters." }),
          errorMessage && errorMessage.includes("Merchant ID is required") && /* @__PURE__ */ (0, import_jsx_runtime42.jsxs)("div", { className: "text-xs text-red-600 mt-1 space-y-1", children: [
            /* @__PURE__ */ (0, import_jsx_runtime42.jsx)("p", { children: "\u26A0\uFE0F  System Error: Merchant ID is missing." }),
            /* @__PURE__ */ (0, import_jsx_runtime42.jsx)("p", { children: "\u{1F527} Please contact support or refresh the page and try again." })
          ] })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime42.jsx)("div", { className: "mt-4", children: /* @__PURE__ */ (0, import_jsx_runtime42.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime42.jsx)(Label2, { htmlFor: "companyName", children: "Company Name" }),
        /* @__PURE__ */ (0, import_jsx_runtime42.jsx)(
          Input2,
          {
            id: "companyName",
            type: "text",
            value: formData.companyName,
            onChange: (e) => handleInputChange("companyName", e.target.value),
            placeholder: "Enter company name (optional)"
          }
        )
      ] }) })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime42.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime42.jsxs)(CardContent2, { className: "pt-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime42.jsx)("h3", { className: "text-lg font-medium text-gray-900 mb-4", children: "Address Information" }),
      /* @__PURE__ */ (0, import_jsx_runtime42.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime42.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime42.jsx)(Label2, { htmlFor: "address", children: "Street Address" }),
          /* @__PURE__ */ (0, import_jsx_runtime42.jsx)(
            Input2,
            {
              id: "address",
              type: "text",
              value: formData.address,
              onChange: (e) => handleInputChange("address", e.target.value),
              placeholder: "Enter street address (optional)"
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime42.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime42.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime42.jsx)(Label2, { htmlFor: "city", children: "City" }),
            /* @__PURE__ */ (0, import_jsx_runtime42.jsx)(
              Input2,
              {
                id: "city",
                type: "text",
                value: formData.city,
                onChange: (e) => handleInputChange("city", e.target.value),
                placeholder: "Enter city (optional)"
              }
            )
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime42.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime42.jsx)(Label2, { htmlFor: "state", children: "State/Province" }),
            /* @__PURE__ */ (0, import_jsx_runtime42.jsx)(
              Input2,
              {
                id: "state",
                type: "text",
                value: formData.state,
                onChange: (e) => handleInputChange("state", e.target.value),
                placeholder: "Enter state (optional)"
              }
            )
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime42.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime42.jsx)(Label2, { htmlFor: "zipCode", children: "ZIP/Postal Code" }),
            /* @__PURE__ */ (0, import_jsx_runtime42.jsx)(
              Input2,
              {
                id: "zipCode",
                type: "text",
                value: formData.zipCode,
                onChange: (e) => handleInputChange("zipCode", e.target.value),
                placeholder: "Enter ZIP code (optional)"
              }
            )
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime42.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime42.jsx)(Label2, { htmlFor: "country", children: "Country" }),
          /* @__PURE__ */ (0, import_jsx_runtime42.jsx)(
            Input2,
            {
              id: "country",
              type: "text",
              value: formData.country,
              onChange: (e) => handleInputChange("country", e.target.value),
              placeholder: "Enter country (optional)"
            }
          )
        ] })
      ] })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime42.jsxs)("div", { className: "flex justify-end space-x-3", children: [
      /* @__PURE__ */ (0, import_jsx_runtime42.jsxs)(
        Button,
        {
          type: "button",
          variant: "outline",
          onClick: handleCancel,
          disabled: isSubmitting,
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime42.jsx)(import_lucide_react19.X, { className: "w-4 h-4 mr-2" }),
            "Cancel"
          ]
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime42.jsxs)(
        Button,
        {
          type: "submit",
          disabled: isSubmitting,
          className: "bg-blue-600 hover:bg-blue-700 text-white",
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime42.jsx)(import_lucide_react19.Save, { className: "w-4 h-4 mr-2" }),
            isSubmitting ? "Creating..." : "Create Customer"
          ]
        }
      )
    ] })
  ] });
};

// src/components/forms/CreateOrderForm/components/CustomerCreationDialog.tsx
var import_jsx_runtime43 = require("react/jsx-runtime");
var CustomerCreationDialog = ({
  open,
  onOpenChange,
  onCustomerCreated,
  merchantId
}) => {
  const [isCreatingCustomer, setIsCreatingCustomer] = (0, import_react20.useState)(false);
  return /* @__PURE__ */ (0, import_jsx_runtime43.jsx)(import_ui9.Dialog, { open, onOpenChange, children: /* @__PURE__ */ (0, import_jsx_runtime43.jsxs)(import_ui9.DialogContent, { className: "max-w-5xl max-h-[95vh] overflow-y-auto p-0", children: [
    /* @__PURE__ */ (0, import_jsx_runtime43.jsx)(import_ui9.DialogHeader, { className: "px-6 py-4 border-b border-gray-200", children: /* @__PURE__ */ (0, import_jsx_runtime43.jsx)(import_ui9.DialogTitle, { className: "text-xl font-semibold text-gray-900", children: "Add New Customer" }) }),
    /* @__PURE__ */ (0, import_jsx_runtime43.jsx)("div", { className: "p-6", children: /* @__PURE__ */ (0, import_jsx_runtime43.jsx)(
      AddCustomerForm,
      {
        onSave: async (customerData) => {
          try {
            console.log("\u{1F50D} CustomerCreationDialog: Starting customer creation...");
            setIsCreatingCustomer(true);
            if (!merchantId) {
              throw new Error("Merchant ID is required to create a customer. Please ensure the form has access to merchant information.");
            }
            console.log("\u{1F50D} CustomerCreationDialog: Calling onCustomerCreated...");
            await onCustomerCreated(customerData);
            console.log("\u{1F50D} CustomerCreationDialog: Customer created successfully, closing dialog...");
            onOpenChange(false);
          } catch (error2) {
            console.error("\u274C CustomerCreationDialog: Error occurred:", error2);
            setIsCreatingCustomer(false);
            throw error2;
          } finally {
            console.log("\u{1F50D} CustomerCreationDialog: Finally block executed");
            setIsCreatingCustomer(false);
          }
        },
        onCancel: () => {
          onOpenChange(false);
        },
        isSubmitting: isCreatingCustomer
      }
    ) })
  ] }) });
};

// src/components/forms/CreateOrderForm/components/OrderPreviewDialog.tsx
var import_ui11 = require("@rentalshop/ui");

// src/components/forms/CreateOrderForm/components/OrderPreviewForm.tsx
var import_ui10 = require("@rentalshop/ui");
var import_utils15 = require("@rentalshop/utils");
var import_lucide_react20 = require("lucide-react");
var import_jsx_runtime44 = require("react/jsx-runtime");
var OrderPreviewForm = ({
  orderData,
  products,
  onConfirm,
  onEdit,
  onCancel,
  loading = false,
  confirmText = "Confirm Order",
  editText = "Edit Order",
  cancelText = "Cancel",
  showValidation = true,
  title = "Order Preview",
  subtitle = "Review your order details before confirming",
  className = ""
}) => {
  const getRentalDuration = () => {
    if (orderData.orderType === "RENT" && orderData.pickupPlanAt && orderData.returnPlanAt) {
      const start = new Date(orderData.pickupPlanAt);
      const end = new Date(orderData.returnPlanAt);
      const durationMs = end.getTime() - start.getTime();
      return Math.ceil(durationMs / (1e3 * 60 * 60 * 24));
    }
    return 0;
  };
  const getValidationWarnings = () => {
    if (!showValidation)
      return [];
    const warnings2 = [];
    if (!orderData.customerId && !orderData.customerName) {
      warnings2.push("Customer information is missing");
    }
    if (orderData.orderItems.length === 0) {
      warnings2.push("No order items added");
    }
    if (orderData.orderType === "RENT" && (!orderData.pickupPlanAt || !orderData.returnPlanAt)) {
      warnings2.push("Rental dates are not set");
    }
    if (orderData.totalAmount <= 0) {
      warnings2.push("Order total amount is invalid");
    }
    return warnings2;
  };
  const warnings = getValidationWarnings();
  const rentalDuration = getRentalDuration();
  return /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { className: `space-y-6 ${className}`, children: [
    /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { className: "text-center space-y-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("h2", { className: "text-2xl font-bold text-gray-900 flex items-center justify-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_lucide_react20.ShoppingCart, { className: "w-6 h-6 text-blue-600" }),
        title
      ] }),
      subtitle && /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("p", { className: "text-gray-600", children: subtitle })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)(import_ui10.Card, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_ui10.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)(import_ui10.CardTitle, { className: "text-lg font-semibold flex items-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_lucide_react20.Info, { className: "w-5 h-5 text-blue-600" }),
        "Order Summary"
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_ui10.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { className: "space-y-3", children: [
          /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_ui10.Badge, { variant: orderData.orderType === "RENT" ? "default" : "secondary", children: orderData.orderType }),
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("span", { className: "text-sm text-gray-600", children: "Order Type" })
          ] }),
          orderData.outletName && /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_lucide_react20.Package, { className: "w-4 h-4 text-gray-500" }),
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("span", { className: "text-sm font-medium", children: "Outlet:" }),
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("span", { className: "text-sm text-gray-600", children: orderData.outletName })
          ] }),
          orderData.orderType === "RENT" && /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)(import_jsx_runtime44.Fragment, { children: [
            /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_lucide_react20.Calendar, { className: "w-4 h-4 text-gray-500" }),
              /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("span", { className: "text-sm font-medium", children: "Pickup:" }),
              /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("span", { className: "text-sm text-gray-600", children: orderData.pickupPlanAt ? new Date(orderData.pickupPlanAt).toLocaleDateString() : "Not set" })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_lucide_react20.Calendar, { className: "w-4 h-4 text-gray-500" }),
              /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("span", { className: "text-sm font-medium", children: "Return:" }),
              /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("span", { className: "text-sm text-gray-600", children: orderData.returnPlanAt ? new Date(orderData.returnPlanAt).toLocaleDateString() : "Not set" })
            ] }),
            rentalDuration > 0 && /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_lucide_react20.Clock, { className: "w-4 h-4 text-gray-500" }),
              /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("span", { className: "text-sm font-medium", children: "Duration:" }),
              /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("span", { className: "text-sm text-gray-600", children: [
                rentalDuration,
                " days"
              ] })
            ] })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { className: "space-y-3", children: [
          /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_lucide_react20.User, { className: "w-4 h-4 text-gray-500" }),
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("span", { className: "text-sm font-medium", children: "Customer:" }),
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("span", { className: "text-sm text-gray-600", children: orderData.customerName || "Not selected" })
          ] }),
          orderData.customerPhone && /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_lucide_react20.Smartphone, { className: "w-4 h-4 text-gray-500" }),
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("span", { className: "text-sm font-medium", children: "Phone:" }),
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("span", { className: "text-sm text-gray-600", children: orderData.customerPhone })
          ] }),
          orderData.customerEmail && /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_lucide_react20.MessageSquare, { className: "w-4 h-4 text-gray-500" }),
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("span", { className: "text-sm font-medium", children: "Email:" }),
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("span", { className: "text-sm text-gray-600", children: orderData.customerEmail })
          ] })
        ] })
      ] }) })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)(import_ui10.Card, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_ui10.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)(import_ui10.CardTitle, { className: "text-lg font-semibold flex items-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_lucide_react20.Package, { className: "w-5 h-5 text-green-600" }),
        "Order Items (",
        orderData.orderItems.length,
        ")"
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_ui10.CardContent, { children: orderData.orderItems.length === 0 ? /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { className: "text-center py-8 text-gray-500", children: [
        /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_lucide_react20.Package, { className: "w-12 h-12 mx-auto mb-3 text-gray-300" }),
        /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("p", { children: "No items added to this order" })
      ] }) : /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)(import_jsx_runtime44.Fragment, { children: [
        console.log("\u{1F50D} OrderPreviewForm received orderItems:", orderData.orderItems),
        console.log("\u{1F50D} OrderPreviewForm orderItems length:", orderData.orderItems.length),
        /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { className: "border rounded-lg overflow-hidden", children: [
          /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { className: "bg-gray-50 px-4 py-2 text-sm text-gray-600", children: [
            "Debug: Showing ",
            orderData.orderItems.length,
            " order items"
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)(import_ui10.Table, { children: [
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_ui10.TableHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)(import_ui10.TableRow, { children: [
              /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_ui10.TableHead, { children: "Product" }),
              /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_ui10.TableHead, { children: "Quantity" }),
              /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_ui10.TableHead, { children: "Unit Price" }),
              /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_ui10.TableHead, { children: "Total Price" }),
              orderData.orderType === "RENT" && /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_ui10.TableHead, { children: "Deposit" })
            ] }) }),
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_ui10.TableBody, { children: orderData.orderItems.map((item, index) => {
              console.log(`\u{1F50D} Rendering order item ${index}:`, item);
              return /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)(import_ui10.TableRow, { className: "border-b", children: [
                /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_ui10.TableCell, { children: /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { className: "flex items-center gap-3", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("div", { className: "w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center", children: item.product?.images && item.product.images.length > 0 ? /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(
                    "img",
                    {
                      src: item.product.images[0],
                      alt: item.product.name,
                      className: "w-8 h-8 rounded object-cover"
                    }
                  ) : /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_lucide_react20.Package, { className: "w-5 h-5 text-gray-600" }) }),
                  /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { children: [
                    /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { className: "font-medium", children: [
                      item.product?.name || `Product ID: ${item.productId}`,
                      /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("span", { className: "text-xs text-blue-500 ml-2", children: [
                        "(Item #",
                        index + 1,
                        ")"
                      ] })
                    ] }),
                    /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("div", { className: "text-sm text-gray-500", children: item.product?.barcode || `Order item #${index + 1}` })
                  ] })
                ] }) }),
                /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_ui10.TableCell, { children: /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_ui10.Badge, { variant: "outline", children: item.quantity }) }),
                /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_ui10.TableCell, { className: "font-mono", children: (0, import_utils15.formatCurrency)(item.unitPrice) }),
                /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_ui10.TableCell, { className: "font-mono font-medium", children: (0, import_utils15.formatCurrency)(item.totalPrice) }),
                orderData.orderType === "RENT" && /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_ui10.TableCell, { className: "font-mono", children: (0, import_utils15.formatCurrency)(item.deposit || 0) })
              ] }, index);
            }) })
          ] })
        ] })
      ] }) })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)(import_ui10.Card, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_ui10.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)(import_ui10.CardTitle, { className: "text-lg font-semibold flex items-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_lucide_react20.DollarSign, { className: "w-5 h-5 text-green-600" }),
        "Financial Summary"
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_ui10.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { className: "space-y-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { className: "flex justify-between items-center", children: [
          /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("span", { className: "text-gray-600", children: "Subtotal:" }),
          /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("span", { className: "font-mono", children: (0, import_utils15.formatCurrency)(orderData.subtotal) })
        ] }),
        orderData.taxAmount && orderData.taxAmount > 0 && /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { className: "flex justify-between items-center", children: [
          /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("span", { className: "text-gray-600", children: "Tax:" }),
          /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("span", { className: "font-mono", children: (0, import_utils15.formatCurrency)(orderData.taxAmount) })
        ] }),
        orderData.discountAmount && orderData.discountAmount > 0 && /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { className: "flex justify-between items-center", children: [
          /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("span", { className: "text-gray-600", children: "Discount:" }),
          /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("span", { className: "font-mono text-green-600", children: [
            "-",
            (0, import_utils15.formatCurrency)(orderData.discountAmount)
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_ui10.Separator, {}),
        /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { className: "flex justify-between items-center text-lg font-bold", children: [
          /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("span", { children: "Total Amount:" }),
          /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("span", { className: "font-mono text-blue-600", children: (0, import_utils15.formatCurrency)(orderData.totalAmount) })
        ] }),
        orderData.depositAmount && orderData.depositAmount > 0 && /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)(import_jsx_runtime44.Fragment, { children: [
          /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { className: "flex justify-between items-center", children: [
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("span", { className: "text-gray-600", children: "Deposit Required:" }),
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("span", { className: "font-mono text-orange-600", children: (0, import_utils15.formatCurrency)(orderData.depositAmount) })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { className: "flex justify-between items-center", children: [
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("span", { className: "text-gray-600", children: "Remaining Balance:" }),
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("span", { className: "font-mono font-medium", children: (0, import_utils15.formatCurrency)(orderData.totalAmount - orderData.depositAmount) })
          ] })
        ] })
      ] }) })
    ] }),
    (orderData.notes || orderData.orderType === "RENT") && /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)(import_ui10.Card, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_ui10.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)(import_ui10.CardTitle, { className: "text-lg font-semibold flex items-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_lucide_react20.MessageSquare, { className: "w-5 h-5 text-purple-600" }),
        "Additional Information"
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_ui10.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { className: "space-y-3", children: [
        orderData.notes && /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("span", { className: "text-sm font-medium text-gray-700", children: "Notes:" }),
          /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("p", { className: "text-sm text-gray-600 mt-1", children: orderData.notes })
        ] }),
        orderData.orderType === "RENT" && /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
          orderData.securityDeposit && /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("span", { className: "text-sm font-medium text-gray-700", children: "Security Deposit:" }),
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("p", { className: "text-sm text-gray-600 mt-1", children: (0, import_utils15.formatCurrency)(orderData.securityDeposit) })
          ] }),
          orderData.damageFee && /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("span", { className: "text-sm font-medium text-gray-700", children: "Damage Fee:" }),
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("p", { className: "text-sm text-gray-600 mt-1", children: (0, import_utils15.formatCurrency)(orderData.damageFee) })
          ] }),
          orderData.lateFee && /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("span", { className: "text-sm font-medium text-gray-700", children: "Late Fee:" }),
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("p", { className: "text-sm text-gray-600 mt-1", children: (0, import_utils15.formatCurrency)(orderData.lateFee) })
          ] })
        ] })
      ] }) })
    ] }),
    warnings.length > 0 && /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)(import_ui10.Card, { className: "border-orange-200 bg-orange-50", children: [
      /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_ui10.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)(import_ui10.CardTitle, { className: "text-lg font-semibold flex items-center gap-2 text-orange-700", children: [
        /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_lucide_react20.AlertTriangle, { className: "w-5 h-5" }),
        "Validation Warnings"
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_ui10.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("ul", { className: "list-disc list-inside space-y-1 text-sm text-orange-700", children: warnings.map((warning2, index) => /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("li", { children: warning2 }, index)) }) })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)("div", { className: "flex justify-end gap-3 pt-6 border-t", children: [
      onCancel && /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)(
        import_ui10.Button,
        {
          variant: "outline",
          onClick: onCancel,
          className: "flex items-center gap-2",
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_lucide_react20.X, { className: "w-4 h-4" }),
            cancelText
          ]
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)(
        import_ui10.Button,
        {
          variant: "outline",
          onClick: onEdit,
          className: "flex items-center gap-2",
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_lucide_react20.ArrowLeft, { className: "w-4 h-4" }),
            editText
          ]
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(
        import_ui10.Button,
        {
          onClick: onConfirm,
          disabled: loading || warnings.length > 0,
          className: "flex items-center gap-2 bg-blue-600 hover:bg-blue-700",
          children: loading ? /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)(import_jsx_runtime44.Fragment, { children: [
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)("div", { className: "w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin" }),
            "Processing..."
          ] }) : /* @__PURE__ */ (0, import_jsx_runtime44.jsxs)(import_jsx_runtime44.Fragment, { children: [
            /* @__PURE__ */ (0, import_jsx_runtime44.jsx)(import_lucide_react20.CheckCircle, { className: "w-4 h-4" }),
            confirmText
          ] })
        }
      )
    ] })
  ] });
};

// src/components/forms/CreateOrderForm/components/OrderPreviewDialog.tsx
var import_lucide_react21 = require("lucide-react");
var import_jsx_runtime45 = require("react/jsx-runtime");
var OrderPreviewDialog = ({
  open,
  onOpenChange,
  orderData,
  products,
  onConfirm,
  onEdit,
  loading,
  confirmText,
  editText,
  title,
  subtitle
}) => {
  return /* @__PURE__ */ (0, import_jsx_runtime45.jsx)(import_ui11.Dialog, { open, onOpenChange, children: /* @__PURE__ */ (0, import_jsx_runtime45.jsxs)(import_ui11.DialogContent, { className: "max-w-4xl max-h-[90vh] overflow-y-auto", children: [
    /* @__PURE__ */ (0, import_jsx_runtime45.jsx)(import_ui11.DialogHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime45.jsxs)(import_ui11.DialogTitle, { className: "text-2xl font-bold flex items-center gap-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime45.jsx)(import_lucide_react21.ShoppingCart, { className: "w-6 h-6 text-blue-600" }),
      title
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime45.jsx)(
      OrderPreviewForm,
      {
        orderData,
        products,
        onConfirm,
        onEdit,
        loading,
        confirmText,
        editText,
        title,
        subtitle
      }
    )
  ] }) });
};

// src/components/forms/CreateOrderForm/CreateOrderForm.tsx
var import_jsx_runtime46 = require("react/jsx-runtime");
var CreateOrderForm = (props) => {
  const {
    customers = [],
    products = [],
    outlets = [],
    categories = [],
    onSubmit,
    onCancel,
    loading = false,
    layout = "split",
    merchantId,
    isEditMode = false,
    initialOrder,
    orderNumber,
    onFormReady
  } = props;
  const {
    formData,
    setFormData,
    orderItems,
    setOrderItems,
    isSubmitting,
    showOrderPreview,
    setShowOrderPreview,
    addProductToOrder,
    removeProductFromOrder,
    updateOrderItem,
    updateRentalDates,
    handlePreviewClick,
    handleOrderConfirm,
    handleSubmit,
    resetForm,
    calculateRentalDays
  } = useCreateOrderForm(props);
  const { validationErrors, validateForm, isFormValid } = useOrderValidation();
  const { isLoadingProducts, searchProductsForSelect, searchProducts } = useProductSearch();
  const {
    isLoadingCustomers,
    customerSearchResults,
    searchCustomers,
    clearCustomerSearchResults,
    setCustomerResults
  } = useCustomerSearch();
  const { user } = (0, import_hooks3.useAuth)();
  const merchantData = user?.merchant || null;
  console.log("\u{1F50D} CreateOrderForm - Merchant Data:", {
    hasUser: !!user,
    hasMerchant: !!merchantData,
    pricingType: merchantData?.pricingType,
    businessType: merchantData?.businessType,
    fullMerchant: merchantData
  });
  const [selectedCustomer, setSelectedCustomer] = (0, import_react21.useState)(() => {
    if (isEditMode && initialOrder?.customer) {
      return {
        id: parseInt(initialOrder.customerId) || 0,
        firstName: initialOrder.customer.firstName,
        lastName: initialOrder.customer.lastName,
        phone: initialOrder.customer.phone,
        email: initialOrder.customer.email || "",
        isActive: true,
        createdAt: /* @__PURE__ */ new Date(),
        updatedAt: /* @__PURE__ */ new Date(),
        merchantId: parseInt(initialOrder.customer.merchantId) || 0,
        merchant: {
          id: parseInt(initialOrder.customer.merchantId) || 0,
          name: initialOrder.customer.merchant?.name || ""
        }
      };
    }
    return null;
  });
  const [searchedProducts, setSearchedProducts] = (0, import_react21.useState)([]);
  const [searchQuery, setSearchQuery] = (0, import_react21.useState)(() => {
    if (isEditMode && initialOrder?.customer) {
      return `${initialOrder.customer.firstName} ${initialOrder.customer.lastName} - ${initialOrder.customer.phone}`;
    }
    return "";
  });
  (0, import_react21.useEffect)(() => {
    if (onFormReady) {
      onFormReady(resetForm);
    }
  }, [onFormReady, resetForm]);
  const [showAddCustomerDialog, setShowAddCustomerDialog] = (0, import_react21.useState)(false);
  const { calculateAvailability } = (0, import_hooks2.useProductAvailability)();
  const { toastSuccess, toastError, removeToast } = (0, import_ui12.useToast)();
  const handleProductSearch = (0, import_react21.useCallback)(async (query) => {
    try {
      const searchResults = await searchProducts(query);
      setSearchedProducts(searchResults);
      return searchResults.map((product) => ({
        value: String(product.id),
        label: product.name,
        image: product.images?.[0],
        subtitle: product.barcode ? `Barcode: ${product.barcode}` : "No Barcode",
        details: [
          `$${(product.rentPrice || 0).toFixed(2)}`,
          `Deposit: $${(product.deposit || 0).toFixed(2)}`,
          `Available: ${product.outletStock?.[0]?.available || 0}`,
          `Total Stock: ${product.outletStock?.[0]?.stock || 0}`,
          product.category?.name || "No Category"
        ].filter(Boolean),
        type: "product"
      }));
    } catch (error2) {
      console.error("Error searching products:", error2);
      return [];
    }
  }, [searchProducts]);
  const getProductAvailabilityStatus = (0, import_react21.useCallback)(async (product, startDate, endDate, requestedQuantity = import_constants6.BUSINESS.DEFAULT_QUANTITY) => {
    try {
      const outletStock = product.outletStock?.[0];
      const available = outletStock?.available ?? 0;
      const stock = outletStock?.stock ?? 0;
      const renting = outletStock?.renting ?? 0;
      const totalStock = stock;
      if (!startDate || !endDate) {
        if (available === 0) {
          return {
            status: "out-of-stock",
            text: "Out of Stock",
            color: "bg-red-100 text-red-600"
          };
        } else if (available <= import_constants6.VALIDATION.LOW_STOCK_THRESHOLD) {
          return {
            status: "low-stock",
            text: `Low Stock (${available})`,
            color: "bg-orange-100 text-orange-600"
          };
        } else {
          return {
            status: "available",
            text: `Available (${available})`,
            color: "bg-green-100 text-green-600"
          };
        }
      }
      const availability = calculateAvailability(
        {
          id: product.id,
          name: product.name,
          stock,
          renting,
          available
        },
        startDate,
        endDate,
        requestedQuantity
      );
      const availableQuantity = availability?.availableQuantity ?? 0;
      const isAvailable = availability?.available ?? false;
      if (isAvailable) {
        return {
          status: "available",
          text: `Available (${availableQuantity})`,
          color: "bg-green-100 text-green-600"
        };
      } else {
        return {
          status: "unavailable",
          text: `Unavailable (${availableQuantity}/${stock})`,
          color: "bg-red-100 text-red-600"
        };
      }
    } catch (error2) {
      console.error("Error checking availability:", error2);
      const outletStock = product.outletStock?.[0];
      const available = outletStock?.available ?? 0;
      if (available === 0) {
        return { status: "unknown", text: "Out of Stock", color: "bg-red-100 text-red-600" };
      } else if (available <= import_constants6.VALIDATION.LOW_STOCK_THRESHOLD) {
        return { status: "unknown", text: "Low Stock", color: "bg-orange-100 text-orange-600" };
      } else {
        return { status: "unknown", text: "In Stock", color: "bg-green-100 text-green-600" };
      }
    }
  }, [calculateAvailability]);
  const handleAddNewCustomer = (0, import_react21.useCallback)(async (customerData) => {
    try {
      console.log("\u{1F50D} handleAddNewCustomer: Starting customer creation...");
      const currentMerchantId = merchantId || outlets[0]?.merchantId;
      if (!currentMerchantId) {
        const errorMsg = "Merchant ID is required to create a customer. Please ensure the form has access to merchant information.";
        toastError("Error", errorMsg);
        throw new Error(errorMsg);
      }
      console.log("\u{1F50D} handleAddNewCustomer: Merchant ID found:", currentMerchantId);
      const normalizedPhone = customerData.phone.replace(/[\s\-\(\)\+]/g, "");
      const localDuplicate = customerSearchResults.find((customer) => {
        if (customer.phone) {
          const existingNormalizedPhone = customer.phone.replace(/[\s\-\(\)\+]/g, "");
          return normalizedPhone === existingNormalizedPhone;
        }
        return false;
      });
      if (localDuplicate) {
        const errorMsg = `A customer with phone number "${customerData.phone}" already exists (${localDuplicate.firstName} ${localDuplicate.lastName}). Please use a different phone number or search for the existing customer.`;
        toastError("Duplicate Customer", errorMsg);
        throw new Error(errorMsg);
      }
      console.log("\u{1F50D} handleAddNewCustomer: No local duplicates found, checking API...");
      const duplicateCheck = await import_utils16.customersApi.getCustomerByPhone(customerData.phone);
      if (duplicateCheck.success && duplicateCheck.data) {
        const existingCustomers = duplicateCheck.data.customers || duplicateCheck.data.customer || [];
        const customersArray = Array.isArray(existingCustomers) ? existingCustomers : [existingCustomers];
        for (const existingCustomer of customersArray) {
          if (existingCustomer.phone) {
            const existingNormalizedPhone = existingCustomer.phone.replace(/[\s\-\(\)\+]/g, "");
            if (normalizedPhone === existingNormalizedPhone) {
              const errorMsg = `A customer with phone number "${customerData.phone}" already exists (${existingCustomer.firstName} ${existingCustomer.lastName}). Please use a different phone number or search for the existing customer.`;
              toastError("Duplicate Customer", errorMsg);
              throw new Error(errorMsg);
            }
          }
        }
      }
      console.log("\u{1F50D} handleAddNewCustomer: No API duplicates found, creating customer...");
      const result = await import_utils16.customersApi.createCustomer({
        ...customerData,
        merchantId: currentMerchantId,
        isActive: true
      });
      console.log("\u{1F50D} handleAddNewCustomer: API response:", result);
      console.log("\u{1F50D} handleAddNewCustomer: result.success:", result.success);
      console.log("\u{1F50D} handleAddNewCustomer: result.data:", result.data);
      console.log("\u{1F50D} handleAddNewCustomer: result.data?.customer:", result.data?.customer);
      if (result.success && result.data && (result.data.customer || result.data.firstName)) {
        const newCustomer = result.data.customer || result.data;
        console.log("\u{1F50D} handleAddNewCustomer: Customer created successfully:", newCustomer);
        setCustomerResults([newCustomer, ...customerSearchResults]);
        setFormData((prev) => ({
          ...prev,
          customerId: Number(newCustomer.id)
        }));
        setSelectedCustomer(newCustomer);
        setSearchQuery(`${newCustomer.firstName} ${newCustomer.lastName} - ${newCustomer.phone}`);
        toastSuccess("Customer Created", `Customer "${newCustomer.firstName} ${newCustomer.lastName}" has been created and selected.`);
        console.log("\u{1F50D} handleAddNewCustomer: Function completed successfully");
      } else {
        const errorMessage = result.message || result.error || "Failed to create customer";
        console.error("\u274C handleAddNewCustomer: API error:", errorMessage);
        console.error("\u274C handleAddNewCustomer: Full result:", result);
        toastError("Error", errorMessage);
        throw new Error(errorMessage);
      }
    } catch (error2) {
      console.error("\u274C handleAddNewCustomer: Error occurred:", error2);
      throw error2;
    }
  }, [merchantId, outlets, customerSearchResults, setCustomerResults, setFormData, toastSuccess, toastError]);
  const handleCustomerSelect = (0, import_react21.useCallback)((customer) => {
    console.log("\u{1F50D} handleCustomerSelect: Customer selected:", customer);
    console.log("\u{1F50D} handleCustomerSelect: Customer ID:", customer.id);
    console.log("\u{1F50D} handleCustomerSelect: Customer ID type:", typeof customer.id);
    console.log("\u{1F50D} handleCustomerSelect: Full customer object keys:", Object.keys(customer));
    console.log("\u{1F50D} handleCustomerSelect: Customer id:", customer.id);
    const customerId = customer.id;
    console.log("\u{1F50D} handleCustomerSelect: Resolved customer ID:", customerId);
    setSelectedCustomer(customer);
    setFormData((prev) => {
      console.log("\u{1F50D} handleCustomerSelect: Previous formData:", prev);
      const newFormData = { ...prev, customerId };
      console.log("\u{1F50D} handleCustomerSelect: New formData:", newFormData);
      return newFormData;
    });
    setSearchQuery(`${customer.firstName} ${customer.lastName} - ${customer.phone}`);
  }, []);
  (0, import_react21.useEffect)(() => {
    if (isEditMode && initialOrder) {
      if (initialOrder.customer) {
        const customer = {
          id: parseInt(initialOrder.customerId) || 0,
          firstName: initialOrder.customer.firstName,
          lastName: initialOrder.customer.lastName,
          phone: initialOrder.customer.phone,
          email: initialOrder.customer.email || "",
          isActive: true,
          createdAt: /* @__PURE__ */ new Date(),
          updatedAt: /* @__PURE__ */ new Date(),
          merchantId: parseInt(initialOrder.customer.merchantId) || 0,
          merchant: { id: parseInt(initialOrder.customer.merchantId) || 0, name: "" }
        };
        setSelectedCustomer(customer);
        setSearchQuery(`${customer.firstName} ${customer.lastName} - ${customer.phone}`);
      }
    }
  }, [isEditMode, initialOrder]);
  const validateFormAndSubmit = (0, import_react21.useCallback)(async (e) => {
    e.preventDefault();
    if (isSubmitting)
      return;
    if (!validateForm(formData, orderItems)) {
      return;
    }
    await handleSubmit(e);
  }, [isSubmitting, validateForm, formData, orderItems, handleSubmit]);
  const isFormValidForUI = isFormValid(formData, orderItems);
  return /* @__PURE__ */ (0, import_jsx_runtime46.jsxs)("div", { className: "min-h-screen bg-bg-secondary", children: [
    /* @__PURE__ */ (0, import_jsx_runtime46.jsxs)("div", { className: "w-full", children: [
      /* @__PURE__ */ (0, import_jsx_runtime46.jsx)(
        OrderFormHeader,
        {
          orderNumber,
          isEditMode
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime46.jsxs)("div", { className: "flex flex-col lg:flex-row gap-4 p-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime46.jsx)("div", { className: "lg:w-[40%] space-y-4", children: /* @__PURE__ */ (0, import_jsx_runtime46.jsx)(
          ProductsSection,
          {
            orderItems,
            products: [...products, ...searchedProducts],
            onAddProduct: addProductToOrder,
            onRemoveProduct: removeProductFromOrder,
            onUpdateOrderItem: updateOrderItem,
            onSearchProducts: handleProductSearch,
            isLoadingProducts,
            orderType: formData.orderType,
            pickupDate: formData.pickupPlanAt,
            returnDate: formData.returnPlanAt,
            getProductAvailabilityStatus
          }
        ) }),
        /* @__PURE__ */ (0, import_jsx_runtime46.jsx)("div", { className: "lg:w-[30%] space-y-4", children: /* @__PURE__ */ (0, import_jsx_runtime46.jsx)(
          OrderInfoSection,
          {
            formData,
            outlets,
            selectedCustomer,
            searchQuery,
            customerSearchResults,
            isLoadingCustomers,
            isEditMode,
            merchantData,
            onFormDataChange: (field, value) => setFormData((prev) => ({ ...prev, [field]: value })),
            onCustomerSelect: handleCustomerSelect,
            onCustomerClear: () => {
              setSelectedCustomer(null);
              setSearchQuery("");
              setFormData((prev) => ({ ...prev, customerId: void 0 }));
            },
            onSearchQueryChange: setSearchQuery,
            onCustomerSearch: searchCustomers,
            onShowAddCustomerDialog: () => setShowAddCustomerDialog(true),
            onUpdateRentalDates: updateRentalDates
          }
        ) }),
        /* @__PURE__ */ (0, import_jsx_runtime46.jsx)("div", { className: "lg:w-[30%] space-y-4", children: /* @__PURE__ */ (0, import_jsx_runtime46.jsx)(
          OrderSummarySection,
          {
            formData,
            orderItems,
            isEditMode,
            loading: loading || isSubmitting,
            isFormValid: isFormValidForUI,
            onPreviewClick: handlePreviewClick,
            onCancel
          }
        ) })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime46.jsx)(
      CustomerCreationDialog,
      {
        open: showAddCustomerDialog,
        onOpenChange: setShowAddCustomerDialog,
        onCustomerCreated: handleAddNewCustomer,
        merchantId
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime46.jsx)(
      OrderPreviewDialog,
      {
        open: showOrderPreview,
        onOpenChange: setShowOrderPreview,
        orderData: {
          orderType: formData.orderType,
          customerId: formData.customerId || 0,
          customerName: selectedCustomer ? `${selectedCustomer.firstName} ${selectedCustomer.lastName}` : void 0,
          customerPhone: selectedCustomer?.phone,
          customerEmail: selectedCustomer?.email,
          outletId: formData.outletId || 0,
          outletName: outlets.find((o) => o.id === formData.outletId)?.name,
          pickupPlanAt: formData.pickupPlanAt,
          returnPlanAt: formData.returnPlanAt,
          subtotal: formData.subtotal,
          taxAmount: formData.taxAmount,
          discountAmount: formData.discountAmount,
          totalAmount: formData.totalAmount,
          depositAmount: formData.depositAmount,
          securityDeposit: formData.securityDeposit,
          lateFee: formData.lateFee,
          damageFee: formData.damageFee,
          notes: formData.notes,
          orderItems: (() => {
            console.log("\u{1F50D} Creating preview data - orderItems from state:", orderItems);
            console.log("\u{1F50D} Creating preview data - orderItems length:", orderItems.length);
            return orderItems.map((item) => ({
              productId: item.productId,
              product: item.product,
              // Include the full product information
              quantity: item.quantity,
              unitPrice: item.unitPrice,
              totalPrice: item.quantity * item.unitPrice,
              deposit: item.deposit ?? 0,
              // Ensure deposit is always a number
              notes: item.notes || ""
            }));
          })()
        },
        products,
        onConfirm: handleOrderConfirm,
        onEdit: () => setShowOrderPreview(false),
        loading: loading || isSubmitting,
        confirmText: isEditMode ? "Update Order" : "Confirm & Create Order",
        editText: "Back to Edit",
        title: "Order Preview",
        subtitle: "Review your order details before confirming"
      }
    ),
    "    "
  ] });
};

// src/components/forms/PlanForm.tsx
var import_react22 = require("react");
var import_lucide_react22 = require("lucide-react");
var import_constants7 = require("@rentalshop/constants");
var import_utils17 = require("@rentalshop/utils");
var import_jsx_runtime47 = require("react/jsx-runtime");
var PlanForm = ({
  initialData = {},
  onSubmit,
  onCancel,
  loading = false,
  title = "Plan Information",
  submitText = "Save Plan",
  mode = "create",
  hideHeader = false,
  hideSubmitButton = false,
  formId
}) => {
  const [formData, setFormData] = (0, import_react22.useState)({
    name: "",
    description: "",
    basePrice: 0,
    // ✅ Updated: Use basePrice instead of price
    currency: "USD",
    billingCycle: "monthly",
    billingCycleMonths: 1,
    trialDays: 0,
    maxOutlets: 1,
    maxUsers: 1,
    maxProducts: 10,
    maxCustomers: 50,
    features: [],
    isActive: true,
    isPopular: false,
    mobileOnly: false,
    // ✅ NEW: Default to false
    sortOrder: 0,
    ...initialData
  });
  const [errors, setErrors] = (0, import_react22.useState)({});
  const [isSubmitting, setIsSubmitting] = (0, import_react22.useState)(false);
  const [newFeature, setNewFeature] = (0, import_react22.useState)("");
  const handleInputChange = (field, value) => {
    setFormData((prev) => ({ ...prev, [field]: value }));
    if (errors[field]) {
      setErrors((prev) => ({ ...prev, [field]: "" }));
    }
  };
  const handleBillingCycleChange = (cycle) => {
    const cycleOption = import_constants7.BILLING_CYCLES.find((option) => option.value === cycle);
    setFormData((prev) => ({
      ...prev,
      billingCycle: cycle,
      billingCycleMonths: cycleOption?.months || 1
    }));
    if (errors.billingCycle) {
      setErrors((prev) => ({ ...prev, billingCycle: "" }));
    }
  };
  const validateForm = () => {
    const newErrors = {};
    if (!formData.name.trim()) {
      newErrors.name = "Plan name is required";
    }
    if (!formData.description.trim()) {
      newErrors.description = "Plan description is required";
    }
    if (formData.basePrice < 0) {
      newErrors.basePrice = "Price must be non-negative";
    }
    if (formData.trialDays < 0) {
      newErrors.trialDays = "Trial days must be non-negative";
    }
    if (formData.maxOutlets < -1) {
      newErrors.maxOutlets = "Max outlets must be -1 (unlimited) or positive";
    }
    if (formData.maxUsers < -1) {
      newErrors.maxUsers = "Max users must be -1 (unlimited) or positive";
    }
    if (formData.maxProducts < -1) {
      newErrors.maxProducts = "Max products must be -1 (unlimited) or positive";
    }
    if (formData.maxCustomers < -1) {
      newErrors.maxCustomers = "Max customers must be -1 (unlimited) or positive";
    }
    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };
  const handleSubmit = async (e) => {
    e.preventDefault();
    if (!validateForm()) {
      return;
    }
    setIsSubmitting(true);
    try {
      await onSubmit(formData);
    } catch (error2) {
      console.error("Error submitting plan:", error2);
    } finally {
      setIsSubmitting(false);
    }
  };
  const addFeature = () => {
    if (newFeature.trim() && !formData.features.includes(newFeature.trim())) {
      handleInputChange("features", [...formData.features, newFeature.trim()]);
      setNewFeature("");
    }
  };
  const removeFeature = (index) => {
    handleInputChange("features", formData.features.filter((_, i) => i !== index));
  };
  const getLimitText = (limit) => {
    return limit === -1 ? "Unlimited" : limit.toString();
  };
  const formatCurrency20 = (price, currency) => {
    return new Intl.NumberFormat("en-US", {
      style: "currency",
      currency: currency || "USD"
    }).format(price);
  };
  return /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "space-y-6", children: [
    !hideHeader && /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime47.jsx)("h2", { className: "text-2xl font-bold text-text-primary", children: title }),
        /* @__PURE__ */ (0, import_jsx_runtime47.jsx)("p", { className: "text-text-secondary mt-1", children: mode === "create" ? "Create a new subscription plan" : "Update plan information" })
      ] }),
      mode === "edit" && /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(Badge, { variant: formData.isActive ? "default" : "secondary", children: formData.isActive ? "Active" : "Inactive" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("form", { id: formId, onSubmit: handleSubmit, className: "space-y-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)(Card2, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)(CardTitle2, { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(import_lucide_react22.Package, { className: "w-5 h-5" }),
          "Basic Information"
        ] }) }),
        /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)(CardContent2, { className: "space-y-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
            /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "space-y-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(Label2, { htmlFor: "name", children: "Plan Name *" }),
              /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(
                Input2,
                {
                  id: "name",
                  value: formData.name,
                  onChange: (e) => handleInputChange("name", e.target.value),
                  placeholder: "Enter plan name",
                  className: errors.name ? "border-red-500" : ""
                }
              ),
              errors.name && /* @__PURE__ */ (0, import_jsx_runtime47.jsx)("p", { className: "text-sm text-red-500", children: errors.name })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "space-y-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(Label2, { htmlFor: "sortOrder", children: "Sort Order" }),
              /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(
                Input2,
                {
                  id: "sortOrder",
                  type: "number",
                  value: formData.sortOrder,
                  onChange: (e) => handleInputChange("sortOrder", parseInt(e.target.value) || 0),
                  placeholder: "0",
                  min: "0"
                }
              )
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(Label2, { htmlFor: "description", children: "Description *" }),
            /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(
              Textarea,
              {
                id: "description",
                value: formData.description,
                onChange: (e) => handleInputChange("description", e.target.value),
                placeholder: "Describe what this plan offers",
                rows: 3,
                className: errors.description ? "border-red-500" : ""
              }
            ),
            errors.description && /* @__PURE__ */ (0, import_jsx_runtime47.jsx)("p", { className: "text-sm text-red-500", children: errors.description })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "flex items-center space-x-4", children: [
            /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "flex items-center space-x-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(
                Switch,
                {
                  id: "isActive",
                  checked: formData.isActive,
                  onCheckedChange: (checked) => handleInputChange("isActive", checked)
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(Label2, { htmlFor: "isActive", children: "Active Plan" })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "flex items-center space-x-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(
                Switch,
                {
                  id: "isPopular",
                  checked: formData.isPopular,
                  onCheckedChange: (checked) => handleInputChange("isPopular", checked)
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)(Label2, { htmlFor: "isPopular", className: "flex items-center gap-1", children: [
                /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(import_lucide_react22.Star, { className: "w-4 h-4" }),
                "Popular Plan"
              ] })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "flex items-center space-x-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(
                Switch,
                {
                  id: "mobileOnly",
                  checked: formData.mobileOnly,
                  onCheckedChange: (checked) => handleInputChange("mobileOnly", checked)
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)(Label2, { htmlFor: "mobileOnly", className: "flex items-center gap-1", children: [
                /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(import_lucide_react22.Settings, { className: "w-4 h-4" }),
                "Mobile Only"
              ] })
            ] })
          ] })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)(Card2, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)(CardTitle2, { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(import_lucide_react22.DollarSign, { className: "w-5 h-5" }),
          "Pricing Information"
        ] }) }),
        /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)(CardContent2, { className: "space-y-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-4", children: [
            /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "space-y-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(Label2, { htmlFor: "basePrice", children: "Base Price *" }),
              /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(
                Input2,
                {
                  id: "basePrice",
                  type: "number",
                  step: "0.01",
                  value: formData.basePrice,
                  onChange: (e) => handleInputChange("basePrice", parseFloat(e.target.value) || 0),
                  placeholder: "0.00",
                  min: "0",
                  className: errors.basePrice ? "border-red-500" : ""
                }
              ),
              errors.basePrice && /* @__PURE__ */ (0, import_jsx_runtime47.jsx)("p", { className: "text-sm text-red-500", children: errors.basePrice })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "space-y-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(Label2, { htmlFor: "currency", children: "Currency" }),
              /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)(Select2, { value: formData.currency, onValueChange: (value) => handleInputChange("currency", value), children: [
                /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(SelectTrigger2, { children: /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(SelectValue2, {}) }),
                /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)(SelectContent2, { children: [
                  /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(SelectItem2, { value: "USD", children: "USD ($)" }),
                  /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(SelectItem2, { value: "VND", children: "VND (\u20AB)" }),
                  /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(SelectItem2, { value: "EUR", children: "EUR (\u20AC)" })
                ] })
              ] })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "space-y-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(Label2, { htmlFor: "billingCycle", children: "Billing Cycle" }),
              /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)(Select2, { value: formData.billingCycle, onValueChange: handleBillingCycleChange, children: [
                /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(SelectTrigger2, { children: /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(SelectValue2, {}) }),
                /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(SelectContent2, { children: import_constants7.BILLING_CYCLES.map((cycle) => /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(SelectItem2, { value: cycle.value, children: /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "flex flex-col", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime47.jsx)("span", { className: "font-medium", children: cycle.label }),
                  /* @__PURE__ */ (0, import_jsx_runtime47.jsx)("span", { className: "text-xs text-text-tertiary", children: cycle.description })
                ] }) }, cycle.value)) })
              ] })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(Label2, { htmlFor: "trialDays", children: "Trial Days" }),
            /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(
              Input2,
              {
                id: "trialDays",
                type: "number",
                value: formData.trialDays,
                onChange: (e) => handleInputChange("trialDays", parseInt(e.target.value) || 0),
                placeholder: "0",
                min: "0",
                className: errors.trialDays ? "border-red-500" : ""
              }
            ),
            errors.trialDays && /* @__PURE__ */ (0, import_jsx_runtime47.jsx)("p", { className: "text-sm text-red-500", children: errors.trialDays })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "bg-bg-secondary p-4 rounded-lg", children: [
            /* @__PURE__ */ (0, import_jsx_runtime47.jsx)("div", { className: "text-sm text-text-secondary mb-2", children: "Price Preview:" }),
            /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "text-2xl font-bold text-text-primary", children: [
              formatCurrency20(formData.basePrice, formData.currency),
              /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("span", { className: "text-lg text-text-secondary font-normal ml-2", children: [
                "/",
                (0, import_utils17.formatBillingCycle)(formData.billingCycle).toLowerCase()
              ] })
            ] }),
            (0, import_utils17.getBillingCycleDiscount)(formData.billingCycle) > 0 && /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "text-sm text-action-success mt-1", children: [
              (0, import_utils17.getBillingCycleDiscount)(formData.billingCycle),
              "% discount applied"
            ] }),
            formData.billingCycleMonths > 1 && /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "text-sm text-text-secondary mt-1", children: [
              "Total: ",
              formatCurrency20((0, import_utils17.calculateDiscountedPrice)(formData.basePrice, formData.billingCycle), formData.currency),
              " for ",
              formData.billingCycleMonths,
              " months"
            ] }),
            formData.trialDays > 0 && /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "text-sm text-action-primary mt-1", children: [
              formData.trialDays,
              "-day free trial"
            ] })
          ] })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)(Card2, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)(CardTitle2, { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(import_lucide_react22.Settings, { className: "w-5 h-5" }),
          "Usage Limits"
        ] }) }),
        /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)(CardContent2, { className: "space-y-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
            /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(
              LimitInput,
              {
                id: "maxOutlets",
                label: "Max Outlets",
                value: formData.maxOutlets,
                onChange: (value) => handleInputChange("maxOutlets", value),
                placeholder: "-1 (unlimited)",
                helpText: "Use -1 for unlimited",
                error: !!errors.maxOutlets
              }
            ),
            errors.maxOutlets && /* @__PURE__ */ (0, import_jsx_runtime47.jsx)("p", { className: "text-sm text-red-500", children: errors.maxOutlets }),
            /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(
              LimitInput,
              {
                id: "maxUsers",
                label: "Max Users",
                value: formData.maxUsers,
                onChange: (value) => handleInputChange("maxUsers", value),
                placeholder: "-1 (unlimited)",
                helpText: "Use -1 for unlimited",
                error: !!errors.maxUsers
              }
            ),
            errors.maxUsers && /* @__PURE__ */ (0, import_jsx_runtime47.jsx)("p", { className: "text-sm text-red-500", children: errors.maxUsers }),
            /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(
              LimitInput,
              {
                id: "maxProducts",
                label: "Max Products",
                value: formData.maxProducts,
                onChange: (value) => handleInputChange("maxProducts", value),
                placeholder: "-1 (unlimited)",
                helpText: "Use -1 for unlimited",
                error: !!errors.maxProducts
              }
            ),
            errors.maxProducts && /* @__PURE__ */ (0, import_jsx_runtime47.jsx)("p", { className: "text-sm text-red-500", children: errors.maxProducts }),
            /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(
              LimitInput,
              {
                id: "maxCustomers",
                label: "Max Customers",
                value: formData.maxCustomers,
                onChange: (value) => handleInputChange("maxCustomers", value),
                placeholder: "-1 (unlimited)",
                helpText: "Use -1 for unlimited",
                error: !!errors.maxCustomers
              }
            ),
            errors.maxCustomers && /* @__PURE__ */ (0, import_jsx_runtime47.jsx)("p", { className: "text-sm text-red-500", children: errors.maxCustomers })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "bg-bg-secondary p-4 rounded-lg", children: [
            /* @__PURE__ */ (0, import_jsx_runtime47.jsx)("div", { className: "text-sm text-text-secondary mb-2", children: "Limits Preview:" }),
            /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-4 text-sm", children: [
              /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { children: [
                /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "flex items-center gap-2", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(import_lucide_react22.Package, { className: "w-4 h-4 text-text-tertiary" }),
                  /* @__PURE__ */ (0, import_jsx_runtime47.jsx)("span", { className: "text-text-secondary", children: "Outlets:" })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime47.jsx)("div", { className: "font-medium text-text-primary", children: getLimitText(formData.maxOutlets) })
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { children: [
                /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "flex items-center gap-2", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(import_lucide_react22.Users, { className: "w-4 h-4 text-text-tertiary" }),
                  /* @__PURE__ */ (0, import_jsx_runtime47.jsx)("span", { className: "text-text-secondary", children: "Users:" })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime47.jsx)("div", { className: "font-medium text-text-primary", children: getLimitText(formData.maxUsers) })
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { children: [
                /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "flex items-center gap-2", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(import_lucide_react22.CreditCard, { className: "w-4 h-4 text-text-tertiary" }),
                  /* @__PURE__ */ (0, import_jsx_runtime47.jsx)("span", { className: "text-text-secondary", children: "Products:" })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime47.jsx)("div", { className: "font-medium text-text-primary", children: getLimitText(formData.maxProducts) })
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { children: [
                /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "flex items-center gap-2", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(import_lucide_react22.Users, { className: "w-4 h-4 text-text-tertiary" }),
                  /* @__PURE__ */ (0, import_jsx_runtime47.jsx)("span", { className: "text-text-secondary", children: "Customers:" })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime47.jsx)("div", { className: "font-medium text-text-primary", children: getLimitText(formData.maxCustomers) })
              ] })
            ] })
          ] })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)(Card2, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)(CardTitle2, { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(import_lucide_react22.CheckCircle, { className: "w-5 h-5" }),
          "Features"
        ] }) }),
        /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)(CardContent2, { className: "space-y-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "flex gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(
              Input2,
              {
                value: newFeature,
                onChange: (e) => setNewFeature(e.target.value),
                placeholder: "Add a feature...",
                onKeyPress: (e) => e.key === "Enter" && (e.preventDefault(), addFeature())
              }
            ),
            /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(Button, { type: "button", onClick: addFeature, disabled: !newFeature.trim(), children: /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(import_lucide_react22.Plus, { className: "w-4 h-4" }) })
          ] }),
          formData.features.length > 0 && /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime47.jsx)("div", { className: "text-sm font-medium text-text-primary", children: "Plan Features:" }),
            /* @__PURE__ */ (0, import_jsx_runtime47.jsx)("div", { className: "space-y-2", children: formData.features.map((feature, index) => /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "flex items-center justify-between bg-bg-secondary p-3 rounded-lg", children: [
              /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "flex items-center gap-2", children: [
                /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(import_lucide_react22.CheckCircle, { className: "w-4 h-4 text-action-success" }),
                /* @__PURE__ */ (0, import_jsx_runtime47.jsx)("span", { className: "text-sm text-text-primary", children: feature })
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(
                Button,
                {
                  type: "button",
                  variant: "ghost",
                  size: "sm",
                  onClick: () => removeFeature(index),
                  className: "h-8 w-8 p-0",
                  children: /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(import_lucide_react22.Trash2, { className: "w-4 h-4 text-text-tertiary" })
                }
              )
            ] }, index)) })
          ] })
        ] })
      ] }),
      !hideSubmitButton && /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)("div", { className: "flex items-center justify-end space-x-4", children: [
        onCancel && /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(Button, { type: "button", variant: "outline", onClick: onCancel, disabled: isSubmitting, children: "Cancel" }),
        /* @__PURE__ */ (0, import_jsx_runtime47.jsx)(Button, { type: "submit", disabled: isSubmitting || loading, children: isSubmitting ? /* @__PURE__ */ (0, import_jsx_runtime47.jsxs)(import_jsx_runtime47.Fragment, { children: [
          /* @__PURE__ */ (0, import_jsx_runtime47.jsx)("div", { className: "animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2" }),
          "Saving..."
        ] }) : submitText })
      ] })
    ] })
  ] });
};

// src/components/forms/LoginForm.tsx
var import_react24 = require("react");

// ../../node_modules/yup/index.esm.js
var import_property_expr = __toESM(require_property_expr());
var import_tiny_case = __toESM(require_tiny_case());
var import_toposort = __toESM(require_toposort());
var toString = Object.prototype.toString;
var errorToString = Error.prototype.toString;
var regExpToString = RegExp.prototype.toString;
var symbolToString = typeof Symbol !== "undefined" ? Symbol.prototype.toString : () => "";
var SYMBOL_REGEXP = /^Symbol\((.*)\)(.*)$/;
function printNumber(val) {
  if (val != +val)
    return "NaN";
  const isNegativeZero = val === 0 && 1 / val < 0;
  return isNegativeZero ? "-0" : "" + val;
}
function printSimpleValue(val, quoteStrings = false) {
  if (val == null || val === true || val === false)
    return "" + val;
  const typeOf = typeof val;
  if (typeOf === "number")
    return printNumber(val);
  if (typeOf === "string")
    return quoteStrings ? `"${val}"` : val;
  if (typeOf === "function")
    return "[Function " + (val.name || "anonymous") + "]";
  if (typeOf === "symbol")
    return symbolToString.call(val).replace(SYMBOL_REGEXP, "Symbol($1)");
  const tag = toString.call(val).slice(8, -1);
  if (tag === "Date")
    return isNaN(val.getTime()) ? "" + val : val.toISOString(val);
  if (tag === "Error" || val instanceof Error)
    return "[" + errorToString.call(val) + "]";
  if (tag === "RegExp")
    return regExpToString.call(val);
  return null;
}
function printValue(value, quoteStrings) {
  let result = printSimpleValue(value, quoteStrings);
  if (result !== null)
    return result;
  return JSON.stringify(value, function(key, value2) {
    let result2 = printSimpleValue(this[key], quoteStrings);
    if (result2 !== null)
      return result2;
    return value2;
  }, 2);
}
function toArray(value) {
  return value == null ? [] : [].concat(value);
}
var _Symbol$toStringTag;
var _Symbol$hasInstance;
var _Symbol$toStringTag2;
var strReg = /\$\{\s*(\w+)\s*\}/g;
_Symbol$toStringTag = Symbol.toStringTag;
var ValidationErrorNoStack = class {
  constructor(errorOrErrors, value, field, type) {
    this.name = void 0;
    this.message = void 0;
    this.value = void 0;
    this.path = void 0;
    this.type = void 0;
    this.params = void 0;
    this.errors = void 0;
    this.inner = void 0;
    this[_Symbol$toStringTag] = "Error";
    this.name = "ValidationError";
    this.value = value;
    this.path = field;
    this.type = type;
    this.errors = [];
    this.inner = [];
    toArray(errorOrErrors).forEach((err) => {
      if (ValidationError.isError(err)) {
        this.errors.push(...err.errors);
        const innerErrors = err.inner.length ? err.inner : [err];
        this.inner.push(...innerErrors);
      } else {
        this.errors.push(err);
      }
    });
    this.message = this.errors.length > 1 ? `${this.errors.length} errors occurred` : this.errors[0];
  }
};
_Symbol$hasInstance = Symbol.hasInstance;
_Symbol$toStringTag2 = Symbol.toStringTag;
var ValidationError = class _ValidationError extends Error {
  static formatError(message, params) {
    const path = params.label || params.path || "this";
    params = Object.assign({}, params, {
      path,
      originalPath: params.path
    });
    if (typeof message === "string")
      return message.replace(strReg, (_, key) => printValue(params[key]));
    if (typeof message === "function")
      return message(params);
    return message;
  }
  static isError(err) {
    return err && err.name === "ValidationError";
  }
  constructor(errorOrErrors, value, field, type, disableStack) {
    const errorNoStack = new ValidationErrorNoStack(errorOrErrors, value, field, type);
    if (disableStack) {
      return errorNoStack;
    }
    super();
    this.value = void 0;
    this.path = void 0;
    this.type = void 0;
    this.params = void 0;
    this.errors = [];
    this.inner = [];
    this[_Symbol$toStringTag2] = "Error";
    this.name = errorNoStack.name;
    this.message = errorNoStack.message;
    this.type = errorNoStack.type;
    this.value = errorNoStack.value;
    this.path = errorNoStack.path;
    this.errors = errorNoStack.errors;
    this.inner = errorNoStack.inner;
    if (Error.captureStackTrace) {
      Error.captureStackTrace(this, _ValidationError);
    }
  }
  static [_Symbol$hasInstance](inst) {
    return ValidationErrorNoStack[Symbol.hasInstance](inst) || super[Symbol.hasInstance](inst);
  }
};
var mixed = {
  default: "${path} is invalid",
  required: "${path} is a required field",
  defined: "${path} must be defined",
  notNull: "${path} cannot be null",
  oneOf: "${path} must be one of the following values: ${values}",
  notOneOf: "${path} must not be one of the following values: ${values}",
  notType: ({
    path,
    type,
    value,
    originalValue
  }) => {
    const castMsg = originalValue != null && originalValue !== value ? ` (cast from the value \`${printValue(originalValue, true)}\`).` : ".";
    return type !== "mixed" ? `${path} must be a \`${type}\` type, but the final value was: \`${printValue(value, true)}\`` + castMsg : `${path} must match the configured type. The validated value was: \`${printValue(value, true)}\`` + castMsg;
  }
};
var string = {
  length: "${path} must be exactly ${length} characters",
  min: "${path} must be at least ${min} characters",
  max: "${path} must be at most ${max} characters",
  matches: '${path} must match the following: "${regex}"',
  email: "${path} must be a valid email",
  url: "${path} must be a valid URL",
  uuid: "${path} must be a valid UUID",
  datetime: "${path} must be a valid ISO date-time",
  datetime_precision: "${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",
  datetime_offset: '${path} must be a valid ISO date-time with UTC "Z" timezone',
  trim: "${path} must be a trimmed string",
  lowercase: "${path} must be a lowercase string",
  uppercase: "${path} must be a upper case string"
};
var number = {
  min: "${path} must be greater than or equal to ${min}",
  max: "${path} must be less than or equal to ${max}",
  lessThan: "${path} must be less than ${less}",
  moreThan: "${path} must be greater than ${more}",
  positive: "${path} must be a positive number",
  negative: "${path} must be a negative number",
  integer: "${path} must be an integer"
};
var date = {
  min: "${path} field must be later than ${min}",
  max: "${path} field must be at earlier than ${max}"
};
var boolean = {
  isValue: "${path} field must be ${value}"
};
var object = {
  noUnknown: "${path} field has unspecified keys: ${unknown}",
  exact: "${path} object contains unknown properties: ${properties}"
};
var array = {
  min: "${path} field must have at least ${min} items",
  max: "${path} field must have less than or equal to ${max} items",
  length: "${path} must have ${length} items"
};
var tuple = {
  notType: (params) => {
    const {
      path,
      value,
      spec
    } = params;
    const typeLen = spec.types.length;
    if (Array.isArray(value)) {
      if (value.length < typeLen)
        return `${path} tuple value has too few items, expected a length of ${typeLen} but got ${value.length} for value: \`${printValue(value, true)}\``;
      if (value.length > typeLen)
        return `${path} tuple value has too many items, expected a length of ${typeLen} but got ${value.length} for value: \`${printValue(value, true)}\``;
    }
    return ValidationError.formatError(mixed.notType, params);
  }
};
var locale = Object.assign(/* @__PURE__ */ Object.create(null), {
  mixed,
  string,
  number,
  date,
  object,
  array,
  boolean,
  tuple
});
var isSchema = (obj) => obj && obj.__isYupSchema__;
var Condition = class _Condition {
  static fromOptions(refs, config) {
    if (!config.then && !config.otherwise)
      throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");
    let {
      is,
      then,
      otherwise
    } = config;
    let check = typeof is === "function" ? is : (...values) => values.every((value) => value === is);
    return new _Condition(refs, (values, schema) => {
      var _branch;
      let branch = check(...values) ? then : otherwise;
      return (_branch = branch == null ? void 0 : branch(schema)) != null ? _branch : schema;
    });
  }
  constructor(refs, builder) {
    this.fn = void 0;
    this.refs = refs;
    this.refs = refs;
    this.fn = builder;
  }
  resolve(base, options) {
    let values = this.refs.map((ref) => (
      // TODO: ? operator here?
      ref.getValue(options == null ? void 0 : options.value, options == null ? void 0 : options.parent, options == null ? void 0 : options.context)
    ));
    let schema = this.fn(values, base, options);
    if (schema === void 0 || // @ts-ignore this can be base
    schema === base) {
      return base;
    }
    if (!isSchema(schema))
      throw new TypeError("conditions must return a schema object");
    return schema.resolve(options);
  }
};
var prefixes = {
  context: "$",
  value: "."
};
function create$9(key, options) {
  return new Reference(key, options);
}
var Reference = class {
  constructor(key, options = {}) {
    this.key = void 0;
    this.isContext = void 0;
    this.isValue = void 0;
    this.isSibling = void 0;
    this.path = void 0;
    this.getter = void 0;
    this.map = void 0;
    if (typeof key !== "string")
      throw new TypeError("ref must be a string, got: " + key);
    this.key = key.trim();
    if (key === "")
      throw new TypeError("ref must be a non-empty string");
    this.isContext = this.key[0] === prefixes.context;
    this.isValue = this.key[0] === prefixes.value;
    this.isSibling = !this.isContext && !this.isValue;
    let prefix = this.isContext ? prefixes.context : this.isValue ? prefixes.value : "";
    this.path = this.key.slice(prefix.length);
    this.getter = this.path && (0, import_property_expr.getter)(this.path, true);
    this.map = options.map;
  }
  getValue(value, parent, context) {
    let result = this.isContext ? context : this.isValue ? value : parent;
    if (this.getter)
      result = this.getter(result || {});
    if (this.map)
      result = this.map(result);
    return result;
  }
  /**
   *
   * @param {*} value
   * @param {Object} options
   * @param {Object=} options.context
   * @param {Object=} options.parent
   */
  cast(value, options) {
    return this.getValue(value, options == null ? void 0 : options.parent, options == null ? void 0 : options.context);
  }
  resolve() {
    return this;
  }
  describe() {
    return {
      type: "ref",
      key: this.key
    };
  }
  toString() {
    return `Ref(${this.key})`;
  }
  static isRef(value) {
    return value && value.__isYupRef;
  }
};
Reference.prototype.__isYupRef = true;
var isAbsent = (value) => value == null;
function createValidation(config) {
  function validate({
    value,
    path = "",
    options,
    originalValue,
    schema
  }, panic, next) {
    const {
      name,
      test,
      params,
      message,
      skipAbsent
    } = config;
    let {
      parent,
      context,
      abortEarly = schema.spec.abortEarly,
      disableStackTrace = schema.spec.disableStackTrace
    } = options;
    const resolveOptions = {
      value,
      parent,
      context
    };
    function createError(overrides = {}) {
      const nextParams = resolveParams(Object.assign({
        value,
        originalValue,
        label: schema.spec.label,
        path: overrides.path || path,
        spec: schema.spec,
        disableStackTrace: overrides.disableStackTrace || disableStackTrace
      }, params, overrides.params), resolveOptions);
      const error2 = new ValidationError(ValidationError.formatError(overrides.message || message, nextParams), value, nextParams.path, overrides.type || name, nextParams.disableStackTrace);
      error2.params = nextParams;
      return error2;
    }
    const invalid = abortEarly ? panic : next;
    let ctx = {
      path,
      parent,
      type: name,
      from: options.from,
      createError,
      resolve(item) {
        return resolveMaybeRef(item, resolveOptions);
      },
      options,
      originalValue,
      schema
    };
    const handleResult = (validOrError) => {
      if (ValidationError.isError(validOrError))
        invalid(validOrError);
      else if (!validOrError)
        invalid(createError());
      else
        next(null);
    };
    const handleError = (err) => {
      if (ValidationError.isError(err))
        invalid(err);
      else
        panic(err);
    };
    const shouldSkip = skipAbsent && isAbsent(value);
    if (shouldSkip) {
      return handleResult(true);
    }
    let result;
    try {
      var _result;
      result = test.call(ctx, value, ctx);
      if (typeof ((_result = result) == null ? void 0 : _result.then) === "function") {
        if (options.sync) {
          throw new Error(`Validation test of type: "${ctx.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);
        }
        return Promise.resolve(result).then(handleResult, handleError);
      }
    } catch (err) {
      handleError(err);
      return;
    }
    handleResult(result);
  }
  validate.OPTIONS = config;
  return validate;
}
function resolveParams(params, options) {
  if (!params)
    return params;
  for (const key of Object.keys(params)) {
    params[key] = resolveMaybeRef(params[key], options);
  }
  return params;
}
function resolveMaybeRef(item, options) {
  return Reference.isRef(item) ? item.getValue(options.value, options.parent, options.context) : item;
}
function getIn(schema, path, value, context = value) {
  let parent, lastPart, lastPartDebug;
  if (!path)
    return {
      parent,
      parentPath: path,
      schema
    };
  (0, import_property_expr.forEach)(path, (_part, isBracket, isArray2) => {
    let part = isBracket ? _part.slice(1, _part.length - 1) : _part;
    schema = schema.resolve({
      context,
      parent,
      value
    });
    let isTuple = schema.type === "tuple";
    let idx = isArray2 ? parseInt(part, 10) : 0;
    if (schema.innerType || isTuple) {
      if (isTuple && !isArray2)
        throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${lastPartDebug}" must contain an index to the tuple element, e.g. "${lastPartDebug}[0]"`);
      if (value && idx >= value.length) {
        throw new Error(`Yup.reach cannot resolve an array item at index: ${_part}, in the path: ${path}. because there is no value at that index. `);
      }
      parent = value;
      value = value && value[idx];
      schema = isTuple ? schema.spec.types[idx] : schema.innerType;
    }
    if (!isArray2) {
      if (!schema.fields || !schema.fields[part])
        throw new Error(`The schema does not contain the path: ${path}. (failed at: ${lastPartDebug} which is a type: "${schema.type}")`);
      parent = value;
      value = value && value[part];
      schema = schema.fields[part];
    }
    lastPart = part;
    lastPartDebug = isBracket ? "[" + _part + "]" : "." + _part;
  });
  return {
    schema,
    parent,
    parentPath: lastPart
  };
}
var ReferenceSet = class _ReferenceSet extends Set {
  describe() {
    const description = [];
    for (const item of this.values()) {
      description.push(Reference.isRef(item) ? item.describe() : item);
    }
    return description;
  }
  resolveAll(resolve) {
    let result = [];
    for (const item of this.values()) {
      result.push(resolve(item));
    }
    return result;
  }
  clone() {
    return new _ReferenceSet(this.values());
  }
  merge(newItems, removeItems) {
    const next = this.clone();
    newItems.forEach((value) => next.add(value));
    removeItems.forEach((value) => next.delete(value));
    return next;
  }
};
function clone(src, seen = /* @__PURE__ */ new Map()) {
  if (isSchema(src) || !src || typeof src !== "object")
    return src;
  if (seen.has(src))
    return seen.get(src);
  let copy;
  if (src instanceof Date) {
    copy = new Date(src.getTime());
    seen.set(src, copy);
  } else if (src instanceof RegExp) {
    copy = new RegExp(src);
    seen.set(src, copy);
  } else if (Array.isArray(src)) {
    copy = new Array(src.length);
    seen.set(src, copy);
    for (let i = 0; i < src.length; i++)
      copy[i] = clone(src[i], seen);
  } else if (src instanceof Map) {
    copy = /* @__PURE__ */ new Map();
    seen.set(src, copy);
    for (const [k, v] of src.entries())
      copy.set(k, clone(v, seen));
  } else if (src instanceof Set) {
    copy = /* @__PURE__ */ new Set();
    seen.set(src, copy);
    for (const v of src)
      copy.add(clone(v, seen));
  } else if (src instanceof Object) {
    copy = {};
    seen.set(src, copy);
    for (const [k, v] of Object.entries(src))
      copy[k] = clone(v, seen);
  } else {
    throw Error(`Unable to clone ${src}`);
  }
  return copy;
}
function createStandardPath(path) {
  if (!(path != null && path.length)) {
    return void 0;
  }
  const segments = [];
  let currentSegment = "";
  let inBrackets = false;
  let inQuotes = false;
  for (let i = 0; i < path.length; i++) {
    const char = path[i];
    if (char === "[" && !inQuotes) {
      if (currentSegment) {
        segments.push(...currentSegment.split(".").filter(Boolean));
        currentSegment = "";
      }
      inBrackets = true;
      continue;
    }
    if (char === "]" && !inQuotes) {
      if (currentSegment) {
        if (/^\d+$/.test(currentSegment)) {
          segments.push(currentSegment);
        } else {
          segments.push(currentSegment.replace(/^"|"$/g, ""));
        }
        currentSegment = "";
      }
      inBrackets = false;
      continue;
    }
    if (char === '"') {
      inQuotes = !inQuotes;
      continue;
    }
    if (char === "." && !inBrackets && !inQuotes) {
      if (currentSegment) {
        segments.push(currentSegment);
        currentSegment = "";
      }
      continue;
    }
    currentSegment += char;
  }
  if (currentSegment) {
    segments.push(...currentSegment.split(".").filter(Boolean));
  }
  return segments;
}
function createStandardIssues(error2, parentPath) {
  const path = parentPath ? `${parentPath}.${error2.path}` : error2.path;
  return error2.errors.map((err) => ({
    message: err,
    path: createStandardPath(path)
  }));
}
function issuesFromValidationError(error2, parentPath) {
  var _error$inner;
  if (!((_error$inner = error2.inner) != null && _error$inner.length) && error2.errors.length) {
    return createStandardIssues(error2, parentPath);
  }
  const path = parentPath ? `${parentPath}.${error2.path}` : error2.path;
  return error2.inner.flatMap((err) => issuesFromValidationError(err, path));
}
var Schema = class {
  constructor(options) {
    this.type = void 0;
    this.deps = [];
    this.tests = void 0;
    this.transforms = void 0;
    this.conditions = [];
    this._mutate = void 0;
    this.internalTests = {};
    this._whitelist = new ReferenceSet();
    this._blacklist = new ReferenceSet();
    this.exclusiveTests = /* @__PURE__ */ Object.create(null);
    this._typeCheck = void 0;
    this.spec = void 0;
    this.tests = [];
    this.transforms = [];
    this.withMutation(() => {
      this.typeError(mixed.notType);
    });
    this.type = options.type;
    this._typeCheck = options.check;
    this.spec = Object.assign({
      strip: false,
      strict: false,
      abortEarly: true,
      recursive: true,
      disableStackTrace: false,
      nullable: false,
      optional: true,
      coerce: true
    }, options == null ? void 0 : options.spec);
    this.withMutation((s) => {
      s.nonNullable();
    });
  }
  // TODO: remove
  get _type() {
    return this.type;
  }
  clone(spec) {
    if (this._mutate) {
      if (spec)
        Object.assign(this.spec, spec);
      return this;
    }
    const next = Object.create(Object.getPrototypeOf(this));
    next.type = this.type;
    next._typeCheck = this._typeCheck;
    next._whitelist = this._whitelist.clone();
    next._blacklist = this._blacklist.clone();
    next.internalTests = Object.assign({}, this.internalTests);
    next.exclusiveTests = Object.assign({}, this.exclusiveTests);
    next.deps = [...this.deps];
    next.conditions = [...this.conditions];
    next.tests = [...this.tests];
    next.transforms = [...this.transforms];
    next.spec = clone(Object.assign({}, this.spec, spec));
    return next;
  }
  label(label) {
    let next = this.clone();
    next.spec.label = label;
    return next;
  }
  meta(...args) {
    if (args.length === 0)
      return this.spec.meta;
    let next = this.clone();
    next.spec.meta = Object.assign(next.spec.meta || {}, args[0]);
    return next;
  }
  withMutation(fn) {
    let before = this._mutate;
    this._mutate = true;
    let result = fn(this);
    this._mutate = before;
    return result;
  }
  concat(schema) {
    if (!schema || schema === this)
      return this;
    if (schema.type !== this.type && this.type !== "mixed")
      throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${schema.type}`);
    let base = this;
    let combined = schema.clone();
    const mergedSpec = Object.assign({}, base.spec, combined.spec);
    combined.spec = mergedSpec;
    combined.internalTests = Object.assign({}, base.internalTests, combined.internalTests);
    combined._whitelist = base._whitelist.merge(schema._whitelist, schema._blacklist);
    combined._blacklist = base._blacklist.merge(schema._blacklist, schema._whitelist);
    combined.tests = base.tests;
    combined.exclusiveTests = base.exclusiveTests;
    combined.withMutation((next) => {
      schema.tests.forEach((fn) => {
        next.test(fn.OPTIONS);
      });
    });
    combined.transforms = [...base.transforms, ...combined.transforms];
    return combined;
  }
  isType(v) {
    if (v == null) {
      if (this.spec.nullable && v === null)
        return true;
      if (this.spec.optional && v === void 0)
        return true;
      return false;
    }
    return this._typeCheck(v);
  }
  resolve(options) {
    let schema = this;
    if (schema.conditions.length) {
      let conditions = schema.conditions;
      schema = schema.clone();
      schema.conditions = [];
      schema = conditions.reduce((prevSchema, condition) => condition.resolve(prevSchema, options), schema);
      schema = schema.resolve(options);
    }
    return schema;
  }
  resolveOptions(options) {
    var _options$strict, _options$abortEarly, _options$recursive, _options$disableStack;
    return Object.assign({}, options, {
      from: options.from || [],
      strict: (_options$strict = options.strict) != null ? _options$strict : this.spec.strict,
      abortEarly: (_options$abortEarly = options.abortEarly) != null ? _options$abortEarly : this.spec.abortEarly,
      recursive: (_options$recursive = options.recursive) != null ? _options$recursive : this.spec.recursive,
      disableStackTrace: (_options$disableStack = options.disableStackTrace) != null ? _options$disableStack : this.spec.disableStackTrace
    });
  }
  /**
   * Run the configured transform pipeline over an input value.
   */
  cast(value, options = {}) {
    let resolvedSchema = this.resolve(Object.assign({}, options, {
      value
      // parent: options.parent,
      // context: options.context,
    }));
    let allowOptionality = options.assert === "ignore-optionality";
    let result = resolvedSchema._cast(value, options);
    if (options.assert !== false && !resolvedSchema.isType(result)) {
      if (allowOptionality && isAbsent(result)) {
        return result;
      }
      let formattedValue = printValue(value);
      let formattedResult = printValue(result);
      throw new TypeError(`The value of ${options.path || "field"} could not be cast to a value that satisfies the schema type: "${resolvedSchema.type}". 

attempted value: ${formattedValue} 
` + (formattedResult !== formattedValue ? `result of cast: ${formattedResult}` : ""));
    }
    return result;
  }
  _cast(rawValue, options) {
    let value = rawValue === void 0 ? rawValue : this.transforms.reduce((prevValue, fn) => fn.call(this, prevValue, rawValue, this, options), rawValue);
    if (value === void 0) {
      value = this.getDefault(options);
    }
    return value;
  }
  _validate(_value, options = {}, panic, next) {
    let {
      path,
      originalValue = _value,
      strict = this.spec.strict
    } = options;
    let value = _value;
    if (!strict) {
      value = this._cast(value, Object.assign({
        assert: false
      }, options));
    }
    let initialTests = [];
    for (let test of Object.values(this.internalTests)) {
      if (test)
        initialTests.push(test);
    }
    this.runTests({
      path,
      value,
      originalValue,
      options,
      tests: initialTests
    }, panic, (initialErrors) => {
      if (initialErrors.length) {
        return next(initialErrors, value);
      }
      this.runTests({
        path,
        value,
        originalValue,
        options,
        tests: this.tests
      }, panic, next);
    });
  }
  /**
   * Executes a set of validations, either schema, produced Tests or a nested
   * schema validate result.
   */
  runTests(runOptions, panic, next) {
    let fired = false;
    let {
      tests,
      value,
      originalValue,
      path,
      options
    } = runOptions;
    let panicOnce = (arg) => {
      if (fired)
        return;
      fired = true;
      panic(arg, value);
    };
    let nextOnce = (arg) => {
      if (fired)
        return;
      fired = true;
      next(arg, value);
    };
    let count = tests.length;
    let nestedErrors = [];
    if (!count)
      return nextOnce([]);
    let args = {
      value,
      originalValue,
      path,
      options,
      schema: this
    };
    for (let i = 0; i < tests.length; i++) {
      const test = tests[i];
      test(args, panicOnce, function finishTestRun(err) {
        if (err) {
          Array.isArray(err) ? nestedErrors.push(...err) : nestedErrors.push(err);
        }
        if (--count <= 0) {
          nextOnce(nestedErrors);
        }
      });
    }
  }
  asNestedTest({
    key,
    index,
    parent,
    parentPath,
    originalParent,
    options
  }) {
    const k = key != null ? key : index;
    if (k == null) {
      throw TypeError("Must include `key` or `index` for nested validations");
    }
    const isIndex2 = typeof k === "number";
    let value = parent[k];
    const testOptions = Object.assign({}, options, {
      // Nested validations fields are always strict:
      //    1. parent isn't strict so the casting will also have cast inner values
      //    2. parent is strict in which case the nested values weren't cast either
      strict: true,
      parent,
      value,
      originalValue: originalParent[k],
      // FIXME: tests depend on `index` being passed around deeply,
      //   we should not let the options.key/index bleed through
      key: void 0,
      // index: undefined,
      [isIndex2 ? "index" : "key"]: k,
      path: isIndex2 || k.includes(".") ? `${parentPath || ""}[${isIndex2 ? k : `"${k}"`}]` : (parentPath ? `${parentPath}.` : "") + key
    });
    return (_, panic, next) => this.resolve(testOptions)._validate(value, testOptions, panic, next);
  }
  validate(value, options) {
    var _options$disableStack2;
    let schema = this.resolve(Object.assign({}, options, {
      value
    }));
    let disableStackTrace = (_options$disableStack2 = options == null ? void 0 : options.disableStackTrace) != null ? _options$disableStack2 : schema.spec.disableStackTrace;
    return new Promise((resolve, reject) => schema._validate(value, options, (error2, parsed) => {
      if (ValidationError.isError(error2))
        error2.value = parsed;
      reject(error2);
    }, (errors, validated) => {
      if (errors.length)
        reject(new ValidationError(errors, validated, void 0, void 0, disableStackTrace));
      else
        resolve(validated);
    }));
  }
  validateSync(value, options) {
    var _options$disableStack3;
    let schema = this.resolve(Object.assign({}, options, {
      value
    }));
    let result;
    let disableStackTrace = (_options$disableStack3 = options == null ? void 0 : options.disableStackTrace) != null ? _options$disableStack3 : schema.spec.disableStackTrace;
    schema._validate(value, Object.assign({}, options, {
      sync: true
    }), (error2, parsed) => {
      if (ValidationError.isError(error2))
        error2.value = parsed;
      throw error2;
    }, (errors, validated) => {
      if (errors.length)
        throw new ValidationError(errors, value, void 0, void 0, disableStackTrace);
      result = validated;
    });
    return result;
  }
  isValid(value, options) {
    return this.validate(value, options).then(() => true, (err) => {
      if (ValidationError.isError(err))
        return false;
      throw err;
    });
  }
  isValidSync(value, options) {
    try {
      this.validateSync(value, options);
      return true;
    } catch (err) {
      if (ValidationError.isError(err))
        return false;
      throw err;
    }
  }
  _getDefault(options) {
    let defaultValue = this.spec.default;
    if (defaultValue == null) {
      return defaultValue;
    }
    return typeof defaultValue === "function" ? defaultValue.call(this, options) : clone(defaultValue);
  }
  getDefault(options) {
    let schema = this.resolve(options || {});
    return schema._getDefault(options);
  }
  default(def) {
    if (arguments.length === 0) {
      return this._getDefault();
    }
    let next = this.clone({
      default: def
    });
    return next;
  }
  strict(isStrict = true) {
    return this.clone({
      strict: isStrict
    });
  }
  nullability(nullable, message) {
    const next = this.clone({
      nullable
    });
    next.internalTests.nullable = createValidation({
      message,
      name: "nullable",
      test(value) {
        return value === null ? this.schema.spec.nullable : true;
      }
    });
    return next;
  }
  optionality(optional, message) {
    const next = this.clone({
      optional
    });
    next.internalTests.optionality = createValidation({
      message,
      name: "optionality",
      test(value) {
        return value === void 0 ? this.schema.spec.optional : true;
      }
    });
    return next;
  }
  optional() {
    return this.optionality(true);
  }
  defined(message = mixed.defined) {
    return this.optionality(false, message);
  }
  nullable() {
    return this.nullability(true);
  }
  nonNullable(message = mixed.notNull) {
    return this.nullability(false, message);
  }
  required(message = mixed.required) {
    return this.clone().withMutation((next) => next.nonNullable(message).defined(message));
  }
  notRequired() {
    return this.clone().withMutation((next) => next.nullable().optional());
  }
  transform(fn) {
    let next = this.clone();
    next.transforms.push(fn);
    return next;
  }
  /**
   * Adds a test function to the schema's queue of tests.
   * tests can be exclusive or non-exclusive.
   *
   * - exclusive tests, will replace any existing tests of the same name.
   * - non-exclusive: can be stacked
   *
   * If a non-exclusive test is added to a schema with an exclusive test of the same name
   * the exclusive test is removed and further tests of the same name will be stacked.
   *
   * If an exclusive test is added to a schema with non-exclusive tests of the same name
   * the previous tests are removed and further tests of the same name will replace each other.
   */
  test(...args) {
    let opts;
    if (args.length === 1) {
      if (typeof args[0] === "function") {
        opts = {
          test: args[0]
        };
      } else {
        opts = args[0];
      }
    } else if (args.length === 2) {
      opts = {
        name: args[0],
        test: args[1]
      };
    } else {
      opts = {
        name: args[0],
        message: args[1],
        test: args[2]
      };
    }
    if (opts.message === void 0)
      opts.message = mixed.default;
    if (typeof opts.test !== "function")
      throw new TypeError("`test` is a required parameters");
    let next = this.clone();
    let validate = createValidation(opts);
    let isExclusive = opts.exclusive || opts.name && next.exclusiveTests[opts.name] === true;
    if (opts.exclusive) {
      if (!opts.name)
        throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");
    }
    if (opts.name)
      next.exclusiveTests[opts.name] = !!opts.exclusive;
    next.tests = next.tests.filter((fn) => {
      if (fn.OPTIONS.name === opts.name) {
        if (isExclusive)
          return false;
        if (fn.OPTIONS.test === validate.OPTIONS.test)
          return false;
      }
      return true;
    });
    next.tests.push(validate);
    return next;
  }
  when(keys2, options) {
    if (!Array.isArray(keys2) && typeof keys2 !== "string") {
      options = keys2;
      keys2 = ".";
    }
    let next = this.clone();
    let deps = toArray(keys2).map((key) => new Reference(key));
    deps.forEach((dep) => {
      if (dep.isSibling)
        next.deps.push(dep.key);
    });
    next.conditions.push(typeof options === "function" ? new Condition(deps, options) : Condition.fromOptions(deps, options));
    return next;
  }
  typeError(message) {
    let next = this.clone();
    next.internalTests.typeError = createValidation({
      message,
      name: "typeError",
      skipAbsent: true,
      test(value) {
        if (!this.schema._typeCheck(value))
          return this.createError({
            params: {
              type: this.schema.type
            }
          });
        return true;
      }
    });
    return next;
  }
  oneOf(enums, message = mixed.oneOf) {
    let next = this.clone();
    enums.forEach((val) => {
      next._whitelist.add(val);
      next._blacklist.delete(val);
    });
    next.internalTests.whiteList = createValidation({
      message,
      name: "oneOf",
      skipAbsent: true,
      test(value) {
        let valids = this.schema._whitelist;
        let resolved = valids.resolveAll(this.resolve);
        return resolved.includes(value) ? true : this.createError({
          params: {
            values: Array.from(valids).join(", "),
            resolved
          }
        });
      }
    });
    return next;
  }
  notOneOf(enums, message = mixed.notOneOf) {
    let next = this.clone();
    enums.forEach((val) => {
      next._blacklist.add(val);
      next._whitelist.delete(val);
    });
    next.internalTests.blacklist = createValidation({
      message,
      name: "notOneOf",
      test(value) {
        let invalids = this.schema._blacklist;
        let resolved = invalids.resolveAll(this.resolve);
        if (resolved.includes(value))
          return this.createError({
            params: {
              values: Array.from(invalids).join(", "),
              resolved
            }
          });
        return true;
      }
    });
    return next;
  }
  strip(strip = true) {
    let next = this.clone();
    next.spec.strip = strip;
    return next;
  }
  /**
   * Return a serialized description of the schema including validations, flags, types etc.
   *
   * @param options Provide any needed context for resolving runtime schema alterations (lazy, when conditions, etc).
   */
  describe(options) {
    const next = (options ? this.resolve(options) : this).clone();
    const {
      label,
      meta,
      optional,
      nullable
    } = next.spec;
    const description = {
      meta,
      label,
      optional,
      nullable,
      default: next.getDefault(options),
      type: next.type,
      oneOf: next._whitelist.describe(),
      notOneOf: next._blacklist.describe(),
      tests: next.tests.filter((n, idx, list) => list.findIndex((c) => c.OPTIONS.name === n.OPTIONS.name) === idx).map((fn) => {
        const params = fn.OPTIONS.params && options ? resolveParams(Object.assign({}, fn.OPTIONS.params), options) : fn.OPTIONS.params;
        return {
          name: fn.OPTIONS.name,
          params
        };
      })
    };
    return description;
  }
  get ["~standard"]() {
    const schema = this;
    const standard = {
      version: 1,
      vendor: "yup",
      async validate(value) {
        try {
          const result = await schema.validate(value, {
            abortEarly: false
          });
          return {
            value: result
          };
        } catch (err) {
          if (err instanceof ValidationError) {
            return {
              issues: issuesFromValidationError(err)
            };
          }
          throw err;
        }
      }
    };
    return standard;
  }
};
Schema.prototype.__isYupSchema__ = true;
for (const method of ["validate", "validateSync"])
  Schema.prototype[`${method}At`] = function(path, value, options = {}) {
    const {
      parent,
      parentPath,
      schema
    } = getIn(this, path, value, options.context);
    return schema[method](parent && parent[parentPath], Object.assign({}, options, {
      parent,
      path
    }));
  };
for (const alias of ["equals", "is"])
  Schema.prototype[alias] = Schema.prototype.oneOf;
for (const alias of ["not", "nope"])
  Schema.prototype[alias] = Schema.prototype.notOneOf;
var returnsTrue = () => true;
function create$8(spec) {
  return new MixedSchema(spec);
}
var MixedSchema = class extends Schema {
  constructor(spec) {
    super(typeof spec === "function" ? {
      type: "mixed",
      check: spec
    } : Object.assign({
      type: "mixed",
      check: returnsTrue
    }, spec));
  }
};
create$8.prototype = MixedSchema.prototype;
function create$7() {
  return new BooleanSchema();
}
var BooleanSchema = class extends Schema {
  constructor() {
    super({
      type: "boolean",
      check(v) {
        if (v instanceof Boolean)
          v = v.valueOf();
        return typeof v === "boolean";
      }
    });
    this.withMutation(() => {
      this.transform((value, _raw) => {
        if (this.spec.coerce && !this.isType(value)) {
          if (/^(true|1)$/i.test(String(value)))
            return true;
          if (/^(false|0)$/i.test(String(value)))
            return false;
        }
        return value;
      });
    });
  }
  isTrue(message = boolean.isValue) {
    return this.test({
      message,
      name: "is-value",
      exclusive: true,
      params: {
        value: "true"
      },
      test(value) {
        return isAbsent(value) || value === true;
      }
    });
  }
  isFalse(message = boolean.isValue) {
    return this.test({
      message,
      name: "is-value",
      exclusive: true,
      params: {
        value: "false"
      },
      test(value) {
        return isAbsent(value) || value === false;
      }
    });
  }
  default(def) {
    return super.default(def);
  }
  defined(msg) {
    return super.defined(msg);
  }
  optional() {
    return super.optional();
  }
  required(msg) {
    return super.required(msg);
  }
  notRequired() {
    return super.notRequired();
  }
  nullable() {
    return super.nullable();
  }
  nonNullable(msg) {
    return super.nonNullable(msg);
  }
  strip(v) {
    return super.strip(v);
  }
};
create$7.prototype = BooleanSchema.prototype;
var isoReg = /^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;
function parseIsoDate(date2) {
  const struct = parseDateStruct(date2);
  if (!struct)
    return Date.parse ? Date.parse(date2) : Number.NaN;
  if (struct.z === void 0 && struct.plusMinus === void 0) {
    return new Date(struct.year, struct.month, struct.day, struct.hour, struct.minute, struct.second, struct.millisecond).valueOf();
  }
  let totalMinutesOffset = 0;
  if (struct.z !== "Z" && struct.plusMinus !== void 0) {
    totalMinutesOffset = struct.hourOffset * 60 + struct.minuteOffset;
    if (struct.plusMinus === "+")
      totalMinutesOffset = 0 - totalMinutesOffset;
  }
  return Date.UTC(struct.year, struct.month, struct.day, struct.hour, struct.minute + totalMinutesOffset, struct.second, struct.millisecond);
}
function parseDateStruct(date2) {
  var _regexResult$7$length, _regexResult$;
  const regexResult = isoReg.exec(date2);
  if (!regexResult)
    return null;
  return {
    year: toNumber(regexResult[1]),
    month: toNumber(regexResult[2], 1) - 1,
    day: toNumber(regexResult[3], 1),
    hour: toNumber(regexResult[4]),
    minute: toNumber(regexResult[5]),
    second: toNumber(regexResult[6]),
    millisecond: regexResult[7] ? (
      // allow arbitrary sub-second precision beyond milliseconds
      toNumber(regexResult[7].substring(0, 3))
    ) : 0,
    precision: (_regexResult$7$length = (_regexResult$ = regexResult[7]) == null ? void 0 : _regexResult$.length) != null ? _regexResult$7$length : void 0,
    z: regexResult[8] || void 0,
    plusMinus: regexResult[9] || void 0,
    hourOffset: toNumber(regexResult[10]),
    minuteOffset: toNumber(regexResult[11])
  };
}
function toNumber(str, defaultValue = 0) {
  return Number(str) || defaultValue;
}
var rEmail = (
  // eslint-disable-next-line
  /^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/
);
var rUrl = (
  // eslint-disable-next-line
  /^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i
);
var rUUID = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;
var yearMonthDay = "^\\d{4}-\\d{2}-\\d{2}";
var hourMinuteSecond = "\\d{2}:\\d{2}:\\d{2}";
var zOrOffset = "(([+-]\\d{2}(:?\\d{2})?)|Z)";
var rIsoDateTime = new RegExp(`${yearMonthDay}T${hourMinuteSecond}(\\.\\d+)?${zOrOffset}$`);
var isTrimmed = (value) => isAbsent(value) || value === value.trim();
var objStringTag = {}.toString();
function create$6() {
  return new StringSchema();
}
var StringSchema = class extends Schema {
  constructor() {
    super({
      type: "string",
      check(value) {
        if (value instanceof String)
          value = value.valueOf();
        return typeof value === "string";
      }
    });
    this.withMutation(() => {
      this.transform((value, _raw) => {
        if (!this.spec.coerce || this.isType(value))
          return value;
        if (Array.isArray(value))
          return value;
        const strValue = value != null && value.toString ? value.toString() : value;
        if (strValue === objStringTag)
          return value;
        return strValue;
      });
    });
  }
  required(message) {
    return super.required(message).withMutation((schema) => schema.test({
      message: message || mixed.required,
      name: "required",
      skipAbsent: true,
      test: (value) => !!value.length
    }));
  }
  notRequired() {
    return super.notRequired().withMutation((schema) => {
      schema.tests = schema.tests.filter((t) => t.OPTIONS.name !== "required");
      return schema;
    });
  }
  length(length, message = string.length) {
    return this.test({
      message,
      name: "length",
      exclusive: true,
      params: {
        length
      },
      skipAbsent: true,
      test(value) {
        return value.length === this.resolve(length);
      }
    });
  }
  min(min, message = string.min) {
    return this.test({
      message,
      name: "min",
      exclusive: true,
      params: {
        min
      },
      skipAbsent: true,
      test(value) {
        return value.length >= this.resolve(min);
      }
    });
  }
  max(max, message = string.max) {
    return this.test({
      name: "max",
      exclusive: true,
      message,
      params: {
        max
      },
      skipAbsent: true,
      test(value) {
        return value.length <= this.resolve(max);
      }
    });
  }
  matches(regex, options) {
    let excludeEmptyString = false;
    let message;
    let name;
    if (options) {
      if (typeof options === "object") {
        ({
          excludeEmptyString = false,
          message,
          name
        } = options);
      } else {
        message = options;
      }
    }
    return this.test({
      name: name || "matches",
      message: message || string.matches,
      params: {
        regex
      },
      skipAbsent: true,
      test: (value) => value === "" && excludeEmptyString || value.search(regex) !== -1
    });
  }
  email(message = string.email) {
    return this.matches(rEmail, {
      name: "email",
      message,
      excludeEmptyString: true
    });
  }
  url(message = string.url) {
    return this.matches(rUrl, {
      name: "url",
      message,
      excludeEmptyString: true
    });
  }
  uuid(message = string.uuid) {
    return this.matches(rUUID, {
      name: "uuid",
      message,
      excludeEmptyString: false
    });
  }
  datetime(options) {
    let message = "";
    let allowOffset;
    let precision;
    if (options) {
      if (typeof options === "object") {
        ({
          message = "",
          allowOffset = false,
          precision = void 0
        } = options);
      } else {
        message = options;
      }
    }
    return this.matches(rIsoDateTime, {
      name: "datetime",
      message: message || string.datetime,
      excludeEmptyString: true
    }).test({
      name: "datetime_offset",
      message: message || string.datetime_offset,
      params: {
        allowOffset
      },
      skipAbsent: true,
      test: (value) => {
        if (!value || allowOffset)
          return true;
        const struct = parseDateStruct(value);
        if (!struct)
          return false;
        return !!struct.z;
      }
    }).test({
      name: "datetime_precision",
      message: message || string.datetime_precision,
      params: {
        precision
      },
      skipAbsent: true,
      test: (value) => {
        if (!value || precision == void 0)
          return true;
        const struct = parseDateStruct(value);
        if (!struct)
          return false;
        return struct.precision === precision;
      }
    });
  }
  //-- transforms --
  ensure() {
    return this.default("").transform((val) => val === null ? "" : val);
  }
  trim(message = string.trim) {
    return this.transform((val) => val != null ? val.trim() : val).test({
      message,
      name: "trim",
      test: isTrimmed
    });
  }
  lowercase(message = string.lowercase) {
    return this.transform((value) => !isAbsent(value) ? value.toLowerCase() : value).test({
      message,
      name: "string_case",
      exclusive: true,
      skipAbsent: true,
      test: (value) => isAbsent(value) || value === value.toLowerCase()
    });
  }
  uppercase(message = string.uppercase) {
    return this.transform((value) => !isAbsent(value) ? value.toUpperCase() : value).test({
      message,
      name: "string_case",
      exclusive: true,
      skipAbsent: true,
      test: (value) => isAbsent(value) || value === value.toUpperCase()
    });
  }
};
create$6.prototype = StringSchema.prototype;
var isNaN$1 = (value) => value != +value;
function create$5() {
  return new NumberSchema();
}
var NumberSchema = class extends Schema {
  constructor() {
    super({
      type: "number",
      check(value) {
        if (value instanceof Number)
          value = value.valueOf();
        return typeof value === "number" && !isNaN$1(value);
      }
    });
    this.withMutation(() => {
      this.transform((value, _raw) => {
        if (!this.spec.coerce)
          return value;
        let parsed = value;
        if (typeof parsed === "string") {
          parsed = parsed.replace(/\s/g, "");
          if (parsed === "")
            return NaN;
          parsed = +parsed;
        }
        if (this.isType(parsed) || parsed === null)
          return parsed;
        return parseFloat(parsed);
      });
    });
  }
  min(min, message = number.min) {
    return this.test({
      message,
      name: "min",
      exclusive: true,
      params: {
        min
      },
      skipAbsent: true,
      test(value) {
        return value >= this.resolve(min);
      }
    });
  }
  max(max, message = number.max) {
    return this.test({
      message,
      name: "max",
      exclusive: true,
      params: {
        max
      },
      skipAbsent: true,
      test(value) {
        return value <= this.resolve(max);
      }
    });
  }
  lessThan(less, message = number.lessThan) {
    return this.test({
      message,
      name: "max",
      exclusive: true,
      params: {
        less
      },
      skipAbsent: true,
      test(value) {
        return value < this.resolve(less);
      }
    });
  }
  moreThan(more, message = number.moreThan) {
    return this.test({
      message,
      name: "min",
      exclusive: true,
      params: {
        more
      },
      skipAbsent: true,
      test(value) {
        return value > this.resolve(more);
      }
    });
  }
  positive(msg = number.positive) {
    return this.moreThan(0, msg);
  }
  negative(msg = number.negative) {
    return this.lessThan(0, msg);
  }
  integer(message = number.integer) {
    return this.test({
      name: "integer",
      message,
      skipAbsent: true,
      test: (val) => Number.isInteger(val)
    });
  }
  truncate() {
    return this.transform((value) => !isAbsent(value) ? value | 0 : value);
  }
  round(method) {
    var _method;
    let avail = ["ceil", "floor", "round", "trunc"];
    method = ((_method = method) == null ? void 0 : _method.toLowerCase()) || "round";
    if (method === "trunc")
      return this.truncate();
    if (avail.indexOf(method.toLowerCase()) === -1)
      throw new TypeError("Only valid options for round() are: " + avail.join(", "));
    return this.transform((value) => !isAbsent(value) ? Math[method](value) : value);
  }
};
create$5.prototype = NumberSchema.prototype;
var invalidDate = /* @__PURE__ */ new Date("");
var isDate = (obj) => Object.prototype.toString.call(obj) === "[object Date]";
function create$4() {
  return new DateSchema();
}
var DateSchema = class _DateSchema extends Schema {
  constructor() {
    super({
      type: "date",
      check(v) {
        return isDate(v) && !isNaN(v.getTime());
      }
    });
    this.withMutation(() => {
      this.transform((value, _raw) => {
        if (!this.spec.coerce || this.isType(value) || value === null)
          return value;
        value = parseIsoDate(value);
        return !isNaN(value) ? new Date(value) : _DateSchema.INVALID_DATE;
      });
    });
  }
  prepareParam(ref, name) {
    let param;
    if (!Reference.isRef(ref)) {
      let cast = this.cast(ref);
      if (!this._typeCheck(cast))
        throw new TypeError(`\`${name}\` must be a Date or a value that can be \`cast()\` to a Date`);
      param = cast;
    } else {
      param = ref;
    }
    return param;
  }
  min(min, message = date.min) {
    let limit = this.prepareParam(min, "min");
    return this.test({
      message,
      name: "min",
      exclusive: true,
      params: {
        min
      },
      skipAbsent: true,
      test(value) {
        return value >= this.resolve(limit);
      }
    });
  }
  max(max, message = date.max) {
    let limit = this.prepareParam(max, "max");
    return this.test({
      message,
      name: "max",
      exclusive: true,
      params: {
        max
      },
      skipAbsent: true,
      test(value) {
        return value <= this.resolve(limit);
      }
    });
  }
};
DateSchema.INVALID_DATE = invalidDate;
create$4.prototype = DateSchema.prototype;
create$4.INVALID_DATE = invalidDate;
function sortFields(fields, excludedEdges = []) {
  let edges = [];
  let nodes = /* @__PURE__ */ new Set();
  let excludes = new Set(excludedEdges.map(([a, b]) => `${a}-${b}`));
  function addNode(depPath, key) {
    let node = (0, import_property_expr.split)(depPath)[0];
    nodes.add(node);
    if (!excludes.has(`${key}-${node}`))
      edges.push([key, node]);
  }
  for (const key of Object.keys(fields)) {
    let value = fields[key];
    nodes.add(key);
    if (Reference.isRef(value) && value.isSibling)
      addNode(value.path, key);
    else if (isSchema(value) && "deps" in value)
      value.deps.forEach((path) => addNode(path, key));
  }
  return import_toposort.default.array(Array.from(nodes), edges).reverse();
}
function findIndex(arr, err) {
  let idx = Infinity;
  arr.some((key, ii) => {
    var _err$path;
    if ((_err$path = err.path) != null && _err$path.includes(key)) {
      idx = ii;
      return true;
    }
  });
  return idx;
}
function sortByKeyOrder(keys2) {
  return (a, b) => {
    return findIndex(keys2, a) - findIndex(keys2, b);
  };
}
var parseJson = (value, _, schema) => {
  if (typeof value !== "string") {
    return value;
  }
  let parsed = value;
  try {
    parsed = JSON.parse(value);
  } catch (err) {
  }
  return schema.isType(parsed) ? parsed : value;
};
function deepPartial(schema) {
  if ("fields" in schema) {
    const partial = {};
    for (const [key, fieldSchema] of Object.entries(schema.fields)) {
      partial[key] = deepPartial(fieldSchema);
    }
    return schema.setFields(partial);
  }
  if (schema.type === "array") {
    const nextArray = schema.optional();
    if (nextArray.innerType)
      nextArray.innerType = deepPartial(nextArray.innerType);
    return nextArray;
  }
  if (schema.type === "tuple") {
    return schema.optional().clone({
      types: schema.spec.types.map(deepPartial)
    });
  }
  if ("optional" in schema) {
    return schema.optional();
  }
  return schema;
}
var deepHas = (obj, p) => {
  const path = [...(0, import_property_expr.normalizePath)(p)];
  if (path.length === 1)
    return path[0] in obj;
  let last = path.pop();
  let parent = (0, import_property_expr.getter)((0, import_property_expr.join)(path), true)(obj);
  return !!(parent && last in parent);
};
var isObject = (obj) => Object.prototype.toString.call(obj) === "[object Object]";
function unknown(ctx, value) {
  let known = Object.keys(ctx.fields);
  return Object.keys(value).filter((key) => known.indexOf(key) === -1);
}
var defaultSort = sortByKeyOrder([]);
function create$3(spec) {
  return new ObjectSchema(spec);
}
var ObjectSchema = class extends Schema {
  constructor(spec) {
    super({
      type: "object",
      check(value) {
        return isObject(value) || typeof value === "function";
      }
    });
    this.fields = /* @__PURE__ */ Object.create(null);
    this._sortErrors = defaultSort;
    this._nodes = [];
    this._excludedEdges = [];
    this.withMutation(() => {
      if (spec) {
        this.shape(spec);
      }
    });
  }
  _cast(_value, options = {}) {
    var _options$stripUnknown;
    let value = super._cast(_value, options);
    if (value === void 0)
      return this.getDefault(options);
    if (!this._typeCheck(value))
      return value;
    let fields = this.fields;
    let strip = (_options$stripUnknown = options.stripUnknown) != null ? _options$stripUnknown : this.spec.noUnknown;
    let props = [].concat(this._nodes, Object.keys(value).filter((v) => !this._nodes.includes(v)));
    let intermediateValue = {};
    let innerOptions = Object.assign({}, options, {
      parent: intermediateValue,
      __validating: options.__validating || false
    });
    let isChanged = false;
    for (const prop of props) {
      let field = fields[prop];
      let exists = prop in value;
      let inputValue = value[prop];
      if (field) {
        let fieldValue;
        innerOptions.path = (options.path ? `${options.path}.` : "") + prop;
        field = field.resolve({
          value: inputValue,
          context: options.context,
          parent: intermediateValue
        });
        let fieldSpec = field instanceof Schema ? field.spec : void 0;
        let strict = fieldSpec == null ? void 0 : fieldSpec.strict;
        if (fieldSpec != null && fieldSpec.strip) {
          isChanged = isChanged || prop in value;
          continue;
        }
        fieldValue = !options.__validating || !strict ? field.cast(inputValue, innerOptions) : inputValue;
        if (fieldValue !== void 0) {
          intermediateValue[prop] = fieldValue;
        }
      } else if (exists && !strip) {
        intermediateValue[prop] = inputValue;
      }
      if (exists !== prop in intermediateValue || intermediateValue[prop] !== inputValue) {
        isChanged = true;
      }
    }
    return isChanged ? intermediateValue : value;
  }
  _validate(_value, options = {}, panic, next) {
    let {
      from = [],
      originalValue = _value,
      recursive = this.spec.recursive
    } = options;
    options.from = [{
      schema: this,
      value: originalValue
    }, ...from];
    options.__validating = true;
    options.originalValue = originalValue;
    super._validate(_value, options, panic, (objectErrors, value) => {
      if (!recursive || !isObject(value)) {
        next(objectErrors, value);
        return;
      }
      originalValue = originalValue || value;
      let tests = [];
      for (let key of this._nodes) {
        let field = this.fields[key];
        if (!field || Reference.isRef(field)) {
          continue;
        }
        tests.push(field.asNestedTest({
          options,
          key,
          parent: value,
          parentPath: options.path,
          originalParent: originalValue
        }));
      }
      this.runTests({
        tests,
        value,
        originalValue,
        options
      }, panic, (fieldErrors) => {
        next(fieldErrors.sort(this._sortErrors).concat(objectErrors), value);
      });
    });
  }
  clone(spec) {
    const next = super.clone(spec);
    next.fields = Object.assign({}, this.fields);
    next._nodes = this._nodes;
    next._excludedEdges = this._excludedEdges;
    next._sortErrors = this._sortErrors;
    return next;
  }
  concat(schema) {
    let next = super.concat(schema);
    let nextFields = next.fields;
    for (let [field, schemaOrRef] of Object.entries(this.fields)) {
      const target = nextFields[field];
      nextFields[field] = target === void 0 ? schemaOrRef : target;
    }
    return next.withMutation((s) => (
      // XXX: excludes here is wrong
      s.setFields(nextFields, [...this._excludedEdges, ...schema._excludedEdges])
    ));
  }
  _getDefault(options) {
    if ("default" in this.spec) {
      return super._getDefault(options);
    }
    if (!this._nodes.length) {
      return void 0;
    }
    let dft = {};
    this._nodes.forEach((key) => {
      var _innerOptions;
      const field = this.fields[key];
      let innerOptions = options;
      if ((_innerOptions = innerOptions) != null && _innerOptions.value) {
        innerOptions = Object.assign({}, innerOptions, {
          parent: innerOptions.value,
          value: innerOptions.value[key]
        });
      }
      dft[key] = field && "getDefault" in field ? field.getDefault(innerOptions) : void 0;
    });
    return dft;
  }
  setFields(shape, excludedEdges) {
    let next = this.clone();
    next.fields = shape;
    next._nodes = sortFields(shape, excludedEdges);
    next._sortErrors = sortByKeyOrder(Object.keys(shape));
    if (excludedEdges)
      next._excludedEdges = excludedEdges;
    return next;
  }
  shape(additions, excludes = []) {
    return this.clone().withMutation((next) => {
      let edges = next._excludedEdges;
      if (excludes.length) {
        if (!Array.isArray(excludes[0]))
          excludes = [excludes];
        edges = [...next._excludedEdges, ...excludes];
      }
      return next.setFields(Object.assign(next.fields, additions), edges);
    });
  }
  partial() {
    const partial = {};
    for (const [key, schema] of Object.entries(this.fields)) {
      partial[key] = "optional" in schema && schema.optional instanceof Function ? schema.optional() : schema;
    }
    return this.setFields(partial);
  }
  deepPartial() {
    const next = deepPartial(this);
    return next;
  }
  pick(keys2) {
    const picked = {};
    for (const key of keys2) {
      if (this.fields[key])
        picked[key] = this.fields[key];
    }
    return this.setFields(picked, this._excludedEdges.filter(([a, b]) => keys2.includes(a) && keys2.includes(b)));
  }
  omit(keys2) {
    const remaining = [];
    for (const key of Object.keys(this.fields)) {
      if (keys2.includes(key))
        continue;
      remaining.push(key);
    }
    return this.pick(remaining);
  }
  from(from, to, alias) {
    let fromGetter = (0, import_property_expr.getter)(from, true);
    return this.transform((obj) => {
      if (!obj)
        return obj;
      let newObj = obj;
      if (deepHas(obj, from)) {
        newObj = Object.assign({}, obj);
        if (!alias)
          delete newObj[from];
        newObj[to] = fromGetter(obj);
      }
      return newObj;
    });
  }
  /** Parse an input JSON string to an object */
  json() {
    return this.transform(parseJson);
  }
  /**
   * Similar to `noUnknown` but only validates that an object is the right shape without stripping the unknown keys
   */
  exact(message) {
    return this.test({
      name: "exact",
      exclusive: true,
      message: message || object.exact,
      test(value) {
        if (value == null)
          return true;
        const unknownKeys = unknown(this.schema, value);
        return unknownKeys.length === 0 || this.createError({
          params: {
            properties: unknownKeys.join(", ")
          }
        });
      }
    });
  }
  stripUnknown() {
    return this.clone({
      noUnknown: true
    });
  }
  noUnknown(noAllow = true, message = object.noUnknown) {
    if (typeof noAllow !== "boolean") {
      message = noAllow;
      noAllow = true;
    }
    let next = this.test({
      name: "noUnknown",
      exclusive: true,
      message,
      test(value) {
        if (value == null)
          return true;
        const unknownKeys = unknown(this.schema, value);
        return !noAllow || unknownKeys.length === 0 || this.createError({
          params: {
            unknown: unknownKeys.join(", ")
          }
        });
      }
    });
    next.spec.noUnknown = noAllow;
    return next;
  }
  unknown(allow = true, message = object.noUnknown) {
    return this.noUnknown(!allow, message);
  }
  transformKeys(fn) {
    return this.transform((obj) => {
      if (!obj)
        return obj;
      const result = {};
      for (const key of Object.keys(obj))
        result[fn(key)] = obj[key];
      return result;
    });
  }
  camelCase() {
    return this.transformKeys(import_tiny_case.camelCase);
  }
  snakeCase() {
    return this.transformKeys(import_tiny_case.snakeCase);
  }
  constantCase() {
    return this.transformKeys((key) => (0, import_tiny_case.snakeCase)(key).toUpperCase());
  }
  describe(options) {
    const next = (options ? this.resolve(options) : this).clone();
    const base = super.describe(options);
    base.fields = {};
    for (const [key, value] of Object.entries(next.fields)) {
      var _innerOptions2;
      let innerOptions = options;
      if ((_innerOptions2 = innerOptions) != null && _innerOptions2.value) {
        innerOptions = Object.assign({}, innerOptions, {
          parent: innerOptions.value,
          value: innerOptions.value[key]
        });
      }
      base.fields[key] = value.describe(innerOptions);
    }
    return base;
  }
};
create$3.prototype = ObjectSchema.prototype;
function create$2(type) {
  return new ArraySchema(type);
}
var ArraySchema = class extends Schema {
  constructor(type) {
    super({
      type: "array",
      spec: {
        types: type
      },
      check(v) {
        return Array.isArray(v);
      }
    });
    this.innerType = void 0;
    this.innerType = type;
  }
  _cast(_value, _opts) {
    const value = super._cast(_value, _opts);
    if (!this._typeCheck(value) || !this.innerType) {
      return value;
    }
    let isChanged = false;
    const castArray = value.map((v, idx) => {
      const castElement = this.innerType.cast(v, Object.assign({}, _opts, {
        path: `${_opts.path || ""}[${idx}]`,
        parent: value,
        originalValue: v,
        value: v,
        index: idx
      }));
      if (castElement !== v) {
        isChanged = true;
      }
      return castElement;
    });
    return isChanged ? castArray : value;
  }
  _validate(_value, options = {}, panic, next) {
    var _options$recursive;
    let innerType = this.innerType;
    let recursive = (_options$recursive = options.recursive) != null ? _options$recursive : this.spec.recursive;
    options.originalValue != null ? options.originalValue : _value;
    super._validate(_value, options, panic, (arrayErrors, value) => {
      var _options$originalValu2;
      if (!recursive || !innerType || !this._typeCheck(value)) {
        next(arrayErrors, value);
        return;
      }
      let tests = new Array(value.length);
      for (let index = 0; index < value.length; index++) {
        var _options$originalValu;
        tests[index] = innerType.asNestedTest({
          options,
          index,
          parent: value,
          parentPath: options.path,
          originalParent: (_options$originalValu = options.originalValue) != null ? _options$originalValu : _value
        });
      }
      this.runTests({
        value,
        tests,
        originalValue: (_options$originalValu2 = options.originalValue) != null ? _options$originalValu2 : _value,
        options
      }, panic, (innerTypeErrors) => next(innerTypeErrors.concat(arrayErrors), value));
    });
  }
  clone(spec) {
    const next = super.clone(spec);
    next.innerType = this.innerType;
    return next;
  }
  /** Parse an input JSON string to an object */
  json() {
    return this.transform(parseJson);
  }
  concat(schema) {
    let next = super.concat(schema);
    next.innerType = this.innerType;
    if (schema.innerType)
      next.innerType = next.innerType ? (
        // @ts-expect-error Lazy doesn't have concat and will break
        next.innerType.concat(schema.innerType)
      ) : schema.innerType;
    return next;
  }
  of(schema) {
    let next = this.clone();
    if (!isSchema(schema))
      throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: " + printValue(schema));
    next.innerType = schema;
    next.spec = Object.assign({}, next.spec, {
      types: schema
    });
    return next;
  }
  length(length, message = array.length) {
    return this.test({
      message,
      name: "length",
      exclusive: true,
      params: {
        length
      },
      skipAbsent: true,
      test(value) {
        return value.length === this.resolve(length);
      }
    });
  }
  min(min, message) {
    message = message || array.min;
    return this.test({
      message,
      name: "min",
      exclusive: true,
      params: {
        min
      },
      skipAbsent: true,
      // FIXME(ts): Array<typeof T>
      test(value) {
        return value.length >= this.resolve(min);
      }
    });
  }
  max(max, message) {
    message = message || array.max;
    return this.test({
      message,
      name: "max",
      exclusive: true,
      params: {
        max
      },
      skipAbsent: true,
      test(value) {
        return value.length <= this.resolve(max);
      }
    });
  }
  ensure() {
    return this.default(() => []).transform((val, original) => {
      if (this._typeCheck(val))
        return val;
      return original == null ? [] : [].concat(original);
    });
  }
  compact(rejector) {
    let reject = !rejector ? (v) => !!v : (v, i, a) => !rejector(v, i, a);
    return this.transform((values) => values != null ? values.filter(reject) : values);
  }
  describe(options) {
    const next = (options ? this.resolve(options) : this).clone();
    const base = super.describe(options);
    if (next.innerType) {
      var _innerOptions;
      let innerOptions = options;
      if ((_innerOptions = innerOptions) != null && _innerOptions.value) {
        innerOptions = Object.assign({}, innerOptions, {
          parent: innerOptions.value,
          value: innerOptions.value[0]
        });
      }
      base.innerType = next.innerType.describe(innerOptions);
    }
    return base;
  }
};
create$2.prototype = ArraySchema.prototype;
function create$1(schemas) {
  return new TupleSchema(schemas);
}
var TupleSchema = class extends Schema {
  constructor(schemas) {
    super({
      type: "tuple",
      spec: {
        types: schemas
      },
      check(v) {
        const types = this.spec.types;
        return Array.isArray(v) && v.length === types.length;
      }
    });
    this.withMutation(() => {
      this.typeError(tuple.notType);
    });
  }
  _cast(inputValue, options) {
    const {
      types
    } = this.spec;
    const value = super._cast(inputValue, options);
    if (!this._typeCheck(value)) {
      return value;
    }
    let isChanged = false;
    const castArray = types.map((type, idx) => {
      const castElement = type.cast(value[idx], Object.assign({}, options, {
        path: `${options.path || ""}[${idx}]`,
        parent: value,
        originalValue: value[idx],
        value: value[idx],
        index: idx
      }));
      if (castElement !== value[idx])
        isChanged = true;
      return castElement;
    });
    return isChanged ? castArray : value;
  }
  _validate(_value, options = {}, panic, next) {
    let itemTypes = this.spec.types;
    super._validate(_value, options, panic, (tupleErrors, value) => {
      var _options$originalValu2;
      if (!this._typeCheck(value)) {
        next(tupleErrors, value);
        return;
      }
      let tests = [];
      for (let [index, itemSchema] of itemTypes.entries()) {
        var _options$originalValu;
        tests[index] = itemSchema.asNestedTest({
          options,
          index,
          parent: value,
          parentPath: options.path,
          originalParent: (_options$originalValu = options.originalValue) != null ? _options$originalValu : _value
        });
      }
      this.runTests({
        value,
        tests,
        originalValue: (_options$originalValu2 = options.originalValue) != null ? _options$originalValu2 : _value,
        options
      }, panic, (innerTypeErrors) => next(innerTypeErrors.concat(tupleErrors), value));
    });
  }
  describe(options) {
    const next = (options ? this.resolve(options) : this).clone();
    const base = super.describe(options);
    base.innerType = next.spec.types.map((schema, index) => {
      var _innerOptions;
      let innerOptions = options;
      if ((_innerOptions = innerOptions) != null && _innerOptions.value) {
        innerOptions = Object.assign({}, innerOptions, {
          parent: innerOptions.value,
          value: innerOptions.value[index]
        });
      }
      return schema.describe(innerOptions);
    });
    return base;
  }
};
create$1.prototype = TupleSchema.prototype;

// ../../node_modules/deepmerge/dist/es.js
var isMergeableObject = function isMergeableObject2(value) {
  return isNonNullObject(value) && !isSpecial(value);
};
function isNonNullObject(value) {
  return !!value && typeof value === "object";
}
function isSpecial(value) {
  var stringValue = Object.prototype.toString.call(value);
  return stringValue === "[object RegExp]" || stringValue === "[object Date]" || isReactElement(value);
}
var canUseSymbol = typeof Symbol === "function" && Symbol.for;
var REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for("react.element") : 60103;
function isReactElement(value) {
  return value.$$typeof === REACT_ELEMENT_TYPE;
}
function emptyTarget(val) {
  return Array.isArray(val) ? [] : {};
}
function cloneUnlessOtherwiseSpecified(value, options) {
  return options.clone !== false && options.isMergeableObject(value) ? deepmerge(emptyTarget(value), value, options) : value;
}
function defaultArrayMerge(target, source, options) {
  return target.concat(source).map(function(element) {
    return cloneUnlessOtherwiseSpecified(element, options);
  });
}
function mergeObject(target, source, options) {
  var destination = {};
  if (options.isMergeableObject(target)) {
    Object.keys(target).forEach(function(key) {
      destination[key] = cloneUnlessOtherwiseSpecified(target[key], options);
    });
  }
  Object.keys(source).forEach(function(key) {
    if (!options.isMergeableObject(source[key]) || !target[key]) {
      destination[key] = cloneUnlessOtherwiseSpecified(source[key], options);
    } else {
      destination[key] = deepmerge(target[key], source[key], options);
    }
  });
  return destination;
}
function deepmerge(target, source, options) {
  options = options || {};
  options.arrayMerge = options.arrayMerge || defaultArrayMerge;
  options.isMergeableObject = options.isMergeableObject || isMergeableObject;
  var sourceIsArray = Array.isArray(source);
  var targetIsArray = Array.isArray(target);
  var sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;
  if (!sourceAndTargetTypesMatch) {
    return cloneUnlessOtherwiseSpecified(source, options);
  } else if (sourceIsArray) {
    return options.arrayMerge(target, source, options);
  } else {
    return mergeObject(target, source, options);
  }
}
deepmerge.all = function deepmergeAll(array2, options) {
  if (!Array.isArray(array2)) {
    throw new Error("first argument should be an array");
  }
  return array2.reduce(function(prev, next) {
    return deepmerge(prev, next, options);
  }, {});
};
var deepmerge_1 = deepmerge;
var es_default = deepmerge_1;

// ../../node_modules/lodash-es/_freeGlobal.js
var freeGlobal = typeof global == "object" && global && global.Object === Object && global;
var freeGlobal_default = freeGlobal;

// ../../node_modules/lodash-es/_root.js
var freeSelf = typeof self == "object" && self && self.Object === Object && self;
var root = freeGlobal_default || freeSelf || Function("return this")();
var root_default = root;

// ../../node_modules/lodash-es/_Symbol.js
var Symbol2 = root_default.Symbol;
var Symbol_default = Symbol2;

// ../../node_modules/lodash-es/_getRawTag.js
var objectProto = Object.prototype;
var hasOwnProperty = objectProto.hasOwnProperty;
var nativeObjectToString = objectProto.toString;
var symToStringTag = Symbol_default ? Symbol_default.toStringTag : void 0;
function getRawTag(value) {
  var isOwn = hasOwnProperty.call(value, symToStringTag), tag = value[symToStringTag];
  try {
    value[symToStringTag] = void 0;
    var unmasked = true;
  } catch (e) {
  }
  var result = nativeObjectToString.call(value);
  if (unmasked) {
    if (isOwn) {
      value[symToStringTag] = tag;
    } else {
      delete value[symToStringTag];
    }
  }
  return result;
}
var getRawTag_default = getRawTag;

// ../../node_modules/lodash-es/_objectToString.js
var objectProto2 = Object.prototype;
var nativeObjectToString2 = objectProto2.toString;
function objectToString(value) {
  return nativeObjectToString2.call(value);
}
var objectToString_default = objectToString;

// ../../node_modules/lodash-es/_baseGetTag.js
var nullTag = "[object Null]";
var undefinedTag = "[object Undefined]";
var symToStringTag2 = Symbol_default ? Symbol_default.toStringTag : void 0;
function baseGetTag(value) {
  if (value == null) {
    return value === void 0 ? undefinedTag : nullTag;
  }
  return symToStringTag2 && symToStringTag2 in Object(value) ? getRawTag_default(value) : objectToString_default(value);
}
var baseGetTag_default = baseGetTag;

// ../../node_modules/lodash-es/_overArg.js
function overArg(func, transform) {
  return function(arg) {
    return func(transform(arg));
  };
}
var overArg_default = overArg;

// ../../node_modules/lodash-es/_getPrototype.js
var getPrototype = overArg_default(Object.getPrototypeOf, Object);
var getPrototype_default = getPrototype;

// ../../node_modules/lodash-es/isObjectLike.js
function isObjectLike(value) {
  return value != null && typeof value == "object";
}
var isObjectLike_default = isObjectLike;

// ../../node_modules/lodash-es/isPlainObject.js
var objectTag = "[object Object]";
var funcProto = Function.prototype;
var objectProto3 = Object.prototype;
var funcToString = funcProto.toString;
var hasOwnProperty2 = objectProto3.hasOwnProperty;
var objectCtorString = funcToString.call(Object);
function isPlainObject(value) {
  if (!isObjectLike_default(value) || baseGetTag_default(value) != objectTag) {
    return false;
  }
  var proto = getPrototype_default(value);
  if (proto === null) {
    return true;
  }
  var Ctor = hasOwnProperty2.call(proto, "constructor") && proto.constructor;
  return typeof Ctor == "function" && Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString;
}
var isPlainObject_default = isPlainObject;

// ../../node_modules/lodash-es/_listCacheClear.js
function listCacheClear() {
  this.__data__ = [];
  this.size = 0;
}
var listCacheClear_default = listCacheClear;

// ../../node_modules/lodash-es/eq.js
function eq(value, other) {
  return value === other || value !== value && other !== other;
}
var eq_default = eq;

// ../../node_modules/lodash-es/_assocIndexOf.js
function assocIndexOf(array2, key) {
  var length = array2.length;
  while (length--) {
    if (eq_default(array2[length][0], key)) {
      return length;
    }
  }
  return -1;
}
var assocIndexOf_default = assocIndexOf;

// ../../node_modules/lodash-es/_listCacheDelete.js
var arrayProto = Array.prototype;
var splice = arrayProto.splice;
function listCacheDelete(key) {
  var data = this.__data__, index = assocIndexOf_default(data, key);
  if (index < 0) {
    return false;
  }
  var lastIndex = data.length - 1;
  if (index == lastIndex) {
    data.pop();
  } else {
    splice.call(data, index, 1);
  }
  --this.size;
  return true;
}
var listCacheDelete_default = listCacheDelete;

// ../../node_modules/lodash-es/_listCacheGet.js
function listCacheGet(key) {
  var data = this.__data__, index = assocIndexOf_default(data, key);
  return index < 0 ? void 0 : data[index][1];
}
var listCacheGet_default = listCacheGet;

// ../../node_modules/lodash-es/_listCacheHas.js
function listCacheHas(key) {
  return assocIndexOf_default(this.__data__, key) > -1;
}
var listCacheHas_default = listCacheHas;

// ../../node_modules/lodash-es/_listCacheSet.js
function listCacheSet(key, value) {
  var data = this.__data__, index = assocIndexOf_default(data, key);
  if (index < 0) {
    ++this.size;
    data.push([key, value]);
  } else {
    data[index][1] = value;
  }
  return this;
}
var listCacheSet_default = listCacheSet;

// ../../node_modules/lodash-es/_ListCache.js
function ListCache(entries) {
  var index = -1, length = entries == null ? 0 : entries.length;
  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}
ListCache.prototype.clear = listCacheClear_default;
ListCache.prototype["delete"] = listCacheDelete_default;
ListCache.prototype.get = listCacheGet_default;
ListCache.prototype.has = listCacheHas_default;
ListCache.prototype.set = listCacheSet_default;
var ListCache_default = ListCache;

// ../../node_modules/lodash-es/_stackClear.js
function stackClear() {
  this.__data__ = new ListCache_default();
  this.size = 0;
}
var stackClear_default = stackClear;

// ../../node_modules/lodash-es/_stackDelete.js
function stackDelete(key) {
  var data = this.__data__, result = data["delete"](key);
  this.size = data.size;
  return result;
}
var stackDelete_default = stackDelete;

// ../../node_modules/lodash-es/_stackGet.js
function stackGet(key) {
  return this.__data__.get(key);
}
var stackGet_default = stackGet;

// ../../node_modules/lodash-es/_stackHas.js
function stackHas(key) {
  return this.__data__.has(key);
}
var stackHas_default = stackHas;

// ../../node_modules/lodash-es/isObject.js
function isObject2(value) {
  var type = typeof value;
  return value != null && (type == "object" || type == "function");
}
var isObject_default = isObject2;

// ../../node_modules/lodash-es/isFunction.js
var asyncTag = "[object AsyncFunction]";
var funcTag = "[object Function]";
var genTag = "[object GeneratorFunction]";
var proxyTag = "[object Proxy]";
function isFunction(value) {
  if (!isObject_default(value)) {
    return false;
  }
  var tag = baseGetTag_default(value);
  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;
}
var isFunction_default = isFunction;

// ../../node_modules/lodash-es/_coreJsData.js
var coreJsData = root_default["__core-js_shared__"];
var coreJsData_default = coreJsData;

// ../../node_modules/lodash-es/_isMasked.js
var maskSrcKey = function() {
  var uid = /[^.]+$/.exec(coreJsData_default && coreJsData_default.keys && coreJsData_default.keys.IE_PROTO || "");
  return uid ? "Symbol(src)_1." + uid : "";
}();
function isMasked(func) {
  return !!maskSrcKey && maskSrcKey in func;
}
var isMasked_default = isMasked;

// ../../node_modules/lodash-es/_toSource.js
var funcProto2 = Function.prototype;
var funcToString2 = funcProto2.toString;
function toSource(func) {
  if (func != null) {
    try {
      return funcToString2.call(func);
    } catch (e) {
    }
    try {
      return func + "";
    } catch (e) {
    }
  }
  return "";
}
var toSource_default = toSource;

// ../../node_modules/lodash-es/_baseIsNative.js
var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;
var reIsHostCtor = /^\[object .+?Constructor\]$/;
var funcProto3 = Function.prototype;
var objectProto4 = Object.prototype;
var funcToString3 = funcProto3.toString;
var hasOwnProperty3 = objectProto4.hasOwnProperty;
var reIsNative = RegExp(
  "^" + funcToString3.call(hasOwnProperty3).replace(reRegExpChar, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"
);
function baseIsNative(value) {
  if (!isObject_default(value) || isMasked_default(value)) {
    return false;
  }
  var pattern = isFunction_default(value) ? reIsNative : reIsHostCtor;
  return pattern.test(toSource_default(value));
}
var baseIsNative_default = baseIsNative;

// ../../node_modules/lodash-es/_getValue.js
function getValue(object2, key) {
  return object2 == null ? void 0 : object2[key];
}
var getValue_default = getValue;

// ../../node_modules/lodash-es/_getNative.js
function getNative(object2, key) {
  var value = getValue_default(object2, key);
  return baseIsNative_default(value) ? value : void 0;
}
var getNative_default = getNative;

// ../../node_modules/lodash-es/_Map.js
var Map2 = getNative_default(root_default, "Map");
var Map_default = Map2;

// ../../node_modules/lodash-es/_nativeCreate.js
var nativeCreate = getNative_default(Object, "create");
var nativeCreate_default = nativeCreate;

// ../../node_modules/lodash-es/_hashClear.js
function hashClear() {
  this.__data__ = nativeCreate_default ? nativeCreate_default(null) : {};
  this.size = 0;
}
var hashClear_default = hashClear;

// ../../node_modules/lodash-es/_hashDelete.js
function hashDelete(key) {
  var result = this.has(key) && delete this.__data__[key];
  this.size -= result ? 1 : 0;
  return result;
}
var hashDelete_default = hashDelete;

// ../../node_modules/lodash-es/_hashGet.js
var HASH_UNDEFINED = "__lodash_hash_undefined__";
var objectProto5 = Object.prototype;
var hasOwnProperty4 = objectProto5.hasOwnProperty;
function hashGet(key) {
  var data = this.__data__;
  if (nativeCreate_default) {
    var result = data[key];
    return result === HASH_UNDEFINED ? void 0 : result;
  }
  return hasOwnProperty4.call(data, key) ? data[key] : void 0;
}
var hashGet_default = hashGet;

// ../../node_modules/lodash-es/_hashHas.js
var objectProto6 = Object.prototype;
var hasOwnProperty5 = objectProto6.hasOwnProperty;
function hashHas(key) {
  var data = this.__data__;
  return nativeCreate_default ? data[key] !== void 0 : hasOwnProperty5.call(data, key);
}
var hashHas_default = hashHas;

// ../../node_modules/lodash-es/_hashSet.js
var HASH_UNDEFINED2 = "__lodash_hash_undefined__";
function hashSet(key, value) {
  var data = this.__data__;
  this.size += this.has(key) ? 0 : 1;
  data[key] = nativeCreate_default && value === void 0 ? HASH_UNDEFINED2 : value;
  return this;
}
var hashSet_default = hashSet;

// ../../node_modules/lodash-es/_Hash.js
function Hash(entries) {
  var index = -1, length = entries == null ? 0 : entries.length;
  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}
Hash.prototype.clear = hashClear_default;
Hash.prototype["delete"] = hashDelete_default;
Hash.prototype.get = hashGet_default;
Hash.prototype.has = hashHas_default;
Hash.prototype.set = hashSet_default;
var Hash_default = Hash;

// ../../node_modules/lodash-es/_mapCacheClear.js
function mapCacheClear() {
  this.size = 0;
  this.__data__ = {
    "hash": new Hash_default(),
    "map": new (Map_default || ListCache_default)(),
    "string": new Hash_default()
  };
}
var mapCacheClear_default = mapCacheClear;

// ../../node_modules/lodash-es/_isKeyable.js
function isKeyable(value) {
  var type = typeof value;
  return type == "string" || type == "number" || type == "symbol" || type == "boolean" ? value !== "__proto__" : value === null;
}
var isKeyable_default = isKeyable;

// ../../node_modules/lodash-es/_getMapData.js
function getMapData(map, key) {
  var data = map.__data__;
  return isKeyable_default(key) ? data[typeof key == "string" ? "string" : "hash"] : data.map;
}
var getMapData_default = getMapData;

// ../../node_modules/lodash-es/_mapCacheDelete.js
function mapCacheDelete(key) {
  var result = getMapData_default(this, key)["delete"](key);
  this.size -= result ? 1 : 0;
  return result;
}
var mapCacheDelete_default = mapCacheDelete;

// ../../node_modules/lodash-es/_mapCacheGet.js
function mapCacheGet(key) {
  return getMapData_default(this, key).get(key);
}
var mapCacheGet_default = mapCacheGet;

// ../../node_modules/lodash-es/_mapCacheHas.js
function mapCacheHas(key) {
  return getMapData_default(this, key).has(key);
}
var mapCacheHas_default = mapCacheHas;

// ../../node_modules/lodash-es/_mapCacheSet.js
function mapCacheSet(key, value) {
  var data = getMapData_default(this, key), size = data.size;
  data.set(key, value);
  this.size += data.size == size ? 0 : 1;
  return this;
}
var mapCacheSet_default = mapCacheSet;

// ../../node_modules/lodash-es/_MapCache.js
function MapCache(entries) {
  var index = -1, length = entries == null ? 0 : entries.length;
  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}
MapCache.prototype.clear = mapCacheClear_default;
MapCache.prototype["delete"] = mapCacheDelete_default;
MapCache.prototype.get = mapCacheGet_default;
MapCache.prototype.has = mapCacheHas_default;
MapCache.prototype.set = mapCacheSet_default;
var MapCache_default = MapCache;

// ../../node_modules/lodash-es/_stackSet.js
var LARGE_ARRAY_SIZE = 200;
function stackSet(key, value) {
  var data = this.__data__;
  if (data instanceof ListCache_default) {
    var pairs = data.__data__;
    if (!Map_default || pairs.length < LARGE_ARRAY_SIZE - 1) {
      pairs.push([key, value]);
      this.size = ++data.size;
      return this;
    }
    data = this.__data__ = new MapCache_default(pairs);
  }
  data.set(key, value);
  this.size = data.size;
  return this;
}
var stackSet_default = stackSet;

// ../../node_modules/lodash-es/_Stack.js
function Stack(entries) {
  var data = this.__data__ = new ListCache_default(entries);
  this.size = data.size;
}
Stack.prototype.clear = stackClear_default;
Stack.prototype["delete"] = stackDelete_default;
Stack.prototype.get = stackGet_default;
Stack.prototype.has = stackHas_default;
Stack.prototype.set = stackSet_default;
var Stack_default = Stack;

// ../../node_modules/lodash-es/_arrayEach.js
function arrayEach(array2, iteratee) {
  var index = -1, length = array2 == null ? 0 : array2.length;
  while (++index < length) {
    if (iteratee(array2[index], index, array2) === false) {
      break;
    }
  }
  return array2;
}
var arrayEach_default = arrayEach;

// ../../node_modules/lodash-es/_defineProperty.js
var defineProperty = function() {
  try {
    var func = getNative_default(Object, "defineProperty");
    func({}, "", {});
    return func;
  } catch (e) {
  }
}();
var defineProperty_default = defineProperty;

// ../../node_modules/lodash-es/_baseAssignValue.js
function baseAssignValue(object2, key, value) {
  if (key == "__proto__" && defineProperty_default) {
    defineProperty_default(object2, key, {
      "configurable": true,
      "enumerable": true,
      "value": value,
      "writable": true
    });
  } else {
    object2[key] = value;
  }
}
var baseAssignValue_default = baseAssignValue;

// ../../node_modules/lodash-es/_assignValue.js
var objectProto7 = Object.prototype;
var hasOwnProperty6 = objectProto7.hasOwnProperty;
function assignValue(object2, key, value) {
  var objValue = object2[key];
  if (!(hasOwnProperty6.call(object2, key) && eq_default(objValue, value)) || value === void 0 && !(key in object2)) {
    baseAssignValue_default(object2, key, value);
  }
}
var assignValue_default = assignValue;

// ../../node_modules/lodash-es/_copyObject.js
function copyObject(source, props, object2, customizer) {
  var isNew = !object2;
  object2 || (object2 = {});
  var index = -1, length = props.length;
  while (++index < length) {
    var key = props[index];
    var newValue = customizer ? customizer(object2[key], source[key], key, object2, source) : void 0;
    if (newValue === void 0) {
      newValue = source[key];
    }
    if (isNew) {
      baseAssignValue_default(object2, key, newValue);
    } else {
      assignValue_default(object2, key, newValue);
    }
  }
  return object2;
}
var copyObject_default = copyObject;

// ../../node_modules/lodash-es/_baseTimes.js
function baseTimes(n, iteratee) {
  var index = -1, result = Array(n);
  while (++index < n) {
    result[index] = iteratee(index);
  }
  return result;
}
var baseTimes_default = baseTimes;

// ../../node_modules/lodash-es/_baseIsArguments.js
var argsTag = "[object Arguments]";
function baseIsArguments(value) {
  return isObjectLike_default(value) && baseGetTag_default(value) == argsTag;
}
var baseIsArguments_default = baseIsArguments;

// ../../node_modules/lodash-es/isArguments.js
var objectProto8 = Object.prototype;
var hasOwnProperty7 = objectProto8.hasOwnProperty;
var propertyIsEnumerable = objectProto8.propertyIsEnumerable;
var isArguments = baseIsArguments_default(/* @__PURE__ */ function() {
  return arguments;
}()) ? baseIsArguments_default : function(value) {
  return isObjectLike_default(value) && hasOwnProperty7.call(value, "callee") && !propertyIsEnumerable.call(value, "callee");
};
var isArguments_default = isArguments;

// ../../node_modules/lodash-es/isArray.js
var isArray = Array.isArray;
var isArray_default = isArray;

// ../../node_modules/lodash-es/stubFalse.js
function stubFalse() {
  return false;
}
var stubFalse_default = stubFalse;

// ../../node_modules/lodash-es/isBuffer.js
var freeExports = typeof exports == "object" && exports && !exports.nodeType && exports;
var freeModule = freeExports && typeof module == "object" && module && !module.nodeType && module;
var moduleExports = freeModule && freeModule.exports === freeExports;
var Buffer2 = moduleExports ? root_default.Buffer : void 0;
var nativeIsBuffer = Buffer2 ? Buffer2.isBuffer : void 0;
var isBuffer = nativeIsBuffer || stubFalse_default;
var isBuffer_default = isBuffer;

// ../../node_modules/lodash-es/_isIndex.js
var MAX_SAFE_INTEGER = 9007199254740991;
var reIsUint = /^(?:0|[1-9]\d*)$/;
function isIndex(value, length) {
  var type = typeof value;
  length = length == null ? MAX_SAFE_INTEGER : length;
  return !!length && (type == "number" || type != "symbol" && reIsUint.test(value)) && (value > -1 && value % 1 == 0 && value < length);
}
var isIndex_default = isIndex;

// ../../node_modules/lodash-es/isLength.js
var MAX_SAFE_INTEGER2 = 9007199254740991;
function isLength(value) {
  return typeof value == "number" && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER2;
}
var isLength_default = isLength;

// ../../node_modules/lodash-es/_baseIsTypedArray.js
var argsTag2 = "[object Arguments]";
var arrayTag = "[object Array]";
var boolTag = "[object Boolean]";
var dateTag = "[object Date]";
var errorTag = "[object Error]";
var funcTag2 = "[object Function]";
var mapTag = "[object Map]";
var numberTag = "[object Number]";
var objectTag2 = "[object Object]";
var regexpTag = "[object RegExp]";
var setTag = "[object Set]";
var stringTag = "[object String]";
var weakMapTag = "[object WeakMap]";
var arrayBufferTag = "[object ArrayBuffer]";
var dataViewTag = "[object DataView]";
var float32Tag = "[object Float32Array]";
var float64Tag = "[object Float64Array]";
var int8Tag = "[object Int8Array]";
var int16Tag = "[object Int16Array]";
var int32Tag = "[object Int32Array]";
var uint8Tag = "[object Uint8Array]";
var uint8ClampedTag = "[object Uint8ClampedArray]";
var uint16Tag = "[object Uint16Array]";
var uint32Tag = "[object Uint32Array]";
var typedArrayTags = {};
typedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;
typedArrayTags[argsTag2] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag2] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag2] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;
function baseIsTypedArray(value) {
  return isObjectLike_default(value) && isLength_default(value.length) && !!typedArrayTags[baseGetTag_default(value)];
}
var baseIsTypedArray_default = baseIsTypedArray;

// ../../node_modules/lodash-es/_baseUnary.js
function baseUnary(func) {
  return function(value) {
    return func(value);
  };
}
var baseUnary_default = baseUnary;

// ../../node_modules/lodash-es/_nodeUtil.js
var freeExports2 = typeof exports == "object" && exports && !exports.nodeType && exports;
var freeModule2 = freeExports2 && typeof module == "object" && module && !module.nodeType && module;
var moduleExports2 = freeModule2 && freeModule2.exports === freeExports2;
var freeProcess = moduleExports2 && freeGlobal_default.process;
var nodeUtil = function() {
  try {
    var types = freeModule2 && freeModule2.require && freeModule2.require("util").types;
    if (types) {
      return types;
    }
    return freeProcess && freeProcess.binding && freeProcess.binding("util");
  } catch (e) {
  }
}();
var nodeUtil_default = nodeUtil;

// ../../node_modules/lodash-es/isTypedArray.js
var nodeIsTypedArray = nodeUtil_default && nodeUtil_default.isTypedArray;
var isTypedArray = nodeIsTypedArray ? baseUnary_default(nodeIsTypedArray) : baseIsTypedArray_default;
var isTypedArray_default = isTypedArray;

// ../../node_modules/lodash-es/_arrayLikeKeys.js
var objectProto9 = Object.prototype;
var hasOwnProperty8 = objectProto9.hasOwnProperty;
function arrayLikeKeys(value, inherited) {
  var isArr = isArray_default(value), isArg = !isArr && isArguments_default(value), isBuff = !isArr && !isArg && isBuffer_default(value), isType = !isArr && !isArg && !isBuff && isTypedArray_default(value), skipIndexes = isArr || isArg || isBuff || isType, result = skipIndexes ? baseTimes_default(value.length, String) : [], length = result.length;
  for (var key in value) {
    if ((inherited || hasOwnProperty8.call(value, key)) && !(skipIndexes && // Safari 9 has enumerable `arguments.length` in strict mode.
    (key == "length" || // Node.js 0.10 has enumerable non-index properties on buffers.
    isBuff && (key == "offset" || key == "parent") || // PhantomJS 2 has enumerable non-index properties on typed arrays.
    isType && (key == "buffer" || key == "byteLength" || key == "byteOffset") || // Skip index properties.
    isIndex_default(key, length)))) {
      result.push(key);
    }
  }
  return result;
}
var arrayLikeKeys_default = arrayLikeKeys;

// ../../node_modules/lodash-es/_isPrototype.js
var objectProto10 = Object.prototype;
function isPrototype(value) {
  var Ctor = value && value.constructor, proto = typeof Ctor == "function" && Ctor.prototype || objectProto10;
  return value === proto;
}
var isPrototype_default = isPrototype;

// ../../node_modules/lodash-es/_nativeKeys.js
var nativeKeys = overArg_default(Object.keys, Object);
var nativeKeys_default = nativeKeys;

// ../../node_modules/lodash-es/_baseKeys.js
var objectProto11 = Object.prototype;
var hasOwnProperty9 = objectProto11.hasOwnProperty;
function baseKeys(object2) {
  if (!isPrototype_default(object2)) {
    return nativeKeys_default(object2);
  }
  var result = [];
  for (var key in Object(object2)) {
    if (hasOwnProperty9.call(object2, key) && key != "constructor") {
      result.push(key);
    }
  }
  return result;
}
var baseKeys_default = baseKeys;

// ../../node_modules/lodash-es/isArrayLike.js
function isArrayLike(value) {
  return value != null && isLength_default(value.length) && !isFunction_default(value);
}
var isArrayLike_default = isArrayLike;

// ../../node_modules/lodash-es/keys.js
function keys(object2) {
  return isArrayLike_default(object2) ? arrayLikeKeys_default(object2) : baseKeys_default(object2);
}
var keys_default = keys;

// ../../node_modules/lodash-es/_baseAssign.js
function baseAssign(object2, source) {
  return object2 && copyObject_default(source, keys_default(source), object2);
}
var baseAssign_default = baseAssign;

// ../../node_modules/lodash-es/_nativeKeysIn.js
function nativeKeysIn(object2) {
  var result = [];
  if (object2 != null) {
    for (var key in Object(object2)) {
      result.push(key);
    }
  }
  return result;
}
var nativeKeysIn_default = nativeKeysIn;

// ../../node_modules/lodash-es/_baseKeysIn.js
var objectProto12 = Object.prototype;
var hasOwnProperty10 = objectProto12.hasOwnProperty;
function baseKeysIn(object2) {
  if (!isObject_default(object2)) {
    return nativeKeysIn_default(object2);
  }
  var isProto = isPrototype_default(object2), result = [];
  for (var key in object2) {
    if (!(key == "constructor" && (isProto || !hasOwnProperty10.call(object2, key)))) {
      result.push(key);
    }
  }
  return result;
}
var baseKeysIn_default = baseKeysIn;

// ../../node_modules/lodash-es/keysIn.js
function keysIn(object2) {
  return isArrayLike_default(object2) ? arrayLikeKeys_default(object2, true) : baseKeysIn_default(object2);
}
var keysIn_default = keysIn;

// ../../node_modules/lodash-es/_baseAssignIn.js
function baseAssignIn(object2, source) {
  return object2 && copyObject_default(source, keysIn_default(source), object2);
}
var baseAssignIn_default = baseAssignIn;

// ../../node_modules/lodash-es/_cloneBuffer.js
var freeExports3 = typeof exports == "object" && exports && !exports.nodeType && exports;
var freeModule3 = freeExports3 && typeof module == "object" && module && !module.nodeType && module;
var moduleExports3 = freeModule3 && freeModule3.exports === freeExports3;
var Buffer3 = moduleExports3 ? root_default.Buffer : void 0;
var allocUnsafe = Buffer3 ? Buffer3.allocUnsafe : void 0;
function cloneBuffer(buffer, isDeep) {
  if (isDeep) {
    return buffer.slice();
  }
  var length = buffer.length, result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);
  buffer.copy(result);
  return result;
}
var cloneBuffer_default = cloneBuffer;

// ../../node_modules/lodash-es/_copyArray.js
function copyArray(source, array2) {
  var index = -1, length = source.length;
  array2 || (array2 = Array(length));
  while (++index < length) {
    array2[index] = source[index];
  }
  return array2;
}
var copyArray_default = copyArray;

// ../../node_modules/lodash-es/_arrayFilter.js
function arrayFilter(array2, predicate) {
  var index = -1, length = array2 == null ? 0 : array2.length, resIndex = 0, result = [];
  while (++index < length) {
    var value = array2[index];
    if (predicate(value, index, array2)) {
      result[resIndex++] = value;
    }
  }
  return result;
}
var arrayFilter_default = arrayFilter;

// ../../node_modules/lodash-es/stubArray.js
function stubArray() {
  return [];
}
var stubArray_default = stubArray;

// ../../node_modules/lodash-es/_getSymbols.js
var objectProto13 = Object.prototype;
var propertyIsEnumerable2 = objectProto13.propertyIsEnumerable;
var nativeGetSymbols = Object.getOwnPropertySymbols;
var getSymbols = !nativeGetSymbols ? stubArray_default : function(object2) {
  if (object2 == null) {
    return [];
  }
  object2 = Object(object2);
  return arrayFilter_default(nativeGetSymbols(object2), function(symbol) {
    return propertyIsEnumerable2.call(object2, symbol);
  });
};
var getSymbols_default = getSymbols;

// ../../node_modules/lodash-es/_copySymbols.js
function copySymbols(source, object2) {
  return copyObject_default(source, getSymbols_default(source), object2);
}
var copySymbols_default = copySymbols;

// ../../node_modules/lodash-es/_arrayPush.js
function arrayPush(array2, values) {
  var index = -1, length = values.length, offset = array2.length;
  while (++index < length) {
    array2[offset + index] = values[index];
  }
  return array2;
}
var arrayPush_default = arrayPush;

// ../../node_modules/lodash-es/_getSymbolsIn.js
var nativeGetSymbols2 = Object.getOwnPropertySymbols;
var getSymbolsIn = !nativeGetSymbols2 ? stubArray_default : function(object2) {
  var result = [];
  while (object2) {
    arrayPush_default(result, getSymbols_default(object2));
    object2 = getPrototype_default(object2);
  }
  return result;
};
var getSymbolsIn_default = getSymbolsIn;

// ../../node_modules/lodash-es/_copySymbolsIn.js
function copySymbolsIn(source, object2) {
  return copyObject_default(source, getSymbolsIn_default(source), object2);
}
var copySymbolsIn_default = copySymbolsIn;

// ../../node_modules/lodash-es/_baseGetAllKeys.js
function baseGetAllKeys(object2, keysFunc, symbolsFunc) {
  var result = keysFunc(object2);
  return isArray_default(object2) ? result : arrayPush_default(result, symbolsFunc(object2));
}
var baseGetAllKeys_default = baseGetAllKeys;

// ../../node_modules/lodash-es/_getAllKeys.js
function getAllKeys(object2) {
  return baseGetAllKeys_default(object2, keys_default, getSymbols_default);
}
var getAllKeys_default = getAllKeys;

// ../../node_modules/lodash-es/_getAllKeysIn.js
function getAllKeysIn(object2) {
  return baseGetAllKeys_default(object2, keysIn_default, getSymbolsIn_default);
}
var getAllKeysIn_default = getAllKeysIn;

// ../../node_modules/lodash-es/_DataView.js
var DataView = getNative_default(root_default, "DataView");
var DataView_default = DataView;

// ../../node_modules/lodash-es/_Promise.js
var Promise2 = getNative_default(root_default, "Promise");
var Promise_default = Promise2;

// ../../node_modules/lodash-es/_Set.js
var Set2 = getNative_default(root_default, "Set");
var Set_default = Set2;

// ../../node_modules/lodash-es/_WeakMap.js
var WeakMap2 = getNative_default(root_default, "WeakMap");
var WeakMap_default = WeakMap2;

// ../../node_modules/lodash-es/_getTag.js
var mapTag2 = "[object Map]";
var objectTag3 = "[object Object]";
var promiseTag = "[object Promise]";
var setTag2 = "[object Set]";
var weakMapTag2 = "[object WeakMap]";
var dataViewTag2 = "[object DataView]";
var dataViewCtorString = toSource_default(DataView_default);
var mapCtorString = toSource_default(Map_default);
var promiseCtorString = toSource_default(Promise_default);
var setCtorString = toSource_default(Set_default);
var weakMapCtorString = toSource_default(WeakMap_default);
var getTag = baseGetTag_default;
if (DataView_default && getTag(new DataView_default(new ArrayBuffer(1))) != dataViewTag2 || Map_default && getTag(new Map_default()) != mapTag2 || Promise_default && getTag(Promise_default.resolve()) != promiseTag || Set_default && getTag(new Set_default()) != setTag2 || WeakMap_default && getTag(new WeakMap_default()) != weakMapTag2) {
  getTag = function(value) {
    var result = baseGetTag_default(value), Ctor = result == objectTag3 ? value.constructor : void 0, ctorString = Ctor ? toSource_default(Ctor) : "";
    if (ctorString) {
      switch (ctorString) {
        case dataViewCtorString:
          return dataViewTag2;
        case mapCtorString:
          return mapTag2;
        case promiseCtorString:
          return promiseTag;
        case setCtorString:
          return setTag2;
        case weakMapCtorString:
          return weakMapTag2;
      }
    }
    return result;
  };
}
var getTag_default = getTag;

// ../../node_modules/lodash-es/_initCloneArray.js
var objectProto14 = Object.prototype;
var hasOwnProperty11 = objectProto14.hasOwnProperty;
function initCloneArray(array2) {
  var length = array2.length, result = new array2.constructor(length);
  if (length && typeof array2[0] == "string" && hasOwnProperty11.call(array2, "index")) {
    result.index = array2.index;
    result.input = array2.input;
  }
  return result;
}
var initCloneArray_default = initCloneArray;

// ../../node_modules/lodash-es/_Uint8Array.js
var Uint8Array2 = root_default.Uint8Array;
var Uint8Array_default = Uint8Array2;

// ../../node_modules/lodash-es/_cloneArrayBuffer.js
function cloneArrayBuffer(arrayBuffer) {
  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);
  new Uint8Array_default(result).set(new Uint8Array_default(arrayBuffer));
  return result;
}
var cloneArrayBuffer_default = cloneArrayBuffer;

// ../../node_modules/lodash-es/_cloneDataView.js
function cloneDataView(dataView, isDeep) {
  var buffer = isDeep ? cloneArrayBuffer_default(dataView.buffer) : dataView.buffer;
  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);
}
var cloneDataView_default = cloneDataView;

// ../../node_modules/lodash-es/_cloneRegExp.js
var reFlags = /\w*$/;
function cloneRegExp(regexp) {
  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));
  result.lastIndex = regexp.lastIndex;
  return result;
}
var cloneRegExp_default = cloneRegExp;

// ../../node_modules/lodash-es/_cloneSymbol.js
var symbolProto = Symbol_default ? Symbol_default.prototype : void 0;
var symbolValueOf = symbolProto ? symbolProto.valueOf : void 0;
function cloneSymbol(symbol) {
  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};
}
var cloneSymbol_default = cloneSymbol;

// ../../node_modules/lodash-es/_cloneTypedArray.js
function cloneTypedArray(typedArray, isDeep) {
  var buffer = isDeep ? cloneArrayBuffer_default(typedArray.buffer) : typedArray.buffer;
  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);
}
var cloneTypedArray_default = cloneTypedArray;

// ../../node_modules/lodash-es/_initCloneByTag.js
var boolTag2 = "[object Boolean]";
var dateTag2 = "[object Date]";
var mapTag3 = "[object Map]";
var numberTag2 = "[object Number]";
var regexpTag2 = "[object RegExp]";
var setTag3 = "[object Set]";
var stringTag2 = "[object String]";
var symbolTag = "[object Symbol]";
var arrayBufferTag2 = "[object ArrayBuffer]";
var dataViewTag3 = "[object DataView]";
var float32Tag2 = "[object Float32Array]";
var float64Tag2 = "[object Float64Array]";
var int8Tag2 = "[object Int8Array]";
var int16Tag2 = "[object Int16Array]";
var int32Tag2 = "[object Int32Array]";
var uint8Tag2 = "[object Uint8Array]";
var uint8ClampedTag2 = "[object Uint8ClampedArray]";
var uint16Tag2 = "[object Uint16Array]";
var uint32Tag2 = "[object Uint32Array]";
function initCloneByTag(object2, tag, isDeep) {
  var Ctor = object2.constructor;
  switch (tag) {
    case arrayBufferTag2:
      return cloneArrayBuffer_default(object2);
    case boolTag2:
    case dateTag2:
      return new Ctor(+object2);
    case dataViewTag3:
      return cloneDataView_default(object2, isDeep);
    case float32Tag2:
    case float64Tag2:
    case int8Tag2:
    case int16Tag2:
    case int32Tag2:
    case uint8Tag2:
    case uint8ClampedTag2:
    case uint16Tag2:
    case uint32Tag2:
      return cloneTypedArray_default(object2, isDeep);
    case mapTag3:
      return new Ctor();
    case numberTag2:
    case stringTag2:
      return new Ctor(object2);
    case regexpTag2:
      return cloneRegExp_default(object2);
    case setTag3:
      return new Ctor();
    case symbolTag:
      return cloneSymbol_default(object2);
  }
}
var initCloneByTag_default = initCloneByTag;

// ../../node_modules/lodash-es/_baseCreate.js
var objectCreate = Object.create;
var baseCreate = /* @__PURE__ */ function() {
  function object2() {
  }
  return function(proto) {
    if (!isObject_default(proto)) {
      return {};
    }
    if (objectCreate) {
      return objectCreate(proto);
    }
    object2.prototype = proto;
    var result = new object2();
    object2.prototype = void 0;
    return result;
  };
}();
var baseCreate_default = baseCreate;

// ../../node_modules/lodash-es/_initCloneObject.js
function initCloneObject(object2) {
  return typeof object2.constructor == "function" && !isPrototype_default(object2) ? baseCreate_default(getPrototype_default(object2)) : {};
}
var initCloneObject_default = initCloneObject;

// ../../node_modules/lodash-es/_baseIsMap.js
var mapTag4 = "[object Map]";
function baseIsMap(value) {
  return isObjectLike_default(value) && getTag_default(value) == mapTag4;
}
var baseIsMap_default = baseIsMap;

// ../../node_modules/lodash-es/isMap.js
var nodeIsMap = nodeUtil_default && nodeUtil_default.isMap;
var isMap = nodeIsMap ? baseUnary_default(nodeIsMap) : baseIsMap_default;
var isMap_default = isMap;

// ../../node_modules/lodash-es/_baseIsSet.js
var setTag4 = "[object Set]";
function baseIsSet(value) {
  return isObjectLike_default(value) && getTag_default(value) == setTag4;
}
var baseIsSet_default = baseIsSet;

// ../../node_modules/lodash-es/isSet.js
var nodeIsSet = nodeUtil_default && nodeUtil_default.isSet;
var isSet = nodeIsSet ? baseUnary_default(nodeIsSet) : baseIsSet_default;
var isSet_default = isSet;

// ../../node_modules/lodash-es/_baseClone.js
var CLONE_DEEP_FLAG = 1;
var CLONE_FLAT_FLAG = 2;
var CLONE_SYMBOLS_FLAG = 4;
var argsTag3 = "[object Arguments]";
var arrayTag2 = "[object Array]";
var boolTag3 = "[object Boolean]";
var dateTag3 = "[object Date]";
var errorTag2 = "[object Error]";
var funcTag3 = "[object Function]";
var genTag2 = "[object GeneratorFunction]";
var mapTag5 = "[object Map]";
var numberTag3 = "[object Number]";
var objectTag4 = "[object Object]";
var regexpTag3 = "[object RegExp]";
var setTag5 = "[object Set]";
var stringTag3 = "[object String]";
var symbolTag2 = "[object Symbol]";
var weakMapTag3 = "[object WeakMap]";
var arrayBufferTag3 = "[object ArrayBuffer]";
var dataViewTag4 = "[object DataView]";
var float32Tag3 = "[object Float32Array]";
var float64Tag3 = "[object Float64Array]";
var int8Tag3 = "[object Int8Array]";
var int16Tag3 = "[object Int16Array]";
var int32Tag3 = "[object Int32Array]";
var uint8Tag3 = "[object Uint8Array]";
var uint8ClampedTag3 = "[object Uint8ClampedArray]";
var uint16Tag3 = "[object Uint16Array]";
var uint32Tag3 = "[object Uint32Array]";
var cloneableTags = {};
cloneableTags[argsTag3] = cloneableTags[arrayTag2] = cloneableTags[arrayBufferTag3] = cloneableTags[dataViewTag4] = cloneableTags[boolTag3] = cloneableTags[dateTag3] = cloneableTags[float32Tag3] = cloneableTags[float64Tag3] = cloneableTags[int8Tag3] = cloneableTags[int16Tag3] = cloneableTags[int32Tag3] = cloneableTags[mapTag5] = cloneableTags[numberTag3] = cloneableTags[objectTag4] = cloneableTags[regexpTag3] = cloneableTags[setTag5] = cloneableTags[stringTag3] = cloneableTags[symbolTag2] = cloneableTags[uint8Tag3] = cloneableTags[uint8ClampedTag3] = cloneableTags[uint16Tag3] = cloneableTags[uint32Tag3] = true;
cloneableTags[errorTag2] = cloneableTags[funcTag3] = cloneableTags[weakMapTag3] = false;
function baseClone(value, bitmask, customizer, key, object2, stack) {
  var result, isDeep = bitmask & CLONE_DEEP_FLAG, isFlat = bitmask & CLONE_FLAT_FLAG, isFull = bitmask & CLONE_SYMBOLS_FLAG;
  if (customizer) {
    result = object2 ? customizer(value, key, object2, stack) : customizer(value);
  }
  if (result !== void 0) {
    return result;
  }
  if (!isObject_default(value)) {
    return value;
  }
  var isArr = isArray_default(value);
  if (isArr) {
    result = initCloneArray_default(value);
    if (!isDeep) {
      return copyArray_default(value, result);
    }
  } else {
    var tag = getTag_default(value), isFunc = tag == funcTag3 || tag == genTag2;
    if (isBuffer_default(value)) {
      return cloneBuffer_default(value, isDeep);
    }
    if (tag == objectTag4 || tag == argsTag3 || isFunc && !object2) {
      result = isFlat || isFunc ? {} : initCloneObject_default(value);
      if (!isDeep) {
        return isFlat ? copySymbolsIn_default(value, baseAssignIn_default(result, value)) : copySymbols_default(value, baseAssign_default(result, value));
      }
    } else {
      if (!cloneableTags[tag]) {
        return object2 ? value : {};
      }
      result = initCloneByTag_default(value, tag, isDeep);
    }
  }
  stack || (stack = new Stack_default());
  var stacked = stack.get(value);
  if (stacked) {
    return stacked;
  }
  stack.set(value, result);
  if (isSet_default(value)) {
    value.forEach(function(subValue) {
      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));
    });
  } else if (isMap_default(value)) {
    value.forEach(function(subValue, key2) {
      result.set(key2, baseClone(subValue, bitmask, customizer, key2, value, stack));
    });
  }
  var keysFunc = isFull ? isFlat ? getAllKeysIn_default : getAllKeys_default : isFlat ? keysIn_default : keys_default;
  var props = isArr ? void 0 : keysFunc(value);
  arrayEach_default(props || value, function(subValue, key2) {
    if (props) {
      key2 = subValue;
      subValue = value[key2];
    }
    assignValue_default(result, key2, baseClone(subValue, bitmask, customizer, key2, value, stack));
  });
  return result;
}
var baseClone_default = baseClone;

// ../../node_modules/lodash-es/cloneDeep.js
var CLONE_DEEP_FLAG2 = 1;
var CLONE_SYMBOLS_FLAG2 = 4;
function cloneDeep(value) {
  return baseClone_default(value, CLONE_DEEP_FLAG2 | CLONE_SYMBOLS_FLAG2);
}
var cloneDeep_default = cloneDeep;

// ../../node_modules/formik/dist/formik.esm.js
var import_react23 = require("react");
var import_react_fast_compare = __toESM(require_react_fast_compare());

// ../../node_modules/tiny-warning/dist/tiny-warning.esm.js
var isProduction = process.env.NODE_ENV === "production";
function warning(condition, message) {
  if (!isProduction) {
    if (condition) {
      return;
    }
    var text = "Warning: " + message;
    if (typeof console !== "undefined") {
      console.warn(text);
    }
    try {
      throw Error(text);
    } catch (x) {
    }
  }
}
var tiny_warning_esm_default = warning;

// ../../node_modules/lodash-es/clone.js
var CLONE_SYMBOLS_FLAG3 = 4;
function clone2(value) {
  return baseClone_default(value, CLONE_SYMBOLS_FLAG3);
}
var clone_default = clone2;

// ../../node_modules/lodash-es/_arrayMap.js
function arrayMap(array2, iteratee) {
  var index = -1, length = array2 == null ? 0 : array2.length, result = Array(length);
  while (++index < length) {
    result[index] = iteratee(array2[index], index, array2);
  }
  return result;
}
var arrayMap_default = arrayMap;

// ../../node_modules/lodash-es/isSymbol.js
var symbolTag3 = "[object Symbol]";
function isSymbol(value) {
  return typeof value == "symbol" || isObjectLike_default(value) && baseGetTag_default(value) == symbolTag3;
}
var isSymbol_default = isSymbol;

// ../../node_modules/lodash-es/memoize.js
var FUNC_ERROR_TEXT = "Expected a function";
function memoize(func, resolver) {
  if (typeof func != "function" || resolver != null && typeof resolver != "function") {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  var memoized = function() {
    var args = arguments, key = resolver ? resolver.apply(this, args) : args[0], cache = memoized.cache;
    if (cache.has(key)) {
      return cache.get(key);
    }
    var result = func.apply(this, args);
    memoized.cache = cache.set(key, result) || cache;
    return result;
  };
  memoized.cache = new (memoize.Cache || MapCache_default)();
  return memoized;
}
memoize.Cache = MapCache_default;
var memoize_default = memoize;

// ../../node_modules/lodash-es/_memoizeCapped.js
var MAX_MEMOIZE_SIZE = 500;
function memoizeCapped(func) {
  var result = memoize_default(func, function(key) {
    if (cache.size === MAX_MEMOIZE_SIZE) {
      cache.clear();
    }
    return key;
  });
  var cache = result.cache;
  return result;
}
var memoizeCapped_default = memoizeCapped;

// ../../node_modules/lodash-es/_stringToPath.js
var rePropName = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;
var reEscapeChar = /\\(\\)?/g;
var stringToPath = memoizeCapped_default(function(string2) {
  var result = [];
  if (string2.charCodeAt(0) === 46) {
    result.push("");
  }
  string2.replace(rePropName, function(match, number2, quote, subString) {
    result.push(quote ? subString.replace(reEscapeChar, "$1") : number2 || match);
  });
  return result;
});
var stringToPath_default = stringToPath;

// ../../node_modules/lodash-es/_toKey.js
var INFINITY = 1 / 0;
function toKey(value) {
  if (typeof value == "string" || isSymbol_default(value)) {
    return value;
  }
  var result = value + "";
  return result == "0" && 1 / value == -INFINITY ? "-0" : result;
}
var toKey_default = toKey;

// ../../node_modules/lodash-es/_baseToString.js
var INFINITY2 = 1 / 0;
var symbolProto2 = Symbol_default ? Symbol_default.prototype : void 0;
var symbolToString2 = symbolProto2 ? symbolProto2.toString : void 0;
function baseToString(value) {
  if (typeof value == "string") {
    return value;
  }
  if (isArray_default(value)) {
    return arrayMap_default(value, baseToString) + "";
  }
  if (isSymbol_default(value)) {
    return symbolToString2 ? symbolToString2.call(value) : "";
  }
  var result = value + "";
  return result == "0" && 1 / value == -INFINITY2 ? "-0" : result;
}
var baseToString_default = baseToString;

// ../../node_modules/lodash-es/toString.js
function toString2(value) {
  return value == null ? "" : baseToString_default(value);
}
var toString_default = toString2;

// ../../node_modules/lodash-es/toPath.js
function toPath(value) {
  if (isArray_default(value)) {
    return arrayMap_default(value, toKey_default);
  }
  return isSymbol_default(value) ? [value] : copyArray_default(stringToPath_default(toString_default(value)));
}
var toPath_default = toPath;

// ../../node_modules/formik/dist/formik.esm.js
var import_hoist_non_react_statics = __toESM(require_hoist_non_react_statics_cjs());
function _extends() {
  _extends = Object.assign || function(target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends.apply(this, arguments);
}
function _inheritsLoose(subClass, superClass) {
  subClass.prototype = Object.create(superClass.prototype);
  subClass.prototype.constructor = subClass;
  subClass.__proto__ = superClass;
}
function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null)
    return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;
  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0)
      continue;
    target[key] = source[key];
  }
  return target;
}
function _assertThisInitialized(self2) {
  if (self2 === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }
  return self2;
}
var FormikContext = /* @__PURE__ */ (0, import_react23.createContext)(void 0);
FormikContext.displayName = "FormikContext";
var FormikProvider = FormikContext.Provider;
var FormikConsumer = FormikContext.Consumer;
function useFormikContext() {
  var formik = (0, import_react23.useContext)(FormikContext);
  !!!formik ? process.env.NODE_ENV !== "production" ? tiny_warning_esm_default(false, "Formik context is undefined, please verify you are calling useFormikContext() as child of a <Formik> component.") : tiny_warning_esm_default(false) : void 0;
  return formik;
}
var isEmptyArray = function isEmptyArray2(value) {
  return Array.isArray(value) && value.length === 0;
};
var isFunction2 = function isFunction3(obj) {
  return typeof obj === "function";
};
var isObject3 = function isObject4(obj) {
  return obj !== null && typeof obj === "object";
};
var isInteger = function isInteger2(obj) {
  return String(Math.floor(Number(obj))) === obj;
};
var isString = function isString2(obj) {
  return Object.prototype.toString.call(obj) === "[object String]";
};
var isEmptyChildren = function isEmptyChildren2(children) {
  return import_react23.Children.count(children) === 0;
};
var isPromise = function isPromise2(value) {
  return isObject3(value) && isFunction2(value.then);
};
function getActiveElement(doc) {
  doc = doc || (typeof document !== "undefined" ? document : void 0);
  if (typeof doc === "undefined") {
    return null;
  }
  try {
    return doc.activeElement || doc.body;
  } catch (e) {
    return doc.body;
  }
}
function getIn2(obj, key, def, p) {
  if (p === void 0) {
    p = 0;
  }
  var path = toPath_default(key);
  while (obj && p < path.length) {
    obj = obj[path[p++]];
  }
  if (p !== path.length && !obj) {
    return def;
  }
  return obj === void 0 ? def : obj;
}
function setIn(obj, path, value) {
  var res = clone_default(obj);
  var resVal = res;
  var i = 0;
  var pathArray = toPath_default(path);
  for (; i < pathArray.length - 1; i++) {
    var currentPath = pathArray[i];
    var currentObj = getIn2(obj, pathArray.slice(0, i + 1));
    if (currentObj && (isObject3(currentObj) || Array.isArray(currentObj))) {
      resVal = resVal[currentPath] = clone_default(currentObj);
    } else {
      var nextPath = pathArray[i + 1];
      resVal = resVal[currentPath] = isInteger(nextPath) && Number(nextPath) >= 0 ? [] : {};
    }
  }
  if ((i === 0 ? obj : resVal)[pathArray[i]] === value) {
    return obj;
  }
  if (value === void 0) {
    delete resVal[pathArray[i]];
  } else {
    resVal[pathArray[i]] = value;
  }
  if (i === 0 && value === void 0) {
    delete res[pathArray[i]];
  }
  return res;
}
function setNestedObjectValues(object2, value, visited, response) {
  if (visited === void 0) {
    visited = /* @__PURE__ */ new WeakMap();
  }
  if (response === void 0) {
    response = {};
  }
  for (var _i = 0, _Object$keys = Object.keys(object2); _i < _Object$keys.length; _i++) {
    var k = _Object$keys[_i];
    var val = object2[k];
    if (isObject3(val)) {
      if (!visited.get(val)) {
        visited.set(val, true);
        response[k] = Array.isArray(val) ? [] : {};
        setNestedObjectValues(val, value, visited, response[k]);
      }
    } else {
      response[k] = value;
    }
  }
  return response;
}
function formikReducer(state, msg) {
  switch (msg.type) {
    case "SET_VALUES":
      return _extends({}, state, {
        values: msg.payload
      });
    case "SET_TOUCHED":
      return _extends({}, state, {
        touched: msg.payload
      });
    case "SET_ERRORS":
      if ((0, import_react_fast_compare.default)(state.errors, msg.payload)) {
        return state;
      }
      return _extends({}, state, {
        errors: msg.payload
      });
    case "SET_STATUS":
      return _extends({}, state, {
        status: msg.payload
      });
    case "SET_ISSUBMITTING":
      return _extends({}, state, {
        isSubmitting: msg.payload
      });
    case "SET_ISVALIDATING":
      return _extends({}, state, {
        isValidating: msg.payload
      });
    case "SET_FIELD_VALUE":
      return _extends({}, state, {
        values: setIn(state.values, msg.payload.field, msg.payload.value)
      });
    case "SET_FIELD_TOUCHED":
      return _extends({}, state, {
        touched: setIn(state.touched, msg.payload.field, msg.payload.value)
      });
    case "SET_FIELD_ERROR":
      return _extends({}, state, {
        errors: setIn(state.errors, msg.payload.field, msg.payload.value)
      });
    case "RESET_FORM":
      return _extends({}, state, msg.payload);
    case "SET_FORMIK_STATE":
      return msg.payload(state);
    case "SUBMIT_ATTEMPT":
      return _extends({}, state, {
        touched: setNestedObjectValues(state.values, true),
        isSubmitting: true,
        submitCount: state.submitCount + 1
      });
    case "SUBMIT_FAILURE":
      return _extends({}, state, {
        isSubmitting: false
      });
    case "SUBMIT_SUCCESS":
      return _extends({}, state, {
        isSubmitting: false
      });
    default:
      return state;
  }
}
var emptyErrors = {};
var emptyTouched = {};
function useFormik(_ref) {
  var _ref$validateOnChange = _ref.validateOnChange, validateOnChange = _ref$validateOnChange === void 0 ? true : _ref$validateOnChange, _ref$validateOnBlur = _ref.validateOnBlur, validateOnBlur = _ref$validateOnBlur === void 0 ? true : _ref$validateOnBlur, _ref$validateOnMount = _ref.validateOnMount, validateOnMount = _ref$validateOnMount === void 0 ? false : _ref$validateOnMount, isInitialValid = _ref.isInitialValid, _ref$enableReinitiali = _ref.enableReinitialize, enableReinitialize = _ref$enableReinitiali === void 0 ? false : _ref$enableReinitiali, onSubmit = _ref.onSubmit, rest = _objectWithoutPropertiesLoose(_ref, ["validateOnChange", "validateOnBlur", "validateOnMount", "isInitialValid", "enableReinitialize", "onSubmit"]);
  var props = _extends({
    validateOnChange,
    validateOnBlur,
    validateOnMount,
    onSubmit
  }, rest);
  var initialValues = (0, import_react23.useRef)(props.initialValues);
  var initialErrors = (0, import_react23.useRef)(props.initialErrors || emptyErrors);
  var initialTouched = (0, import_react23.useRef)(props.initialTouched || emptyTouched);
  var initialStatus = (0, import_react23.useRef)(props.initialStatus);
  var isMounted = (0, import_react23.useRef)(false);
  var fieldRegistry = (0, import_react23.useRef)({});
  if (process.env.NODE_ENV !== "production") {
    (0, import_react23.useEffect)(function() {
      !(typeof isInitialValid === "undefined") ? process.env.NODE_ENV !== "production" ? tiny_warning_esm_default(false, "isInitialValid has been deprecated and will be removed in future versions of Formik. Please use initialErrors or validateOnMount instead.") : tiny_warning_esm_default(false) : void 0;
    }, []);
  }
  (0, import_react23.useEffect)(function() {
    isMounted.current = true;
    return function() {
      isMounted.current = false;
    };
  }, []);
  var _React$useState = (0, import_react23.useState)(0), setIteration = _React$useState[1];
  var stateRef = (0, import_react23.useRef)({
    values: cloneDeep_default(props.initialValues),
    errors: cloneDeep_default(props.initialErrors) || emptyErrors,
    touched: cloneDeep_default(props.initialTouched) || emptyTouched,
    status: cloneDeep_default(props.initialStatus),
    isSubmitting: false,
    isValidating: false,
    submitCount: 0
  });
  var state = stateRef.current;
  var dispatch = (0, import_react23.useCallback)(function(action) {
    var prev = stateRef.current;
    stateRef.current = formikReducer(prev, action);
    if (prev !== stateRef.current)
      setIteration(function(x) {
        return x + 1;
      });
  }, []);
  var runValidateHandler = (0, import_react23.useCallback)(function(values, field) {
    return new Promise(function(resolve, reject) {
      var maybePromisedErrors = props.validate(values, field);
      if (maybePromisedErrors == null) {
        resolve(emptyErrors);
      } else if (isPromise(maybePromisedErrors)) {
        maybePromisedErrors.then(function(errors) {
          resolve(errors || emptyErrors);
        }, function(actualException) {
          if (process.env.NODE_ENV !== "production") {
            console.warn("Warning: An unhandled error was caught during validation in <Formik validate />", actualException);
          }
          reject(actualException);
        });
      } else {
        resolve(maybePromisedErrors);
      }
    });
  }, [props.validate]);
  var runValidationSchema = (0, import_react23.useCallback)(function(values, field) {
    var validationSchema = props.validationSchema;
    var schema = isFunction2(validationSchema) ? validationSchema(field) : validationSchema;
    var promise = field && schema.validateAt ? schema.validateAt(field, values) : validateYupSchema(values, schema);
    return new Promise(function(resolve, reject) {
      promise.then(function() {
        resolve(emptyErrors);
      }, function(err) {
        if (err.name === "ValidationError") {
          resolve(yupToFormErrors(err));
        } else {
          if (process.env.NODE_ENV !== "production") {
            console.warn("Warning: An unhandled error was caught during validation in <Formik validationSchema />", err);
          }
          reject(err);
        }
      });
    });
  }, [props.validationSchema]);
  var runSingleFieldLevelValidation = (0, import_react23.useCallback)(function(field, value) {
    return new Promise(function(resolve) {
      return resolve(fieldRegistry.current[field].validate(value));
    });
  }, []);
  var runFieldLevelValidations = (0, import_react23.useCallback)(function(values) {
    var fieldKeysWithValidation = Object.keys(fieldRegistry.current).filter(function(f) {
      return isFunction2(fieldRegistry.current[f].validate);
    });
    var fieldValidations = fieldKeysWithValidation.length > 0 ? fieldKeysWithValidation.map(function(f) {
      return runSingleFieldLevelValidation(f, getIn2(values, f));
    }) : [Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];
    return Promise.all(fieldValidations).then(function(fieldErrorsList) {
      return fieldErrorsList.reduce(function(prev, curr, index) {
        if (curr === "DO_NOT_DELETE_YOU_WILL_BE_FIRED") {
          return prev;
        }
        if (curr) {
          prev = setIn(prev, fieldKeysWithValidation[index], curr);
        }
        return prev;
      }, {});
    });
  }, [runSingleFieldLevelValidation]);
  var runAllValidations = (0, import_react23.useCallback)(function(values) {
    return Promise.all([runFieldLevelValidations(values), props.validationSchema ? runValidationSchema(values) : {}, props.validate ? runValidateHandler(values) : {}]).then(function(_ref2) {
      var fieldErrors = _ref2[0], schemaErrors = _ref2[1], validateErrors = _ref2[2];
      var combinedErrors = es_default.all([fieldErrors, schemaErrors, validateErrors], {
        arrayMerge
      });
      return combinedErrors;
    });
  }, [props.validate, props.validationSchema, runFieldLevelValidations, runValidateHandler, runValidationSchema]);
  var validateFormWithHighPriority = useEventCallback(function(values) {
    if (values === void 0) {
      values = state.values;
    }
    dispatch({
      type: "SET_ISVALIDATING",
      payload: true
    });
    return runAllValidations(values).then(function(combinedErrors) {
      if (!!isMounted.current) {
        dispatch({
          type: "SET_ISVALIDATING",
          payload: false
        });
        dispatch({
          type: "SET_ERRORS",
          payload: combinedErrors
        });
      }
      return combinedErrors;
    });
  });
  (0, import_react23.useEffect)(function() {
    if (validateOnMount && isMounted.current === true && (0, import_react_fast_compare.default)(initialValues.current, props.initialValues)) {
      validateFormWithHighPriority(initialValues.current);
    }
  }, [validateOnMount, validateFormWithHighPriority]);
  var resetForm = (0, import_react23.useCallback)(function(nextState) {
    var values = nextState && nextState.values ? nextState.values : initialValues.current;
    var errors = nextState && nextState.errors ? nextState.errors : initialErrors.current ? initialErrors.current : props.initialErrors || {};
    var touched = nextState && nextState.touched ? nextState.touched : initialTouched.current ? initialTouched.current : props.initialTouched || {};
    var status = nextState && nextState.status ? nextState.status : initialStatus.current ? initialStatus.current : props.initialStatus;
    initialValues.current = values;
    initialErrors.current = errors;
    initialTouched.current = touched;
    initialStatus.current = status;
    var dispatchFn = function dispatchFn2() {
      dispatch({
        type: "RESET_FORM",
        payload: {
          isSubmitting: !!nextState && !!nextState.isSubmitting,
          errors,
          touched,
          status,
          values,
          isValidating: !!nextState && !!nextState.isValidating,
          submitCount: !!nextState && !!nextState.submitCount && typeof nextState.submitCount === "number" ? nextState.submitCount : 0
        }
      });
    };
    if (props.onReset) {
      var maybePromisedOnReset = props.onReset(state.values, imperativeMethods);
      if (isPromise(maybePromisedOnReset)) {
        maybePromisedOnReset.then(dispatchFn);
      } else {
        dispatchFn();
      }
    } else {
      dispatchFn();
    }
  }, [props.initialErrors, props.initialStatus, props.initialTouched, props.onReset]);
  (0, import_react23.useEffect)(function() {
    if (isMounted.current === true && !(0, import_react_fast_compare.default)(initialValues.current, props.initialValues)) {
      if (enableReinitialize) {
        initialValues.current = props.initialValues;
        resetForm();
        if (validateOnMount) {
          validateFormWithHighPriority(initialValues.current);
        }
      }
    }
  }, [enableReinitialize, props.initialValues, resetForm, validateOnMount, validateFormWithHighPriority]);
  (0, import_react23.useEffect)(function() {
    if (enableReinitialize && isMounted.current === true && !(0, import_react_fast_compare.default)(initialErrors.current, props.initialErrors)) {
      initialErrors.current = props.initialErrors || emptyErrors;
      dispatch({
        type: "SET_ERRORS",
        payload: props.initialErrors || emptyErrors
      });
    }
  }, [enableReinitialize, props.initialErrors]);
  (0, import_react23.useEffect)(function() {
    if (enableReinitialize && isMounted.current === true && !(0, import_react_fast_compare.default)(initialTouched.current, props.initialTouched)) {
      initialTouched.current = props.initialTouched || emptyTouched;
      dispatch({
        type: "SET_TOUCHED",
        payload: props.initialTouched || emptyTouched
      });
    }
  }, [enableReinitialize, props.initialTouched]);
  (0, import_react23.useEffect)(function() {
    if (enableReinitialize && isMounted.current === true && !(0, import_react_fast_compare.default)(initialStatus.current, props.initialStatus)) {
      initialStatus.current = props.initialStatus;
      dispatch({
        type: "SET_STATUS",
        payload: props.initialStatus
      });
    }
  }, [enableReinitialize, props.initialStatus, props.initialTouched]);
  var validateField = useEventCallback(function(name) {
    if (fieldRegistry.current[name] && isFunction2(fieldRegistry.current[name].validate)) {
      var value = getIn2(state.values, name);
      var maybePromise = fieldRegistry.current[name].validate(value);
      if (isPromise(maybePromise)) {
        dispatch({
          type: "SET_ISVALIDATING",
          payload: true
        });
        return maybePromise.then(function(x) {
          return x;
        }).then(function(error2) {
          dispatch({
            type: "SET_FIELD_ERROR",
            payload: {
              field: name,
              value: error2
            }
          });
          dispatch({
            type: "SET_ISVALIDATING",
            payload: false
          });
        });
      } else {
        dispatch({
          type: "SET_FIELD_ERROR",
          payload: {
            field: name,
            value: maybePromise
          }
        });
        return Promise.resolve(maybePromise);
      }
    } else if (props.validationSchema) {
      dispatch({
        type: "SET_ISVALIDATING",
        payload: true
      });
      return runValidationSchema(state.values, name).then(function(x) {
        return x;
      }).then(function(error2) {
        dispatch({
          type: "SET_FIELD_ERROR",
          payload: {
            field: name,
            value: getIn2(error2, name)
          }
        });
        dispatch({
          type: "SET_ISVALIDATING",
          payload: false
        });
      });
    }
    return Promise.resolve();
  });
  var registerField = (0, import_react23.useCallback)(function(name, _ref3) {
    var validate = _ref3.validate;
    fieldRegistry.current[name] = {
      validate
    };
  }, []);
  var unregisterField = (0, import_react23.useCallback)(function(name) {
    delete fieldRegistry.current[name];
  }, []);
  var setTouched = useEventCallback(function(touched, shouldValidate) {
    dispatch({
      type: "SET_TOUCHED",
      payload: touched
    });
    var willValidate = shouldValidate === void 0 ? validateOnBlur : shouldValidate;
    return willValidate ? validateFormWithHighPriority(state.values) : Promise.resolve();
  });
  var setErrors = (0, import_react23.useCallback)(function(errors) {
    dispatch({
      type: "SET_ERRORS",
      payload: errors
    });
  }, []);
  var setValues = useEventCallback(function(values, shouldValidate) {
    var resolvedValues = isFunction2(values) ? values(state.values) : values;
    dispatch({
      type: "SET_VALUES",
      payload: resolvedValues
    });
    var willValidate = shouldValidate === void 0 ? validateOnChange : shouldValidate;
    return willValidate ? validateFormWithHighPriority(resolvedValues) : Promise.resolve();
  });
  var setFieldError = (0, import_react23.useCallback)(function(field, value) {
    dispatch({
      type: "SET_FIELD_ERROR",
      payload: {
        field,
        value
      }
    });
  }, []);
  var setFieldValue = useEventCallback(function(field, value, shouldValidate) {
    dispatch({
      type: "SET_FIELD_VALUE",
      payload: {
        field,
        value
      }
    });
    var willValidate = shouldValidate === void 0 ? validateOnChange : shouldValidate;
    return willValidate ? validateFormWithHighPriority(setIn(state.values, field, value)) : Promise.resolve();
  });
  var executeChange = (0, import_react23.useCallback)(function(eventOrTextValue, maybePath) {
    var field = maybePath;
    var val = eventOrTextValue;
    var parsed;
    if (!isString(eventOrTextValue)) {
      if (eventOrTextValue.persist) {
        eventOrTextValue.persist();
      }
      var target = eventOrTextValue.target ? eventOrTextValue.target : eventOrTextValue.currentTarget;
      var type = target.type, name = target.name, id = target.id, value = target.value, checked = target.checked, outerHTML = target.outerHTML, options = target.options, multiple = target.multiple;
      field = maybePath ? maybePath : name ? name : id;
      if (!field && process.env.NODE_ENV !== "production") {
        warnAboutMissingIdentifier({
          htmlContent: outerHTML,
          documentationAnchorLink: "handlechange-e-reactchangeeventany--void",
          handlerName: "handleChange"
        });
      }
      val = /number|range/.test(type) ? (parsed = parseFloat(value), isNaN(parsed) ? "" : parsed) : /checkbox/.test(type) ? getValueForCheckbox(getIn2(state.values, field), checked, value) : options && multiple ? getSelectedValues(options) : value;
    }
    if (field) {
      setFieldValue(field, val);
    }
  }, [setFieldValue, state.values]);
  var handleChange = useEventCallback(function(eventOrPath) {
    if (isString(eventOrPath)) {
      return function(event) {
        return executeChange(event, eventOrPath);
      };
    } else {
      executeChange(eventOrPath);
    }
  });
  var setFieldTouched = useEventCallback(function(field, touched, shouldValidate) {
    if (touched === void 0) {
      touched = true;
    }
    dispatch({
      type: "SET_FIELD_TOUCHED",
      payload: {
        field,
        value: touched
      }
    });
    var willValidate = shouldValidate === void 0 ? validateOnBlur : shouldValidate;
    return willValidate ? validateFormWithHighPriority(state.values) : Promise.resolve();
  });
  var executeBlur = (0, import_react23.useCallback)(function(e, path) {
    if (e.persist) {
      e.persist();
    }
    var _e$target = e.target, name = _e$target.name, id = _e$target.id, outerHTML = _e$target.outerHTML;
    var field = path ? path : name ? name : id;
    if (!field && process.env.NODE_ENV !== "production") {
      warnAboutMissingIdentifier({
        htmlContent: outerHTML,
        documentationAnchorLink: "handleblur-e-any--void",
        handlerName: "handleBlur"
      });
    }
    setFieldTouched(field, true);
  }, [setFieldTouched]);
  var handleBlur = useEventCallback(function(eventOrString) {
    if (isString(eventOrString)) {
      return function(event) {
        return executeBlur(event, eventOrString);
      };
    } else {
      executeBlur(eventOrString);
    }
  });
  var setFormikState = (0, import_react23.useCallback)(function(stateOrCb) {
    if (isFunction2(stateOrCb)) {
      dispatch({
        type: "SET_FORMIK_STATE",
        payload: stateOrCb
      });
    } else {
      dispatch({
        type: "SET_FORMIK_STATE",
        payload: function payload() {
          return stateOrCb;
        }
      });
    }
  }, []);
  var setStatus = (0, import_react23.useCallback)(function(status) {
    dispatch({
      type: "SET_STATUS",
      payload: status
    });
  }, []);
  var setSubmitting = (0, import_react23.useCallback)(function(isSubmitting) {
    dispatch({
      type: "SET_ISSUBMITTING",
      payload: isSubmitting
    });
  }, []);
  var submitForm = useEventCallback(function() {
    dispatch({
      type: "SUBMIT_ATTEMPT"
    });
    return validateFormWithHighPriority().then(function(combinedErrors) {
      var isInstanceOfError = combinedErrors instanceof Error;
      var isActuallyValid = !isInstanceOfError && Object.keys(combinedErrors).length === 0;
      if (isActuallyValid) {
        var promiseOrUndefined;
        try {
          promiseOrUndefined = executeSubmit();
          if (promiseOrUndefined === void 0) {
            return;
          }
        } catch (error2) {
          throw error2;
        }
        return Promise.resolve(promiseOrUndefined).then(function(result) {
          if (!!isMounted.current) {
            dispatch({
              type: "SUBMIT_SUCCESS"
            });
          }
          return result;
        })["catch"](function(_errors) {
          if (!!isMounted.current) {
            dispatch({
              type: "SUBMIT_FAILURE"
            });
            throw _errors;
          }
        });
      } else if (!!isMounted.current) {
        dispatch({
          type: "SUBMIT_FAILURE"
        });
        if (isInstanceOfError) {
          throw combinedErrors;
        }
      }
      return;
    });
  });
  var handleSubmit = useEventCallback(function(e) {
    if (e && e.preventDefault && isFunction2(e.preventDefault)) {
      e.preventDefault();
    }
    if (e && e.stopPropagation && isFunction2(e.stopPropagation)) {
      e.stopPropagation();
    }
    if (process.env.NODE_ENV !== "production" && typeof document !== "undefined") {
      var activeElement = getActiveElement();
      if (activeElement !== null && activeElement instanceof HTMLButtonElement) {
        !(activeElement.attributes && activeElement.attributes.getNamedItem("type")) ? process.env.NODE_ENV !== "production" ? tiny_warning_esm_default(false, 'You submitted a Formik form using a button with an unspecified `type` attribute.  Most browsers default button elements to `type="submit"`. If this is not a submit button, please add `type="button"`.') : tiny_warning_esm_default(false) : void 0;
      }
    }
    submitForm()["catch"](function(reason) {
      console.warn("Warning: An unhandled error was caught from submitForm()", reason);
    });
  });
  var imperativeMethods = {
    resetForm,
    validateForm: validateFormWithHighPriority,
    validateField,
    setErrors,
    setFieldError,
    setFieldTouched,
    setFieldValue,
    setStatus,
    setSubmitting,
    setTouched,
    setValues,
    setFormikState,
    submitForm
  };
  var executeSubmit = useEventCallback(function() {
    return onSubmit(state.values, imperativeMethods);
  });
  var handleReset = useEventCallback(function(e) {
    if (e && e.preventDefault && isFunction2(e.preventDefault)) {
      e.preventDefault();
    }
    if (e && e.stopPropagation && isFunction2(e.stopPropagation)) {
      e.stopPropagation();
    }
    resetForm();
  });
  var getFieldMeta = (0, import_react23.useCallback)(function(name) {
    return {
      value: getIn2(state.values, name),
      error: getIn2(state.errors, name),
      touched: !!getIn2(state.touched, name),
      initialValue: getIn2(initialValues.current, name),
      initialTouched: !!getIn2(initialTouched.current, name),
      initialError: getIn2(initialErrors.current, name)
    };
  }, [state.errors, state.touched, state.values]);
  var getFieldHelpers = (0, import_react23.useCallback)(function(name) {
    return {
      setValue: function setValue(value, shouldValidate) {
        return setFieldValue(name, value, shouldValidate);
      },
      setTouched: function setTouched2(value, shouldValidate) {
        return setFieldTouched(name, value, shouldValidate);
      },
      setError: function setError(value) {
        return setFieldError(name, value);
      }
    };
  }, [setFieldValue, setFieldTouched, setFieldError]);
  var getFieldProps = (0, import_react23.useCallback)(function(nameOrOptions) {
    var isAnObject = isObject3(nameOrOptions);
    var name = isAnObject ? nameOrOptions.name : nameOrOptions;
    var valueState = getIn2(state.values, name);
    var field = {
      name,
      value: valueState,
      onChange: handleChange,
      onBlur: handleBlur
    };
    if (isAnObject) {
      var type = nameOrOptions.type, valueProp = nameOrOptions.value, is = nameOrOptions.as, multiple = nameOrOptions.multiple;
      if (type === "checkbox") {
        if (valueProp === void 0) {
          field.checked = !!valueState;
        } else {
          field.checked = !!(Array.isArray(valueState) && ~valueState.indexOf(valueProp));
          field.value = valueProp;
        }
      } else if (type === "radio") {
        field.checked = valueState === valueProp;
        field.value = valueProp;
      } else if (is === "select" && multiple) {
        field.value = field.value || [];
        field.multiple = true;
      }
    }
    return field;
  }, [handleBlur, handleChange, state.values]);
  var dirty = (0, import_react23.useMemo)(function() {
    return !(0, import_react_fast_compare.default)(initialValues.current, state.values);
  }, [initialValues.current, state.values]);
  var isValid = (0, import_react23.useMemo)(function() {
    return typeof isInitialValid !== "undefined" ? dirty ? state.errors && Object.keys(state.errors).length === 0 : isInitialValid !== false && isFunction2(isInitialValid) ? isInitialValid(props) : isInitialValid : state.errors && Object.keys(state.errors).length === 0;
  }, [isInitialValid, dirty, state.errors, props]);
  var ctx = _extends({}, state, {
    initialValues: initialValues.current,
    initialErrors: initialErrors.current,
    initialTouched: initialTouched.current,
    initialStatus: initialStatus.current,
    handleBlur,
    handleChange,
    handleReset,
    handleSubmit,
    resetForm,
    setErrors,
    setFormikState,
    setFieldTouched,
    setFieldValue,
    setFieldError,
    setStatus,
    setSubmitting,
    setTouched,
    setValues,
    submitForm,
    validateForm: validateFormWithHighPriority,
    validateField,
    isValid,
    dirty,
    unregisterField,
    registerField,
    getFieldProps,
    getFieldMeta,
    getFieldHelpers,
    validateOnBlur,
    validateOnChange,
    validateOnMount
  });
  return ctx;
}
function warnAboutMissingIdentifier(_ref4) {
  var htmlContent = _ref4.htmlContent, documentationAnchorLink = _ref4.documentationAnchorLink, handlerName = _ref4.handlerName;
  console.warn("Warning: Formik called `" + handlerName + "`, but you forgot to pass an `id` or `name` attribute to your input:\n    " + htmlContent + "\n    Formik cannot determine which value to update. For more info see https://formik.org/docs/api/formik#" + documentationAnchorLink + "\n  ");
}
function yupToFormErrors(yupError) {
  var errors = {};
  if (yupError.inner) {
    if (yupError.inner.length === 0) {
      return setIn(errors, yupError.path, yupError.message);
    }
    for (var _iterator = yupError.inner, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator](); ; ) {
      var _ref5;
      if (_isArray) {
        if (_i >= _iterator.length)
          break;
        _ref5 = _iterator[_i++];
      } else {
        _i = _iterator.next();
        if (_i.done)
          break;
        _ref5 = _i.value;
      }
      var err = _ref5;
      if (!getIn2(errors, err.path)) {
        errors = setIn(errors, err.path, err.message);
      }
    }
  }
  return errors;
}
function validateYupSchema(values, schema, sync, context) {
  if (sync === void 0) {
    sync = false;
  }
  var normalizedValues = prepareDataForValidation(values);
  return schema[sync ? "validateSync" : "validate"](normalizedValues, {
    abortEarly: false,
    context: context || normalizedValues
  });
}
function prepareDataForValidation(values) {
  var data = Array.isArray(values) ? [] : {};
  for (var k in values) {
    if (Object.prototype.hasOwnProperty.call(values, k)) {
      var key = String(k);
      if (Array.isArray(values[key]) === true) {
        data[key] = values[key].map(function(value) {
          if (Array.isArray(value) === true || isPlainObject_default(value)) {
            return prepareDataForValidation(value);
          } else {
            return value !== "" ? value : void 0;
          }
        });
      } else if (isPlainObject_default(values[key])) {
        data[key] = prepareDataForValidation(values[key]);
      } else {
        data[key] = values[key] !== "" ? values[key] : void 0;
      }
    }
  }
  return data;
}
function arrayMerge(target, source, options) {
  var destination = target.slice();
  source.forEach(function merge(e, i) {
    if (typeof destination[i] === "undefined") {
      var cloneRequested = options.clone !== false;
      var shouldClone = cloneRequested && options.isMergeableObject(e);
      destination[i] = shouldClone ? es_default(Array.isArray(e) ? [] : {}, e, options) : e;
    } else if (options.isMergeableObject(e)) {
      destination[i] = es_default(target[i], e, options);
    } else if (target.indexOf(e) === -1) {
      destination.push(e);
    }
  });
  return destination;
}
function getSelectedValues(options) {
  return Array.from(options).filter(function(el) {
    return el.selected;
  }).map(function(el) {
    return el.value;
  });
}
function getValueForCheckbox(currentValue, checked, valueProp) {
  if (typeof currentValue === "boolean") {
    return Boolean(checked);
  }
  var currentArrayOfValues = [];
  var isValueInArray = false;
  var index = -1;
  if (!Array.isArray(currentValue)) {
    if (!valueProp || valueProp == "true" || valueProp == "false") {
      return Boolean(checked);
    }
  } else {
    currentArrayOfValues = currentValue;
    index = currentValue.indexOf(valueProp);
    isValueInArray = index >= 0;
  }
  if (checked && valueProp && !isValueInArray) {
    return currentArrayOfValues.concat(valueProp);
  }
  if (!isValueInArray) {
    return currentArrayOfValues;
  }
  return currentArrayOfValues.slice(0, index).concat(currentArrayOfValues.slice(index + 1));
}
var useIsomorphicLayoutEffect = typeof window !== "undefined" && typeof window.document !== "undefined" && typeof window.document.createElement !== "undefined" ? import_react23.useLayoutEffect : import_react23.useEffect;
function useEventCallback(fn) {
  var ref = (0, import_react23.useRef)(fn);
  useIsomorphicLayoutEffect(function() {
    ref.current = fn;
  });
  return (0, import_react23.useCallback)(function() {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    return ref.current.apply(void 0, args);
  }, []);
}
var Form = /* @__PURE__ */ (0, import_react23.forwardRef)(function(props, ref) {
  var action = props.action, rest = _objectWithoutPropertiesLoose(props, ["action"]);
  var _action = action != null ? action : "#";
  var _useFormikContext = useFormikContext(), handleReset = _useFormikContext.handleReset, handleSubmit = _useFormikContext.handleSubmit;
  return (0, import_react23.createElement)("form", _extends({
    onSubmit: handleSubmit,
    ref,
    onReset: handleReset,
    action: _action
  }, rest));
});
Form.displayName = "Form";
var move = function move2(array2, from, to) {
  var copy = copyArrayLike(array2);
  var value = copy[from];
  copy.splice(from, 1);
  copy.splice(to, 0, value);
  return copy;
};
var swap = function swap2(arrayLike, indexA, indexB) {
  var copy = copyArrayLike(arrayLike);
  var a = copy[indexA];
  copy[indexA] = copy[indexB];
  copy[indexB] = a;
  return copy;
};
var insert = function insert2(arrayLike, index, value) {
  var copy = copyArrayLike(arrayLike);
  copy.splice(index, 0, value);
  return copy;
};
var replace = function replace2(arrayLike, index, value) {
  var copy = copyArrayLike(arrayLike);
  copy[index] = value;
  return copy;
};
var copyArrayLike = function copyArrayLike2(arrayLike) {
  if (!arrayLike) {
    return [];
  } else if (Array.isArray(arrayLike)) {
    return [].concat(arrayLike);
  } else {
    var maxIndex = Object.keys(arrayLike).map(function(key) {
      return parseInt(key);
    }).reduce(function(max, el) {
      return el > max ? el : max;
    }, 0);
    return Array.from(_extends({}, arrayLike, {
      length: maxIndex + 1
    }));
  }
};
var createAlterationHandler = function createAlterationHandler2(alteration, defaultFunction) {
  var fn = typeof alteration === "function" ? alteration : defaultFunction;
  return function(data) {
    if (Array.isArray(data) || isObject3(data)) {
      var clone3 = copyArrayLike(data);
      return fn(clone3);
    }
    return data;
  };
};
var FieldArrayInner = /* @__PURE__ */ function(_React$Component) {
  _inheritsLoose(FieldArrayInner2, _React$Component);
  function FieldArrayInner2(props) {
    var _this;
    _this = _React$Component.call(this, props) || this;
    _this.updateArrayField = function(fn, alterTouched, alterErrors) {
      var _this$props = _this.props, name = _this$props.name, setFormikState = _this$props.formik.setFormikState;
      setFormikState(function(prevState) {
        var updateErrors = createAlterationHandler(alterErrors, fn);
        var updateTouched = createAlterationHandler(alterTouched, fn);
        var values = setIn(prevState.values, name, fn(getIn2(prevState.values, name)));
        var fieldError = alterErrors ? updateErrors(getIn2(prevState.errors, name)) : void 0;
        var fieldTouched = alterTouched ? updateTouched(getIn2(prevState.touched, name)) : void 0;
        if (isEmptyArray(fieldError)) {
          fieldError = void 0;
        }
        if (isEmptyArray(fieldTouched)) {
          fieldTouched = void 0;
        }
        return _extends({}, prevState, {
          values,
          errors: alterErrors ? setIn(prevState.errors, name, fieldError) : prevState.errors,
          touched: alterTouched ? setIn(prevState.touched, name, fieldTouched) : prevState.touched
        });
      });
    };
    _this.push = function(value) {
      return _this.updateArrayField(function(arrayLike) {
        return [].concat(copyArrayLike(arrayLike), [cloneDeep_default(value)]);
      }, false, false);
    };
    _this.handlePush = function(value) {
      return function() {
        return _this.push(value);
      };
    };
    _this.swap = function(indexA, indexB) {
      return _this.updateArrayField(function(array2) {
        return swap(array2, indexA, indexB);
      }, true, true);
    };
    _this.handleSwap = function(indexA, indexB) {
      return function() {
        return _this.swap(indexA, indexB);
      };
    };
    _this.move = function(from, to) {
      return _this.updateArrayField(function(array2) {
        return move(array2, from, to);
      }, true, true);
    };
    _this.handleMove = function(from, to) {
      return function() {
        return _this.move(from, to);
      };
    };
    _this.insert = function(index, value) {
      return _this.updateArrayField(function(array2) {
        return insert(array2, index, value);
      }, function(array2) {
        return insert(array2, index, null);
      }, function(array2) {
        return insert(array2, index, null);
      });
    };
    _this.handleInsert = function(index, value) {
      return function() {
        return _this.insert(index, value);
      };
    };
    _this.replace = function(index, value) {
      return _this.updateArrayField(function(array2) {
        return replace(array2, index, value);
      }, false, false);
    };
    _this.handleReplace = function(index, value) {
      return function() {
        return _this.replace(index, value);
      };
    };
    _this.unshift = function(value) {
      var length = -1;
      _this.updateArrayField(function(array2) {
        var arr = array2 ? [value].concat(array2) : [value];
        length = arr.length;
        return arr;
      }, function(array2) {
        return array2 ? [null].concat(array2) : [null];
      }, function(array2) {
        return array2 ? [null].concat(array2) : [null];
      });
      return length;
    };
    _this.handleUnshift = function(value) {
      return function() {
        return _this.unshift(value);
      };
    };
    _this.handleRemove = function(index) {
      return function() {
        return _this.remove(index);
      };
    };
    _this.handlePop = function() {
      return function() {
        return _this.pop();
      };
    };
    _this.remove = _this.remove.bind(_assertThisInitialized(_this));
    _this.pop = _this.pop.bind(_assertThisInitialized(_this));
    return _this;
  }
  var _proto = FieldArrayInner2.prototype;
  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {
    if (this.props.validateOnChange && this.props.formik.validateOnChange && !(0, import_react_fast_compare.default)(getIn2(prevProps.formik.values, prevProps.name), getIn2(this.props.formik.values, this.props.name))) {
      this.props.formik.validateForm(this.props.formik.values);
    }
  };
  _proto.remove = function remove(index) {
    var result;
    this.updateArrayField(
      // so this gets call 3 times
      function(array2) {
        var copy = array2 ? copyArrayLike(array2) : [];
        if (!result) {
          result = copy[index];
        }
        if (isFunction2(copy.splice)) {
          copy.splice(index, 1);
        }
        return isFunction2(copy.every) ? copy.every(function(v) {
          return v === void 0;
        }) ? [] : copy : copy;
      },
      true,
      true
    );
    return result;
  };
  _proto.pop = function pop() {
    var result;
    this.updateArrayField(
      // so this gets call 3 times
      function(array2) {
        var tmp = array2.slice();
        if (!result) {
          result = tmp && tmp.pop && tmp.pop();
        }
        return tmp;
      },
      true,
      true
    );
    return result;
  };
  _proto.render = function render() {
    var arrayHelpers = {
      push: this.push,
      pop: this.pop,
      swap: this.swap,
      move: this.move,
      insert: this.insert,
      replace: this.replace,
      unshift: this.unshift,
      remove: this.remove,
      handlePush: this.handlePush,
      handlePop: this.handlePop,
      handleSwap: this.handleSwap,
      handleMove: this.handleMove,
      handleInsert: this.handleInsert,
      handleReplace: this.handleReplace,
      handleUnshift: this.handleUnshift,
      handleRemove: this.handleRemove
    };
    var _this$props2 = this.props, component = _this$props2.component, render2 = _this$props2.render, children = _this$props2.children, name = _this$props2.name, _this$props2$formik = _this$props2.formik, restOfFormik = _objectWithoutPropertiesLoose(_this$props2$formik, ["validate", "validationSchema"]);
    var props = _extends({}, arrayHelpers, {
      form: restOfFormik,
      name
    });
    return component ? (0, import_react23.createElement)(component, props) : render2 ? render2(props) : children ? typeof children === "function" ? children(props) : !isEmptyChildren(children) ? import_react23.Children.only(children) : null : null;
  };
  return FieldArrayInner2;
}(import_react23.Component);
FieldArrayInner.defaultProps = {
  validateOnChange: true
};

// src/components/forms/LoginForm.tsx
var import_lucide_react23 = require("lucide-react");
var import_ui14 = require("@rentalshop/ui");
var import_jsx_runtime48 = require("react/jsx-runtime");
var LoginForm = ({
  onLogin,
  onNavigate,
  error: error2,
  loading = false,
  isAdmin = false,
  onInputChange
}) => {
  const [viewPass, setViewPass] = (0, import_react24.useState)(false);
  const validationSchema = create$3({
    email: create$6().email("Please enter a valid email").required("Please enter your email"),
    password: create$6().min(6, "Password must be at least 6 characters").required("Please enter your password")
  });
  const validation = useFormik({
    enableReinitialize: true,
    initialValues: {
      email: "",
      password: ""
    },
    validationSchema,
    onSubmit: async (values) => {
      try {
        if (onLogin) {
          await onLogin(values);
        } else {
          console.log("Login data:", values);
        }
      } catch (error3) {
        console.error("Login failed:", error3);
      }
    }
  });
  const handleSubmit = (e) => {
    e.preventDefault();
    validation.handleSubmit();
  };
  const togglePasswordVisibility = () => {
    setViewPass(!viewPass);
  };
  return /* @__PURE__ */ (0, import_jsx_runtime48.jsx)("div", { className: "min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4", children: /* @__PURE__ */ (0, import_jsx_runtime48.jsxs)("div", { className: "w-full max-w-md", children: [
    /* @__PURE__ */ (0, import_jsx_runtime48.jsxs)("div", { className: "text-center mb-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime48.jsx)("div", { className: "inline-block", children: /* @__PURE__ */ (0, import_jsx_runtime48.jsx)("div", { className: "h-12 w-12 mx-auto bg-blue-600 rounded-lg flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime48.jsx)("span", { className: "text-white font-bold text-xl", children: "R" }) }) }),
      /* @__PURE__ */ (0, import_jsx_runtime48.jsx)("h1", { className: "mt-4 text-2xl font-bold text-gray-800", children: isAdmin ? "Admin Login" : "Welcome back" }),
      /* @__PURE__ */ (0, import_jsx_runtime48.jsx)("p", { className: "mt-2 text-sm text-gray-600", children: isAdmin ? "Sign in to admin panel" : "Sign in to continue to RentalShop" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime48.jsxs)(import_ui14.Card, { className: "shadow-lg", children: [
      /* @__PURE__ */ (0, import_jsx_runtime48.jsxs)(import_ui14.CardHeader, { className: "text-center border-b border-gray-200 bg-gray-50 rounded-t-lg", children: [
        /* @__PURE__ */ (0, import_jsx_runtime48.jsx)(import_ui14.CardTitle, { className: "text-xl font-semibold text-gray-800", children: isAdmin ? "Admin Sign In" : "Sign in to your account" }),
        /* @__PURE__ */ (0, import_jsx_runtime48.jsx)(import_ui14.CardDescription, { className: "text-sm text-gray-600 mt-1", children: "Enter your credentials below" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime48.jsx)(import_ui14.CardContent, { className: "p-6", children: /* @__PURE__ */ (0, import_jsx_runtime48.jsxs)("form", { onSubmit: handleSubmit, children: [
        error2 && /* @__PURE__ */ (0, import_jsx_runtime48.jsxs)("div", { className: "mb-4 p-3 text-sm text-red-700 bg-red-100 border border-red-200 rounded-lg flex items-center", children: [
          /* @__PURE__ */ (0, import_jsx_runtime48.jsx)("div", { className: "w-4 h-4 mr-2", children: "\u26A0\uFE0F" }),
          error2
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime48.jsxs)("div", { className: "space-y-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime48.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime48.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Email" }),
            /* @__PURE__ */ (0, import_jsx_runtime48.jsxs)("div", { className: "relative", children: [
              /* @__PURE__ */ (0, import_jsx_runtime48.jsx)(import_lucide_react23.Mail, { className: "absolute left-3 top-3 h-4 w-4 text-gray-400" }),
              /* @__PURE__ */ (0, import_jsx_runtime48.jsx)(
                import_ui14.Input,
                {
                  type: "email",
                  placeholder: "Enter your email",
                  className: "pl-10",
                  onChange: (e) => {
                    validation.handleChange(e);
                    onInputChange?.();
                  },
                  onBlur: validation.handleBlur,
                  value: validation.values.email || "",
                  name: "email"
                }
              )
            ] }),
            validation.touched.email && validation.errors.email && /* @__PURE__ */ (0, import_jsx_runtime48.jsx)("p", { className: "mt-1 text-sm text-red-600", children: validation.errors.email })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime48.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime48.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Password" }),
            /* @__PURE__ */ (0, import_jsx_runtime48.jsxs)("div", { className: "relative", children: [
              /* @__PURE__ */ (0, import_jsx_runtime48.jsx)(import_lucide_react23.Lock, { className: "absolute left-3 top-3 h-4 w-4 text-gray-400" }),
              /* @__PURE__ */ (0, import_jsx_runtime48.jsx)(
                import_ui14.Input,
                {
                  type: viewPass ? "text" : "password",
                  placeholder: "Enter your password",
                  className: "pl-10 pr-10",
                  onChange: (e) => {
                    validation.handleChange(e);
                    onInputChange?.();
                  },
                  onBlur: validation.handleBlur,
                  value: validation.values.password || "",
                  name: "password"
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime48.jsx)(
                import_ui14.Button,
                {
                  variant: "ghost",
                  size: "icon",
                  type: "button",
                  className: "absolute right-1 top-1 p-1 text-gray-400 hover:text-gray-600 h-auto w-auto",
                  onClick: togglePasswordVisibility,
                  children: viewPass ? /* @__PURE__ */ (0, import_jsx_runtime48.jsx)(import_lucide_react23.EyeOff, { className: "h-4 w-4" }) : /* @__PURE__ */ (0, import_jsx_runtime48.jsx)(import_lucide_react23.Eye, { className: "h-4 w-4" })
                }
              )
            ] }),
            validation.touched.password && validation.errors.password && /* @__PURE__ */ (0, import_jsx_runtime48.jsx)("p", { className: "mt-1 text-sm text-red-600", children: validation.errors.password })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime48.jsxs)("div", { className: "flex items-center", children: [
            /* @__PURE__ */ (0, import_jsx_runtime48.jsx)(
              "input",
              {
                type: "checkbox",
                id: "remember",
                className: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-0.5"
              }
            ),
            /* @__PURE__ */ (0, import_jsx_runtime48.jsx)("label", { htmlFor: "remember", className: "ml-2 text-sm text-gray-600", children: "Remember me" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime48.jsx)(
            import_ui14.Button,
            {
              type: "submit",
              className: "w-full",
              disabled: loading,
              children: loading ? /* @__PURE__ */ (0, import_jsx_runtime48.jsxs)("div", { className: "flex items-center justify-center", children: [
                /* @__PURE__ */ (0, import_jsx_runtime48.jsx)("div", { className: "animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2" }),
                "Signing in..."
              ] }) : "Sign in"
            }
          )
        ] })
      ] }) })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime48.jsxs)("div", { className: "mt-6 text-center space-y-2", children: [
      !isAdmin && /* @__PURE__ */ (0, import_jsx_runtime48.jsxs)("p", { className: "text-sm text-gray-600", children: [
        "Don't have an account?",
        " ",
        /* @__PURE__ */ (0, import_jsx_runtime48.jsx)(
          import_ui14.Button,
          {
            variant: "link",
            onClick: () => onNavigate?.("/register"),
            className: "font-medium text-blue-600 hover:text-blue-800 hover:underline p-0 h-auto",
            children: "Sign up now"
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime48.jsx)("p", { className: "text-sm text-gray-600", children: /* @__PURE__ */ (0, import_jsx_runtime48.jsx)(
        import_ui14.Button,
        {
          variant: "link",
          onClick: () => onNavigate?.("/forget-password"),
          className: "font-medium text-blue-600 hover:text-blue-800 hover:underline p-0 h-auto",
          children: "Forgot your password?"
        }
      ) })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime48.jsx)("div", { className: "mt-8 text-center", children: /* @__PURE__ */ (0, import_jsx_runtime48.jsxs)("p", { className: "text-xs text-gray-500", children: [
      "\xA9 ",
      (/* @__PURE__ */ new Date()).getFullYear(),
      " ",
      isAdmin ? "RentalShop Admin" : "RentalShop",
      ". Crafted with",
      " ",
      /* @__PURE__ */ (0, import_jsx_runtime48.jsx)("span", { className: "text-red-500", children: "\u2764" }),
      " by RentalShop"
    ] }) })
  ] }) });
};
var LoginForm_default = LoginForm;

// src/components/forms/RegisterForm.tsx
var import_react25 = require("react");
var import_lucide_react24 = require("lucide-react");
var import_utils18 = require("@rentalshop/utils");
var import_constants8 = require("@rentalshop/constants");
var import_jsx_runtime49 = require("react/jsx-runtime");
var RegisterForm = ({
  onRegister,
  onNavigate,
  user,
  registrationError
}) => {
  const [viewPass, setViewPass] = (0, import_react25.useState)(false);
  const [viewConfirmPass, setViewConfirmPass] = (0, import_react25.useState)(false);
  const [currentStep, setCurrentStep] = (0, import_react25.useState)(1);
  const [accountData, setAccountData] = (0, import_react25.useState)({});
  const [isSubmitting, setIsSubmitting] = (0, import_react25.useState)(false);
  const { toastSuccess, toastError, removeToast } = useToast();
  const step1ValidationSchema = create$3({
    login: create$6().email("Please enter a valid email").required("Please Enter Your Email"),
    password: create$6().min(6, "Your password must be at least 6 characters").max(25, "Your password must be at most 25 characters").required("Please enter user password"),
    confirmPassword: create$6().oneOf([create$9("password")], "Password does not match").required("Please confirm your password"),
    firstName: create$6().min(1, "First name is required").required("Please Enter Your First Name"),
    lastName: create$6().min(1, "Last name is required").required("Please Enter Your Last Name"),
    phone: create$6().matches(/^[0-9+\-\s()]+$/, "Please enter a valid phone number").min(10, "Phone number must be at least 10 digits").required("Please Enter Phone Number")
  });
  const step2ValidationSchema = create$3({
    businessName: create$6().min(2, "Business name must be at least 2 characters").required("Please Enter Business Name"),
    businessType: create$6().oneOf(["CLOTHING", "VEHICLE", "EQUIPMENT", "GENERAL"], "Please select a valid business type").required("Please select your business type"),
    pricingType: create$6().oneOf(["FIXED", "HOURLY", "DAILY", "WEEKLY"], "Please select a valid pricing type").required("Please select your pricing type"),
    address: create$6().min(5, "Address must be at least 5 characters").required("Please Enter Business Address"),
    city: create$6().min(2, "City must be at least 2 characters").required("Please Enter City"),
    state: create$6().min(2, "State must be at least 2 characters").required("Please Enter State"),
    zipCode: create$6().matches(/^[0-9]{5}(-[0-9]{4})?$/, "Please enter a valid ZIP code").required("Please Enter ZIP Code"),
    country: create$6().min(2, "Country must be at least 2 characters").required("Please Enter Country"),
    acceptTermsAndPrivacy: create$7().oneOf([true], "You must accept the Terms of Service and Privacy Policy").required("You must accept the Terms of Service and Privacy Policy")
  });
  const formik = useFormik({
    initialValues: {
      login: "",
      password: "",
      confirmPassword: "",
      firstName: "",
      lastName: "",
      phone: "",
      businessName: "",
      businessType: "GENERAL",
      pricingType: "FIXED",
      address: "",
      city: "",
      state: "",
      zipCode: "",
      country: (0, import_constants8.getDefaultCountry)().name,
      acceptTermsAndPrivacy: false,
      role: "MERCHANT"
    },
    validationSchema: currentStep === 1 ? step1ValidationSchema : step2ValidationSchema,
    onSubmit: async (values) => {
      if (isSubmitting) {
        return;
      }
      setIsSubmitting(true);
      const timeoutId = setTimeout(() => {
        setIsSubmitting(false);
      }, 1e4);
      if (currentStep === 1) {
        setAccountData({
          login: values.login,
          password: values.password,
          confirmPassword: values.confirmPassword,
          firstName: values.firstName,
          lastName: values.lastName,
          phone: values.phone,
          role: values.role
        });
        setCurrentStep(2);
        return;
      }
      const completeData = { ...accountData, ...values };
      try {
        const registrationData = {
          email: completeData.login,
          password: completeData.password,
          firstName: completeData.firstName,
          lastName: completeData.lastName,
          phone: completeData.phone,
          role: completeData.role,
          businessName: values.businessName,
          businessType: values.businessType,
          pricingType: values.pricingType,
          address: values.address,
          city: values.city,
          state: values.state,
          zipCode: values.zipCode,
          country: values.country
        };
        const result = await import_utils18.authApi.register(registrationData);
        if (!result.success) {
          throw new Error(result.message || result.error || "Registration failed");
        }
        if (result.data?.token) {
          const { storeAuthData } = await import("@rentalshop/utils");
          storeAuthData(result.data.token, result.data.user);
        }
        toastSuccess("Registration Complete!", "Account created successfully.");
        formik.resetForm();
        setCurrentStep(1);
        setAccountData({});
        setTimeout(() => {
          window.location.href = "/login";
        }, 2e3);
      } catch (error2) {
        toastError(
          "Registration Failed",
          error2.message || "Something went wrong. Please try again."
        );
      } finally {
        clearTimeout(timeoutId);
        setIsSubmitting(false);
      }
    }
  });
  return /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "w-full max-w-md mx-auto", children: [
    /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)(Card, { className: "shadow-lg", children: [
      /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)(CardHeader, { className: "text-center", children: [
        /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(CardTitle, { className: "text-2xl font-bold text-gray-900", children: "Create Merchant Account" }),
        /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(CardDescription, { className: "text-gray-600", children: currentStep === 1 ? "Step 1: Create your account" : "Step 2: Business information" }),
        /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "flex items-center justify-center space-x-4 mt-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: `flex items-center ${currentStep >= 1 ? "text-blue-600" : "text-gray-400"}`, children: [
            /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("div", { className: `w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${currentStep >= 1 ? "bg-blue-600 text-white" : "bg-gray-200 text-gray-500"}`, children: "1" }),
            /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("span", { className: "ml-2 text-sm font-medium", children: "Account" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("div", { className: `w-8 h-0.5 ${currentStep >= 2 ? "bg-blue-600" : "bg-gray-200"}` }),
          /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: `flex items-center ${currentStep >= 2 ? "text-blue-600" : "text-gray-400"}`, children: [
            /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("div", { className: `w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${currentStep >= 2 ? "bg-blue-600 text-white" : "bg-gray-200 text-gray-500"}`, children: "2" }),
            /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("span", { className: "ml-2 text-sm font-medium", children: "Business" })
          ] })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("form", { onSubmit: (e) => {
        e.preventDefault();
        formik.handleSubmit(e);
      }, className: "space-y-6", children: [
        currentStep === 1 && /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)(import_jsx_runtime49.Fragment, { children: [
          /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("label", { htmlFor: "login", className: "text-sm font-medium text-gray-700", children: "Email Address" }),
            /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "relative", children: [
              /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(import_lucide_react24.Mail, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5" }),
              /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(
                Input,
                {
                  id: "login",
                  name: "login",
                  type: "email",
                  placeholder: "Enter your email",
                  value: formik.values.login,
                  onChange: formik.handleChange,
                  onBlur: formik.handleBlur,
                  className: `pl-10 ${formik.errors.login && formik.touched.login ? "border-red-500" : ""}`
                }
              )
            ] }),
            formik.errors.login && formik.touched.login && /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("p", { className: "text-red-500 text-sm", children: formik.errors.login })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("label", { htmlFor: "password", className: "text-sm font-medium text-gray-700", children: "Password" }),
            /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "relative", children: [
              /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(import_lucide_react24.Lock, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5" }),
              /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(
                Input,
                {
                  id: "password",
                  name: "password",
                  type: viewPass ? "text" : "password",
                  placeholder: "Create a password",
                  value: formik.values.password,
                  onChange: formik.handleChange,
                  onBlur: formik.handleBlur,
                  className: `pl-10 pr-10 ${formik.errors.password && formik.touched.password ? "border-red-500" : ""}`
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(
                Button,
                {
                  variant: "ghost",
                  size: "icon",
                  type: "button",
                  onClick: () => setViewPass(!viewPass),
                  className: "absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 h-auto w-auto p-0",
                  children: viewPass ? /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(import_lucide_react24.EyeOff, { className: "h-5 w-5" }) : /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(import_lucide_react24.Eye, { className: "h-5 w-5" })
                }
              )
            ] }),
            formik.errors.password && formik.touched.password && /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("p", { className: "text-red-500 text-sm", children: formik.errors.password })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("label", { htmlFor: "confirmPassword", className: "text-sm font-medium text-gray-700", children: "Confirm Password" }),
            /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "relative", children: [
              /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(import_lucide_react24.Lock, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5" }),
              /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(
                Input,
                {
                  id: "confirmPassword",
                  name: "confirmPassword",
                  type: viewConfirmPass ? "text" : "password",
                  placeholder: "Confirm your password",
                  value: formik.values.confirmPassword,
                  onChange: formik.handleChange,
                  onBlur: formik.handleBlur,
                  className: `pl-10 pr-10 ${formik.errors.confirmPassword && formik.touched.confirmPassword ? "border-red-500" : ""}`
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(
                Button,
                {
                  variant: "ghost",
                  size: "icon",
                  type: "button",
                  onClick: () => setViewConfirmPass(!viewConfirmPass),
                  className: "absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 h-auto w-auto p-0",
                  children: viewConfirmPass ? /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(import_lucide_react24.EyeOff, { className: "h-5 w-5" }) : /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(import_lucide_react24.Eye, { className: "h-5 w-5" })
                }
              )
            ] }),
            formik.errors.confirmPassword && formik.touched.confirmPassword && /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("p", { className: "text-red-500 text-sm", children: formik.errors.confirmPassword })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
            /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "space-y-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("label", { htmlFor: "firstName", className: "text-sm font-medium text-gray-700", children: "First Name" }),
              /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "relative", children: [
                /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(import_lucide_react24.User, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5" }),
                /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(
                  Input,
                  {
                    id: "firstName",
                    name: "firstName",
                    type: "text",
                    placeholder: "Enter your first name",
                    value: formik.values.firstName,
                    onChange: formik.handleChange,
                    onBlur: formik.handleBlur,
                    className: `pl-10 ${formik.errors.firstName && formik.touched.firstName ? "border-red-500" : ""}`
                  }
                )
              ] }),
              formik.errors.firstName && formik.touched.firstName && /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("p", { className: "text-red-500 text-sm", children: formik.errors.firstName })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "space-y-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("label", { htmlFor: "lastName", className: "text-sm font-medium text-gray-700", children: "Last Name" }),
              /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "relative", children: [
                /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(import_lucide_react24.User, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5" }),
                /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(
                  Input,
                  {
                    id: "lastName",
                    name: "lastName",
                    type: "text",
                    placeholder: "Enter your last name",
                    value: formik.values.lastName,
                    onChange: formik.handleChange,
                    onBlur: formik.handleBlur,
                    className: `pl-10 ${formik.errors.lastName && formik.touched.lastName ? "border-red-500" : ""}`
                  }
                )
              ] }),
              formik.errors.lastName && formik.touched.lastName && /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("p", { className: "text-red-500 text-sm", children: formik.errors.lastName })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("label", { htmlFor: "phone", className: "text-sm font-medium text-gray-700", children: "Phone Number" }),
            /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "relative", children: [
              /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(import_lucide_react24.Phone, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5" }),
              /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(
                Input,
                {
                  id: "phone",
                  name: "phone",
                  type: "tel",
                  placeholder: "Enter your phone number",
                  value: formik.values.phone,
                  onChange: formik.handleChange,
                  onBlur: formik.handleBlur,
                  className: `pl-10 ${formik.errors.phone && formik.touched.phone ? "border-red-500" : ""}`
                }
              )
            ] }),
            formik.errors.phone && formik.touched.phone && /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("p", { className: "text-red-500 text-sm", children: formik.errors.phone })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(
            Button,
            {
              type: "submit",
              className: "w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition duration-200",
              disabled: isSubmitting,
              children: isSubmitting ? "Validating..." : "Continue to Business Info"
            }
          )
        ] }),
        currentStep === 2 && /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)(import_jsx_runtime49.Fragment, { children: [
          /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("label", { htmlFor: "businessName", className: "text-sm font-medium text-gray-700", children: "Business Name" }),
            /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "relative", children: [
              /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(import_lucide_react24.Store, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5" }),
              /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(
                Input,
                {
                  id: "businessName",
                  name: "businessName",
                  type: "text",
                  placeholder: "Enter your business name",
                  value: formik.values.businessName,
                  onChange: formik.handleChange,
                  onBlur: formik.handleBlur,
                  className: `pl-10 ${formik.errors.businessName && formik.touched.businessName ? "border-red-500" : ""}`
                }
              )
            ] }),
            formik.errors.businessName && formik.touched.businessName && /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("p", { className: "text-red-500 text-sm", children: formik.errors.businessName })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "space-y-4", children: [
            /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("div", { className: "bg-amber-50 border border-amber-200 rounded-lg p-3", children: /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "flex items-start", children: [
              /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("div", { className: "flex-shrink-0", children: /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("svg", { className: "h-5 w-5 text-amber-400", viewBox: "0 0 20 20", fill: "currentColor", children: /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("path", { fillRule: "evenodd", d: "M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z", clipRule: "evenodd" }) }) }),
              /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "ml-3", children: [
                /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("h3", { className: "text-sm font-medium text-amber-800", children: "Important Notice" }),
                /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("div", { className: "mt-1 text-sm text-amber-700", children: /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("p", { children: [
                  "Business Type and Pricing Type ",
                  /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("strong", { children: "cannot be changed" }),
                  " after registration. Please choose carefully as these settings will be locked permanently."
                ] }) })
              ] })
            ] }) }),
            /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "space-y-4", children: [
              /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "space-y-2", children: [
                /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("label", { htmlFor: "businessType", className: "text-sm font-medium text-gray-700", children: "Business Type *" }),
                /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)(
                  Select,
                  {
                    value: formik.values.businessType,
                    onValueChange: (value) => formik.setFieldValue("businessType", value),
                    children: [
                      /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(SelectTrigger, { className: `w-full ${formik.errors.businessType && formik.touched.businessType ? "border-red-500" : ""}`, children: /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(SelectValue, { placeholder: "Select business type" }) }),
                      /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(SelectContent, { children: import_constants8.BUSINESS_TYPE_OPTIONS.map((option) => /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(SelectItem, { value: option.value, children: /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "flex flex-col items-start", children: [
                        /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("span", { className: "font-medium", children: option.label }),
                        /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("span", { className: "text-xs text-gray-500", children: option.description })
                      ] }) }, option.value)) })
                    ]
                  }
                ),
                formik.errors.businessType && formik.touched.businessType && /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("p", { className: "text-red-500 text-sm", children: formik.errors.businessType })
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "space-y-2", children: [
                /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("label", { htmlFor: "pricingType", className: "text-sm font-medium text-gray-700", children: "Pricing Type *" }),
                /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)(
                  Select,
                  {
                    value: formik.values.pricingType,
                    onValueChange: (value) => formik.setFieldValue("pricingType", value),
                    children: [
                      /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(SelectTrigger, { className: `w-full ${formik.errors.pricingType && formik.touched.pricingType ? "border-red-500" : ""}`, children: /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(SelectValue, { placeholder: "Select pricing type" }) }),
                      /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(SelectContent, { children: import_constants8.PRICING_TYPE_OPTIONS.map((option) => /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(SelectItem, { value: option.value, children: /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "flex flex-col items-start", children: [
                        /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("span", { className: "font-medium", children: option.label }),
                        /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("span", { className: "text-xs text-gray-500", children: option.description })
                      ] }) }, option.value)) })
                    ]
                  }
                ),
                formik.errors.pricingType && formik.touched.pricingType && /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("p", { className: "text-red-500 text-sm", children: formik.errors.pricingType })
              ] })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("label", { htmlFor: "address", className: "text-sm font-medium text-gray-700", children: "Business Address" }),
            /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "relative", children: [
              /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(import_lucide_react24.MapPin, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5" }),
              /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(
                Input,
                {
                  id: "address",
                  name: "address",
                  type: "text",
                  placeholder: "Enter your business address",
                  value: formik.values.address,
                  onChange: formik.handleChange,
                  onBlur: formik.handleBlur,
                  className: `pl-10 ${formik.errors.address && formik.touched.address ? "border-red-500" : ""}`
                }
              )
            ] }),
            formik.errors.address && formik.touched.address && /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("p", { className: "text-red-500 text-sm", children: formik.errors.address })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "grid grid-cols-2 gap-4", children: [
            /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "space-y-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("label", { htmlFor: "city", className: "text-sm font-medium text-gray-700", children: "City" }),
              /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(
                Input,
                {
                  id: "city",
                  name: "city",
                  type: "text",
                  placeholder: "City",
                  value: formik.values.city,
                  onChange: formik.handleChange,
                  onBlur: formik.handleBlur,
                  className: formik.errors.city && formik.touched.city ? "border-red-500" : ""
                }
              ),
              formik.errors.city && formik.touched.city && /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("p", { className: "text-red-500 text-sm", children: formik.errors.city })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "space-y-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("label", { htmlFor: "state", className: "text-sm font-medium text-gray-700", children: "State" }),
              /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(
                Input,
                {
                  id: "state",
                  name: "state",
                  type: "text",
                  placeholder: "State",
                  value: formik.values.state,
                  onChange: formik.handleChange,
                  onBlur: formik.handleBlur,
                  className: formik.errors.state && formik.touched.state ? "border-red-500" : ""
                }
              ),
              formik.errors.state && formik.touched.state && /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("p", { className: "text-red-500 text-sm", children: formik.errors.state })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "grid grid-cols-2 gap-4", children: [
            /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "space-y-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("label", { htmlFor: "zipCode", className: "text-sm font-medium text-gray-700", children: "ZIP Code" }),
              /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(
                Input,
                {
                  id: "zipCode",
                  name: "zipCode",
                  type: "text",
                  placeholder: "12345",
                  value: formik.values.zipCode,
                  onChange: formik.handleChange,
                  onBlur: formik.handleBlur,
                  className: formik.errors.zipCode && formik.touched.zipCode ? "border-red-500" : ""
                }
              ),
              formik.errors.zipCode && formik.touched.zipCode && /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("p", { className: "text-red-500 text-sm", children: formik.errors.zipCode })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "space-y-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("label", { htmlFor: "country", className: "text-sm font-medium text-gray-700", children: "Country *" }),
              /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)(
                Select,
                {
                  value: formik.values.country,
                  onValueChange: (value) => formik.setFieldValue("country", value),
                  children: [
                    /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(SelectTrigger, { className: `w-full ${formik.errors.country && formik.touched.country ? "border-red-500" : ""}`, children: /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(SelectValue, { placeholder: "Select country" }) }),
                    /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(SelectContent, { children: import_constants8.COUNTRIES.map((country) => /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(SelectItem, { value: country.name, children: /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "flex items-center gap-2", children: [
                      /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("span", { children: country.flag }),
                      /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("span", { children: country.name })
                    ] }) }, country.code)) })
                  ]
                }
              ),
              formik.errors.country && formik.touched.country && /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("p", { className: "text-red-500 text-sm", children: formik.errors.country })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("label", { className: "flex items-start space-x-3", children: [
              /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(
                "input",
                {
                  type: "checkbox",
                  name: "acceptTermsAndPrivacy",
                  checked: formik.values.acceptTermsAndPrivacy,
                  onChange: formik.handleChange,
                  onBlur: formik.handleBlur,
                  className: "mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("span", { className: "text-sm text-gray-700", children: [
                "I agree to the",
                " ",
                /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("a", { href: "/terms", className: "text-blue-600 hover:text-blue-500 underline", children: "Terms of Service" }),
                " ",
                "and",
                " ",
                /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("a", { href: "/privacy", className: "text-blue-600 hover:text-blue-500 underline", children: "Privacy Policy" })
              ] })
            ] }),
            formik.errors.acceptTermsAndPrivacy && formik.touched.acceptTermsAndPrivacy && /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("p", { className: "text-red-500 text-sm", children: formik.errors.acceptTermsAndPrivacy })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "bg-blue-50 border border-blue-200 rounded-lg p-4", children: [
            /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("h3", { className: "text-sm font-medium text-blue-900 mb-2", children: "Free Trial Includes:" }),
            /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("ul", { className: "text-sm text-blue-800 space-y-1", children: [
              /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("li", { className: "flex items-center", children: [
                /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(import_lucide_react24.CheckCircle, { className: "h-4 w-4 text-blue-600 mr-2" }),
                "Full access to all features"
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("li", { className: "flex items-center", children: [
                /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(import_lucide_react24.CheckCircle, { className: "h-4 w-4 text-blue-600 mr-2" }),
                'Default outlet: "',
                formik.values.businessName || "Your Business",
                '"'
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("li", { className: "flex items-center", children: [
                /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(import_lucide_react24.CheckCircle, { className: "h-4 w-4 text-blue-600 mr-2" }),
                "Mobile app access"
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("li", { className: "flex items-center", children: [
                /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(import_lucide_react24.CheckCircle, { className: "h-4 w-4 text-blue-600 mr-2" }),
                "No credit card required"
              ] })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("div", { className: "flex space-x-3", children: [
            /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(
              Button,
              {
                type: "button",
                onClick: () => setCurrentStep(1),
                className: "flex-1 bg-gray-500 hover:bg-gray-600 text-white font-medium py-2 px-4 rounded-lg transition duration-200",
                children: "Back"
              }
            ),
            /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(
              Button,
              {
                type: "submit",
                className: "flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition duration-200",
                disabled: isSubmitting,
                children: isSubmitting ? "Creating Account..." : "Create Merchant Account"
              }
            )
          ] })
        ] }),
        registrationError && /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("div", { className: "text-red-500 text-sm text-center bg-red-50 border border-red-200 rounded-lg p-3", children: registrationError }),
        /* @__PURE__ */ (0, import_jsx_runtime49.jsx)("div", { className: "text-center", children: /* @__PURE__ */ (0, import_jsx_runtime49.jsxs)("p", { className: "text-sm text-gray-600", children: [
          "Already have an account?",
          " ",
          /* @__PURE__ */ (0, import_jsx_runtime49.jsx)(
            Button,
            {
              variant: "link",
              type: "button",
              onClick: () => onNavigate?.("/login"),
              className: "text-blue-600 hover:text-blue-500 font-medium p-0 h-auto",
              children: "Sign in"
            }
          )
        ] }) })
      ] }) })
    ] }),
    "    "
  ] });
};
var RegisterForm_default = RegisterForm;

// src/components/forms/ForgetPasswordForm.tsx
var import_react26 = require("react");
var import_lucide_react25 = require("lucide-react");
var import_ui15 = require("@rentalshop/ui");
var import_jsx_runtime50 = require("react/jsx-runtime");
var ForgetPasswordForm = ({
  onResetPassword,
  onNavigate,
  error: error2,
  loading = false,
  success = false
}) => {
  const [emailSent, setEmailSent] = (0, import_react26.useState)(false);
  const validationSchema = create$3({
    email: create$6().email("Please enter a valid email").required("Please enter your email")
  });
  const validation = useFormik({
    enableReinitialize: true,
    initialValues: {
      email: ""
    },
    validationSchema,
    onSubmit: async (values) => {
      try {
        if (onResetPassword) {
          await onResetPassword(values);
          setEmailSent(true);
        } else {
          console.log("Reset password data:", values);
          setEmailSent(true);
        }
      } catch (error3) {
        console.error("Password reset failed:", error3);
      }
    }
  });
  const handleSubmit = (e) => {
    e.preventDefault();
    validation.handleSubmit();
  };
  if (emailSent || success) {
    return /* @__PURE__ */ (0, import_jsx_runtime50.jsx)("div", { className: "min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4", children: /* @__PURE__ */ (0, import_jsx_runtime50.jsxs)("div", { className: "w-full max-w-md", children: [
      /* @__PURE__ */ (0, import_jsx_runtime50.jsxs)("div", { className: "text-center mb-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime50.jsx)("div", { className: "inline-block", children: /* @__PURE__ */ (0, import_jsx_runtime50.jsx)("div", { className: "h-12 w-12 mx-auto bg-blue-600 rounded-lg flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime50.jsx)("span", { className: "text-white font-bold text-xl", children: "R" }) }) }),
        /* @__PURE__ */ (0, import_jsx_runtime50.jsx)("h1", { className: "mt-4 text-2xl font-bold text-gray-800", children: "Check your email" }),
        /* @__PURE__ */ (0, import_jsx_runtime50.jsx)("p", { className: "mt-2 text-sm text-gray-600", children: "We've sent you a password reset link" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime50.jsx)(import_ui15.Card, { className: "shadow-lg", children: /* @__PURE__ */ (0, import_jsx_runtime50.jsxs)(import_ui15.CardContent, { className: "p-6 text-center", children: [
        /* @__PURE__ */ (0, import_jsx_runtime50.jsx)("div", { className: "mx-auto w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4", children: /* @__PURE__ */ (0, import_jsx_runtime50.jsx)(import_lucide_react25.CheckCircle, { className: "h-6 w-6 text-green-600" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime50.jsx)("h3", { className: "text-lg font-semibold text-gray-800 mb-2", children: "Email sent successfully!" }),
        /* @__PURE__ */ (0, import_jsx_runtime50.jsxs)("p", { className: "text-sm text-gray-600 mb-6", children: [
          "We've sent a password reset link to",
          " ",
          /* @__PURE__ */ (0, import_jsx_runtime50.jsx)("span", { className: "font-medium", children: validation.values.email })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime50.jsx)("p", { className: "text-xs text-gray-500 mb-6", children: "Didn't receive the email? Check your spam folder or try again." }),
        /* @__PURE__ */ (0, import_jsx_runtime50.jsxs)("div", { className: "space-y-3", children: [
          /* @__PURE__ */ (0, import_jsx_runtime50.jsx)(
            import_ui15.Button,
            {
              onClick: () => {
                setEmailSent(false);
                validation.resetForm();
              },
              className: "w-full",
              children: "Send another email"
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime50.jsx)(
            import_ui15.Button,
            {
              variant: "outline",
              onClick: () => onNavigate?.("/login"),
              className: "w-full",
              children: "Back to login"
            }
          )
        ] })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime50.jsx)("div", { className: "mt-8 text-center", children: /* @__PURE__ */ (0, import_jsx_runtime50.jsxs)("p", { className: "text-xs text-gray-500", children: [
        "\xA9 ",
        (/* @__PURE__ */ new Date()).getFullYear(),
        " RentalShop. Crafted with",
        " ",
        /* @__PURE__ */ (0, import_jsx_runtime50.jsx)("span", { className: "text-red-500", children: "\u2764" }),
        " by RentalShop"
      ] }) })
    ] }) });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime50.jsx)("div", { className: "min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center p-4", children: /* @__PURE__ */ (0, import_jsx_runtime50.jsxs)("div", { className: "w-full max-w-md", children: [
    /* @__PURE__ */ (0, import_jsx_runtime50.jsxs)("div", { className: "text-center mb-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime50.jsx)("div", { className: "inline-block", children: /* @__PURE__ */ (0, import_jsx_runtime50.jsx)("div", { className: "h-12 w-12 mx-auto bg-blue-600 rounded-lg flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime50.jsx)("span", { className: "text-white font-bold text-xl", children: "R" }) }) }),
      /* @__PURE__ */ (0, import_jsx_runtime50.jsx)("h1", { className: "mt-4 text-2xl font-bold text-gray-800", children: "Forgot your password?" }),
      /* @__PURE__ */ (0, import_jsx_runtime50.jsx)("p", { className: "mt-2 text-sm text-gray-600", children: "Enter your email to receive a reset link" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime50.jsxs)(import_ui15.Card, { className: "shadow-lg", children: [
      /* @__PURE__ */ (0, import_jsx_runtime50.jsxs)(import_ui15.CardHeader, { className: "text-center border-b border-gray-200 bg-gray-50 rounded-t-lg", children: [
        /* @__PURE__ */ (0, import_jsx_runtime50.jsx)(import_ui15.CardTitle, { className: "text-xl font-semibold text-gray-800", children: "Reset your password" }),
        /* @__PURE__ */ (0, import_jsx_runtime50.jsx)(import_ui15.CardDescription, { className: "text-sm text-gray-600 mt-1", children: "We'll send you a link to reset your password" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime50.jsx)(import_ui15.CardContent, { className: "p-6", children: /* @__PURE__ */ (0, import_jsx_runtime50.jsxs)("form", { onSubmit: handleSubmit, children: [
        error2 && /* @__PURE__ */ (0, import_jsx_runtime50.jsxs)("div", { className: "mb-4 p-3 text-sm text-red-700 bg-red-100 border border-red-200 rounded-lg flex items-center", children: [
          /* @__PURE__ */ (0, import_jsx_runtime50.jsx)("div", { className: "w-4 h-4 mr-2", children: "\u26A0\uFE0F" }),
          error2
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime50.jsxs)("div", { className: "space-y-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime50.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime50.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Email address" }),
            /* @__PURE__ */ (0, import_jsx_runtime50.jsxs)("div", { className: "relative", children: [
              /* @__PURE__ */ (0, import_jsx_runtime50.jsx)(import_lucide_react25.Mail, { className: "absolute left-3 top-3 h-4 w-4 text-gray-400" }),
              /* @__PURE__ */ (0, import_jsx_runtime50.jsx)(
                import_ui15.Input,
                {
                  type: "email",
                  placeholder: "Enter your email",
                  className: "pl-10",
                  onChange: validation.handleChange,
                  onBlur: validation.handleBlur,
                  value: validation.values.email || "",
                  name: "email"
                }
              )
            ] }),
            validation.touched.email && validation.errors.email && /* @__PURE__ */ (0, import_jsx_runtime50.jsx)("p", { className: "mt-1 text-sm text-red-600", children: validation.errors.email })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime50.jsx)(
            import_ui15.Button,
            {
              type: "submit",
              className: "w-full",
              disabled: loading,
              children: loading ? /* @__PURE__ */ (0, import_jsx_runtime50.jsxs)("div", { className: "flex items-center justify-center", children: [
                /* @__PURE__ */ (0, import_jsx_runtime50.jsx)("div", { className: "animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2" }),
                "Sending reset link..."
              ] }) : "Send reset link"
            }
          )
        ] })
      ] }) })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime50.jsx)("div", { className: "mt-6 text-center", children: /* @__PURE__ */ (0, import_jsx_runtime50.jsxs)(
      import_ui15.Button,
      {
        variant: "link",
        onClick: () => onNavigate?.("/login"),
        className: "inline-flex items-center text-sm",
        children: [
          /* @__PURE__ */ (0, import_jsx_runtime50.jsx)(import_lucide_react25.ArrowLeft, { className: "h-4 w-4 mr-1" }),
          "Back to login"
        ]
      }
    ) }),
    /* @__PURE__ */ (0, import_jsx_runtime50.jsx)("div", { className: "mt-8 text-center", children: /* @__PURE__ */ (0, import_jsx_runtime50.jsxs)("p", { className: "text-xs text-gray-500", children: [
      "\xA9 ",
      (/* @__PURE__ */ new Date()).getFullYear(),
      " RentalShop. Crafted with",
      " ",
      /* @__PURE__ */ (0, import_jsx_runtime50.jsx)("span", { className: "text-red-500", children: "\u2764" }),
      " by RentalShop"
    ] }) })
  ] }) });
};
var ForgetPasswordForm_default = ForgetPasswordForm;

// src/components/forms/MerchantRegistrationForm.tsx
var import_react27 = require("react");
var import_lucide_react26 = require("lucide-react");
var import_jsx_runtime51 = require("react/jsx-runtime");
var MerchantRegistrationForm = ({
  onSubmit,
  loading = false,
  className
}) => {
  const [formData, setFormData] = (0, import_react27.useState)({
    merchantName: "",
    merchantEmail: "",
    merchantPhone: "",
    merchantDescription: "",
    userEmail: "",
    userPassword: "",
    userFirstName: "",
    userLastName: "",
    userPhone: "",
    outletName: "",
    outletAddress: "",
    outletDescription: ""
  });
  const [errors, setErrors] = (0, import_react27.useState)({});
  const handleInputChange = (field, value) => {
    setFormData((prev) => ({ ...prev, [field]: value }));
    if (errors[field]) {
      setErrors((prev) => ({ ...prev, [field]: "" }));
    }
  };
  const validateForm = () => {
    const newErrors = {};
    if (!formData.merchantName.trim()) {
      newErrors.merchantName = "Merchant name is required";
    }
    if (!formData.merchantEmail.trim()) {
      newErrors.merchantEmail = "Merchant email is required";
    } else if (!/\S+@\S+\.\S+/.test(formData.merchantEmail)) {
      newErrors.merchantEmail = "Invalid email format";
    }
    if (!formData.userEmail.trim()) {
      newErrors.userEmail = "User email is required";
    } else if (!/\S+@\S+\.\S+/.test(formData.userEmail)) {
      newErrors.userEmail = "Invalid email format";
    }
    if (!formData.userPassword.trim()) {
      newErrors.userPassword = "Password is required";
    } else if (formData.userPassword.length < 6) {
      newErrors.userPassword = "Password must be at least 6 characters";
    }
    if (!formData.userFirstName.trim()) {
      newErrors.userFirstName = "First name is required";
    }
    if (!formData.userLastName.trim()) {
      newErrors.userLastName = "Last name is required";
    }
    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };
  const handleSubmit = async (e) => {
    e.preventDefault();
    if (!validateForm()) {
      return;
    }
    try {
      await onSubmit(formData);
    } catch (error2) {
      console.error("Error submitting merchant registration:", error2);
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime51.jsx)("div", { className, children: /* @__PURE__ */ (0, import_jsx_runtime51.jsxs)(Card2, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime51.jsxs)(CardTitle2, { className: "flex items-center gap-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(import_lucide_react26.Building2, { className: "w-5 h-5" }),
      "Register Your Business",
      /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(Badge, { variant: "secondary", className: "ml-auto", children: "Free 14-Day Trial" })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime51.jsxs)("form", { onSubmit: handleSubmit, className: "space-y-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime51.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime51.jsxs)("h3", { className: "text-lg font-semibold text-gray-900 flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(import_lucide_react26.Building2, { className: "w-4 h-4" }),
          "Business Information"
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime51.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime51.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(Label2, { htmlFor: "merchantName", children: "Business Name *" }),
            /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(
              Input2,
              {
                id: "merchantName",
                value: formData.merchantName,
                onChange: (e) => handleInputChange("merchantName", e.target.value),
                placeholder: "Your business name",
                className: errors.merchantName ? "border-red-500" : ""
              }
            ),
            errors.merchantName && /* @__PURE__ */ (0, import_jsx_runtime51.jsx)("p", { className: "text-sm text-red-500", children: errors.merchantName })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime51.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(Label2, { htmlFor: "merchantEmail", children: "Business Email *" }),
            /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(
              Input2,
              {
                id: "merchantEmail",
                type: "email",
                value: formData.merchantEmail,
                onChange: (e) => handleInputChange("merchantEmail", e.target.value),
                placeholder: "business@example.com",
                className: errors.merchantEmail ? "border-red-500" : ""
              }
            ),
            errors.merchantEmail && /* @__PURE__ */ (0, import_jsx_runtime51.jsx)("p", { className: "text-sm text-red-500", children: errors.merchantEmail })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime51.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(Label2, { htmlFor: "merchantPhone", children: "Business Phone" }),
          /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(
            Input2,
            {
              id: "merchantPhone",
              value: formData.merchantPhone,
              onChange: (e) => handleInputChange("merchantPhone", e.target.value),
              placeholder: "+1 (555) 123-4567"
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime51.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(Label2, { htmlFor: "merchantDescription", children: "Business Description" }),
          /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(
            Textarea,
            {
              id: "merchantDescription",
              value: formData.merchantDescription,
              onChange: (e) => handleInputChange("merchantDescription", e.target.value),
              placeholder: "Tell us about your rental business...",
              rows: 3
            }
          )
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime51.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime51.jsxs)("h3", { className: "text-lg font-semibold text-gray-900 flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(import_lucide_react26.User, { className: "w-4 h-4" }),
          "Account Owner Information"
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime51.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime51.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(Label2, { htmlFor: "userFirstName", children: "First Name *" }),
            /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(
              Input2,
              {
                id: "userFirstName",
                value: formData.userFirstName,
                onChange: (e) => handleInputChange("userFirstName", e.target.value),
                placeholder: "John",
                className: errors.userFirstName ? "border-red-500" : ""
              }
            ),
            errors.userFirstName && /* @__PURE__ */ (0, import_jsx_runtime51.jsx)("p", { className: "text-sm text-red-500", children: errors.userFirstName })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime51.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(Label2, { htmlFor: "userLastName", children: "Last Name *" }),
            /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(
              Input2,
              {
                id: "userLastName",
                value: formData.userLastName,
                onChange: (e) => handleInputChange("userLastName", e.target.value),
                placeholder: "Doe",
                className: errors.userLastName ? "border-red-500" : ""
              }
            ),
            errors.userLastName && /* @__PURE__ */ (0, import_jsx_runtime51.jsx)("p", { className: "text-sm text-red-500", children: errors.userLastName })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime51.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime51.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(Label2, { htmlFor: "userEmail", children: "Email Address *" }),
            /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(
              Input2,
              {
                id: "userEmail",
                type: "email",
                value: formData.userEmail,
                onChange: (e) => handleInputChange("userEmail", e.target.value),
                placeholder: "john@example.com",
                className: errors.userEmail ? "border-red-500" : ""
              }
            ),
            errors.userEmail && /* @__PURE__ */ (0, import_jsx_runtime51.jsx)("p", { className: "text-sm text-red-500", children: errors.userEmail })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime51.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(Label2, { htmlFor: "userPhone", children: "Phone Number" }),
            /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(
              Input2,
              {
                id: "userPhone",
                value: formData.userPhone,
                onChange: (e) => handleInputChange("userPhone", e.target.value),
                placeholder: "+1 (555) 123-4567"
              }
            )
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime51.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(Label2, { htmlFor: "userPassword", children: "Password *" }),
          /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(
            Input2,
            {
              id: "userPassword",
              type: "password",
              value: formData.userPassword,
              onChange: (e) => handleInputChange("userPassword", e.target.value),
              placeholder: "Create a secure password",
              className: errors.userPassword ? "border-red-500" : ""
            }
          ),
          errors.userPassword && /* @__PURE__ */ (0, import_jsx_runtime51.jsx)("p", { className: "text-sm text-red-500", children: errors.userPassword })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime51.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime51.jsxs)("h3", { className: "text-lg font-semibold text-gray-900 flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(import_lucide_react26.MapPin, { className: "w-4 h-4" }),
          "First Outlet (Optional)"
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime51.jsx)("p", { className: "text-sm text-gray-600", children: "You can add more outlets later. This helps you get started quickly." }),
        /* @__PURE__ */ (0, import_jsx_runtime51.jsxs)("div", { className: "space-y-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime51.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(Label2, { htmlFor: "outletName", children: "Outlet Name" }),
            /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(
              Input2,
              {
                id: "outletName",
                value: formData.outletName,
                onChange: (e) => handleInputChange("outletName", e.target.value),
                placeholder: "Main Store"
              }
            )
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime51.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(Label2, { htmlFor: "outletAddress", children: "Address" }),
            /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(
              Textarea,
              {
                id: "outletAddress",
                value: formData.outletAddress,
                onChange: (e) => handleInputChange("outletAddress", e.target.value),
                placeholder: "123 Main St, City, State 12345",
                rows: 2
              }
            )
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime51.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(Label2, { htmlFor: "outletDescription", children: "Description" }),
            /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(
              Textarea,
              {
                id: "outletDescription",
                value: formData.outletDescription,
                onChange: (e) => handleInputChange("outletDescription", e.target.value),
                placeholder: "Describe this outlet...",
                rows: 2
              }
            )
          ] })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime51.jsx)("div", { className: "bg-green-50 border border-green-200 rounded-lg p-4", children: /* @__PURE__ */ (0, import_jsx_runtime51.jsxs)("div", { className: "flex items-start gap-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(import_lucide_react26.CheckCircle, { className: "w-5 h-5 text-green-600 mt-0.5" }),
        /* @__PURE__ */ (0, import_jsx_runtime51.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime51.jsx)("h4", { className: "font-semibold text-green-900", children: "14-Day Free Trial" }),
          /* @__PURE__ */ (0, import_jsx_runtime51.jsx)("p", { className: "text-sm text-green-700 mt-1", children: "Start with our Trial plan and explore all features. No credit card required. Upgrade to a paid plan anytime during or after your trial." })
        ] })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(
        Button,
        {
          type: "submit",
          className: "w-full",
          disabled: loading,
          children: loading ? /* @__PURE__ */ (0, import_jsx_runtime51.jsxs)(import_jsx_runtime51.Fragment, { children: [
            /* @__PURE__ */ (0, import_jsx_runtime51.jsx)(import_lucide_react26.Loader2, { className: "w-4 h-4 mr-2 animate-spin" }),
            "Creating Account..."
          ] }) : "Start Free Trial"
        }
      )
    ] }) })
  ] }) });
};

// src/components/layout/TimePeriodSelector.tsx
var import_jsx_runtime52 = require("react/jsx-runtime");
var TimePeriodSelector = ({
  currentPeriod,
  onPeriodChange
}) => {
  const periods = [
    { key: "today", label: "Today", icon: "\u{1F4C5}" },
    { key: "week", label: "This Week", icon: "\u{1F4C5}" },
    { key: "month", label: "This Month", icon: "\u{1F4CA}" },
    { key: "quarter", label: "This Quarter", icon: "\u{1F4C8}" },
    { key: "year", label: "This Year", icon: "\u{1F4C8}" }
  ];
  return /* @__PURE__ */ (0, import_jsx_runtime52.jsx)("div", { className: "mb-6", children: /* @__PURE__ */ (0, import_jsx_runtime52.jsxs)("div", { className: "flex items-center justify-between", children: [
    /* @__PURE__ */ (0, import_jsx_runtime52.jsx)("h2", { className: "text-lg font-semibold text-gray-900", children: "Business Overview" }),
    /* @__PURE__ */ (0, import_jsx_runtime52.jsx)("div", { className: "flex space-x-2", children: periods.map((period) => /* @__PURE__ */ (0, import_jsx_runtime52.jsxs)(
      Button,
      {
        variant: currentPeriod === period.key ? "default" : "outline",
        size: "sm",
        onClick: () => onPeriodChange(period.key),
        className: "flex items-center space-x-2",
        children: [
          /* @__PURE__ */ (0, import_jsx_runtime52.jsx)("span", { children: period.icon }),
          /* @__PURE__ */ (0, import_jsx_runtime52.jsx)("span", { children: period.label })
        ]
      },
      period.key
    )) })
  ] }) });
};

// src/components/features/Dashboard/components/DashboardHeader.tsx
var import_jsx_runtime53 = require("react/jsx-runtime");
function DashboardHeader({ period, onPeriodChange }) {
  return /* @__PURE__ */ (0, import_jsx_runtime53.jsxs)("div", { className: "flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0", children: [
    /* @__PURE__ */ (0, import_jsx_runtime53.jsxs)("div", { children: [
      /* @__PURE__ */ (0, import_jsx_runtime53.jsx)("h1", { className: "text-3xl font-bold tracking-tight text-gray-900 dark:text-white", children: "Dashboard" }),
      /* @__PURE__ */ (0, import_jsx_runtime53.jsx)("p", { className: "text-gray-600 dark:text-gray-400", children: "Overview of your rental business performance" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime53.jsx)(
      TimePeriodSelector,
      {
        currentPeriod: period,
        onPeriodChange
      }
    )
  ] });
}

// src/components/features/Dashboard/components/DashboardStats.tsx
var import_jsx_runtime54 = require("react/jsx-runtime");
function DashboardStats({ stats }) {
  const statCards = [
    {
      title: "Total Orders",
      value: stats.totalOrders,
      change: "+12%",
      changeType: "positive",
      description: "Total orders this period"
    },
    {
      title: "Total Revenue",
      value: `$${stats.totalRevenue.toLocaleString()}`,
      change: "+8%",
      changeType: "positive",
      description: "Total revenue this period"
    },
    {
      title: "Total Customers",
      value: stats.totalCustomers,
      change: "+5%",
      changeType: "positive",
      description: "Active customers"
    },
    {
      title: "Total Products",
      value: stats.totalProducts,
      change: "+2%",
      changeType: "positive",
      description: "Available products"
    },
    {
      title: "Pending Orders",
      value: stats.pendingOrders,
      change: "-3%",
      changeType: "negative",
      description: "Orders awaiting processing"
    },
    {
      title: "Completed Orders",
      value: stats.completedOrders,
      change: "+15%",
      changeType: "positive",
      description: "Successfully completed orders"
    }
  ];
  return /* @__PURE__ */ (0, import_jsx_runtime54.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6", children: statCards.map((card, index) => /* @__PURE__ */ (0, import_jsx_runtime54.jsxs)(Card2, { className: "hover:shadow-lg transition-shadow", children: [
    /* @__PURE__ */ (0, import_jsx_runtime54.jsxs)(CardHeader2, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime54.jsx)(CardTitle2, { className: "text-sm font-medium text-gray-600 dark:text-gray-400", children: card.title }),
      /* @__PURE__ */ (0, import_jsx_runtime54.jsx)("span", { className: `text-xs font-medium ${card.changeType === "positive" ? "text-green-600 dark:text-green-400" : "text-red-600 dark:text-red-400"}`, children: card.change })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime54.jsxs)(CardContent2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime54.jsx)("div", { className: "text-2xl font-bold text-gray-900 dark:text-white", children: card.value }),
      /* @__PURE__ */ (0, import_jsx_runtime54.jsx)("p", { className: "text-xs text-gray-500 dark:text-gray-400 mt-1", children: card.description })
    ] })
  ] }, index)) });
}

// src/components/charts/IncomeChart.tsx
var import_recharts = require("recharts");
var import_jsx_runtime55 = require("react/jsx-runtime");
var IncomeChart = ({ data, loading = false }) => {
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime55.jsx)("div", { className: "h-64 flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime55.jsx)("div", { className: "text-gray-500", children: "Loading chart data..." }) });
  }
  if (!data || data.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime55.jsx)("div", { className: "h-64 flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime55.jsx)("div", { className: "text-gray-500", children: "No data available" }) });
  }
  const chartData = data.map((item) => ({
    period: item.period,
    "Actual Revenue": item.actual,
    "Projected Revenue": item.projected
  }));
  const formatTooltip = (value, name) => [
    `$${value.toLocaleString()}`,
    name
  ];
  return /* @__PURE__ */ (0, import_jsx_runtime55.jsx)(import_recharts.ResponsiveContainer, { width: "100%", height: 400, children: /* @__PURE__ */ (0, import_jsx_runtime55.jsxs)(import_recharts.BarChart, { data: chartData, margin: { top: 20, right: 30, left: 20, bottom: 5 }, children: [
    /* @__PURE__ */ (0, import_jsx_runtime55.jsx)(import_recharts.CartesianGrid, { strokeDasharray: "3 3" }),
    /* @__PURE__ */ (0, import_jsx_runtime55.jsx)(
      import_recharts.XAxis,
      {
        dataKey: "period",
        tick: { fontSize: 12 },
        angle: -45,
        textAnchor: "end",
        height: 80
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime55.jsx)(
      import_recharts.YAxis,
      {
        tickFormatter: (value) => `$${(value / 1e3).toFixed(0)}k`,
        tick: { fontSize: 12 }
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime55.jsx)(
      import_recharts.Tooltip,
      {
        formatter: formatTooltip,
        labelStyle: { color: "#374151" }
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime55.jsx)(import_recharts.Legend, {}),
    /* @__PURE__ */ (0, import_jsx_runtime55.jsx)(
      import_recharts.Bar,
      {
        dataKey: "Actual Revenue",
        fill: "#3B82F6",
        radius: [4, 4, 0, 0],
        name: "Actual Revenue"
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime55.jsx)(
      import_recharts.Bar,
      {
        dataKey: "Projected Revenue",
        fill: "#10B981",
        radius: [4, 4, 0, 0],
        name: "Projected Revenue"
      }
    )
  ] }) });
};

// src/components/charts/OrderChart.tsx
var import_recharts2 = require("recharts");
var import_jsx_runtime56 = require("react/jsx-runtime");
var OrderChart = ({
  data,
  loading = false,
  legendLabel = "Rental Orders",
  tooltipLabel = "orders"
}) => {
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime56.jsx)("div", { className: "h-64 flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime56.jsx)("div", { className: "text-gray-500", children: "Loading chart data..." }) });
  }
  if (!data || data.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime56.jsx)("div", { className: "h-64 flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime56.jsx)("div", { className: "text-gray-500", children: "No data available" }) });
  }
  const chartData = data.map((item) => ({
    period: item.period,
    [legendLabel]: item.actual
  }));
  const formatTooltip = (value, name) => {
    return [`${value.toLocaleString()} ${tooltipLabel}`, legendLabel];
  };
  return /* @__PURE__ */ (0, import_jsx_runtime56.jsx)(import_recharts2.ResponsiveContainer, { width: "100%", height: 400, children: /* @__PURE__ */ (0, import_jsx_runtime56.jsxs)(import_recharts2.LineChart, { data: chartData, margin: { top: 20, right: 30, left: 20, bottom: 5 }, children: [
    /* @__PURE__ */ (0, import_jsx_runtime56.jsx)(import_recharts2.CartesianGrid, { strokeDasharray: "3 3" }),
    /* @__PURE__ */ (0, import_jsx_runtime56.jsx)(
      import_recharts2.XAxis,
      {
        dataKey: "period",
        tick: { fontSize: 12 },
        angle: -45,
        textAnchor: "end",
        height: 80
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime56.jsx)(
      import_recharts2.YAxis,
      {
        tickFormatter: (value) => `${value}`,
        tick: { fontSize: 12 },
        domain: [0, "dataMax"],
        allowDecimals: false,
        tickCount: 6
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime56.jsx)(
      import_recharts2.Tooltip,
      {
        formatter: formatTooltip,
        labelStyle: { color: "#374151" }
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime56.jsx)(import_recharts2.Legend, {}),
    /* @__PURE__ */ (0, import_jsx_runtime56.jsx)(
      import_recharts2.Line,
      {
        type: "monotone",
        dataKey: legendLabel,
        stroke: "#3B82F6",
        strokeWidth: 2,
        dot: { fill: "#3B82F6", strokeWidth: 2, r: 4 },
        activeDot: { r: 6 }
      }
    )
  ] }) });
};

// src/components/charts/PieChart.tsx
var import_recharts3 = require("recharts");
var import_jsx_runtime57 = require("react/jsx-runtime");
var PieChart = ({ data, title, loading = false }) => {
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime57.jsx)("div", { className: "h-64 flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime57.jsx)("div", { className: "text-gray-500", children: "Loading chart data..." }) });
  }
  if (!data || data.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime57.jsx)("div", { className: "h-64 flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime57.jsx)("div", { className: "text-gray-500", children: "No data available" }) });
  }
  const formatTooltip = (value, name) => [
    `${value} (${(value / data.reduce((sum, item) => sum + item.value, 0) * 100).toFixed(1)}%)`,
    name
  ];
  return /* @__PURE__ */ (0, import_jsx_runtime57.jsxs)("div", { className: "w-full h-full", children: [
    title && /* @__PURE__ */ (0, import_jsx_runtime57.jsx)("div", { className: "mb-4", children: /* @__PURE__ */ (0, import_jsx_runtime57.jsx)("h3", { className: "text-lg font-semibold text-gray-800", children: title }) }),
    /* @__PURE__ */ (0, import_jsx_runtime57.jsx)(import_recharts3.ResponsiveContainer, { width: "100%", height: 300, children: /* @__PURE__ */ (0, import_jsx_runtime57.jsxs)(import_recharts3.PieChart, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime57.jsx)(
        import_recharts3.Pie,
        {
          data,
          cx: "50%",
          cy: "50%",
          labelLine: false,
          label: ({ name, percent }) => `${name} ${(percent * 100).toFixed(0)}%`,
          outerRadius: 80,
          fill: "#8884d8",
          dataKey: "value",
          children: data.map((entry, index) => /* @__PURE__ */ (0, import_jsx_runtime57.jsx)(import_recharts3.Cell, { fill: entry.color }, `cell-${index}`))
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime57.jsx)(import_recharts3.Tooltip, { formatter: formatTooltip }),
      /* @__PURE__ */ (0, import_jsx_runtime57.jsx)(import_recharts3.Legend, {})
    ] }) })
  ] });
};

// src/components/charts/ColorfulList.tsx
var import_jsx_runtime58 = require("react/jsx-runtime");
var getColorScheme = (index) => {
  const colors = [
    "from-blue-500 to-blue-600",
    "from-purple-500 to-purple-600",
    "from-green-500 to-green-600",
    "from-orange-500 to-orange-600",
    "from-pink-500 to-pink-600",
    "from-indigo-500 to-indigo-600",
    "from-teal-500 to-teal-600",
    "from-red-500 to-red-600"
  ];
  return colors[index % colors.length];
};
var getStatusColor2 = (status) => {
  switch (status) {
    case "active":
      return "bg-emerald-100 text-emerald-800 border-emerald-200";
    case "overdue":
      return "bg-red-100 text-red-800 border-red-200";
    case "completed":
      return "bg-blue-100 text-blue-800 border-blue-200";
    case "pending":
      return "bg-yellow-100 text-yellow-800 border-yellow-200";
    default:
      return "bg-gray-100 text-gray-800 border-gray-200";
  }
};
var ColorfulList = ({
  title,
  subtitle,
  data,
  loading = false,
  maxItems = 5
}) => {
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime58.jsxs)(Card2, { className: "border-0 shadow-lg bg-gradient-to-br from-white to-gray-50", children: [
      /* @__PURE__ */ (0, import_jsx_runtime58.jsxs)(CardHeader2, { className: "pb-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime58.jsx)(CardTitle2, { className: "text-xl font-bold text-gray-800", children: title }),
        subtitle && /* @__PURE__ */ (0, import_jsx_runtime58.jsx)("p", { className: "text-sm text-gray-600", children: subtitle })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime58.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime58.jsx)("div", { className: "space-y-4", children: Array.from({ length: maxItems }).map((_, i) => /* @__PURE__ */ (0, import_jsx_runtime58.jsxs)("div", { className: "flex items-center space-x-4 animate-pulse", children: [
        /* @__PURE__ */ (0, import_jsx_runtime58.jsx)("div", { className: "w-12 h-12 bg-gray-200 rounded-xl" }),
        /* @__PURE__ */ (0, import_jsx_runtime58.jsxs)("div", { className: "flex-1 space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime58.jsx)("div", { className: "h-5 bg-gray-200 rounded w-3/4" }),
          /* @__PURE__ */ (0, import_jsx_runtime58.jsx)("div", { className: "h-4 bg-gray-200 rounded w-1/2" })
        ] })
      ] }, i)) }) })
    ] });
  }
  if (!data || data.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime58.jsxs)(Card2, { className: "border-0 shadow-lg bg-gradient-to-br from-white to-gray-50", children: [
      /* @__PURE__ */ (0, import_jsx_runtime58.jsxs)(CardHeader2, { className: "pb-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime58.jsx)(CardTitle2, { className: "text-xl font-bold text-gray-800", children: title }),
        subtitle && /* @__PURE__ */ (0, import_jsx_runtime58.jsx)("p", { className: "text-sm text-gray-600", children: subtitle })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime58.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime58.jsxs)("div", { className: "text-center py-12 text-gray-500", children: [
        /* @__PURE__ */ (0, import_jsx_runtime58.jsx)("div", { className: "text-4xl mb-4", children: "\u{1F4CA}" }),
        /* @__PURE__ */ (0, import_jsx_runtime58.jsx)("p", { className: "text-lg", children: "No data available" })
      ] }) })
    ] });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime58.jsxs)(Card2, { className: "border-0 shadow-lg bg-gradient-to-br from-white to-gray-50", children: [
    /* @__PURE__ */ (0, import_jsx_runtime58.jsxs)(CardHeader2, { className: "pb-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime58.jsx)(CardTitle2, { className: "text-xl font-bold text-gray-800", children: title }),
      subtitle && /* @__PURE__ */ (0, import_jsx_runtime58.jsx)("p", { className: "text-sm text-gray-600", children: subtitle })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime58.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime58.jsx)("div", { className: "space-y-4", children: data.slice(0, maxItems).map((item, index) => /* @__PURE__ */ (0, import_jsx_runtime58.jsxs)("div", { className: "group relative overflow-hidden bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 transform hover:scale-105 border border-gray-100", children: [
      /* @__PURE__ */ (0, import_jsx_runtime58.jsx)("div", { className: "absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-blue-400 to-purple-500" }),
      /* @__PURE__ */ (0, import_jsx_runtime58.jsx)("div", { className: "p-6", children: /* @__PURE__ */ (0, import_jsx_runtime58.jsxs)("div", { className: "flex items-center justify-between", children: [
        /* @__PURE__ */ (0, import_jsx_runtime58.jsxs)("div", { className: "flex items-center space-x-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime58.jsx)("div", { className: `w-12 h-12 rounded-xl bg-gradient-to-br ${getColorScheme(index)} flex items-center justify-center text-white font-bold text-lg shadow-lg`, children: index + 1 }),
          /* @__PURE__ */ (0, import_jsx_runtime58.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime58.jsx)("p", { className: "font-bold text-gray-900 text-lg group-hover:text-blue-600 transition-colors", children: item.title }),
            item.subtitle && /* @__PURE__ */ (0, import_jsx_runtime58.jsx)("p", { className: "text-gray-600 font-medium", children: item.subtitle })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime58.jsxs)("div", { className: "text-right", children: [
          item.value && /* @__PURE__ */ (0, import_jsx_runtime58.jsx)("p", { className: "font-bold text-gray-900 text-lg", children: item.value }),
          item.status && /* @__PURE__ */ (0, import_jsx_runtime58.jsx)("span", { className: `inline-block px-3 py-1 rounded-full text-sm font-semibold border ${getStatusColor2(item.status)}`, children: item.status })
        ] })
      ] }) })
    ] }, item.id)) }) })
  ] });
};

// src/components/charts/SimpleList.tsx
var import_jsx_runtime59 = require("react/jsx-runtime");
var SimpleList = ({
  title,
  subtitle,
  data,
  loading = false,
  maxItems = 5
}) => {
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime59.jsxs)(Card2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime59.jsxs)(CardHeader2, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime59.jsx)(CardTitle2, { children: title }),
        subtitle && /* @__PURE__ */ (0, import_jsx_runtime59.jsx)("p", { className: "text-sm text-gray-600", children: subtitle })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime59.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime59.jsx)("div", { className: "space-y-3", children: Array.from({ length: maxItems }).map((_, i) => /* @__PURE__ */ (0, import_jsx_runtime59.jsxs)("div", { className: "flex items-center space-x-3 animate-pulse", children: [
        /* @__PURE__ */ (0, import_jsx_runtime59.jsx)("div", { className: "w-8 h-8 bg-gray-200 rounded" }),
        /* @__PURE__ */ (0, import_jsx_runtime59.jsxs)("div", { className: "flex-1 space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime59.jsx)("div", { className: "h-4 bg-gray-200 rounded w-3/4" }),
          /* @__PURE__ */ (0, import_jsx_runtime59.jsx)("div", { className: "h-3 bg-gray-200 rounded w-1/2" })
        ] })
      ] }, i)) }) })
    ] });
  }
  if (!data || data.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime59.jsxs)(Card2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime59.jsxs)(CardHeader2, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime59.jsx)(CardTitle2, { children: title }),
        subtitle && /* @__PURE__ */ (0, import_jsx_runtime59.jsx)("p", { className: "text-sm text-gray-600", children: subtitle })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime59.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime59.jsx)("div", { className: "text-center py-8 text-gray-500", children: "No data available" }) })
    ] });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime59.jsxs)(Card2, { className: "border-0 shadow-sm", children: [
    /* @__PURE__ */ (0, import_jsx_runtime59.jsxs)(CardHeader2, { className: "pb-3", children: [
      /* @__PURE__ */ (0, import_jsx_runtime59.jsx)(CardTitle2, { className: "text-lg font-semibold", children: title }),
      subtitle && /* @__PURE__ */ (0, import_jsx_runtime59.jsx)("p", { className: "text-sm text-gray-500", children: subtitle })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime59.jsx)(CardContent2, { className: "pt-0", children: /* @__PURE__ */ (0, import_jsx_runtime59.jsx)("div", { className: "space-y-2", children: data.slice(0, maxItems).map((item, index) => /* @__PURE__ */ (0, import_jsx_runtime59.jsxs)("div", { className: "flex items-center justify-between py-2 border-b border-gray-100 last:border-b-0 hover:bg-gray-25 transition-colors", children: [
      /* @__PURE__ */ (0, import_jsx_runtime59.jsxs)("div", { className: "flex items-center space-x-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime59.jsx)("div", { className: "w-6 h-6 bg-gray-50 rounded flex items-center justify-center text-xs font-medium text-gray-400", children: index + 1 }),
        /* @__PURE__ */ (0, import_jsx_runtime59.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime59.jsx)("p", { className: "font-medium text-gray-900 text-sm", children: item.title }),
          item.subtitle && /* @__PURE__ */ (0, import_jsx_runtime59.jsx)("p", { className: "text-xs text-gray-400", children: item.subtitle })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime59.jsxs)("div", { className: "text-right", children: [
        item.value && /* @__PURE__ */ (0, import_jsx_runtime59.jsx)("p", { className: "font-medium text-gray-900 text-sm", children: item.value }),
        item.status && /* @__PURE__ */ (0, import_jsx_runtime59.jsx)("span", { className: `text-xs px-1.5 py-0.5 rounded ${item.status === "active" ? "bg-blue-50 text-blue-600" : item.status === "overdue" ? "bg-red-50 text-red-600" : "bg-gray-50 text-gray-600"}`, children: item.status })
      ] })
    ] }, item.id)) }) })
  ] });
};

// src/components/charts/TopCustomers.tsx
var import_jsx_runtime60 = require("react/jsx-runtime");
var TopCustomers = ({ data, loading = false }) => {
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime60.jsxs)(Card2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime60.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime60.jsx)(CardTitle2, { children: "Top Customers" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime60.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime60.jsx)("div", { className: "space-y-4", children: Array.from({ length: 5 }).map((_, i) => /* @__PURE__ */ (0, import_jsx_runtime60.jsxs)("div", { className: "flex items-center space-x-3 animate-pulse", children: [
        /* @__PURE__ */ (0, import_jsx_runtime60.jsx)("div", { className: "w-10 h-10 bg-gray-200 rounded-full" }),
        /* @__PURE__ */ (0, import_jsx_runtime60.jsxs)("div", { className: "flex-1 space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime60.jsx)("div", { className: "h-4 bg-gray-200 rounded w-3/4" }),
          /* @__PURE__ */ (0, import_jsx_runtime60.jsx)("div", { className: "h-3 bg-gray-200 rounded w-1/2" })
        ] })
      ] }, i)) }) })
    ] });
  }
  if (!data || data.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime60.jsxs)(Card2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime60.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime60.jsx)(CardTitle2, { children: "Top Customers" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime60.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime60.jsx)("div", { className: "text-center py-8 text-gray-500", children: "No customer data available" }) })
    ] });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime60.jsxs)(Card2, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime60.jsxs)(CardHeader2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime60.jsx)(CardTitle2, { children: "Top Customers" }),
      /* @__PURE__ */ (0, import_jsx_runtime60.jsx)("p", { className: "text-sm text-gray-600", children: "Highest spending customers in the last 30 days" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime60.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime60.jsx)("div", { className: "space-y-4", children: data.slice(0, 10).map((customer, index) => /* @__PURE__ */ (0, import_jsx_runtime60.jsxs)("div", { className: "flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors", children: [
      /* @__PURE__ */ (0, import_jsx_runtime60.jsx)("div", { className: "flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-r from-blue-400 to-blue-600 flex items-center justify-center text-white font-bold text-sm", children: index + 1 }),
      /* @__PURE__ */ (0, import_jsx_runtime60.jsx)("div", { className: "flex-shrink-0 w-12 h-12 rounded-full bg-gradient-to-r from-purple-400 to-purple-600 flex items-center justify-center text-white font-medium", children: customer.name.split(" ").map((n) => n[0]).join("").toUpperCase() }),
      /* @__PURE__ */ (0, import_jsx_runtime60.jsxs)("div", { className: "flex-1 min-w-0", children: [
        /* @__PURE__ */ (0, import_jsx_runtime60.jsxs)("div", { className: "flex items-center space-x-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime60.jsx)("h4", { className: "text-sm font-medium text-gray-900 truncate", children: customer.name }),
          /* @__PURE__ */ (0, import_jsx_runtime60.jsxs)(Badge, { variant: "outline", className: "text-xs", children: [
            customer.orderCount,
            " orders"
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime60.jsxs)("div", { className: "flex items-center space-x-4 mt-1 text-xs text-gray-500", children: [
          /* @__PURE__ */ (0, import_jsx_runtime60.jsx)("span", { className: "truncate", children: customer.email }),
          /* @__PURE__ */ (0, import_jsx_runtime60.jsx)("span", { className: "truncate", children: customer.phone }),
          /* @__PURE__ */ (0, import_jsx_runtime60.jsxs)("span", { className: "font-medium text-blue-600", children: [
            "$",
            customer.totalSpent.toLocaleString()
          ] })
        ] }),
        customer.location && /* @__PURE__ */ (0, import_jsx_runtime60.jsxs)("div", { className: "text-xs text-gray-400 mt-1 truncate", children: [
          "\u{1F4CD} ",
          customer.location
        ] })
      ] })
    ] }, customer.id)) }) })
  ] });
};

// src/components/charts/TopProducts.tsx
var import_jsx_runtime61 = require("react/jsx-runtime");
var TopProducts = ({ data, loading = false }) => {
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime61.jsxs)(Card2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime61.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime61.jsx)(CardTitle2, { children: "Top Products" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime61.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime61.jsx)("div", { className: "space-y-4", children: Array.from({ length: 5 }).map((_, i) => /* @__PURE__ */ (0, import_jsx_runtime61.jsxs)("div", { className: "flex items-center space-x-3 animate-pulse", children: [
        /* @__PURE__ */ (0, import_jsx_runtime61.jsx)("div", { className: "w-10 h-10 bg-gray-200 rounded" }),
        /* @__PURE__ */ (0, import_jsx_runtime61.jsxs)("div", { className: "flex-1 space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime61.jsx)("div", { className: "h-4 bg-gray-200 rounded w-3/4" }),
          /* @__PURE__ */ (0, import_jsx_runtime61.jsx)("div", { className: "h-3 bg-gray-200 rounded w-1/2" })
        ] })
      ] }, i)) }) })
    ] });
  }
  if (!data || data.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime61.jsxs)(Card2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime61.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime61.jsx)(CardTitle2, { children: "Top Products" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime61.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime61.jsx)("div", { className: "text-center py-8 text-gray-500", children: "No product data available" }) })
    ] });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime61.jsxs)(Card2, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime61.jsxs)(CardHeader2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime61.jsx)(CardTitle2, { children: "Top Products" }),
      /* @__PURE__ */ (0, import_jsx_runtime61.jsx)("p", { className: "text-sm text-gray-600", children: "Most popular products in the last 30 days" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime61.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime61.jsx)("div", { className: "space-y-4", children: data.slice(0, 10).map((product, index) => /* @__PURE__ */ (0, import_jsx_runtime61.jsxs)("div", { className: "flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors", children: [
      /* @__PURE__ */ (0, import_jsx_runtime61.jsx)("div", { className: "flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-r from-orange-400 to-orange-600 flex items-center justify-center text-white font-bold text-sm", children: index + 1 }),
      /* @__PURE__ */ (0, import_jsx_runtime61.jsx)("div", { className: "flex-shrink-0 w-12 h-12 rounded-lg bg-gray-200 flex items-center justify-center overflow-hidden", children: product.image ? /* @__PURE__ */ (0, import_jsx_runtime61.jsx)(
        "img",
        {
          src: product.image,
          alt: product.name,
          className: "w-full h-full object-cover"
        }
      ) : /* @__PURE__ */ (0, import_jsx_runtime61.jsx)("svg", { className: "w-6 h-6 text-gray-400", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ (0, import_jsx_runtime61.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" }) }) }),
      /* @__PURE__ */ (0, import_jsx_runtime61.jsxs)("div", { className: "flex-1 min-w-0", children: [
        /* @__PURE__ */ (0, import_jsx_runtime61.jsxs)("div", { className: "flex items-center space-x-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime61.jsx)("h4", { className: "text-sm font-medium text-gray-900 truncate", children: product.name }),
          /* @__PURE__ */ (0, import_jsx_runtime61.jsx)(Badge, { variant: "outline", className: "text-xs", children: product.category })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime61.jsxs)("div", { className: "flex items-center space-x-4 mt-1 text-xs text-gray-500", children: [
          /* @__PURE__ */ (0, import_jsx_runtime61.jsxs)("span", { children: [
            "$",
            product.rentPrice,
            "/day"
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime61.jsxs)("span", { children: [
            product.rentalCount,
            " rentals"
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime61.jsxs)("span", { className: "font-medium text-green-600", children: [
            "$",
            product.totalRevenue.toLocaleString()
          ] })
        ] })
      ] })
    ] }, product.id)) }) })
  ] });
};

// src/components/charts/RecentOrders.tsx
var import_constants9 = require("@rentalshop/constants");
var import_jsx_runtime62 = require("react/jsx-runtime");
var getStatusColor3 = (status) => {
  return import_constants9.ORDER_STATUS_COLORS[status] || "bg-gray-100 text-gray-800";
};
var getOrderTypeColor = (orderType) => {
  switch (orderType.toLowerCase()) {
    case "rent":
      return "bg-orange-100 text-orange-800 border-orange-200";
    case "sale":
      return "bg-green-100 text-green-800 border-green-200";
    case "rent_to_own":
      return "bg-purple-100 text-purple-800 border-purple-200";
    default:
      return "bg-gray-100 text-gray-800 border-gray-200";
  }
};
var RecentOrders = ({ data, loading = false }) => {
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime62.jsxs)(Card2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime62.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime62.jsx)(CardTitle2, { children: "Recent Orders" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime62.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime62.jsx)("div", { className: "space-y-4", children: Array.from({ length: 5 }).map((_, i) => /* @__PURE__ */ (0, import_jsx_runtime62.jsxs)("div", { className: "flex items-center space-x-3 animate-pulse", children: [
        /* @__PURE__ */ (0, import_jsx_runtime62.jsx)("div", { className: "w-12 h-12 bg-gray-200 rounded" }),
        /* @__PURE__ */ (0, import_jsx_runtime62.jsxs)("div", { className: "flex-1 space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime62.jsx)("div", { className: "h-4 bg-gray-200 rounded w-3/4" }),
          /* @__PURE__ */ (0, import_jsx_runtime62.jsx)("div", { className: "h-3 bg-gray-200 rounded w-1/2" })
        ] })
      ] }, i)) }) })
    ] });
  }
  if (!data || data.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime62.jsxs)(Card2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime62.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime62.jsx)(CardTitle2, { children: "Recent Orders" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime62.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime62.jsx)("div", { className: "text-center py-8 text-gray-500", children: "No recent orders" }) })
    ] });
  }
  const formatDate11 = (dateString) => {
    return new Date(dateString).toLocaleDateString("en-US", {
      month: "short",
      day: "numeric",
      hour: "2-digit",
      minute: "2-digit"
    });
  };
  return /* @__PURE__ */ (0, import_jsx_runtime62.jsxs)(Card2, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime62.jsxs)(CardHeader2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime62.jsx)(CardTitle2, { children: "Recent Orders" }),
      /* @__PURE__ */ (0, import_jsx_runtime62.jsx)("p", { className: "text-sm text-gray-600", children: "Latest order activity" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime62.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime62.jsx)("div", { className: "space-y-4", children: data.slice(0, 10).map((order) => /* @__PURE__ */ (0, import_jsx_runtime62.jsxs)("div", { className: "flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors", children: [
      /* @__PURE__ */ (0, import_jsx_runtime62.jsx)("div", { className: "flex-shrink-0 w-12 h-12 rounded-lg bg-gray-200 flex items-center justify-center overflow-hidden", children: order.productImage ? /* @__PURE__ */ (0, import_jsx_runtime62.jsx)(
        "img",
        {
          src: order.productImage,
          alt: order.productNames,
          className: "w-full h-full object-cover"
        }
      ) : /* @__PURE__ */ (0, import_jsx_runtime62.jsx)("svg", { className: "w-6 h-6 text-gray-400", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ (0, import_jsx_runtime62.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" }) }) }),
      /* @__PURE__ */ (0, import_jsx_runtime62.jsxs)("div", { className: "flex-1 min-w-0", children: [
        /* @__PURE__ */ (0, import_jsx_runtime62.jsxs)("div", { className: "flex items-center space-x-2 mb-1", children: [
          /* @__PURE__ */ (0, import_jsx_runtime62.jsx)("h4", { className: "text-sm font-medium text-gray-900", children: order.orderNumber }),
          /* @__PURE__ */ (0, import_jsx_runtime62.jsx)(Badge, { variant: "outline", className: `text-xs ${getOrderTypeColor(order.orderType)}`, children: order.orderType.toUpperCase() }),
          /* @__PURE__ */ (0, import_jsx_runtime62.jsx)(Badge, { variant: "outline", className: `text-xs ${getStatusColor3(order.status)}`, children: order.status.toUpperCase() })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime62.jsxs)("div", { className: "text-sm text-gray-600 mb-1", children: [
          /* @__PURE__ */ (0, import_jsx_runtime62.jsx)("span", { className: "font-medium", children: order.customerName }),
          /* @__PURE__ */ (0, import_jsx_runtime62.jsx)("span", { className: "mx-2", children: "\u2022" }),
          /* @__PURE__ */ (0, import_jsx_runtime62.jsx)("span", { children: order.productNames })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime62.jsxs)("div", { className: "flex items-center justify-between text-xs text-gray-500", children: [
          /* @__PURE__ */ (0, import_jsx_runtime62.jsxs)("div", { className: "flex items-center space-x-4", children: [
            /* @__PURE__ */ (0, import_jsx_runtime62.jsxs)("span", { children: [
              "$",
              order.totalAmount.toLocaleString()
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime62.jsxs)("span", { children: [
              "by ",
              order.createdBy
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime62.jsx)("span", { children: formatDate11(order.createdAt) })
          ] }),
          order.pickupPlanAt && /* @__PURE__ */ (0, import_jsx_runtime62.jsxs)("div", { className: "text-xs text-blue-600", children: [
            "Pickup: ",
            formatDate11(order.pickupPlanAt)
          ] })
        ] })
      ] })
    ] }, order.id)) }) })
  ] });
};

// src/components/features/Dashboard/components/DashboardCharts.tsx
var import_jsx_runtime63 = require("react/jsx-runtime");
function DashboardCharts({ orderData, incomeData }) {
  const transformedOrderData = orderData.map((order, index) => ({
    period: order.date,
    actual: order.revenue,
    projected: order.revenue * 1.1
    // Simple projection
  }));
  const transformedIncomeData = incomeData.map((income, index) => ({
    period: income.date,
    actual: income.income,
    projected: income.income * 1.1
    // Simple projection
  }));
  return /* @__PURE__ */ (0, import_jsx_runtime63.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime63.jsxs)(Card2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime63.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime63.jsx)(CardTitle2, { children: "Order Trends" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime63.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime63.jsx)(OrderChart, { data: transformedOrderData }) })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime63.jsxs)(Card2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime63.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime63.jsx)(CardTitle2, { children: "Income vs Expenses" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime63.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime63.jsx)(IncomeChart, { data: transformedIncomeData }) })
    ] })
  ] });
}

// src/components/features/Dashboard/components/DashboardFocus.tsx
var import_jsx_runtime64 = require("react/jsx-runtime");
function DashboardFocus({ focus }) {
  const getStatusColor11 = (status) => {
    switch (status) {
      case "completed":
        return "bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";
      case "in-progress":
        return "bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";
      case "pending":
        return "bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";
      default:
        return "bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime64.jsxs)(Card2, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime64.jsxs)(CardHeader2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime64.jsx)(CardTitle2, { children: "Today's Focus" }),
      /* @__PURE__ */ (0, import_jsx_runtime64.jsx)("p", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Priority tasks and key focus areas" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime64.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime64.jsxs)("div", { className: "space-y-4", children: [
      focus.map((item, index) => /* @__PURE__ */ (0, import_jsx_runtime64.jsxs)("div", { className: "flex items-start space-x-3 p-3 rounded-lg border border-gray-200 dark:border-gray-700", children: [
        /* @__PURE__ */ (0, import_jsx_runtime64.jsx)("div", { className: "flex-shrink-0", children: /* @__PURE__ */ (0, import_jsx_runtime64.jsx)("div", { className: `w-2 h-2 rounded-full ${item.status === "completed" ? "bg-green-500" : item.status === "in-progress" ? "bg-blue-500" : "bg-yellow-500"}` }) }),
        /* @__PURE__ */ (0, import_jsx_runtime64.jsxs)("div", { className: "flex-1 min-w-0", children: [
          /* @__PURE__ */ (0, import_jsx_runtime64.jsxs)("div", { className: "flex items-center justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime64.jsx)("p", { className: "text-sm font-medium text-gray-900 dark:text-white", children: item.priority }),
            /* @__PURE__ */ (0, import_jsx_runtime64.jsx)(
              Badge,
              {
                variant: "outline",
                className: getStatusColor11(item.status),
                children: item.status.replace("-", " ")
              }
            )
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime64.jsx)("p", { className: "text-sm text-gray-600 dark:text-gray-400 mt-1", children: item.description }),
          item.deadline && /* @__PURE__ */ (0, import_jsx_runtime64.jsxs)("p", { className: "text-xs text-gray-500 dark:text-gray-400 mt-2", children: [
            "Deadline: ",
            item.deadline
          ] })
        ] })
      ] }, index)),
      focus.length === 0 && /* @__PURE__ */ (0, import_jsx_runtime64.jsxs)("div", { className: "text-center py-8 text-gray-500 dark:text-gray-400", children: [
        /* @__PURE__ */ (0, import_jsx_runtime64.jsx)("p", { children: "No focus items for today" }),
        /* @__PURE__ */ (0, import_jsx_runtime64.jsx)("p", { className: "text-sm", children: "Great job staying on top of everything!" })
      ] })
    ] }) })
  ] });
}

// src/components/features/Dashboard/components/DashboardActions.tsx
var import_jsx_runtime65 = require("react/jsx-runtime");
function DashboardActions({ onActionClick }) {
  const actions = [
    {
      id: "create-order",
      label: "Create Order",
      description: "Start a new rental or sale order",
      icon: "\u{1F4CB}",
      variant: "default"
    },
    {
      id: "add-product",
      label: "Add Product",
      description: "Add new product to inventory",
      icon: "\u{1F4E6}",
      variant: "secondary"
    },
    {
      id: "add-customer",
      label: "Add Customer",
      description: "Register new customer",
      icon: "\u{1F464}",
      variant: "outline"
    },
    {
      id: "view-reports",
      label: "View Reports",
      description: "Generate business reports",
      icon: "\u{1F4CA}",
      variant: "outline"
    },
    {
      id: "manage-inventory",
      label: "Manage Inventory",
      description: "Check stock levels and availability",
      icon: "\u{1F3EA}",
      variant: "outline"
    },
    {
      id: "customer-support",
      label: "Customer Support",
      description: "Handle customer inquiries",
      icon: "\u{1F4AC}",
      variant: "outline"
    }
  ];
  return /* @__PURE__ */ (0, import_jsx_runtime65.jsxs)(Card2, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime65.jsxs)(CardHeader2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime65.jsx)(CardTitle2, { children: "Quick Actions" }),
      /* @__PURE__ */ (0, import_jsx_runtime65.jsx)("p", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Common tasks and shortcuts" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime65.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime65.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4", children: actions.map((action) => /* @__PURE__ */ (0, import_jsx_runtime65.jsx)(
      Button,
      {
        variant: action.variant,
        className: "h-auto p-4 flex flex-col items-start space-y-2 text-left",
        onClick: () => onActionClick(action.id),
        children: /* @__PURE__ */ (0, import_jsx_runtime65.jsxs)("div", { className: "flex items-center space-x-2 w-full", children: [
          /* @__PURE__ */ (0, import_jsx_runtime65.jsx)("span", { className: "text-xl", children: action.icon }),
          /* @__PURE__ */ (0, import_jsx_runtime65.jsxs)("div", { className: "flex-1", children: [
            /* @__PURE__ */ (0, import_jsx_runtime65.jsx)("div", { className: "font-medium", children: action.label }),
            /* @__PURE__ */ (0, import_jsx_runtime65.jsx)("div", { className: "text-xs opacity-80", children: action.description })
          ] })
        ] })
      },
      action.id
    )) }) })
  ] });
}

// src/components/features/Dashboard/components/DashboardNavigation.tsx
var import_jsx_runtime66 = require("react/jsx-runtime");
function DashboardNavigation({ activeTab }) {
  const tabs = [
    { id: "overview", label: "Overview", description: "General business metrics" },
    { id: "orders", label: "Orders", description: "Order management and tracking" },
    { id: "customers", label: "Customers", description: "Customer insights and data" },
    { id: "products", label: "Products", description: "Inventory and product analytics" },
    { id: "financial", label: "Financial", description: "Revenue and expense tracking" },
    { id: "reports", label: "Reports", description: "Detailed business reports" }
  ];
  return /* @__PURE__ */ (0, import_jsx_runtime66.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime66.jsx)(CardContent2, { className: "p-0", children: /* @__PURE__ */ (0, import_jsx_runtime66.jsx)("div", { className: "flex flex-wrap border-b border-gray-200 dark:border-gray-700", children: tabs.map((tab) => /* @__PURE__ */ (0, import_jsx_runtime66.jsx)(
    Button,
    {
      variant: activeTab === tab.id ? "default" : "ghost",
      className: `flex-1 min-w-0 px-4 py-3 rounded-none border-b-2 ${activeTab === tab.id ? "border-primary bg-primary/5 text-primary" : "border-transparent hover:bg-gray-50 dark:hover:bg-gray-800"}`,
      children: /* @__PURE__ */ (0, import_jsx_runtime66.jsxs)("div", { className: "text-left", children: [
        /* @__PURE__ */ (0, import_jsx_runtime66.jsx)("div", { className: "font-medium", children: tab.label }),
        /* @__PURE__ */ (0, import_jsx_runtime66.jsx)("div", { className: "text-xs opacity-70", children: tab.description })
      ] })
    },
    tab.id
  )) }) }) });
}

// src/components/features/Dashboard/components/DashboardLoading.tsx
var import_jsx_runtime67 = require("react/jsx-runtime");
function DashboardLoading() {
  return /* @__PURE__ */ (0, import_jsx_runtime67.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime67.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime67.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime67.jsx)("div", { className: "h-8 w-48 bg-gray-200 rounded animate-pulse" }),
        /* @__PURE__ */ (0, import_jsx_runtime67.jsx)("div", { className: "h-4 w-64 bg-gray-200 rounded animate-pulse" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime67.jsxs)("div", { className: "flex gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime67.jsx)("div", { className: "h-10 w-24 bg-gray-200 rounded animate-pulse" }),
        /* @__PURE__ */ (0, import_jsx_runtime67.jsx)("div", { className: "h-10 w-24 bg-gray-200 rounded animate-pulse" })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime67.jsx)(StatsSkeleton, {}),
    /* @__PURE__ */ (0, import_jsx_runtime67.jsxs)("div", { className: "grid grid-cols-1 lg:grid-cols-2 gap-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime67.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime67.jsx)("div", { className: "h-6 w-32 bg-gray-200 rounded animate-pulse" }),
        /* @__PURE__ */ (0, import_jsx_runtime67.jsx)("div", { className: "h-64 w-full bg-gray-200 rounded-lg animate-pulse" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime67.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime67.jsx)("div", { className: "h-6 w-32 bg-gray-200 rounded animate-pulse" }),
        /* @__PURE__ */ (0, import_jsx_runtime67.jsx)("div", { className: "h-64 w-full bg-gray-200 rounded-lg animate-pulse" })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime67.jsxs)("div", { className: "space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime67.jsx)("div", { className: "h-6 w-32 bg-gray-200 rounded animate-pulse" }),
      /* @__PURE__ */ (0, import_jsx_runtime67.jsx)("div", { className: "space-y-3", children: Array.from({ length: 5 }).map((_, i) => /* @__PURE__ */ (0, import_jsx_runtime67.jsxs)("div", { className: "flex items-center gap-3 p-3 border rounded-lg", children: [
        /* @__PURE__ */ (0, import_jsx_runtime67.jsx)("div", { className: "h-8 w-8 bg-gray-200 rounded-full animate-pulse" }),
        /* @__PURE__ */ (0, import_jsx_runtime67.jsxs)("div", { className: "flex-1 space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime67.jsx)("div", { className: "h-4 w-48 bg-gray-200 rounded animate-pulse" }),
          /* @__PURE__ */ (0, import_jsx_runtime67.jsx)("div", { className: "h-3 w-32 bg-gray-200 rounded animate-pulse" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime67.jsx)("div", { className: "h-4 w-20 bg-gray-200 rounded animate-pulse" })
      ] }, i)) })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime67.jsxs)("div", { className: "space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime67.jsx)("div", { className: "h-6 w-32 bg-gray-200 rounded animate-pulse" }),
      /* @__PURE__ */ (0, import_jsx_runtime67.jsx)(GridSkeleton, { items: 4 })
    ] })
  ] });
}
function DashboardFocusLoading() {
  return /* @__PURE__ */ (0, import_jsx_runtime67.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime67.jsxs)("div", { className: "space-y-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime67.jsx)("div", { className: "h-6 w-32 bg-gray-200 rounded animate-pulse" }),
      /* @__PURE__ */ (0, import_jsx_runtime67.jsx)("div", { className: "h-4 w-48 bg-gray-200 rounded animate-pulse" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime67.jsx)("div", { className: "space-y-4", children: Array.from({ length: 3 }).map((_, i) => /* @__PURE__ */ (0, import_jsx_runtime67.jsxs)("div", { className: "p-4 border rounded-lg", children: [
      /* @__PURE__ */ (0, import_jsx_runtime67.jsxs)("div", { className: "flex items-center justify-between mb-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime67.jsx)("div", { className: "h-5 w-32 bg-gray-200 rounded animate-pulse" }),
        /* @__PURE__ */ (0, import_jsx_runtime67.jsx)("div", { className: "h-6 w-16 bg-gray-200 rounded animate-pulse" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime67.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime67.jsx)("div", { className: "h-4 w-full bg-gray-200 rounded animate-pulse" }),
        /* @__PURE__ */ (0, import_jsx_runtime67.jsx)("div", { className: "h-4 w-3/4 bg-gray-200 rounded animate-pulse" })
      ] })
    ] }, i)) })
  ] });
}

// src/components/layout/DashboardWrapper.tsx
var import_react29 = require("react");

// src/components/layout/sidebar.tsx
var import_react28 = require("react");
var import_link2 = __toESM(require("next/link"));
var import_navigation2 = require("next/navigation");
var import_ui17 = require("@rentalshop/ui");
var import_ui18 = require("@rentalshop/ui");
var import_lucide_react27 = require("lucide-react");
var import_hooks4 = require("@rentalshop/hooks");
var import_jsx_runtime68 = require("react/jsx-runtime");
var menuItems = [
  {
    label: "Dashboard",
    href: "/dashboard",
    icon: /* @__PURE__ */ (0, import_jsx_runtime68.jsxs)("svg", { className: "w-5 h-5", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: [
      /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z" }),
      /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M8 5a2 2 0 012-2h4a2 2 0 012 2v6H8V5z" })
    ] })
  },
  {
    label: "Customers",
    href: "/customers",
    icon: /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("svg", { className: "w-5 h-5", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" }) })
  },
  {
    label: "Products",
    href: "/products",
    icon: /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("svg", { className: "w-5 h-5", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" }) })
  },
  {
    label: "Orders",
    href: "/orders",
    icon: /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("svg", { className: "w-5 h-5", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" }) }),
    badge: "3"
  },
  {
    label: "Outlets",
    href: "/outlets",
    icon: /* @__PURE__ */ (0, import_jsx_runtime68.jsx)(import_lucide_react27.Building2, { className: "w-5 h-5" })
  },
  {
    label: "Users",
    href: "/users",
    icon: /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("svg", { className: "w-5 h-5", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z" }) })
  },
  {
    label: "Settings",
    href: "/settings",
    icon: /* @__PURE__ */ (0, import_jsx_runtime68.jsxs)("svg", { className: "w-5 h-5", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: [
      /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" }),
      /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M15 12a3 3 0 11-6 0 3 3 0 016 0z" })
    ] })
  }
];
var Sidebar = ({
  user,
  isOpen = false,
  onToggle,
  onLogout,
  currentPath = "",
  isCollapsed = false,
  onCollapseToggle
}) => {
  const router = (0, import_navigation2.useRouter)();
  const { navigate, navigatingTo } = (0, import_hooks4.useOptimisticNavigation)();
  (0, import_react28.useEffect)(() => {
    menuItems.forEach((item) => {
      router.prefetch(item.href);
    });
  }, [router]);
  return /* @__PURE__ */ (0, import_jsx_runtime68.jsxs)(import_jsx_runtime68.Fragment, { children: [
    isOpen && /* @__PURE__ */ (0, import_jsx_runtime68.jsx)(
      "div",
      {
        className: "fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",
        onClick: onToggle
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime68.jsx)(
      "aside",
      {
        className: (0, import_ui17.cn)(
          "fixed inset-y-0 left-0 z-50 bg-white border-r border-gray-200 transform transition-all duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0",
          isOpen ? "translate-x-0" : "-translate-x-full",
          isCollapsed ? "w-16" : "w-64"
        ),
        children: /* @__PURE__ */ (0, import_jsx_runtime68.jsxs)("div", { className: "flex flex-col h-full", children: [
          /* @__PURE__ */ (0, import_jsx_runtime68.jsxs)("div", { className: "flex items-center justify-between h-16 px-6 border-b border-gray-200", children: [
            /* @__PURE__ */ (0, import_jsx_runtime68.jsxs)(
              "button",
              {
                onClick: () => navigate("/dashboard"),
                className: "flex items-center space-x-2 hover:opacity-80 transition-opacity",
                children: [
                  /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("div", { className: "w-8 h-8 bg-green-600 rounded-lg flex items-center justify-center flex-shrink-0", children: /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("span", { className: "text-white font-bold text-sm", children: "R" }) }),
                  !isCollapsed && /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("span", { className: "font-bold text-2xl text-gray-900 leading-none", children: "RentalShop" })
                ]
              }
            ),
            /* @__PURE__ */ (0, import_jsx_runtime68.jsxs)("div", { className: "flex items-center space-x-2", children: [
              onCollapseToggle && /* @__PURE__ */ (0, import_jsx_runtime68.jsx)(
                import_ui18.Button,
                {
                  variant: "ghost",
                  size: "sm",
                  onClick: onCollapseToggle,
                  className: "h-8 w-8 p-0 hover:bg-gray-100",
                  title: isCollapsed ? "Expand sidebar" : "Collapse sidebar",
                  children: isCollapsed ? /* @__PURE__ */ (0, import_jsx_runtime68.jsx)(import_lucide_react27.ChevronRight, { className: "w-4 h-4" }) : /* @__PURE__ */ (0, import_jsx_runtime68.jsx)(import_lucide_react27.ChevronLeft, { className: "w-4 h-4" })
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime68.jsx)(
                import_ui18.Button,
                {
                  variant: "ghost",
                  size: "icon",
                  onClick: onToggle,
                  className: "lg:hidden text-gray-500 hover:text-gray-700 focus:outline-none h-8 w-8 p-0",
                  children: /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("svg", { className: "w-6 h-6", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M6 18L18 6M6 6l12 12" }) })
                }
              )
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime68.jsxs)("nav", { className: "flex-1 px-4 py-6 space-y-2 overflow-y-auto", children: [
            /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("div", { className: "hidden", children: menuItems.map((item) => /* @__PURE__ */ (0, import_jsx_runtime68.jsx)(import_link2.default, { href: item.href, prefetch: true, children: item.label }, `prefetch-${item.href}`)) }),
            menuItems.map((item) => {
              const isActive = currentPath === item.href;
              const isNavigating = navigatingTo === item.href;
              const shouldHighlight = isActive || isNavigating;
              return /* @__PURE__ */ (0, import_jsx_runtime68.jsxs)(
                "button",
                {
                  onClick: (e) => {
                    e.preventDefault();
                    navigate(item.href);
                  },
                  onMouseEnter: () => {
                    router.prefetch(item.href);
                  },
                  className: (0, import_ui17.cn)(
                    "w-full flex items-center justify-between px-3 py-2 text-sm font-medium rounded-lg transition-all duration-150 group",
                    shouldHighlight ? "bg-green-100 text-green-700 border-r-2 border-green-600" : "text-gray-700 hover:bg-gray-100 hover:text-gray-900",
                    // Add click feedback
                    navigatingTo === item.href && "bg-blue-50 text-blue-700 border-r-2 border-blue-600"
                  ),
                  title: isCollapsed ? item.label : void 0,
                  children: [
                    /* @__PURE__ */ (0, import_jsx_runtime68.jsxs)("div", { className: "flex items-center space-x-3", children: [
                      /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("span", { className: (0, import_ui17.cn)(
                        "flex-shrink-0 transition-colors duration-150",
                        shouldHighlight ? "text-green-600" : "text-gray-500"
                      ), children: item.icon }),
                      !isCollapsed && /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("span", { className: (0, import_ui17.cn)(
                        "text-base transition-all duration-150",
                        shouldHighlight ? "font-medium" : "font-normal"
                      ), children: item.label })
                    ] }),
                    !isCollapsed && item.badge && /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("span", { className: "inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-red-500 rounded-full", children: item.badge })
                  ]
                },
                item.href
              );
            })
          ] }),
          user && /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("div", { className: "p-4 border-t border-gray-200", children: /* @__PURE__ */ (0, import_jsx_runtime68.jsxs)(import_ui18.Card, { className: "p-3", children: [
            /* @__PURE__ */ (0, import_jsx_runtime68.jsxs)("div", { className: "flex items-center space-x-3", children: [
              /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("div", { className: "w-10 h-10 bg-green-600 rounded-full flex items-center justify-center flex-shrink-0", children: /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("span", { className: "text-white font-bold text-sm", children: user.firstName?.[0] || user.email?.[0] || "U" }) }),
              !isCollapsed && /* @__PURE__ */ (0, import_jsx_runtime68.jsxs)("div", { className: "flex-1 min-w-0", children: [
                /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("p", { className: "text-sm font-medium text-gray-900 truncate", children: user.firstName && user.lastName ? `${user.firstName} ${user.lastName}` : user.email || "User" }),
                /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("p", { className: "text-xs text-gray-500 truncate", children: user.role || "User" })
              ] })
            ] }),
            !isCollapsed && /* @__PURE__ */ (0, import_jsx_runtime68.jsxs)("div", { className: "mt-4 space-y-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime68.jsx)(
                "button",
                {
                  onClick: () => navigate("/profile"),
                  className: "block w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200",
                  children: /* @__PURE__ */ (0, import_jsx_runtime68.jsxs)("div", { className: "flex items-center space-x-2", children: [
                    /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("svg", { className: "w-4 h-4", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" }) }),
                    /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("span", { children: "Profile" })
                  ] })
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime68.jsxs)(
                import_ui18.Button,
                {
                  onClick: onLogout,
                  variant: "outline",
                  size: "sm",
                  className: "w-full justify-start",
                  children: [
                    /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("svg", { className: "w-4 h-4 mr-2", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ (0, import_jsx_runtime68.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" }) }),
                    "Logout"
                  ]
                }
              )
            ] })
          ] }) })
        ] })
      }
    )
  ] });
};

// src/components/layout/DashboardWrapper.tsx
var import_jsx_runtime69 = require("react/jsx-runtime");
function DashboardWrapper({
  children,
  user,
  onLogout = () => {
  },
  currentPath = "",
  hideSidebar = false,
  allowCollapse = true
}) {
  const [sidebarCollapsed, setSidebarCollapsed] = (0, import_react29.useState)(false);
  const handleCollapseToggle = () => {
    setSidebarCollapsed(!sidebarCollapsed);
  };
  return /* @__PURE__ */ (0, import_jsx_runtime69.jsxs)("div", { className: "flex h-screen bg-gray-50", children: [
    !hideSidebar && /* @__PURE__ */ (0, import_jsx_runtime69.jsx)(
      Sidebar,
      {
        user,
        onLogout,
        currentPath,
        isCollapsed: sidebarCollapsed,
        onCollapseToggle: allowCollapse ? handleCollapseToggle : void 0
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime69.jsx)("main", { className: `flex-1 overflow-y-auto ${!hideSidebar ? "transition-all duration-300 ease-in-out" : ""}`, children: /* @__PURE__ */ (0, import_jsx_runtime69.jsx)("div", { className: "p-6", children }) })
  ] });
}

// src/components/features/Dashboard/Dashboard.tsx
var import_jsx_runtime70 = require("react/jsx-runtime");
function Dashboard({ data, onPeriodChange, onActionClick }) {
  return /* @__PURE__ */ (0, import_jsx_runtime70.jsx)(DashboardWrapper, { children: /* @__PURE__ */ (0, import_jsx_runtime70.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime70.jsx)(
      DashboardHeader,
      {
        period: data.period,
        onPeriodChange
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime70.jsx)(DashboardStats, { stats: data.stats }),
    /* @__PURE__ */ (0, import_jsx_runtime70.jsxs)("div", { className: "grid grid-cols-1 lg:grid-cols-2 gap-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime70.jsx)(
        DashboardCharts,
        {
          orderData: data.orderData,
          incomeData: data.incomeData
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime70.jsx)(DashboardFocus, { focus: data.todaysFocus })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime70.jsx)(DashboardActions, { onActionClick }),
    /* @__PURE__ */ (0, import_jsx_runtime70.jsx)(DashboardNavigation, { activeTab: data.activeTab })
  ] }) });
}
var Dashboard_default = Dashboard;

// src/components/features/Products/Products.tsx
var import_react44 = __toESM(require("react"));

// src/components/features/Products/components/ProductHeader.tsx
var import_jsx_runtime71 = require("react/jsx-runtime");
function ProductHeader({ totalProducts, viewMode, onViewModeChange }) {
  const viewModes = [
    { value: "grid", label: "Grid View", icon: "\u229E" },
    { value: "table", label: "Table View", icon: "\u229F" }
  ];
  return /* @__PURE__ */ (0, import_jsx_runtime71.jsx)("div", { className: "flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0", children: /* @__PURE__ */ (0, import_jsx_runtime71.jsx)("div", { className: "flex items-center space-x-2", children: viewModes.map((mode) => /* @__PURE__ */ (0, import_jsx_runtime71.jsxs)(
    Button,
    {
      variant: viewMode === mode.value ? "default" : "outline",
      size: "sm",
      onClick: () => onViewModeChange(mode.value),
      className: "flex items-center space-x-2",
      children: [
        /* @__PURE__ */ (0, import_jsx_runtime71.jsx)("span", { className: "text-lg", children: mode.icon }),
        /* @__PURE__ */ (0, import_jsx_runtime71.jsx)("span", { className: "hidden sm:inline", children: mode.label })
      ]
    },
    mode.value
  )) }) });
}

// src/components/features/Products/components/ProductPageHeader.tsx
var import_jsx_runtime72 = require("react/jsx-runtime");
var ProductPageHeader = ({
  title,
  subtitle,
  onBack,
  backText = "Back to Products",
  backUrl,
  children
}) => {
  const handleBack = () => {
    if (onBack) {
      onBack();
    } else if (backUrl) {
      window.location.href = backUrl;
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime72.jsx)("div", { className: "mb-6", children: (onBack || backUrl) && /* @__PURE__ */ (0, import_jsx_runtime72.jsxs)(
    Button,
    {
      onClick: handleBack,
      variant: "outline",
      className: "mb-4",
      children: [
        "\u2190",
        backText
      ]
    }
  ) });
};

// src/components/features/Products/components/ProductFilters.tsx
var import_react30 = require("react");
var import_ui19 = require("@rentalshop/ui");
var import_ui20 = require("@rentalshop/ui");
var import_ui21 = require("@rentalshop/ui");
var import_hooks5 = require("@rentalshop/hooks");
var import_lucide_react28 = require("lucide-react");
var import_jsx_runtime73 = require("react/jsx-runtime");
function ProductFilters({ filters, onFiltersChange, onSearchChange, onClearFilters }) {
  const { outlets, loading: loadingOutlets } = (0, import_hooks5.useOutletsData)();
  const { categories, loading: loadingCategories } = (0, import_hooks5.useCategoriesData)();
  const handleSearchChange = (0, import_react30.useCallback)((e) => {
    const value = e.target.value;
    onSearchChange(value);
  }, [onSearchChange]);
  const handleOutletChange = (0, import_react30.useCallback)((value) => {
    const outletId = value === "all" ? void 0 : parseInt(value);
    onFiltersChange({ outletId });
  }, [onFiltersChange]);
  const handleCategoryChange = (0, import_react30.useCallback)((value) => {
    const categoryId = value === "all" ? void 0 : parseInt(value);
    onFiltersChange({ categoryId });
  }, [onFiltersChange]);
  const hasActiveFilters = !!(filters.search || filters.outletId || filters.categoryId);
  return /* @__PURE__ */ (0, import_jsx_runtime73.jsxs)(import_ui21.Card, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime73.jsx)(import_ui21.CardHeader, { className: "pb-1" }),
    /* @__PURE__ */ (0, import_jsx_runtime73.jsxs)(import_ui21.CardContent, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime73.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime73.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime73.jsx)("label", { className: "text-sm font-medium text-gray-700", children: "Search" }),
          /* @__PURE__ */ (0, import_jsx_runtime73.jsxs)("div", { className: "relative", children: [
            /* @__PURE__ */ (0, import_jsx_runtime73.jsx)(import_lucide_react28.Search, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400" }),
            /* @__PURE__ */ (0, import_jsx_runtime73.jsx)(
              import_ui19.Input,
              {
                type: "text",
                placeholder: "Search by name, barcode...",
                value: filters.search || "",
                onChange: handleSearchChange,
                className: "pl-9"
              }
            )
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime73.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime73.jsx)("label", { className: "text-sm font-medium text-gray-700", children: "Outlet" }),
          /* @__PURE__ */ (0, import_jsx_runtime73.jsxs)(
            import_ui20.Select,
            {
              value: filters.outletId?.toString() || "all",
              onValueChange: handleOutletChange,
              disabled: loadingOutlets,
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime73.jsx)(import_ui20.SelectTrigger, { children: /* @__PURE__ */ (0, import_jsx_runtime73.jsx)(import_ui20.SelectValue, { placeholder: "All outlets" }) }),
                /* @__PURE__ */ (0, import_jsx_runtime73.jsxs)(import_ui20.SelectContent, { children: [
                  /* @__PURE__ */ (0, import_jsx_runtime73.jsx)(import_ui20.SelectItem, { value: "all", children: "All Outlets" }),
                  outlets.map((outlet) => /* @__PURE__ */ (0, import_jsx_runtime73.jsx)(import_ui20.SelectItem, { value: outlet.id.toString(), children: outlet.name }, outlet.id))
                ] })
              ]
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime73.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime73.jsx)("label", { className: "text-sm font-medium text-gray-700", children: "Category" }),
          /* @__PURE__ */ (0, import_jsx_runtime73.jsxs)(
            import_ui20.Select,
            {
              value: filters.categoryId?.toString() || "all",
              onValueChange: handleCategoryChange,
              disabled: loadingCategories,
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime73.jsx)(import_ui20.SelectTrigger, { children: /* @__PURE__ */ (0, import_jsx_runtime73.jsx)(import_ui20.SelectValue, { placeholder: "All categories" }) }),
                /* @__PURE__ */ (0, import_jsx_runtime73.jsxs)(import_ui20.SelectContent, { children: [
                  /* @__PURE__ */ (0, import_jsx_runtime73.jsx)(import_ui20.SelectItem, { value: "all", children: "All Categories" }),
                  categories.map((category) => /* @__PURE__ */ (0, import_jsx_runtime73.jsx)(import_ui20.SelectItem, { value: category.id.toString(), children: category.name }, category.id))
                ] })
              ]
            }
          )
        ] })
      ] }),
      hasActiveFilters && onClearFilters && /* @__PURE__ */ (0, import_jsx_runtime73.jsx)("div", { className: "mt-4 pt-4 border-t", children: /* @__PURE__ */ (0, import_jsx_runtime73.jsx)(
        "button",
        {
          onClick: onClearFilters,
          className: "text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors",
          children: "Clear all filters"
        }
      ) })
    ] })
  ] });
}

// src/components/features/Products/components/ProductGrid.tsx
var import_react32 = require("react");

// src/components/features/Products/components/ProductCard.tsx
var import_react31 = require("react");
var import_jsx_runtime74 = require("react/jsx-runtime");
var ProductCard = ({
  id,
  name,
  description,
  stock,
  renting,
  available,
  rentPrice,
  salePrice,
  deposit,
  images,
  category,
  outlet,
  onRent,
  onView,
  onEdit,
  onDelete,
  variant = "client",
  className,
  // New props
  categories = [],
  outlets = [],
  merchantId = "",
  onProductUpdated,
  onError
}) => {
  const [isEditDialogOpen, setIsEditDialogOpen] = (0, import_react31.useState)(false);
  const mainImage = images?.[0] || "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xMDAgNzBDMTE2LjU2OSA3MCAxMzAgODMuNDMxIDMwIDEwMEMxMzAgMTE2LjU2OSAxMTYuNTY5IDEzMCAxMDAgMTMwQzgzLjQzMSAxMzAgNzAgMTE2LjU2OSA3MCAxMEM3MCA4My40MzEgODMuNDMxIDcwIDEwMCA3MFoiIGZpbGw9IiNEMUQ1REIiLz4KPHBhdGggZD0iTTEwMCAxMTVDMTA4LjI4NCAxMTUgMTE1IDEwOC4yODQgMTE1IDEwMEMxMTUgOTEuNzE2IDEwOC4yODQgODUgMTAwIDg1QzkxLjcxNiA4NSA4NSA5MS43MTYgODUgMTAwQzg1IDEwOC4yODQgOTEuNzE2IDExNSAxMDAgMTE1WiIgZmlsbD0iI0E5Q0JCRiIvPgo8L3N2Zz4K";
  const isAvailable = available > 0;
  const handleEdit = () => {
    if (categories.length > 0 && outlets.length > 0 && merchantId) {
      setIsEditDialogOpen(true);
    } else if (onEdit) {
      onEdit(id);
    }
  };
  const getProductForEdit = () => ({
    id,
    name,
    description: description || "",
    barcode: "",
    categoryId: "",
    // This would need to be passed from parent
    rentPrice,
    salePrice,
    deposit,
    totalStock: stock,
    images: images.join(","),
    isActive: true,
    outletStock: [{
      outletId: "",
      // This would need to be passed from parent
      stock,
      available,
      renting
    }],
    category: { id: "", name: category.name },
    merchant: { id: merchantId, name: "" },
    createdAt: /* @__PURE__ */ new Date(),
    updatedAt: /* @__PURE__ */ new Date()
  });
  const handleSuccess = (updatedProduct) => {
    onProductUpdated?.(updatedProduct);
    setIsEditDialogOpen(false);
  };
  const handleError = (error2) => {
    onError?.(error2);
  };
  return /* @__PURE__ */ (0, import_jsx_runtime74.jsx)(import_jsx_runtime74.Fragment, { children: /* @__PURE__ */ (0, import_jsx_runtime74.jsxs)(Card2, { className: cn2("overflow-hidden transition-all hover:shadow-lg", className), children: [
    /* @__PURE__ */ (0, import_jsx_runtime74.jsxs)("div", { className: "relative aspect-square overflow-hidden bg-gray-100", children: [
      /* @__PURE__ */ (0, import_jsx_runtime74.jsx)(
        "img",
        {
          src: mainImage,
          alt: name,
          className: "h-full w-full object-cover transition-transform hover:scale-105",
          onError: (e) => {
            e.currentTarget.src = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0xMDAgNzBDMTE2LjU2OSA3MCAxMzAgODMuNDMxIDMwIDEwMEMxMzAgMTE2LjU2OSAxMTYuNTY5IDEzMCAxMDAgMTMwQzgzLjQzMSAxMzAgNzAgMTE2LjU2OSA3MCAxMEM3MCA4My40MzEgODMuNDMxIDcwIDEwMCA3MFoiIGZpbGw9IiNEMUQ1REIiLz4KPHBhdGggZD0iTTEwMCAxMTVDMTA4LjI4NCAxMTUgMTE1IDEwOC4yODQgMTE1IDEwMEMxMTUgOTEuNzE2IDEwOC4yODQgODUgMTAwIDg1QzkxLjcxNiA4NSA4NSA5MS43MTYgODUgMTAwQzg1IDEwOC4yODQgOTEuNzE2IDExNSAxMDAgMTE1WiIgZmlsbD0iI0E5Q0JCRiIvPgo8L3N2Zz4K";
          }
        }
      ),
      !isAvailable && /* @__PURE__ */ (0, import_jsx_runtime74.jsx)("div", { className: "absolute inset-0 bg-black/50 flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime74.jsx)("span", { className: "text-white font-semibold text-lg", children: "Out of Stock" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime74.jsx)("div", { className: "absolute top-2 left-2", children: /* @__PURE__ */ (0, import_jsx_runtime74.jsx)("span", { className: "bg-blue-500 text-white px-2 py-1 rounded-full text-xs font-medium", children: category.name }) }),
      variant === "admin" && /* @__PURE__ */ (0, import_jsx_runtime74.jsxs)("div", { className: "absolute top-2 right-2 flex gap-1", children: [
        onEdit && /* @__PURE__ */ (0, import_jsx_runtime74.jsx)(
          Button,
          {
            size: "sm",
            variant: "secondary",
            onClick: handleEdit,
            className: "h-8 w-8 p-0",
            children: "\u270F\uFE0F"
          }
        ),
        onDelete && /* @__PURE__ */ (0, import_jsx_runtime74.jsx)(
          Button,
          {
            size: "sm",
            variant: "destructive",
            onClick: () => onDelete(id),
            className: "h-8 w-8 p-0",
            children: "\u{1F5D1}\uFE0F"
          }
        )
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime74.jsxs)("div", { className: "p-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime74.jsxs)("div", { className: "mb-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime74.jsx)("h3", { className: "font-semibold text-lg text-gray-900 line-clamp-1", children: name }),
        /* @__PURE__ */ (0, import_jsx_runtime74.jsx)("p", { className: "text-sm text-gray-500", children: outlet.name })
      ] }),
      description && /* @__PURE__ */ (0, import_jsx_runtime74.jsx)("p", { className: "text-sm text-gray-600 mb-3 line-clamp-2", children: description }),
      /* @__PURE__ */ (0, import_jsx_runtime74.jsxs)("div", { className: "mb-3 space-y-1", children: [
        /* @__PURE__ */ (0, import_jsx_runtime74.jsxs)("div", { className: "flex justify-between text-sm", children: [
          /* @__PURE__ */ (0, import_jsx_runtime74.jsx)("span", { className: "text-gray-600", children: "Total Stock:" }),
          /* @__PURE__ */ (0, import_jsx_runtime74.jsx)("span", { className: "font-medium", children: stock })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime74.jsxs)("div", { className: "flex justify-between text-sm", children: [
          /* @__PURE__ */ (0, import_jsx_runtime74.jsx)("span", { className: "text-gray-600", children: "Currently Rented:" }),
          /* @__PURE__ */ (0, import_jsx_runtime74.jsx)("span", { className: "font-medium text-orange-600", children: renting })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime74.jsxs)("div", { className: "flex justify-between text-sm", children: [
          /* @__PURE__ */ (0, import_jsx_runtime74.jsx)("span", { className: "text-gray-600", children: "Available:" }),
          /* @__PURE__ */ (0, import_jsx_runtime74.jsx)("span", { className: cn2("font-medium", isAvailable ? "text-green-600" : "text-red-600"), children: available })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime74.jsxs)("div", { className: "mb-4 space-y-1", children: [
        /* @__PURE__ */ (0, import_jsx_runtime74.jsxs)("div", { className: "flex justify-between items-center", children: [
          /* @__PURE__ */ (0, import_jsx_runtime74.jsx)("span", { className: "text-sm text-gray-600", children: "Rent Price:" }),
          /* @__PURE__ */ (0, import_jsx_runtime74.jsxs)("span", { className: "font-semibold text-lg text-blue-600", children: [
            "$",
            rentPrice.toFixed(2),
            "/day"
          ] })
        ] }),
        salePrice && /* @__PURE__ */ (0, import_jsx_runtime74.jsxs)("div", { className: "flex justify-between items-center", children: [
          /* @__PURE__ */ (0, import_jsx_runtime74.jsx)("span", { className: "text-sm text-gray-600", children: "Sale Price:" }),
          /* @__PURE__ */ (0, import_jsx_runtime74.jsxs)("span", { className: "font-semibold text-green-600", children: [
            "$",
            salePrice.toFixed(2)
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime74.jsxs)("div", { className: "flex justify-between items-center", children: [
          /* @__PURE__ */ (0, import_jsx_runtime74.jsx)("span", { className: "text-sm text-gray-600", children: "Deposit:" }),
          /* @__PURE__ */ (0, import_jsx_runtime74.jsxs)("span", { className: "font-medium text-gray-700", children: [
            "$",
            deposit.toFixed(2)
          ] })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime74.jsxs)("div", { className: "flex gap-2", children: [
        variant === "client" && /* @__PURE__ */ (0, import_jsx_runtime74.jsxs)(import_jsx_runtime74.Fragment, { children: [
          onView && /* @__PURE__ */ (0, import_jsx_runtime74.jsx)(
            Button,
            {
              variant: "outline",
              size: "sm",
              onClick: () => onView(id),
              className: "flex-1",
              children: "View Details"
            }
          ),
          onRent && isAvailable && /* @__PURE__ */ (0, import_jsx_runtime74.jsx)(
            Button,
            {
              size: "sm",
              onClick: () => onRent(id),
              className: "flex-1",
              disabled: !isAvailable,
              children: "Rent Now"
            }
          )
        ] }),
        variant === "mobile" && /* @__PURE__ */ (0, import_jsx_runtime74.jsxs)(import_jsx_runtime74.Fragment, { children: [
          onView && /* @__PURE__ */ (0, import_jsx_runtime74.jsx)(
            Button,
            {
              variant: "outline",
              size: "sm",
              onClick: () => onView(id),
              className: "flex-1",
              children: "Details"
            }
          ),
          onRent && isAvailable && /* @__PURE__ */ (0, import_jsx_runtime74.jsx)(
            Button,
            {
              size: "sm",
              onClick: () => onRent(id),
              className: "flex-1",
              disabled: !isAvailable,
              children: "Rent"
            }
          )
        ] }),
        variant === "admin" && /* @__PURE__ */ (0, import_jsx_runtime74.jsxs)(import_jsx_runtime74.Fragment, { children: [
          onView && /* @__PURE__ */ (0, import_jsx_runtime74.jsx)(
            Button,
            {
              variant: "outline",
              size: "sm",
              onClick: () => onView(id),
              className: "flex-1",
              children: "View"
            }
          ),
          onEdit && /* @__PURE__ */ (0, import_jsx_runtime74.jsx)(
            Button,
            {
              size: "sm",
              onClick: handleEdit,
              className: "flex-1",
              children: "Edit"
            }
          )
        ] })
      ] })
    ] })
  ] }) });
};

// src/components/features/Products/components/ProductGrid.tsx
var import_jsx_runtime75 = require("react/jsx-runtime");
function ProductGrid({
  products,
  onProductAction,
  categories = [],
  outlets = [],
  merchantId = "",
  onProductCreated,
  onProductUpdated,
  onError,
  showAddButton = false
}) {
  const [isAddDialogOpen, setIsAddDialogOpen] = (0, import_react32.useState)(false);
  const handleAddProduct = () => {
    setIsAddDialogOpen(true);
  };
  const handleDialogClose = () => {
    setIsAddDialogOpen(false);
  };
  const handleSuccess = (product) => {
    if (onProductCreated) {
      onProductCreated(product);
    }
    setIsAddDialogOpen(false);
  };
  const handleError = (error2) => {
    if (onError) {
      onError(error2);
    }
  };
  if (products.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime75.jsx)("div", { className: "text-center py-12", children: /* @__PURE__ */ (0, import_jsx_runtime75.jsxs)("div", { className: "text-gray-500 dark:text-gray-400", children: [
      /* @__PURE__ */ (0, import_jsx_runtime75.jsx)("div", { className: "text-4xl mb-4", children: "\u{1F4E6}" }),
      /* @__PURE__ */ (0, import_jsx_runtime75.jsx)("h3", { className: "text-lg font-medium mb-2", children: "No products found" }),
      /* @__PURE__ */ (0, import_jsx_runtime75.jsx)("p", { className: "text-sm mb-4", children: "Try adjusting your filters or add some products to get started." }),
      showAddButton && categories.length > 0 && outlets.length > 0 && merchantId && /* @__PURE__ */ (0, import_jsx_runtime75.jsx)(
        Button,
        {
          onClick: handleAddProduct,
          className: "px-4 py-2",
          children: "Add Your First Product"
        }
      )
    ] }) });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime75.jsx)(import_jsx_runtime75.Fragment, { children: /* @__PURE__ */ (0, import_jsx_runtime75.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6", children: products.map((product) => /* @__PURE__ */ (0, import_jsx_runtime75.jsx)(
    ProductCard,
    {
      id: product.id,
      name: product.name,
      description: product.description,
      stock: product.stock,
      renting: product.renting,
      available: product.available,
      rentPrice: product.rentPrice,
      deposit: product.deposit,
      images: product.images || [],
      category: { name: product.category },
      outlet: { name: product.outletName },
      onView: (productId) => onProductAction("view", productId),
      onEdit: (productId) => onProductAction("edit", productId),
      onDelete: (productId) => onProductAction("delete", productId),
      variant: "admin",
      categories,
      outlets,
      merchantId,
      onProductUpdated,
      onError
    },
    product.id
  )) }) });
}

// src/components/features/Products/components/ProductTable.tsx
var import_react33 = __toESM(require("react"));
var import_lucide_react29 = require("lucide-react");
var import_jsx_runtime76 = require("react/jsx-runtime");
function ProductTable({
  products,
  onProductAction,
  sortBy = "name",
  sortOrder = "asc",
  onSort
}) {
  const [openDropdownId, setOpenDropdownId] = import_react33.default.useState(null);
  console.log("\u{1F50D} ProductTable: Received products:", {
    isArray: Array.isArray(products),
    length: products?.length,
    firstProduct: products?.[0]?.name
  });
  if (products.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime76.jsx)(Card2, { className: "shadow-sm border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ (0, import_jsx_runtime76.jsx)(CardContent2, { className: "text-center py-12", children: /* @__PURE__ */ (0, import_jsx_runtime76.jsxs)("div", { className: "text-gray-500 dark:text-gray-400", children: [
      /* @__PURE__ */ (0, import_jsx_runtime76.jsx)("div", { className: "text-4xl mb-4", children: "\u{1F4E6}" }),
      /* @__PURE__ */ (0, import_jsx_runtime76.jsx)("h3", { className: "text-lg font-medium mb-2", children: "No products found" }),
      /* @__PURE__ */ (0, import_jsx_runtime76.jsx)("p", { className: "text-sm", children: "Try adjusting your filters or add some products to get started." })
    ] }) }) });
  }
  const formatCurrency20 = (amount) => {
    return new Intl.NumberFormat("en-US", {
      style: "currency",
      currency: "USD",
      minimumFractionDigits: 2
    }).format(amount);
  };
  const getStatusBadge = (isActive) => {
    return isActive ? /* @__PURE__ */ (0, import_jsx_runtime76.jsx)(Badge, { className: "bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200", children: "Active" }) : /* @__PURE__ */ (0, import_jsx_runtime76.jsx)(Badge, { className: "bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200", children: "Inactive" });
  };
  const getAvailabilityBadge = (available, stock) => {
    if (available === 0) {
      return /* @__PURE__ */ (0, import_jsx_runtime76.jsx)(Badge, { className: "bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200", children: "Out of Stock" });
    }
    if (available < 5) {
      return /* @__PURE__ */ (0, import_jsx_runtime76.jsx)(Badge, { className: "bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200", children: "Low Stock" });
    }
    return /* @__PURE__ */ (0, import_jsx_runtime76.jsx)(Badge, { className: "bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200", children: "In Stock" });
  };
  const handleSort = (column) => {
    if (onSort) {
      onSort(column);
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime76.jsx)(Card2, { className: "shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col h-full", children: /* @__PURE__ */ (0, import_jsx_runtime76.jsx)("div", { className: "flex-1 overflow-auto", children: /* @__PURE__ */ (0, import_jsx_runtime76.jsxs)("table", { className: "w-full", children: [
    /* @__PURE__ */ (0, import_jsx_runtime76.jsx)("thead", { className: "bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-10", children: /* @__PURE__ */ (0, import_jsx_runtime76.jsxs)("tr", { children: [
      /* @__PURE__ */ (0, import_jsx_runtime76.jsx)(
        "th",
        {
          onClick: () => handleSort("name"),
          className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",
          children: /* @__PURE__ */ (0, import_jsx_runtime76.jsxs)("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime76.jsx)("span", { children: "Product Name" }),
            /* @__PURE__ */ (0, import_jsx_runtime76.jsx)(import_lucide_react29.ArrowUpDown, { className: "w-3 h-3" }),
            sortBy === "name" && /* @__PURE__ */ (0, import_jsx_runtime76.jsx)("span", { className: "text-blue-600 dark:text-blue-400", children: sortOrder === "desc" ? "\u2193" : "\u2191" })
          ] })
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime76.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Category" }),
      /* @__PURE__ */ (0, import_jsx_runtime76.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Price" }),
      /* @__PURE__ */ (0, import_jsx_runtime76.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Stock" }),
      /* @__PURE__ */ (0, import_jsx_runtime76.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Status" }),
      /* @__PURE__ */ (0, import_jsx_runtime76.jsx)(
        "th",
        {
          onClick: () => handleSort("createdAt"),
          className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",
          children: /* @__PURE__ */ (0, import_jsx_runtime76.jsxs)("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime76.jsx)("span", { children: "Created Date" }),
            /* @__PURE__ */ (0, import_jsx_runtime76.jsx)(import_lucide_react29.ArrowUpDown, { className: "w-3 h-3" }),
            sortBy === "createdAt" && /* @__PURE__ */ (0, import_jsx_runtime76.jsx)("span", { className: "text-blue-600 dark:text-blue-400", children: sortOrder === "desc" ? "\u2193" : "\u2191" })
          ] })
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime76.jsx)("th", { className: "px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Actions" })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime76.jsx)("tbody", { className: "bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700", children: products.map((product) => /* @__PURE__ */ (0, import_jsx_runtime76.jsxs)("tr", { className: "hover:bg-gray-50 dark:hover:bg-gray-800", children: [
      /* @__PURE__ */ (0, import_jsx_runtime76.jsx)("td", { className: "px-6 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime76.jsxs)("div", { className: "flex items-center gap-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime76.jsx)("div", { className: "flex-shrink-0", children: product.images && product.images.length > 0 ? /* @__PURE__ */ (0, import_jsx_runtime76.jsx)(
          "img",
          {
            src: product.images[0],
            alt: product.name,
            className: "w-10 h-10 object-cover rounded border border-gray-200",
            onError: (e) => {
              const target = e.target;
              target.style.display = "none";
            }
          }
        ) : /* @__PURE__ */ (0, import_jsx_runtime76.jsx)("div", { className: "w-10 h-10 bg-gray-100 dark:bg-gray-800 rounded border border-gray-200 dark:border-gray-700 flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime76.jsx)(import_lucide_react29.Package, { className: "w-5 h-5 text-gray-400" }) }) }),
        /* @__PURE__ */ (0, import_jsx_runtime76.jsxs)("div", { className: "text-sm", children: [
          /* @__PURE__ */ (0, import_jsx_runtime76.jsx)("div", { className: "font-medium text-gray-900 dark:text-white", children: product.name }),
          product.barcode && /* @__PURE__ */ (0, import_jsx_runtime76.jsxs)("div", { className: "text-gray-500 dark:text-gray-400 text-xs", children: [
            "SKU: ",
            product.barcode
          ] })
        ] })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime76.jsx)("td", { className: "px-6 py-4 whitespace-nowrap", children: /* @__PURE__ */ (0, import_jsx_runtime76.jsx)("div", { className: "text-sm text-gray-900 dark:text-white", children: product.category?.name || "N/A" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime76.jsx)("td", { className: "px-6 py-4 whitespace-nowrap", children: /* @__PURE__ */ (0, import_jsx_runtime76.jsxs)("div", { className: "text-sm", children: [
        /* @__PURE__ */ (0, import_jsx_runtime76.jsx)("div", { className: "font-medium text-gray-900 dark:text-white", children: formatCurrency20(product.rentPrice || 0) }),
        product.salePrice && product.salePrice > 0 && /* @__PURE__ */ (0, import_jsx_runtime76.jsxs)("div", { className: "text-gray-500 dark:text-gray-400 text-xs", children: [
          "Sale: ",
          formatCurrency20(product.salePrice)
        ] })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime76.jsx)("td", { className: "px-6 py-4 whitespace-nowrap", children: /* @__PURE__ */ (0, import_jsx_runtime76.jsxs)("div", { className: "text-sm", children: [
        /* @__PURE__ */ (0, import_jsx_runtime76.jsxs)("div", { className: "font-medium text-gray-900 dark:text-white", children: [
          product.available,
          " / ",
          product.stock
        ] }),
        product.renting > 0 && /* @__PURE__ */ (0, import_jsx_runtime76.jsxs)("div", { className: "text-gray-500 dark:text-gray-400 text-xs", children: [
          "Renting: ",
          product.renting
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime76.jsx)("div", { className: "mt-1", children: getAvailabilityBadge(product.available, product.stock) })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime76.jsx)("td", { className: "px-6 py-4 whitespace-nowrap", children: getStatusBadge(product.isActive) }),
      /* @__PURE__ */ (0, import_jsx_runtime76.jsx)("td", { className: "px-6 py-4 whitespace-nowrap", children: /* @__PURE__ */ (0, import_jsx_runtime76.jsx)("div", { className: "text-sm text-gray-900 dark:text-white", children: product.createdAt ? new Date(product.createdAt).toLocaleDateString("en-US", {
        year: "numeric",
        month: "short",
        day: "numeric"
      }) : "N/A" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime76.jsx)("td", { className: "px-6 py-4 whitespace-nowrap text-right text-sm font-medium", children: /* @__PURE__ */ (0, import_jsx_runtime76.jsxs)(DropdownMenu, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime76.jsx)(DropdownMenuTrigger, { children: /* @__PURE__ */ (0, import_jsx_runtime76.jsx)(
          Button,
          {
            variant: "ghost",
            size: "sm",
            className: "h-8 w-8 p-0",
            onClick: () => setOpenDropdownId(product.id),
            children: /* @__PURE__ */ (0, import_jsx_runtime76.jsx)(import_lucide_react29.MoreVertical, { className: "h-4 w-4" })
          }
        ) }),
        /* @__PURE__ */ (0, import_jsx_runtime76.jsxs)(
          DropdownMenuContent,
          {
            align: "end",
            open: openDropdownId === product.id,
            onOpenChange: (open) => setOpenDropdownId(open ? product.id : null),
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime76.jsxs)(DropdownMenuItem, { onClick: () => {
                onProductAction("view", product.id);
                setOpenDropdownId(null);
              }, children: [
                /* @__PURE__ */ (0, import_jsx_runtime76.jsx)(import_lucide_react29.Eye, { className: "h-4 w-4 mr-2" }),
                "View Details"
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime76.jsxs)(DropdownMenuItem, { onClick: () => {
                onProductAction("edit", product.id);
                setOpenDropdownId(null);
              }, children: [
                /* @__PURE__ */ (0, import_jsx_runtime76.jsx)(import_lucide_react29.Edit, { className: "h-4 w-4 mr-2" }),
                "Edit Product"
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime76.jsxs)(DropdownMenuItem, { onClick: () => {
                onProductAction("view-orders", product.id);
                setOpenDropdownId(null);
              }, children: [
                /* @__PURE__ */ (0, import_jsx_runtime76.jsx)(import_lucide_react29.ShoppingCart, { className: "h-4 w-4 mr-2" }),
                "View Orders"
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime76.jsxs)(DropdownMenuItem, { onClick: () => {
                onProductAction("toggle-status", product.id);
                setOpenDropdownId(null);
              }, children: [
                /* @__PURE__ */ (0, import_jsx_runtime76.jsx)(import_lucide_react29.Package, { className: "h-4 w-4 mr-2" }),
                product.isActive ? "Deactivate" : "Activate"
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime76.jsx)(DropdownMenuSeparator, {}),
              /* @__PURE__ */ (0, import_jsx_runtime76.jsxs)(
                DropdownMenuItem,
                {
                  onClick: () => {
                    onProductAction("delete", product.id);
                    setOpenDropdownId(null);
                  },
                  className: "text-red-600 dark:text-red-400 focus:text-red-700 dark:focus:text-red-300",
                  children: [
                    /* @__PURE__ */ (0, import_jsx_runtime76.jsx)(import_lucide_react29.Trash2, { className: "h-4 w-4 mr-2" }),
                    "Delete Product"
                  ]
                }
              )
            ]
          }
        )
      ] }) })
    ] }, product.id)) })
  ] }) }) });
}

// src/components/features/Products/components/ProductActions.tsx
var import_react36 = require("react");
var import_hooks6 = require("@rentalshop/hooks");

// src/components/features/Products/components/ProductAddDialog.tsx
var import_react35 = require("react");

// src/components/features/Products/components/ProductAddForm.tsx
var import_react34 = require("react");
var import_lucide_react30 = require("lucide-react");
var import_ui23 = require("@rentalshop/ui");
var import_jsx_runtime77 = require("react/jsx-runtime");
var ProductAddForm = ({
  categories,
  outlets,
  merchantId,
  onSave,
  onCancel,
  onBack
}) => {
  const [isSubmitting, setIsSubmitting] = (0, import_react34.useState)(false);
  const { toastSuccess, toastError } = (0, import_ui23.useToast)();
  const handleSubmit = async (data) => {
    setIsSubmitting(true);
    try {
      const transformedData = {
        name: data.name,
        description: data.description,
        barcode: data.barcode,
        categoryId: data.categoryId,
        rentPrice: data.rentPrice,
        salePrice: data.salePrice,
        deposit: data.deposit,
        totalStock: data.totalStock,
        images: data.images || "",
        outletStock: data.outletStock
      };
      await onSave(transformedData);
    } catch (err) {
      console.error("\u274C ProductAddForm: Error in handleSubmit:", err);
      error("Creation Failed", err instanceof Error ? err.message : "Failed to create product");
    } finally {
      setIsSubmitting(false);
    }
  };
  const handleCancel = () => {
    if (isSubmitting)
      return;
    onCancel();
  };
  return /* @__PURE__ */ (0, import_jsx_runtime77.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime77.jsx)(
      ProductForm,
      {
        categories,
        outlets,
        onSubmit: handleSubmit,
        onCancel: handleCancel,
        loading: isSubmitting,
        mode: "create",
        merchantId,
        hideHeader: true,
        hideSubmitButton: true,
        formId: "product-form",
        submitText: isSubmitting ? /* @__PURE__ */ (0, import_jsx_runtime77.jsxs)(import_jsx_runtime77.Fragment, { children: [
          /* @__PURE__ */ (0, import_jsx_runtime77.jsx)(import_lucide_react30.Loader2, { className: "h-4 w-4 mr-2 animate-spin" }),
          "Creating..."
        ] }) : /* @__PURE__ */ (0, import_jsx_runtime77.jsxs)(import_jsx_runtime77.Fragment, { children: [
          /* @__PURE__ */ (0, import_jsx_runtime77.jsx)(import_lucide_react30.Plus, { className: "h-4 w-4 mr-2" }),
          "Create Product"
        ] })
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime77.jsxs)("div", { className: "space-y-4", children: [
      outlets.length === 0 && /* @__PURE__ */ (0, import_jsx_runtime77.jsx)("div", { className: "bg-yellow-50 border border-yellow-200 rounded-lg p-4", children: /* @__PURE__ */ (0, import_jsx_runtime77.jsxs)("div", { className: "flex items-center", children: [
        /* @__PURE__ */ (0, import_jsx_runtime77.jsx)(import_lucide_react30.AlertCircle, { className: "h-5 w-5 text-yellow-600 mr-2" }),
        /* @__PURE__ */ (0, import_jsx_runtime77.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime77.jsx)("h4", { className: "text-sm font-medium text-yellow-800", children: "No Outlets Available" }),
          /* @__PURE__ */ (0, import_jsx_runtime77.jsx)("p", { className: "text-sm text-yellow-700 mt-1", children: "You need to create at least one outlet before you can add products. Please contact your administrator." })
        ] })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime77.jsxs)("div", { className: "flex justify-end space-x-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime77.jsx)(Button, { variant: "outline", onClick: handleCancel, disabled: isSubmitting, children: "Cancel" }),
        /* @__PURE__ */ (0, import_jsx_runtime77.jsx)(
          Button,
          {
            type: "submit",
            form: "product-form",
            disabled: isSubmitting || outlets.length === 0,
            className: "min-w-[120px]",
            title: outlets.length === 0 ? "No outlets available. Please set up outlets first." : void 0,
            children: isSubmitting ? /* @__PURE__ */ (0, import_jsx_runtime77.jsxs)(import_jsx_runtime77.Fragment, { children: [
              /* @__PURE__ */ (0, import_jsx_runtime77.jsx)(import_lucide_react30.Loader2, { className: "h-4 w-4 mr-2 animate-spin" }),
              "Creating..."
            ] }) : /* @__PURE__ */ (0, import_jsx_runtime77.jsxs)(import_jsx_runtime77.Fragment, { children: [
              /* @__PURE__ */ (0, import_jsx_runtime77.jsx)(import_lucide_react30.Plus, { className: "h-4 w-4 mr-2" }),
              "Create Product"
            ] })
          }
        )
      ] })
    ] })
  ] });
};

// src/components/features/Products/components/ProductAddDialog.tsx
var import_jsx_runtime78 = require("react/jsx-runtime");
var ProductAddDialog = ({
  open,
  onOpenChange,
  categories,
  outlets,
  merchantId,
  onProductCreated,
  onError
}) => {
  const [isSubmitting, setIsSubmitting] = (0, import_react35.useState)(false);
  console.log("\u{1F7E2} ProductAddDialog: Rendered with open =", open);
  const handleSave = async (productData) => {
    try {
      setIsSubmitting(true);
      if (onProductCreated) {
        await onProductCreated(productData);
      }
      onOpenChange(false);
    } catch (error2) {
      console.error("\u274C ProductAddDialog: Error occurred:", error2);
      if (onError) {
        onError(error2 instanceof Error ? error2.message : "Failed to create product");
      }
    } finally {
      setIsSubmitting(false);
    }
  };
  const handleCancel = () => {
    if (isSubmitting)
      return;
    onOpenChange(false);
  };
  return /* @__PURE__ */ (0, import_jsx_runtime78.jsx)(Dialog, { open, onOpenChange, children: /* @__PURE__ */ (0, import_jsx_runtime78.jsxs)(DialogContent, { className: "max-w-4xl max-h-[95vh] overflow-y-auto p-0", children: [
    /* @__PURE__ */ (0, import_jsx_runtime78.jsx)(DialogHeader, { className: "px-6 py-4 border-b border-gray-200", children: /* @__PURE__ */ (0, import_jsx_runtime78.jsx)(DialogTitle, { className: "text-xl font-semibold text-gray-900", children: "Add New Product" }) }),
    /* @__PURE__ */ (0, import_jsx_runtime78.jsx)("div", { className: "p-6", children: /* @__PURE__ */ (0, import_jsx_runtime78.jsx)(
      ProductAddForm,
      {
        categories,
        outlets,
        merchantId,
        onSave: handleSave,
        onCancel: handleCancel
      }
    ) })
  ] }) });
};

// src/components/features/Products/components/ProductActions.tsx
var import_jsx_runtime79 = require("react/jsx-runtime");
function ProductActions({
  onAction,
  categories,
  outlets,
  merchantId,
  onProductCreated,
  onProductUpdated,
  onError
}) {
  const { role: currentUserRole, canManageProducts, canManageCategories } = (0, import_hooks6.useUserRole)();
  const [isAddDialogOpen, setIsAddDialogOpen] = (0, import_react36.useState)(false);
  const [editingProduct, setEditingProduct] = (0, import_react36.useState)(null);
  const handleAddProduct = () => {
    console.log("\u{1F535} ProductActions: handleAddProduct called");
    setEditingProduct(null);
    setIsAddDialogOpen(true);
    console.log("\u{1F535} ProductActions: Dialog state set to true");
  };
  const handleEditProduct = (product) => {
    setEditingProduct(product);
    setIsAddDialogOpen(true);
  };
  const handleDialogClose = () => {
    setIsAddDialogOpen(false);
    setEditingProduct(null);
  };
  const handleSuccess = (product) => {
    if (editingProduct) {
      onProductUpdated?.(product);
    } else {
      onProductCreated?.(product);
    }
    setIsAddDialogOpen(false);
  };
  const handleError = (error2) => {
    onError?.(error2);
  };
  const allActions = [
    {
      id: "add-product",
      label: "Add Product",
      description: "Create a new product",
      icon: "\u2795",
      variant: "default",
      onClick: handleAddProduct,
      roles: canManageProducts ? ["ALL"] : []
      // Use permission check
    },
    {
      id: "import-products",
      label: "Import Products",
      description: "Import from CSV/Excel",
      icon: "\u{1F4E5}",
      variant: "secondary",
      onClick: () => onAction("import-products"),
      roles: canManageProducts ? ["ALL"] : []
      // Use permission check
    },
    {
      id: "export-products",
      label: "Export Products",
      description: "Export to CSV/Excel",
      icon: "\u{1F4E4}",
      variant: "outline",
      onClick: () => onAction("export-products"),
      roles: ["ALL"]
      // All roles can export
    },
    {
      id: "bulk-edit",
      label: "Bulk Edit",
      description: "Edit multiple products",
      icon: "\u270F\uFE0F",
      variant: "outline",
      onClick: () => onAction("bulk-edit"),
      roles: canManageProducts ? ["ALL"] : []
      // Use permission check
    },
    {
      id: "manage-categories",
      label: "Manage Categories",
      description: "Organize product categories",
      icon: "\u{1F3F7}\uFE0F",
      variant: "outline",
      onClick: () => onAction("manage-categories"),
      roles: canManageCategories ? ["ALL"] : []
      // Use permission check
    },
    {
      id: "inventory-check",
      label: "Inventory Check",
      description: "Perform stock count",
      icon: "\u{1F50D}",
      variant: "outline",
      onClick: () => onAction("inventory-check"),
      roles: ["ADMIN", "MERCHANT", "OUTLET_ADMIN", "OUTLET_STAFF"]
      // All roles can do inventory check
    }
  ];
  const actions = allActions.filter(
    (action) => !action.roles || action.roles.length > 0
  ).map(({ roles, ...action }) => action);
  return /* @__PURE__ */ (0, import_jsx_runtime79.jsxs)(import_jsx_runtime79.Fragment, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime79.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime79.jsx)(CardContent2, { className: "p-4", children: /* @__PURE__ */ (0, import_jsx_runtime79.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3", children: actions.map((action) => /* @__PURE__ */ (0, import_jsx_runtime79.jsx)(
      Button,
      {
        variant: action.variant,
        className: "h-auto p-3 flex flex-col items-start space-y-2 text-left",
        onClick: action.onClick,
        children: /* @__PURE__ */ (0, import_jsx_runtime79.jsxs)("div", { className: "flex items-center space-x-2 w-full", children: [
          /* @__PURE__ */ (0, import_jsx_runtime79.jsx)("span", { className: "text-lg", children: action.icon }),
          /* @__PURE__ */ (0, import_jsx_runtime79.jsxs)("div", { className: "flex-1", children: [
            /* @__PURE__ */ (0, import_jsx_runtime79.jsx)("div", { className: "font-medium text-sm", children: action.label }),
            /* @__PURE__ */ (0, import_jsx_runtime79.jsx)("div", { className: "text-xs opacity-80", children: action.description })
          ] })
        ] })
      },
      action.id
    )) }) }) }),
    /* @__PURE__ */ (0, import_jsx_runtime79.jsx)(
      ProductAddDialog,
      {
        open: isAddDialogOpen,
        onOpenChange: setIsAddDialogOpen,
        categories,
        outlets,
        merchantId: String(merchantId),
        onProductCreated,
        onError
      }
    )
  ] });
}

// src/components/features/Products/components/ProductsLoading.tsx
var import_jsx_runtime80 = require("react/jsx-runtime");
function ProductsLoading() {
  return /* @__PURE__ */ (0, import_jsx_runtime80.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime80.jsx)(StatsSkeleton, {}),
    /* @__PURE__ */ (0, import_jsx_runtime80.jsx)(SearchSkeleton, {}),
    /* @__PURE__ */ (0, import_jsx_runtime80.jsx)(GridSkeleton, { items: 9 }),
    /* @__PURE__ */ (0, import_jsx_runtime80.jsx)(PaginationSkeleton, {})
  ] });
}
function ProductDetailLoading() {
  return /* @__PURE__ */ (0, import_jsx_runtime80.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime80.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime80.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime80.jsx)("div", { className: "h-8 w-48 bg-gray-200 rounded animate-pulse" }),
        /* @__PURE__ */ (0, import_jsx_runtime80.jsx)("div", { className: "h-4 w-32 bg-gray-200 rounded animate-pulse" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime80.jsxs)("div", { className: "flex gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime80.jsx)("div", { className: "h-10 w-24 bg-gray-200 rounded animate-pulse" }),
        /* @__PURE__ */ (0, import_jsx_runtime80.jsx)("div", { className: "h-10 w-24 bg-gray-200 rounded animate-pulse" })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime80.jsxs)("div", { className: "grid grid-cols-1 lg:grid-cols-3 gap-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime80.jsx)("div", { className: "lg:col-span-1", children: /* @__PURE__ */ (0, import_jsx_runtime80.jsx)("div", { className: "aspect-square w-full bg-gray-200 rounded-lg animate-pulse" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime80.jsxs)("div", { className: "lg:col-span-2 space-y-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime80.jsxs)("div", { className: "space-y-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime80.jsx)("div", { className: "h-6 w-24 bg-gray-200 rounded animate-pulse" }),
          /* @__PURE__ */ (0, import_jsx_runtime80.jsx)("div", { className: "space-y-2", children: Array.from({ length: 6 }).map((_, i) => /* @__PURE__ */ (0, import_jsx_runtime80.jsx)("div", { className: "h-4 w-full bg-gray-200 rounded animate-pulse" }, i)) })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime80.jsxs)("div", { className: "space-y-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime80.jsx)("div", { className: "h-6 w-24 bg-gray-200 rounded animate-pulse" }),
          /* @__PURE__ */ (0, import_jsx_runtime80.jsx)("div", { className: "grid grid-cols-2 gap-4", children: Array.from({ length: 4 }).map((_, i) => /* @__PURE__ */ (0, import_jsx_runtime80.jsx)("div", { className: "h-4 w-full bg-gray-200 rounded animate-pulse" }, i)) })
        ] })
      ] })
    ] })
  ] });
}

// src/components/features/Products/components/ProductDetailList.tsx
var import_react37 = require("react");
var import_navigation3 = require("next/navigation");

// src/lib/index.ts
var import_utils20 = require("@rentalshop/utils");

// src/components/features/Products/components/ProductDetailList.tsx
var import_jsx_runtime81 = require("react/jsx-runtime");
var ProductDetailList = ({
  product,
  onEdit,
  onViewOrders,
  showActions = true,
  isMerchantAccount = false,
  className = ""
}) => {
  const router = (0, import_navigation3.useRouter)();
  const [selectedImage, setSelectedImage] = (0, import_react37.useState)(
    product.images && product.images.length > 0 ? product.images[0] : null
  );
  const handleImageError = (e) => {
    e.currentTarget.style.display = "none";
  };
  const totalAvailable = product.outletStock.reduce((sum, os) => sum + os.available, 0);
  const totalRenting = product.outletStock.reduce((sum, os) => sum + os.renting, 0);
  const totalStock = product.outletStock.reduce((sum, os) => sum + os.stock, 0);
  return /* @__PURE__ */ (0, import_jsx_runtime81.jsxs)("div", { className: `space-y-6 ${className}`, children: [
    /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("div", { className: "bg-white border border-gray-200 rounded-lg p-8", children: /* @__PURE__ */ (0, import_jsx_runtime81.jsxs)("div", { className: "flex items-start justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime81.jsxs)("div", { className: "flex-1", children: [
        /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("h1", { className: "text-3xl font-semibold text-gray-900 mb-2", children: product.name }),
        /* @__PURE__ */ (0, import_jsx_runtime81.jsxs)("div", { className: "flex items-center space-x-4 text-sm text-gray-600 mb-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime81.jsxs)("span", { children: [
            "ID: ",
            product.id
          ] }),
          product.barcode && /* @__PURE__ */ (0, import_jsx_runtime81.jsxs)("span", { children: [
            "Barcode: ",
            product.barcode
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime81.jsxs)("span", { children: [
            "Category: ",
            product.category?.name || "Uncategorized"
          ] })
        ] }),
        product.description && /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("div", { className: "mb-6", children: /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("p", { className: "text-gray-700", children: product.description }) }),
        /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("div", { className: "grid grid-cols-1 gap-4 text-sm mb-4", children: /* @__PURE__ */ (0, import_jsx_runtime81.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("span", { className: "text-gray-500", children: "Merchant:" }),
          /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("span", { className: "ml-2 text-gray-900", children: product.merchant?.name || "Unknown" })
        ] }) }),
        /* @__PURE__ */ (0, import_jsx_runtime81.jsxs)("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-4 text-sm", children: [
          /* @__PURE__ */ (0, import_jsx_runtime81.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("span", { className: "text-gray-500", children: "Created:" }),
            /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("span", { className: "ml-2 text-gray-900", children: formatDate(product.createdAt) })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime81.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("span", { className: "text-gray-500", children: "Updated:" }),
            /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("span", { className: "ml-2 text-gray-900", children: formatDate(product.updatedAt) })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime81.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("span", { className: "text-gray-500", children: "Total Outlet Stock:" }),
            /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("span", { className: "ml-2 text-gray-900", children: totalStock })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime81.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("span", { className: "text-gray-500", children: "Total Available:" }),
            /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("span", { className: "ml-2 text-gray-900", children: totalAvailable })
          ] })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime81.jsxs)("div", { className: "ml-8 text-right", children: [
        /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("div", { className: "text-3xl font-bold text-gray-900 mb-2", children: (0, import_utils20.formatCurrency)(product.rentPrice) }),
        /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("div", { className: "text-sm text-gray-600 mb-1", children: "Rent Price" }),
        product.salePrice && product.salePrice > 0 && /* @__PURE__ */ (0, import_jsx_runtime81.jsxs)("div", { className: "mt-3", children: [
          /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("div", { className: "text-base font-medium text-green-600", children: (0, import_utils20.formatCurrency)(product.salePrice) }),
          /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("div", { className: "text-sm text-gray-600", children: "Sale Price" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime81.jsxs)("div", { className: "mt-3", children: [
          /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("div", { className: "text-lg font-medium text-gray-900", children: (0, import_utils20.formatCurrency)(product.deposit) }),
          /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("div", { className: "text-sm text-gray-600", children: "Deposit" })
        ] })
      ] })
    ] }) }),
    isMerchantAccount && /* @__PURE__ */ (0, import_jsx_runtime81.jsxs)("div", { className: "bg-white border border-gray-200 rounded-lg", children: [
      /* @__PURE__ */ (0, import_jsx_runtime81.jsxs)("div", { className: "px-6 py-4 border-b border-gray-200", children: [
        /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("h2", { className: "text-lg font-semibold text-gray-900", children: "Outlet Stock Distribution" }),
        /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("p", { className: "text-sm text-gray-600 mt-1", children: "Stock allocation across different outlets" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("div", { className: "p-6", children: product.outletStock && product.outletStock.length > 0 ? product.outletStock.map((outletStock, index) => /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("div", { className: `${index > 0 ? "border-t border-gray-100 pt-6 mt-6" : ""}`, children: /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("div", { className: "mb-4", children: /* @__PURE__ */ (0, import_jsx_runtime81.jsxs)("div", { className: "flex items-center justify-between", children: [
        /* @__PURE__ */ (0, import_jsx_runtime81.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("h3", { className: "text-lg font-medium text-gray-900", children: outletStock.outlet?.name || "Unknown Outlet" }),
          outletStock.outlet?.address ? /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("p", { className: "text-sm text-gray-600 mt-1", children: outletStock.outlet.address }) : /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("p", { className: "text-sm text-gray-400 mt-1 italic", children: "No address available" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime81.jsxs)("div", { className: "flex items-center space-x-10", children: [
          /* @__PURE__ */ (0, import_jsx_runtime81.jsxs)("div", { className: "text-center min-w-[60px]", children: [
            /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("div", { className: "text-lg font-bold text-gray-900", children: outletStock.stock }),
            /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("div", { className: "text-xs text-gray-600", children: "Total" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime81.jsxs)("div", { className: "text-center min-w-[60px]", children: [
            /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("div", { className: "text-lg font-bold text-blue-600", children: outletStock.available }),
            /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("div", { className: "text-xs text-blue-600", children: "Available" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime81.jsxs)("div", { className: "text-center min-w-[60px]", children: [
            /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("div", { className: "text-lg font-bold text-green-600", children: outletStock.renting }),
            /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("div", { className: "text-xs text-green-600", children: "Renting" })
          ] })
        ] })
      ] }) }) }, outletStock.outlet?.id || outletStock.id || index)) : /* @__PURE__ */ (0, import_jsx_runtime81.jsxs)("div", { className: "text-center py-8", children: [
        /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("div", { className: "text-gray-500 mb-2", children: "No outlet stock information available" }),
        /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("div", { className: "text-sm text-gray-400", children: "This product may not be assigned to any outlets yet." })
      ] }) })
    ] }),
    product.images && /* @__PURE__ */ (0, import_jsx_runtime81.jsxs)("div", { className: "bg-white border border-gray-200 rounded-lg", children: [
      /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("div", { className: "px-6 py-4 border-b border-gray-200", children: /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("h2", { className: "text-lg font-semibold text-gray-900", children: "Images" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime81.jsxs)("div", { className: "p-6", children: [
        selectedImage && /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("div", { className: "mb-6", children: /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("div", { className: "aspect-video bg-gray-100 rounded-lg overflow-hidden", children: /* @__PURE__ */ (0, import_jsx_runtime81.jsx)(
          "img",
          {
            src: selectedImage,
            alt: product.name,
            className: "w-full h-full object-cover",
            onError: handleImageError
          }
        ) }) }),
        /* @__PURE__ */ (0, import_jsx_runtime81.jsx)("div", { className: "grid grid-cols-4 md:grid-cols-6 gap-3", children: (() => {
          try {
            const imageArray = typeof product.images === "string" ? JSON.parse(product.images) : product.images;
            if (Array.isArray(imageArray) && imageArray.length > 0) {
              return imageArray.map((image, index) => /* @__PURE__ */ (0, import_jsx_runtime81.jsx)(
                Button,
                {
                  variant: "outline",
                  onClick: () => setSelectedImage(image),
                  className: `aspect-square rounded-lg overflow-hidden border-2 transition-colors p-0 h-auto ${selectedImage === image ? "border-blue-500" : "border-gray-200 hover:border-gray-300"}`,
                  children: /* @__PURE__ */ (0, import_jsx_runtime81.jsx)(
                    "img",
                    {
                      src: image,
                      alt: `${product.name} ${index + 1}`,
                      className: "w-full h-full object-cover",
                      onError: handleImageError
                    }
                  )
                },
                index
              ));
            }
            return null;
          } catch (error2) {
            return null;
          }
        })() })
      ] })
    ] })
  ] });
};

// src/components/features/Products/components/ProductDetailMultiLayout.tsx
var import_jsx_runtime82 = require("react/jsx-runtime");
var ProductDetailMultiLayout = ({
  product,
  onEdit,
  onViewOrders,
  showActions = true,
  isMerchantAccount = false,
  className = ""
}) => {
  return /* @__PURE__ */ (0, import_jsx_runtime82.jsx)(
    ProductDetailList,
    {
      product,
      onEdit,
      onViewOrders,
      showActions,
      isMerchantAccount,
      className
    }
  );
};

// src/components/features/Products/components/ProductEdit.tsx
var import_react38 = require("react");
var import_ui26 = require("@rentalshop/ui");
var import_ui27 = require("@rentalshop/ui");
var import_lucide_react31 = require("lucide-react");
var import_jsx_runtime83 = require("react/jsx-runtime");
var ProductEdit = ({
  product,
  categories,
  outlets,
  merchantId,
  onSave,
  onCancel,
  onBack
}) => {
  const [isSubmitting, setIsSubmitting] = (0, import_react38.useState)(false);
  const { toastSuccess, toastError } = (0, import_ui27.useToast)();
  (0, import_react38.useEffect)(() => {
    console.log("\u{1F50D} ProductEdit - product data:", product);
    console.log("\u{1F50D} ProductEdit - product.category:", product.category);
    console.log("\u{1F50D} ProductEdit - product.outletStock:", product.outletStock);
    console.log("\u{1F50D} ProductEdit - outlets:", outlets);
  }, [product, outlets]);
  const initialFormData = {
    name: product.name,
    description: product.description || "",
    barcode: product.barcode || "",
    categoryId: product.category?.id || product.categoryId,
    rentPrice: product.rentPrice,
    salePrice: product.salePrice || 0,
    // Use actual salePrice if available, default to 0
    deposit: product.deposit,
    totalStock: (() => {
      const total = outlets.reduce((sum, outlet) => {
        const existingStock = product.outletStock.find((os) => os.outlet?.id === outlet.id)?.stock || 0;
        return sum + existingStock;
      }, 0);
      console.log("\u{1F50D} ProductEdit - calculated totalStock:", total, "from all outlets:", outlets.length);
      return total;
    })(),
    images: (() => {
      console.log("\u{1F50D} ProductEdit - product.images:", product.images);
      console.log("\u{1F50D} ProductEdit - typeof product.images:", typeof product.images);
      console.log("\u{1F50D} ProductEdit - Array.isArray(product.images):", Array.isArray(product.images));
      return Array.isArray(product.images) ? product.images : [];
    })(),
    isActive: product.isActive,
    outletStock: (() => {
      console.log("\u{1F50D} ProductEdit - product.outletStock:", product.outletStock);
      console.log("\u{1F50D} ProductEdit - available outlets:", outlets);
      const existingStockMap = /* @__PURE__ */ new Map();
      product.outletStock.forEach((os) => {
        const outletId = os.outlet?.id || 0;
        if (outletId > 0) {
          existingStockMap.set(outletId, os.stock || 0);
        }
      });
      const allOutletStock = outlets.map((outlet) => {
        const existingStock = existingStockMap.get(outlet.id) || 0;
        const mapped = {
          outletId: outlet.id,
          stock: existingStock
        };
        console.log(`\u{1F50D} ProductEdit - outlet ${outlet.name} (ID: ${outlet.id}): existing stock = ${existingStock}`);
        return mapped;
      });
      console.log("\u{1F50D} ProductEdit - final mapped outletStock (all outlets):", allOutletStock);
      return allOutletStock;
    })(),
    sku: product.barcode || ""
  };
  const handleSubmit = async (data) => {
    setIsSubmitting(true);
    try {
      await onSave(data);
    } catch (err) {
      error("Error", err instanceof Error ? err.message : "Failed to update product");
    } finally {
      setIsSubmitting(false);
    }
  };
  const handleCancel = () => {
    if (isSubmitting)
      return;
    onCancel();
  };
  return /* @__PURE__ */ (0, import_jsx_runtime83.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime83.jsx)(
      ProductForm,
      {
        initialData: initialFormData,
        categories,
        outlets,
        onSubmit: handleSubmit,
        onCancel: handleCancel,
        loading: isSubmitting,
        mode: "edit",
        merchantId,
        hideHeader: true,
        hideSubmitButton: true,
        formId: "product-form"
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime83.jsxs)("div", { className: "flex justify-end space-x-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime83.jsx)(import_ui26.Button, { variant: "outline", onClick: handleCancel, disabled: isSubmitting, children: "Cancel" }),
      /* @__PURE__ */ (0, import_jsx_runtime83.jsx)(
        import_ui26.Button,
        {
          type: "submit",
          form: "product-form",
          disabled: isSubmitting,
          className: "min-w-[120px]",
          children: isSubmitting ? /* @__PURE__ */ (0, import_jsx_runtime83.jsxs)(import_jsx_runtime83.Fragment, { children: [
            /* @__PURE__ */ (0, import_jsx_runtime83.jsx)(import_lucide_react31.Loader2, { className: "h-4 w-4 mr-2 animate-spin" }),
            "Updating..."
          ] }) : /* @__PURE__ */ (0, import_jsx_runtime83.jsxs)(import_jsx_runtime83.Fragment, { children: [
            /* @__PURE__ */ (0, import_jsx_runtime83.jsx)(import_lucide_react31.Save, { className: "h-4 w-4 mr-2" }),
            "Update Product"
          ] })
        }
      )
    ] })
  ] });
};

// src/components/features/Products/components/ProductOrdersView.tsx
var import_react42 = require("react");
var import_lucide_react33 = require("lucide-react");

// src/components/features/Orders/components/OrderHeader.tsx
var import_react39 = __toESM(require("react"));
var import_ui28 = require("@rentalshop/ui");
var import_jsx_runtime84 = require("react/jsx-runtime");
var OrderHeader = import_react39.default.memo(function OrderHeader2({ totalOrders, stats, showStats = true }) {
  console.log("OrderHeader received stats:", stats);
  console.log("OrderHeader received totalOrders:", totalOrders);
  const formatCurrency20 = (amount) => {
    return new Intl.NumberFormat("en-US", {
      style: "currency",
      currency: "USD",
      minimumFractionDigits: 0,
      maximumFractionDigits: 0
    }).format(amount ?? 0);
  };
  const safeStats = {
    totalOrders: stats?.totalOrders ?? 0,
    totalRevenue: stats?.totalRevenue ?? 0,
    totalDeposits: stats?.totalDeposits ?? 0,
    activeRentals: stats?.activeRentals ?? 0,
    overdueRentals: stats?.overdueRentals ?? 0,
    completedOrders: stats?.completedOrders ?? 0,
    cancelledOrders: stats?.cancelledOrders ?? 0,
    averageOrderValue: stats?.averageOrderValue ?? 0
  };
  if (!showStats) {
    return null;
  }
  return /* @__PURE__ */ (0, import_jsx_runtime84.jsx)("div", { className: "space-y-6", children: /* @__PURE__ */ (0, import_jsx_runtime84.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4", children: [
    /* @__PURE__ */ (0, import_jsx_runtime84.jsxs)(import_ui28.Card, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime84.jsx)(import_ui28.CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: /* @__PURE__ */ (0, import_jsx_runtime84.jsx)(import_ui28.CardTitle, { className: "text-sm font-medium text-gray-600 dark:text-gray-400", children: "Total Orders" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime84.jsxs)(import_ui28.CardContent, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime84.jsx)("div", { className: "text-2xl font-bold text-gray-900 dark:text-white", children: (safeStats.totalOrders || 0).toLocaleString() }),
        /* @__PURE__ */ (0, import_jsx_runtime84.jsx)("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "All time orders" })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime84.jsxs)(import_ui28.Card, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime84.jsx)(import_ui28.CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: /* @__PURE__ */ (0, import_jsx_runtime84.jsx)(import_ui28.CardTitle, { className: "text-sm font-medium text-gray-600 dark:text-gray-400", children: "Active Rentals" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime84.jsxs)(import_ui28.CardContent, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime84.jsx)("div", { className: "text-2xl font-bold text-blue-600 dark:text-blue-400", children: (safeStats.activeRentals || 0).toLocaleString() }),
        /* @__PURE__ */ (0, import_jsx_runtime84.jsx)("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Currently pickuped" })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime84.jsxs)(import_ui28.Card, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime84.jsx)(import_ui28.CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: /* @__PURE__ */ (0, import_jsx_runtime84.jsx)(import_ui28.CardTitle, { className: "text-sm font-medium text-gray-600 dark:text-gray-400", children: "Total Revenue" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime84.jsxs)(import_ui28.CardContent, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime84.jsx)("div", { className: "text-2xl font-bold text-green-600 dark:text-green-400", children: formatCurrency20(safeStats.totalRevenue || 0) }),
        /* @__PURE__ */ (0, import_jsx_runtime84.jsx)("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Lifetime revenue" })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime84.jsxs)(import_ui28.Card, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime84.jsx)(import_ui28.CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: /* @__PURE__ */ (0, import_jsx_runtime84.jsx)(import_ui28.CardTitle, { className: "text-sm font-medium text-gray-600 dark:text-gray-400", children: "Completed Orders" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime84.jsxs)(import_ui28.CardContent, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime84.jsx)("div", { className: "text-2xl font-bold text-purple-600 dark:text-purple-400", children: (safeStats.completedOrders || 0).toLocaleString() }),
        /* @__PURE__ */ (0, import_jsx_runtime84.jsxs)("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: [
          formatCurrency20(safeStats.averageOrderValue || 0),
          " avg order"
        ] })
      ] })
    ] })
  ] }) });
});

// src/components/features/Orders/components/OrderFilters.tsx
var import_react40 = __toESM(require("react"));
var import_ui29 = require("@rentalshop/ui");
var import_ui30 = require("@rentalshop/ui");
var import_ui31 = require("@rentalshop/ui");
var import_utils21 = require("@rentalshop/utils");
var import_constants10 = require("@rentalshop/constants");
var import_jsx_runtime85 = require("react/jsx-runtime");
var OrderFilters = import_react40.default.memo(function OrderFilters2({
  filters,
  onFiltersChange,
  onSearchChange,
  onClearFilters
}) {
  const [localSearch, setLocalSearch] = (0, import_react40.useState)(filters.search || "");
  const [outlets, setOutlets] = (0, import_react40.useState)([]);
  const [loadingOutlets, setLoadingOutlets] = (0, import_react40.useState)(false);
  const [outletError, setOutletError] = (0, import_react40.useState)(null);
  (0, import_react40.useEffect)(() => {
    const externalSearch = filters.search || "";
    if (externalSearch !== localSearch) {
      console.log("\u{1F504} OrderFilters: Syncing search from external:", externalSearch);
      setLocalSearch(externalSearch);
    }
  }, [filters.search]);
  (0, import_react40.useEffect)(() => {
    const fetchOutlets = async () => {
      try {
        setLoadingOutlets(true);
        setOutletError(null);
        const result = await import_utils21.outletsApi.getOutlets();
        if (result.success && result.data?.outlets) {
          setOutlets(result.data.outlets);
        } else {
          setOutletError("Failed to load outlets");
          setOutlets([]);
        }
      } catch (error2) {
        console.error("Error fetching outlets:", error2);
        setOutletError("Failed to load outlets");
        setOutlets([]);
      } finally {
        setLoadingOutlets(false);
      }
    };
    fetchOutlets();
  }, []);
  const handleSearchInput = (value) => {
    console.log("\u2328\uFE0F OrderFilters: Search input changed:", value);
    setLocalSearch(value);
    onSearchChange(value);
  };
  const handleFilterChange = (key, value) => {
    onFiltersChange({
      ...filters,
      [key]: value
    });
  };
  return /* @__PURE__ */ (0, import_jsx_runtime85.jsx)(import_ui31.Card, { className: "shadow-sm border border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ (0, import_jsx_runtime85.jsx)(import_ui31.CardContent, { className: "pt-6 space-y-6", children: /* @__PURE__ */ (0, import_jsx_runtime85.jsx)("div", { className: "space-y-4", children: /* @__PURE__ */ (0, import_jsx_runtime85.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime85.jsxs)("div", { className: "space-y-3", children: [
      /* @__PURE__ */ (0, import_jsx_runtime85.jsx)("label", { className: "text-sm font-medium text-gray-700 dark:text-gray-300", children: "Search Orders" }),
      /* @__PURE__ */ (0, import_jsx_runtime85.jsxs)("div", { className: "relative", children: [
        /* @__PURE__ */ (0, import_jsx_runtime85.jsx)(
          import_ui29.Input,
          {
            placeholder: "Order #, customer name...",
            value: localSearch,
            onChange: (e) => handleSearchInput(e.target.value),
            className: "pl-10 pr-4 py-3 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 dark:border-gray-600 dark:focus:border-blue-400 dark:focus:ring-blue-400/20 transition-all duration-200"
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime85.jsx)(
          "svg",
          {
            className: "absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400",
            fill: "none",
            stroke: "currentColor",
            viewBox: "0 0 24 24",
            children: /* @__PURE__ */ (0, import_jsx_runtime85.jsx)(
              "path",
              {
                strokeLinecap: "round",
                strokeLinejoin: "round",
                strokeWidth: 2,
                d: "M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
              }
            )
          }
        )
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime85.jsxs)("div", { className: "space-y-3", children: [
      /* @__PURE__ */ (0, import_jsx_runtime85.jsx)("label", { className: "text-sm font-medium text-gray-700 dark:text-gray-300", children: "Status" }),
      /* @__PURE__ */ (0, import_jsx_runtime85.jsxs)(
        import_ui30.Select,
        {
          value: filters.status || "all",
          onValueChange: (value) => handleFilterChange("status", value === "all" ? void 0 : value),
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime85.jsx)(import_ui30.SelectTrigger, { className: "py-3 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 dark:border-gray-600 dark:focus:border-blue-400 dark:focus:ring-blue-400/20 transition-all duration-200", children: /* @__PURE__ */ (0, import_jsx_runtime85.jsx)(import_ui30.SelectValue, { placeholder: "All Status" }) }),
            /* @__PURE__ */ (0, import_jsx_runtime85.jsxs)(import_ui30.SelectContent, { children: [
              /* @__PURE__ */ (0, import_jsx_runtime85.jsx)(import_ui30.SelectItem, { value: "all", className: "font-medium", children: "All Status" }),
              /* @__PURE__ */ (0, import_jsx_runtime85.jsx)(import_ui30.SelectItem, { value: import_constants10.ORDER_STATUS.RESERVED, children: "Reserved" }),
              /* @__PURE__ */ (0, import_jsx_runtime85.jsx)(import_ui30.SelectItem, { value: import_constants10.ORDER_STATUS.PICKUPED, children: "Picked Up" }),
              /* @__PURE__ */ (0, import_jsx_runtime85.jsx)(import_ui30.SelectItem, { value: import_constants10.ORDER_STATUS.RETURNED, children: "Returned" }),
              /* @__PURE__ */ (0, import_jsx_runtime85.jsx)(import_ui30.SelectItem, { value: import_constants10.ORDER_STATUS.COMPLETED, children: "Completed" }),
              /* @__PURE__ */ (0, import_jsx_runtime85.jsx)(import_ui30.SelectItem, { value: import_constants10.ORDER_STATUS.CANCELLED, children: "Cancelled" })
            ] })
          ]
        }
      )
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime85.jsxs)("div", { className: "space-y-3", children: [
      /* @__PURE__ */ (0, import_jsx_runtime85.jsx)("label", { className: "text-sm font-medium text-gray-700 dark:text-gray-300", children: "Order Type" }),
      /* @__PURE__ */ (0, import_jsx_runtime85.jsxs)(
        import_ui30.Select,
        {
          value: filters.orderType || "all",
          onValueChange: (value) => handleFilterChange("orderType", value === "all" ? void 0 : value),
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime85.jsx)(import_ui30.SelectTrigger, { className: "py-3 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 dark:border-gray-600 dark:focus:border-blue-400 dark:focus:ring-blue-400/20 transition-all duration-200", children: /* @__PURE__ */ (0, import_jsx_runtime85.jsx)(import_ui30.SelectValue, { placeholder: "All Types" }) }),
            /* @__PURE__ */ (0, import_jsx_runtime85.jsxs)(import_ui30.SelectContent, { children: [
              /* @__PURE__ */ (0, import_jsx_runtime85.jsx)(import_ui30.SelectItem, { value: "all", className: "font-medium", children: "All Types" }),
              /* @__PURE__ */ (0, import_jsx_runtime85.jsx)(import_ui30.SelectItem, { value: import_constants10.ORDER_TYPE.RENT, children: "Rental" }),
              /* @__PURE__ */ (0, import_jsx_runtime85.jsx)(import_ui30.SelectItem, { value: import_constants10.ORDER_TYPE.SALE, children: "Sale" })
            ] })
          ]
        }
      )
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime85.jsxs)("div", { className: "space-y-3", children: [
      /* @__PURE__ */ (0, import_jsx_runtime85.jsxs)("div", { className: "flex items-center justify-between", children: [
        /* @__PURE__ */ (0, import_jsx_runtime85.jsx)("label", { className: "text-sm font-medium text-gray-700 dark:text-gray-300", children: "Outlet" }),
        filters.outletId && /* @__PURE__ */ (0, import_jsx_runtime85.jsx)(
          import_ui29.Button,
          {
            variant: "link",
            onClick: () => handleFilterChange("outletId", void 0),
            className: "text-xs text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 font-medium hover:underline p-0 h-auto",
            children: "\xD7 Clear"
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime85.jsxs)(
        import_ui30.Select,
        {
          value: filters.outletId ? filters.outletId.toString() : "all",
          onValueChange: (value) => {
            const newValue = value === "all" ? void 0 : parseInt(value);
            handleFilterChange("outletId", newValue);
          },
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime85.jsx)(import_ui30.SelectTrigger, { className: "py-3 border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 dark:border-gray-600 dark:focus:border-blue-400 dark:focus:ring-blue-400/20 transition-all duration-200", children: /* @__PURE__ */ (0, import_jsx_runtime85.jsx)(import_ui30.SelectValue, { placeholder: "All Outlets" }) }),
            /* @__PURE__ */ (0, import_jsx_runtime85.jsxs)(import_ui30.SelectContent, { children: [
              /* @__PURE__ */ (0, import_jsx_runtime85.jsx)(import_ui30.SelectItem, { value: "all", className: "font-medium", children: "All Outlets" }),
              loadingOutlets ? /* @__PURE__ */ (0, import_jsx_runtime85.jsx)(import_ui30.SelectItem, { value: "loading", disabled: true, children: "Loading outlets..." }) : outletError ? /* @__PURE__ */ (0, import_jsx_runtime85.jsx)(import_ui30.SelectItem, { value: "error", disabled: true, className: "text-red-500", children: "Error loading outlets" }) : outlets.length === 0 ? /* @__PURE__ */ (0, import_jsx_runtime85.jsx)(import_ui30.SelectItem, { value: "none", disabled: true, className: "text-gray-500", children: "No outlets available" }) : outlets.map((outlet) => /* @__PURE__ */ (0, import_jsx_runtime85.jsx)(import_ui30.SelectItem, { value: outlet.id.toString(), children: outlet.name }, outlet.id))
            ] })
          ]
        }
      ),
      outletError && /* @__PURE__ */ (0, import_jsx_runtime85.jsx)("p", { className: "text-xs text-red-500 dark:text-red-400", children: outletError }),
      !loadingOutlets && !outletError && outlets.length === 0 && /* @__PURE__ */ (0, import_jsx_runtime85.jsx)("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "No outlets available for your role" })
    ] })
  ] }) }) }) });
});

// src/components/features/Orders/components/OrderTable.tsx
var import_react41 = __toESM(require("react"));
var import_lucide_react32 = require("lucide-react");
var import_jsx_runtime86 = require("react/jsx-runtime");
var OrderTable = import_react41.default.memo(function OrderTable2({
  orders,
  onOrderAction,
  sortBy = "createdAt",
  sortOrder = "desc",
  onSort
}) {
  import_react41.default.useEffect(() => {
    if (orders.length > 0) {
      console.log("\u{1F4CB} OrderTable - Order statuses:", orders.map((o) => ({
        orderNumber: o.orderNumber,
        status: o.status,
        canEdit: o.status === "RESERVED"
      })));
    }
  }, [orders]);
  if (orders.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime86.jsx)(Card2, { className: "shadow-sm border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ (0, import_jsx_runtime86.jsx)(CardContent2, { className: "text-center py-12", children: /* @__PURE__ */ (0, import_jsx_runtime86.jsxs)("div", { className: "text-gray-500 dark:text-gray-400", children: [
      /* @__PURE__ */ (0, import_jsx_runtime86.jsx)("div", { className: "text-4xl mb-4", children: "\u{1F4CB}" }),
      /* @__PURE__ */ (0, import_jsx_runtime86.jsx)("h3", { className: "text-lg font-medium mb-2", children: "No orders found" }),
      /* @__PURE__ */ (0, import_jsx_runtime86.jsx)("p", { className: "text-sm", children: "Try adjusting your filters or create some orders to get started." })
    ] }) }) });
  }
  const getStatusBadge = (status) => {
    const variants = {
      RESERVED: "bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",
      PICKUPED: "bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",
      RETURNED: "bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",
      COMPLETED: "bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",
      CANCELLED: "bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"
    };
    return /* @__PURE__ */ (0, import_jsx_runtime86.jsx)(Badge, { variant: "outline", className: variants[status], children: status });
  };
  const getOrderTypeBadge = (type) => {
    const variants = {
      RENT: "bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",
      SALE: "bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",
      RENT_TO_OWN: "bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"
    };
    return /* @__PURE__ */ (0, import_jsx_runtime86.jsx)(Badge, { variant: "outline", className: variants[type], children: type.replace("_", " ") });
  };
  const formatCurrency20 = (amount) => {
    return new Intl.NumberFormat("en-US", {
      style: "currency",
      currency: "USD",
      minimumFractionDigits: 2
    }).format(amount);
  };
  const formatDate11 = (dateString) => {
    if (!dateString)
      return "N/A";
    const date2 = typeof dateString === "string" ? new Date(dateString) : dateString;
    return date2.toLocaleDateString("en-US", {
      year: "numeric",
      month: "short",
      day: "numeric"
    });
  };
  const getOrderIcon = () => {
    return /* @__PURE__ */ (0, import_jsx_runtime86.jsx)("div", { className: "w-16 h-16 bg-blue-100 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800 flex items-center justify-center shadow-sm", children: /* @__PURE__ */ (0, import_jsx_runtime86.jsx)("svg", { className: "w-8 h-8 text-blue-600 dark:text-blue-400", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ (0, import_jsx_runtime86.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" }) }) });
  };
  const handleSort = (column) => {
    if (onSort) {
      onSort(column);
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime86.jsx)(Card2, { className: "shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col h-full", children: /* @__PURE__ */ (0, import_jsx_runtime86.jsx)("div", { className: "flex-1 overflow-auto", children: /* @__PURE__ */ (0, import_jsx_runtime86.jsxs)("table", { className: "w-full", children: [
    /* @__PURE__ */ (0, import_jsx_runtime86.jsx)("thead", { className: "bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-10", children: /* @__PURE__ */ (0, import_jsx_runtime86.jsxs)("tr", { children: [
      /* @__PURE__ */ (0, import_jsx_runtime86.jsx)(
        "th",
        {
          onClick: () => handleSort("orderNumber"),
          className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",
          children: /* @__PURE__ */ (0, import_jsx_runtime86.jsxs)("div", { className: "flex items-center gap-1", children: [
            "Order Number",
            sortBy === "orderNumber" && /* @__PURE__ */ (0, import_jsx_runtime86.jsx)("span", { className: "text-xs", children: sortOrder === "desc" ? "\u2193" : "\u2191" })
          ] })
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime86.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Type" }),
      /* @__PURE__ */ (0, import_jsx_runtime86.jsx)(
        "th",
        {
          onClick: () => handleSort("status"),
          className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",
          children: /* @__PURE__ */ (0, import_jsx_runtime86.jsxs)("div", { className: "flex items-center gap-1", children: [
            "Status",
            sortBy === "status" && /* @__PURE__ */ (0, import_jsx_runtime86.jsx)("span", { className: "text-xs", children: sortOrder === "desc" ? "\u2193" : "\u2191" })
          ] })
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime86.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Customer" }),
      /* @__PURE__ */ (0, import_jsx_runtime86.jsx)(
        "th",
        {
          onClick: () => handleSort("totalAmount"),
          className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",
          children: /* @__PURE__ */ (0, import_jsx_runtime86.jsxs)("div", { className: "flex items-center gap-1", children: [
            "Amount",
            sortBy === "totalAmount" && /* @__PURE__ */ (0, import_jsx_runtime86.jsx)("span", { className: "text-xs", children: sortOrder === "desc" ? "\u2193" : "\u2191" })
          ] })
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime86.jsx)(
        "th",
        {
          onClick: () => handleSort("pickupPlanAt"),
          className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",
          children: /* @__PURE__ */ (0, import_jsx_runtime86.jsxs)("div", { className: "flex items-center gap-1", children: [
            "Pickup Date",
            sortBy === "pickupPlanAt" && /* @__PURE__ */ (0, import_jsx_runtime86.jsx)("span", { className: "text-xs", children: sortOrder === "desc" ? "\u2193" : "\u2191" })
          ] })
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime86.jsx)(
        "th",
        {
          onClick: () => handleSort("createdAt"),
          className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",
          children: /* @__PURE__ */ (0, import_jsx_runtime86.jsxs)("div", { className: "flex items-center gap-1", children: [
            "Created",
            sortBy === "createdAt" && /* @__PURE__ */ (0, import_jsx_runtime86.jsx)("span", { className: "text-xs", children: sortOrder === "desc" ? "\u2193" : "\u2191" })
          ] })
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime86.jsx)("th", { className: "px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Actions" })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime86.jsx)("tbody", { className: "bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700", children: orders.map((order) => /* @__PURE__ */ (0, import_jsx_runtime86.jsxs)("tr", { className: "hover:bg-gray-50 dark:hover:bg-gray-800", children: [
      /* @__PURE__ */ (0, import_jsx_runtime86.jsx)("td", { className: "px-6 py-3 whitespace-nowrap", children: /* @__PURE__ */ (0, import_jsx_runtime86.jsx)("div", { className: "text-sm font-medium text-gray-900 dark:text-white", children: order.orderNumber }) }),
      /* @__PURE__ */ (0, import_jsx_runtime86.jsx)("td", { className: "px-6 py-3 whitespace-nowrap", children: getOrderTypeBadge(order.orderType) }),
      /* @__PURE__ */ (0, import_jsx_runtime86.jsx)("td", { className: "px-6 py-3 whitespace-nowrap", children: getStatusBadge(order.status) }),
      /* @__PURE__ */ (0, import_jsx_runtime86.jsx)("td", { className: "px-6 py-3", children: /* @__PURE__ */ (0, import_jsx_runtime86.jsxs)("div", { className: "text-sm", children: [
        /* @__PURE__ */ (0, import_jsx_runtime86.jsx)("div", { className: "font-medium text-gray-900 dark:text-white", children: order.customerName }),
        /* @__PURE__ */ (0, import_jsx_runtime86.jsx)("div", { className: "text-gray-500 dark:text-gray-400 text-xs", children: order.customerPhone })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime86.jsx)("td", { className: "px-6 py-3 whitespace-nowrap", children: /* @__PURE__ */ (0, import_jsx_runtime86.jsxs)("div", { className: "text-sm", children: [
        /* @__PURE__ */ (0, import_jsx_runtime86.jsx)("div", { className: "font-medium text-gray-900 dark:text-white", children: formatCurrency20(order.totalAmount) }),
        order.depositAmount > 0 && /* @__PURE__ */ (0, import_jsx_runtime86.jsxs)("div", { className: "text-gray-500 dark:text-gray-400 text-xs", children: [
          "Deposit: ",
          formatCurrency20(order.depositAmount)
        ] })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime86.jsxs)("td", { className: "px-6 py-3 whitespace-nowrap", children: [
        /* @__PURE__ */ (0, import_jsx_runtime86.jsx)("div", { className: "text-sm text-gray-900 dark:text-white", children: formatDate11(order.pickupPlanAt) }),
        order.returnPlanAt && /* @__PURE__ */ (0, import_jsx_runtime86.jsxs)("div", { className: "text-xs text-gray-500 dark:text-gray-400", children: [
          "Return: ",
          formatDate11(order.returnPlanAt)
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime86.jsx)("td", { className: "px-6 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400", children: formatDate11(order.createdAt) }),
      /* @__PURE__ */ (0, import_jsx_runtime86.jsx)("td", { className: "px-6 py-3 whitespace-nowrap text-right text-sm", children: /* @__PURE__ */ (0, import_jsx_runtime86.jsxs)("div", { className: "flex items-center justify-end gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime86.jsxs)(
          Button,
          {
            variant: "outline",
            size: "sm",
            onClick: () => onOrderAction("view", order.orderNumber),
            className: "h-8 px-3",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime86.jsx)(import_lucide_react32.Eye, { className: "h-4 w-4 mr-1" }),
              "View"
            ]
          }
        ),
        order.status === "RESERVED" && /* @__PURE__ */ (0, import_jsx_runtime86.jsxs)(
          Button,
          {
            variant: "outline",
            size: "sm",
            onClick: () => onOrderAction("edit", order.orderNumber),
            className: "h-8 px-3",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime86.jsx)(import_lucide_react32.Edit, { className: "h-4 w-4 mr-1" }),
              "Edit"
            ]
          }
        )
      ] }) })
    ] }, order.id)) })
  ] }) }) });
});

// src/components/features/Orders/components/OrderActions.tsx
var import_ui32 = require("@rentalshop/ui");
var import_ui33 = require("@rentalshop/ui");
var import_jsx_runtime87 = require("react/jsx-runtime");
function OrderActions({ onAction }) {
  const actions = [
    {
      id: "create-order",
      label: "Create Order",
      description: "Start a new rental or sale order",
      icon: "\u{1F4CB}",
      variant: "default"
    },
    {
      id: "import-orders",
      label: "Import Orders",
      description: "Import from CSV/Excel",
      icon: "\u{1F4E5}",
      variant: "secondary"
    },
    {
      id: "export-orders",
      label: "Export Orders",
      description: "Export to CSV/Excel",
      icon: "\u{1F4E4}",
      variant: "outline"
    },
    {
      id: "bulk-actions",
      label: "Bulk Actions",
      description: "Manage multiple orders",
      icon: "\u26A1",
      variant: "outline"
    },
    {
      id: "order-templates",
      label: "Order Templates",
      description: "Use predefined order templates",
      icon: "\u{1F4DD}",
      variant: "outline"
    },
    {
      id: "schedule-pickups",
      label: "Schedule Pickups",
      description: "Manage pickup schedules",
      icon: "\u{1F69A}",
      variant: "outline"
    }
  ];
  return /* @__PURE__ */ (0, import_jsx_runtime87.jsx)(import_ui33.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime87.jsx)(import_ui33.CardContent, { className: "p-4", children: /* @__PURE__ */ (0, import_jsx_runtime87.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3", children: actions.map((action) => /* @__PURE__ */ (0, import_jsx_runtime87.jsx)(
    import_ui32.Button,
    {
      variant: action.variant,
      className: "h-auto p-3 flex flex-col items-start space-y-2 text-left",
      onClick: () => onAction(action.id),
      children: /* @__PURE__ */ (0, import_jsx_runtime87.jsxs)("div", { className: "flex items-center space-x-2 w-full", children: [
        /* @__PURE__ */ (0, import_jsx_runtime87.jsx)("span", { className: "text-lg", children: action.icon }),
        /* @__PURE__ */ (0, import_jsx_runtime87.jsxs)("div", { className: "flex-1", children: [
          /* @__PURE__ */ (0, import_jsx_runtime87.jsx)("div", { className: "font-medium text-sm", children: action.label }),
          /* @__PURE__ */ (0, import_jsx_runtime87.jsx)("div", { className: "text-xs opacity-80", children: action.description })
        ] })
      ] })
    },
    action.id
  )) }) }) });
}

// src/components/features/Orders/components/OrderStats.tsx
var import_ui34 = require("@rentalshop/ui");
var import_ui35 = require("@rentalshop/ui");
var import_jsx_runtime88 = require("react/jsx-runtime");
function OrderStats({ stats }) {
  const formatCurrency20 = (amount) => {
    return new Intl.NumberFormat("en-US", {
      style: "currency",
      currency: "USD",
      minimumFractionDigits: 0,
      maximumFractionDigits: 0
    }).format(amount);
  };
  const getStatusDistribution = () => {
    const total = stats.totalOrders;
    if (total === 0)
      return [];
    const reservedOrders = Math.max(0, total - stats.activeRentals - stats.completedOrders - stats.cancelledOrders);
    return [
      { label: "Reserved", count: reservedOrders, percentage: reservedOrders / total * 100, color: "bg-red-500" },
      { label: "Pickuped", count: stats.activeRentals, percentage: stats.activeRentals / total * 100, color: "bg-orange-500" },
      { label: "Completed", count: stats.completedOrders, percentage: stats.completedOrders / total * 100, color: "bg-green-500" },
      { label: "Cancelled", count: stats.cancelledOrders, percentage: stats.cancelledOrders / total * 100, color: "bg-red-700" }
    ];
  };
  return /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)(import_ui34.Card, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)(import_ui34.CardHeader, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime88.jsx)(import_ui34.CardTitle, { children: "Order Status Distribution" }),
        /* @__PURE__ */ (0, import_jsx_runtime88.jsx)("p", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Breakdown of orders by current status" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime88.jsx)(import_ui34.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime88.jsx)("div", { className: "space-y-4", children: getStatusDistribution().map((status) => /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)("div", { className: "flex items-center justify-between", children: [
          /* @__PURE__ */ (0, import_jsx_runtime88.jsx)("span", { className: "text-sm font-medium text-gray-700 dark:text-gray-300", children: status.label }),
          /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)("div", { className: "flex items-center space-x-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)("span", { className: "text-sm text-gray-500 dark:text-gray-400", children: [
              status.count,
              " orders"
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)("span", { className: "text-sm font-medium", children: [
              status.percentage.toFixed(1),
              "%"
            ] })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime88.jsx)("div", { className: "w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2", children: /* @__PURE__ */ (0, import_jsx_runtime88.jsx)(
          "div",
          {
            className: `h-2 rounded-full ${status.color}`,
            style: { width: `${status.percentage}%` }
          }
        ) })
      ] }, status.label)) }) })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)(import_ui34.Card, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime88.jsx)(import_ui34.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime88.jsx)(import_ui34.CardTitle, { children: "Revenue Metrics" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime88.jsx)(import_ui34.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)("div", { className: "space-y-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)("div", { className: "flex items-center justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime88.jsx)("span", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Total Revenue" }),
            /* @__PURE__ */ (0, import_jsx_runtime88.jsx)("span", { className: "font-medium text-lg text-green-600 dark:text-green-400", children: formatCurrency20(stats.totalRevenue) })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)("div", { className: "flex items-center justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime88.jsx)("span", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Total Deposits" }),
            /* @__PURE__ */ (0, import_jsx_runtime88.jsx)("span", { className: "font-medium text-blue-600 dark:text-blue-400", children: formatCurrency20(stats.totalDeposits) })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)("div", { className: "flex items-center justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime88.jsx)("span", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Average Order Value" }),
            /* @__PURE__ */ (0, import_jsx_runtime88.jsx)("span", { className: "font-medium", children: formatCurrency20(stats.averageOrderValue) })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)("div", { className: "flex items-center justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime88.jsx)("span", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Overdue Rentals" }),
            /* @__PURE__ */ (0, import_jsx_runtime88.jsx)("div", { className: "flex items-center space-x-2", children: /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)(import_ui35.Badge, { variant: "outline", className: "bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200", children: [
              stats.overdueRentals,
              " orders"
            ] }) })
          ] })
        ] }) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)(import_ui34.Card, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime88.jsx)(import_ui34.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime88.jsx)(import_ui34.CardTitle, { children: "Order Volume" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime88.jsx)(import_ui34.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)("div", { className: "space-y-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)("div", { className: "flex items-center justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime88.jsx)("span", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Total Orders" }),
            /* @__PURE__ */ (0, import_jsx_runtime88.jsx)("span", { className: "font-medium text-lg", children: stats.totalOrders.toLocaleString() })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)("div", { className: "flex items-center justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime88.jsx)("span", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Active Rentals" }),
            /* @__PURE__ */ (0, import_jsx_runtime88.jsx)("div", { className: "flex items-center space-x-2", children: /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)(import_ui35.Badge, { variant: "outline", className: "bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200", children: [
              stats.activeRentals,
              " orders"
            ] }) })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)("div", { className: "flex items-center justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime88.jsx)("span", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Completed Orders" }),
            /* @__PURE__ */ (0, import_jsx_runtime88.jsx)("span", { className: "font-medium text-green-600 dark:text-green-400", children: stats.completedOrders })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)("div", { className: "flex items-center justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime88.jsx)("span", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Cancelled Orders" }),
            /* @__PURE__ */ (0, import_jsx_runtime88.jsx)("span", { className: "font-medium text-red-600 dark:text-red-400", children: stats.cancelledOrders })
          ] })
        ] }) })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)(import_ui34.Card, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime88.jsx)(import_ui34.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime88.jsx)(import_ui34.CardTitle, { children: "Performance Insights" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime88.jsx)(import_ui34.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)("div", { className: "text-center p-4 rounded-lg bg-gray-50 dark:bg-gray-800", children: [
          /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)("div", { className: "text-2xl font-bold text-orange-600 dark:text-orange-400", children: [
            stats.totalOrders > 0 ? (stats.activeRentals / stats.totalOrders * 100).toFixed(1) : 0,
            "%"
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime88.jsx)("div", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Active Rental Rate" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)("div", { className: "text-center p-4 rounded-lg bg-gray-50 dark:bg-gray-800", children: [
          /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)("div", { className: "text-2xl font-bold text-green-600 dark:text-green-400", children: [
            stats.totalOrders > 0 ? (stats.completedOrders / stats.totalOrders * 100).toFixed(1) : 0,
            "%"
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime88.jsx)("div", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Completion Rate" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)("div", { className: "text-center p-4 rounded-lg bg-gray-50 dark:bg-gray-800", children: [
          /* @__PURE__ */ (0, import_jsx_runtime88.jsxs)("div", { className: "text-2xl font-bold text-purple-600 dark:text-purple-400", children: [
            stats.totalOrders > 0 ? (stats.cancelledOrders / stats.totalOrders * 100).toFixed(1) : 0,
            "%"
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime88.jsx)("div", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Cancellation Rate" })
        ] })
      ] }) })
    ] })
  ] });
}

// src/components/features/Orders/components/OrderPagination.tsx
var import_ui36 = require("@rentalshop/ui");
var import_jsx_runtime89 = require("react/jsx-runtime");
function OrderPagination({
  currentPage,
  totalPages,
  total,
  onPageChange
}) {
  return /* @__PURE__ */ (0, import_jsx_runtime89.jsx)(
    import_ui36.Pagination,
    {
      currentPage,
      totalPages,
      total,
      limit: 20,
      onPageChange,
      itemName: "orders"
    }
  );
}

// src/components/features/Orders/components/OrdersLoading.tsx
var import_ui37 = require("@rentalshop/ui");
var import_jsx_runtime90 = require("react/jsx-runtime");
function OrdersLoading() {
  return /* @__PURE__ */ (0, import_jsx_runtime90.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime90.jsx)(import_ui37.StatsSkeleton, {}),
    /* @__PURE__ */ (0, import_jsx_runtime90.jsx)(import_ui37.SearchSkeleton, {}),
    /* @__PURE__ */ (0, import_jsx_runtime90.jsx)(import_ui37.TableSkeleton, { rows: 8, columns: 6 }),
    /* @__PURE__ */ (0, import_jsx_runtime90.jsx)(import_ui37.PaginationSkeleton, {})
  ] });
}
function OrderDetailLoading() {
  return /* @__PURE__ */ (0, import_jsx_runtime90.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime90.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime90.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime90.jsx)("div", { className: "h-8 w-48 bg-gray-200 rounded animate-pulse" }),
        /* @__PURE__ */ (0, import_jsx_runtime90.jsx)("div", { className: "h-4 w-32 bg-gray-200 rounded animate-pulse" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime90.jsxs)("div", { className: "flex gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime90.jsx)("div", { className: "h-10 w-24 bg-gray-200 rounded animate-pulse" }),
        /* @__PURE__ */ (0, import_jsx_runtime90.jsx)("div", { className: "h-10 w-24 bg-gray-200 rounded animate-pulse" })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime90.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime90.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime90.jsx)("div", { className: "h-6 w-24 bg-gray-200 rounded animate-pulse" }),
        /* @__PURE__ */ (0, import_jsx_runtime90.jsx)("div", { className: "space-y-2", children: Array.from({ length: 4 }).map((_, i) => /* @__PURE__ */ (0, import_jsx_runtime90.jsx)("div", { className: "h-4 w-full bg-gray-200 rounded animate-pulse" }, i)) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime90.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime90.jsx)("div", { className: "h-6 w-24 bg-gray-200 rounded animate-pulse" }),
        /* @__PURE__ */ (0, import_jsx_runtime90.jsx)("div", { className: "space-y-2", children: Array.from({ length: 4 }).map((_, i) => /* @__PURE__ */ (0, import_jsx_runtime90.jsx)("div", { className: "h-4 w-full bg-gray-200 rounded animate-pulse" }, i)) })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime90.jsxs)("div", { className: "space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime90.jsx)("div", { className: "h-6 w-32 bg-gray-200 rounded animate-pulse" }),
      /* @__PURE__ */ (0, import_jsx_runtime90.jsx)(import_ui37.TableSkeleton, { rows: 3, columns: 4 })
    ] })
  ] });
}

// src/components/features/Products/components/ProductOrdersView.tsx
var import_ui39 = require("@rentalshop/ui");
var import_utils22 = require("@rentalshop/utils");
var import_jsx_runtime91 = require("react/jsx-runtime");
var ProductOrdersView = ({
  productId,
  productName,
  onClose,
  className = "",
  showHeader = true,
  inventoryData
}) => {
  const [orders, setOrders] = (0, import_react42.useState)([]);
  const [loading, setLoading] = (0, import_react42.useState)(false);
  const [error2, setError] = (0, import_react42.useState)(null);
  const [currentPage, setCurrentPage] = (0, import_react42.useState)(1);
  const [totalPages, setTotalPages] = (0, import_react42.useState)(1);
  const [filters, setFilters] = (0, import_react42.useState)({
    search: "",
    status: void 0,
    orderType: void 0,
    outletId: void 0,
    customerId: void 0,
    startDate: void 0,
    endDate: void 0,
    limit: 20,
    offset: 0,
    sortBy: "createdAt",
    sortOrder: "desc"
  });
  (0, import_react42.useEffect)(() => {
    const fetchProductOrders = async () => {
      try {
        setLoading(true);
        const response = await import_utils22.ordersApi.getOrdersByProduct(parseInt(productId));
        console.log("\u{1F50D} ProductOrdersView: API Response:", response);
        if (response.success && response.data) {
          const ordersData = Array.isArray(response.data) ? response.data : response.data.orders || [];
          const totalPages2 = Array.isArray(response.data) ? 1 : response.data.totalPages || 1;
          console.log("\u{1F50D} ProductOrdersView: Setting orders:", ordersData);
          console.log("\u{1F50D} ProductOrdersView: Total pages:", totalPages2);
          setOrders(ordersData);
          setTotalPages(totalPages2);
        } else {
          console.log("\u{1F50D} ProductOrdersView: No data or unsuccessful response");
          setOrders([]);
          setTotalPages(1);
        }
      } catch (err) {
        console.error("\u274C ProductOrdersView: Error fetching product orders:", err);
        setError("Failed to fetch product orders");
        setOrders([]);
      } finally {
        setLoading(false);
      }
    };
    fetchProductOrders();
  }, [productId]);
  const overview = {
    totalOrders: Array.isArray(orders) ? orders.length : 0,
    totalQuantity: Array.isArray(orders) ? orders.reduce(
      (sum, order) => sum + (order.orderItems?.reduce((itemSum, item) => itemSum + (item.quantity || 0), 0) || 0),
      0
    ) : 0,
    totalSales: Array.isArray(orders) ? orders.reduce((sum, order) => sum + (order.totalAmount || 0), 0) : 0,
    totalDeposits: Array.isArray(orders) ? orders.reduce((sum, order) => sum + (order.depositAmount || 0), 0) : 0,
    activeRentals: Array.isArray(orders) ? orders.filter((order) => order.status === "PICKUPED").length : 0,
    completedOrders: Array.isArray(orders) ? orders.filter((order) => order.status === "COMPLETED").length : 0,
    pendingOrders: Array.isArray(orders) ? orders.filter((order) => order.status === "RESERVED").length : 0
  };
  console.log("\u{1F50D} ProductOrdersView: Transforming orders:", orders);
  const orderData = {
    orders: Array.isArray(orders) ? orders.map((order) => ({
      id: typeof order.id === "string" ? parseInt(order.id) : order.id,
      // Handle both string and number IDs
      orderNumber: order.orderNumber,
      orderType: order.orderType,
      status: order.status,
      customerName: order.customer ? `${order.customer.firstName} ${order.customer.lastName}` : "Guest",
      customerPhone: order.customer?.phone || "No phone",
      outletName: order.outlet.name,
      merchantName: order.outlet.merchant?.name || "N/A",
      totalAmount: order.totalAmount,
      depositAmount: order.depositAmount,
      createdAt: new Date(order.createdAt),
      pickupPlanAt: order.pickupPlanAt ? new Date(order.pickupPlanAt) : void 0,
      returnPlanAt: order.returnPlanAt ? new Date(order.returnPlanAt) : void 0,
      pickedUpAt: order.pickedUpAt ? new Date(order.pickedUpAt) : void 0,
      returnedAt: order.returnedAt ? new Date(order.returnedAt) : void 0,
      isReadyToDeliver: order.isReadyToDeliver || false
    })) : [],
    total: Array.isArray(orders) ? orders.length : 0,
    currentPage,
    totalPages,
    limit: filters.limit || 20,
    stats: {
      totalOrders: overview.totalOrders,
      totalRevenue: overview.totalSales,
      totalDeposits: overview.totalDeposits,
      activeRentals: overview.activeRentals,
      overdueRentals: 0,
      // Not calculated in this context
      completedOrders: overview.completedOrders,
      cancelledOrders: 0,
      // Not calculated in this context
      averageOrderValue: overview.totalOrders > 0 ? overview.totalSales / overview.totalOrders : 0
    }
  };
  console.log("\u{1F50D} ProductOrdersView: Final orderData:", orderData);
  const handleFiltersChange = (newFilters) => {
    setFilters(newFilters);
    setCurrentPage(1);
  };
  const handleSearchChange = (searchValue) => {
    setFilters((prev) => ({ ...prev, search: searchValue }));
    setCurrentPage(1);
  };
  const handleClearFilters = () => {
    setFilters({
      search: "",
      status: void 0,
      orderType: void 0,
      outletId: void 0,
      customerId: void 0,
      startDate: void 0,
      endDate: void 0,
      limit: 20,
      offset: 0,
      sortBy: "createdAt",
      sortOrder: "desc"
    });
    setCurrentPage(1);
  };
  const handleOrderAction = (action, orderId) => {
    console.log("Order action:", action, orderId);
  };
  const handlePageChange = (page) => {
    setCurrentPage(page);
  };
  const handleSort = (column) => {
    const newSortOrder = filters.sortBy === column && filters.sortOrder === "asc" ? "desc" : "asc";
    setFilters((prev) => ({
      ...prev,
      sortBy: column,
      sortOrder: newSortOrder
    }));
  };
  const handleRefresh = () => {
    setCurrentPage(1);
    setError(null);
    const fetchProductOrders = async () => {
      try {
        setLoading(true);
        const response = await import_utils22.ordersApi.getOrdersByProduct(parseInt(productId));
        if (response.success && response.data) {
          setOrders(response.data);
          setTotalPages(1);
        } else {
          setOrders([]);
          setTotalPages(1);
        }
      } catch (err) {
        setError("Failed to fetch product orders");
        console.error("Error refreshing product orders:", err);
      } finally {
        setLoading(false);
      }
    };
    fetchProductOrders();
  };
  const handleExport = () => {
    console.log("Export orders for product:", productId);
  };
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("div", { className: `space-y-6 ${className}`, children: /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(ProductsLoading, {}) });
  }
  if (error2) {
    return /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("div", { className: `space-y-6 ${className}`, children: /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)(CardContent2, { className: "p-6 text-center", children: [
      /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("div", { className: "text-red-500 mb-4", children: /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(import_lucide_react33.BarChart3, { className: "h-12 w-12 mx-auto" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("h3", { className: "text-lg font-semibold mb-2", children: "Error Loading Orders" }),
      /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("p", { className: "text-gray-600 mb-4", children: error2 }),
      /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)(Button, { onClick: () => window.location.reload(), children: [
        /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(import_lucide_react33.RefreshCw, { className: "h-4 w-4 mr-2" }),
        "Try Again"
      ] })
    ] }) }) });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)("div", { className: `space-y-6 ${className}`, children: [
    showHeader && /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)(import_jsx_runtime91.Fragment, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)("div", { className: "flex items-center justify-between", children: [
        /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)("h1", { className: "text-2xl font-bold text-gray-900", children: [
            "Orders for ",
            productName
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("p", { className: "text-gray-600", children: "View and manage all orders for this product" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)("div", { className: "flex items-center space-x-3", children: [
          /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)(Button, { variant: "outline", onClick: handleExport, children: [
            /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(import_lucide_react33.Download, { className: "h-4 w-4 mr-2" }),
            "Export"
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)(Button, { onClick: handleRefresh, children: [
            /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(import_lucide_react33.RefreshCw, { className: "h-4 w-4 mr-2" }),
            "Refresh"
          ] }),
          onClose && /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)(Button, { variant: "outline", onClick: onClose, children: [
            /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(import_lucide_react33.ArrowLeft, { className: "h-4 w-4 mr-2" }),
            "Back to Products"
          ] })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(CardContent2, { className: "p-4", children: /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)("div", { className: "flex items-center space-x-3", children: [
          /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("div", { className: "p-2 bg-blue-100 rounded-lg", children: /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(import_lucide_react33.ShoppingCart, { className: "h-5 w-5 text-blue-600" }) }),
          /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("p", { className: "text-sm text-gray-600", children: "Total Orders" }),
            /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("p", { className: "text-2xl font-bold text-gray-900", children: overview.totalOrders })
          ] })
        ] }) }) }),
        /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(CardContent2, { className: "p-4", children: /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)("div", { className: "flex items-center space-x-3", children: [
          /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("div", { className: "p-2 bg-green-100 rounded-lg", children: /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(import_lucide_react33.Package, { className: "h-5 w-5 text-green-600" }) }),
          /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("p", { className: "text-sm text-gray-600", children: "Total Quantity" }),
            /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("p", { className: "text-2xl font-bold text-gray-900", children: overview.totalQuantity })
          ] })
        ] }) }) }),
        /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(CardContent2, { className: "p-4", children: /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)("div", { className: "flex items-center space-x-3", children: [
          /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("div", { className: "p-2 bg-purple-100 rounded-lg", children: /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(import_lucide_react33.DollarSign, { className: "h-5 w-5 text-purple-600" }) }),
          /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("p", { className: "text-sm text-gray-600", children: "Total Sales" }),
            /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("p", { className: "text-2xl font-bold text-gray-900", children: (0, import_utils20.formatCurrency)(overview.totalSales) })
          ] })
        ] }) }) }),
        /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(CardContent2, { className: "p-4", children: /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)("div", { className: "flex items-center space-x-3", children: [
          /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("div", { className: "p-2 bg-orange-100 rounded-lg", children: /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(import_lucide_react33.TrendingUp, { className: "h-5 w-5 text-orange-600" }) }),
          /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("p", { className: "text-sm text-gray-600", children: "Active Rentals" }),
            /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("p", { className: "text-2xl font-bold text-gray-900", children: overview.activeRentals })
          ] })
        ] }) }) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(CardContent2, { className: "p-4", children: /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)("div", { className: "text-center", children: [
          /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("p", { className: "text-sm text-gray-600 mb-1", children: "Total Deposits" }),
          /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("p", { className: "text-xl font-bold text-green-600", children: (0, import_utils20.formatCurrency)(overview.totalDeposits) })
        ] }) }) }),
        /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(CardContent2, { className: "p-4", children: /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)("div", { className: "text-center", children: [
          /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("p", { className: "text-sm text-gray-600 mb-1", children: "Completed Orders" }),
          /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("p", { className: "text-xl font-bold text-blue-600", children: overview.completedOrders })
        ] }) }) }),
        /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(CardContent2, { className: "p-4", children: /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)("div", { className: "text-center", children: [
          /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("p", { className: "text-sm text-gray-600 mb-1", children: "Reserved Orders" }),
          /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("p", { className: "text-xl font-bold text-red-600", children: overview.pendingOrders })
        ] }) }) })
      ] })
    ] }),
    inventoryData && /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(CardContent2, { className: "p-4", children: /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)("div", { className: "flex items-center space-x-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("div", { className: "p-2 bg-gray-100 rounded-lg", children: /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(import_lucide_react33.Package, { className: "h-5 w-5 text-gray-600" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("p", { className: "text-sm text-gray-600", children: "Total Stock" }),
          /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("p", { className: "text-2xl font-bold text-gray-900", children: inventoryData.totalStock }),
          /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("p", { className: "text-xs text-gray-500", children: "Available inventory" })
        ] })
      ] }) }) }),
      /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(CardContent2, { className: "p-4", children: /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)("div", { className: "flex items-center space-x-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("div", { className: "p-2 bg-blue-100 rounded-lg", children: /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(import_lucide_react33.Package, { className: "h-5 w-5 text-blue-600" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("p", { className: "text-sm text-gray-600", children: "Currently Rented" }),
          /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("p", { className: "text-2xl font-bold text-blue-600", children: inventoryData.totalRenting }),
          /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("p", { className: "text-xs text-gray-500", children: "Out on rental" })
        ] })
      ] }) }) }),
      /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(CardContent2, { className: "p-4", children: /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)("div", { className: "flex items-center space-x-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("div", { className: "p-2 bg-green-100 rounded-lg", children: /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(import_lucide_react33.Package, { className: "h-5 w-5 text-green-600" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("p", { className: "text-sm text-gray-600", children: "Available Now" }),
          /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("p", { className: "text-2xl font-bold text-green-600", children: inventoryData.totalAvailable }),
          /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("p", { className: "text-xs text-gray-500", children: "Ready to rent" })
        ] })
      ] }) }) }),
      /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(CardContent2, { className: "p-4", children: /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)("div", { className: "flex items-center space-x-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("div", { className: "p-2 bg-orange-100 rounded-lg", children: /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(import_lucide_react33.DollarSign, { className: "h-5 w-5 text-orange-600" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("p", { className: "text-sm text-gray-600", children: "Total Revenue" }),
          /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("p", { className: "text-2xl font-bold text-orange-600", children: (0, import_utils20.formatCurrency)(overview.totalSales) }),
          /* @__PURE__ */ (0, import_jsx_runtime91.jsx)("p", { className: "text-xs text-gray-500", children: "All time earnings" })
        ] })
      ] }) }) })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime91.jsxs)("div", { className: "space-y-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(
        OrderFilters,
        {
          filters,
          onFiltersChange: handleFiltersChange,
          onSearchChange: handleSearchChange,
          onClearFilters: handleClearFilters
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(
        OrderTable,
        {
          orders: orderData.orders,
          onOrderAction: handleOrderAction,
          sortBy: filters.sortBy,
          sortOrder: filters.sortOrder,
          onSort: handleSort
        }
      ),
      orderData.total > orderData.limit && /* @__PURE__ */ (0, import_jsx_runtime91.jsx)(
        import_ui39.Pagination,
        {
          currentPage: orderData.currentPage,
          totalPages: orderData.totalPages,
          total: orderData.total,
          limit: orderData.limit,
          onPageChange: handlePageChange,
          itemName: "orders"
        }
      )
    ] })
  ] });
};

// src/components/features/Products/components/ProductOrdersDialog.tsx
var import_react43 = require("react");
var import_ui40 = require("@rentalshop/ui");
var import_lucide_react34 = require("lucide-react");
var import_utils23 = require("@rentalshop/utils");
var import_jsx_runtime92 = require("react/jsx-runtime");
function ProductOrdersDialog({ open, onOpenChange, product }) {
  const [orders, setOrders] = (0, import_react43.useState)([]);
  const [loading, setLoading] = (0, import_react43.useState)(false);
  const [error2, setError] = (0, import_react43.useState)(null);
  (0, import_react43.useEffect)(() => {
    if (open && product) {
      fetchProductOrders();
    }
  }, [open, product]);
  const fetchProductOrders = async () => {
    if (!product)
      return;
    try {
      setLoading(true);
      setError(null);
      const response = await import_utils23.ordersApi.searchOrders({
        productId: product.id,
        limit: 50
      });
      if (response.success && response.data) {
        setOrders(response.data.orders || []);
      } else {
        setError("Failed to fetch orders");
      }
    } catch (error3) {
      console.error("Error fetching product orders:", error3);
      setError("Failed to fetch orders");
    } finally {
      setLoading(false);
    }
  };
  const formatCurrency20 = (amount) => {
    return new Intl.NumberFormat("en-US", {
      style: "currency",
      currency: "USD",
      minimumFractionDigits: 2
    }).format(amount);
  };
  const formatDate11 = (date2) => {
    const dateObj = typeof date2 === "string" ? new Date(date2) : date2;
    return dateObj.toLocaleDateString("en-US", {
      year: "numeric",
      month: "short",
      day: "numeric",
      hour: "2-digit",
      minute: "2-digit"
    });
  };
  const getStatusBadge = (status) => {
    const statusConfig = {
      "RESERVED": { color: "bg-blue-100 text-blue-800", text: "Reserved" },
      "PICKUPED": { color: "bg-green-100 text-green-800", text: "Picked Up" },
      "RETURNED": { color: "bg-gray-100 text-gray-800", text: "Returned" },
      "COMPLETED": { color: "bg-green-100 text-green-800", text: "Completed" },
      "CANCELLED": { color: "bg-red-100 text-red-800", text: "Cancelled" }
    };
    const config = statusConfig[status] || statusConfig["RESERVED"];
    return /* @__PURE__ */ (0, import_jsx_runtime92.jsx)(import_ui40.Badge, { className: config.color, children: config.text });
  };
  const getOrderTypeBadge = (orderType) => {
    const typeConfig = {
      "RENT": { color: "bg-purple-100 text-purple-800", text: "Rental" },
      "SALE": { color: "bg-green-100 text-green-800", text: "Sale" }
    };
    const config = typeConfig[orderType] || typeConfig["RENT"];
    return /* @__PURE__ */ (0, import_jsx_runtime92.jsx)(import_ui40.Badge, { className: config.color, children: config.text });
  };
  if (!product)
    return null;
  return /* @__PURE__ */ (0, import_jsx_runtime92.jsx)(import_ui40.Dialog, { open, onOpenChange, children: /* @__PURE__ */ (0, import_jsx_runtime92.jsxs)(import_ui40.DialogContent, { className: "max-w-4xl max-h-[80vh] overflow-hidden flex flex-col", children: [
    /* @__PURE__ */ (0, import_jsx_runtime92.jsx)(import_ui40.DialogHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime92.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime92.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime92.jsxs)(import_ui40.DialogTitle, { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime92.jsx)(import_lucide_react34.ShoppingCart, { className: "w-5 h-5" }),
          "Orders for ",
          product.name
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime92.jsx)(import_ui40.DialogDescription, { children: "View all orders containing this product" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime92.jsx)(
        import_ui40.Button,
        {
          variant: "ghost",
          size: "sm",
          onClick: () => onOpenChange(false),
          className: "h-8 w-8 p-0",
          children: /* @__PURE__ */ (0, import_jsx_runtime92.jsx)(import_lucide_react34.X, { className: "w-4 h-4" })
        }
      )
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime92.jsx)("div", { className: "flex-1 overflow-y-auto", children: loading ? /* @__PURE__ */ (0, import_jsx_runtime92.jsxs)("div", { className: "flex items-center justify-center py-12", children: [
      /* @__PURE__ */ (0, import_jsx_runtime92.jsx)("div", { className: "animate-spin rounded-full h-8 w-8 border-b-2 border-action-primary" }),
      /* @__PURE__ */ (0, import_jsx_runtime92.jsx)("span", { className: "ml-2 text-text-secondary", children: "Loading orders..." })
    ] }) : error2 ? /* @__PURE__ */ (0, import_jsx_runtime92.jsxs)("div", { className: "text-center py-12", children: [
      /* @__PURE__ */ (0, import_jsx_runtime92.jsx)("div", { className: "text-red-500 mb-4", children: "\u274C" }),
      /* @__PURE__ */ (0, import_jsx_runtime92.jsx)("h3", { className: "text-lg font-medium text-text-primary mb-2", children: "Error Loading Orders" }),
      /* @__PURE__ */ (0, import_jsx_runtime92.jsx)("p", { className: "text-text-secondary mb-4", children: error2 }),
      /* @__PURE__ */ (0, import_jsx_runtime92.jsx)(import_ui40.Button, { onClick: fetchProductOrders, variant: "outline", children: "Try Again" })
    ] }) : orders.length === 0 ? /* @__PURE__ */ (0, import_jsx_runtime92.jsx)(
      import_ui40.EmptyState,
      {
        icon: import_lucide_react34.ShoppingCart,
        title: "No Orders Found",
        description: "This product hasn't been ordered yet."
      }
    ) : /* @__PURE__ */ (0, import_jsx_runtime92.jsx)("div", { className: "space-y-4", children: orders.map((order) => /* @__PURE__ */ (0, import_jsx_runtime92.jsxs)(import_ui40.Card, { className: "border border-border", children: [
      /* @__PURE__ */ (0, import_jsx_runtime92.jsx)(import_ui40.CardHeader, { className: "pb-3", children: /* @__PURE__ */ (0, import_jsx_runtime92.jsxs)("div", { className: "flex items-center justify-between", children: [
        /* @__PURE__ */ (0, import_jsx_runtime92.jsxs)(import_ui40.CardTitle, { className: "text-lg", children: [
          "Order #",
          order.orderNumber
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime92.jsxs)("div", { className: "flex items-center gap-2", children: [
          getOrderTypeBadge(order.orderType),
          getStatusBadge(order.status)
        ] })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime92.jsxs)(import_ui40.CardContent, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime92.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime92.jsxs)("div", { className: "flex items-center gap-3", children: [
            /* @__PURE__ */ (0, import_jsx_runtime92.jsx)(import_lucide_react34.User, { className: "w-4 h-4 text-text-tertiary" }),
            /* @__PURE__ */ (0, import_jsx_runtime92.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime92.jsxs)("p", { className: "text-sm font-medium text-text-primary", children: [
                order.customer?.firstName,
                " ",
                order.customer?.lastName
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime92.jsx)("p", { className: "text-xs text-text-secondary", children: order.customer?.phone })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime92.jsxs)("div", { className: "flex items-center gap-3", children: [
            /* @__PURE__ */ (0, import_jsx_runtime92.jsx)(import_lucide_react34.Calendar, { className: "w-4 h-4 text-text-tertiary" }),
            /* @__PURE__ */ (0, import_jsx_runtime92.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime92.jsx)("p", { className: "text-sm font-medium text-text-primary", children: formatDate11(order.createdAt) }),
              /* @__PURE__ */ (0, import_jsx_runtime92.jsx)("p", { className: "text-xs text-text-secondary", children: "Created" })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime92.jsxs)("div", { className: "flex items-center gap-3", children: [
            /* @__PURE__ */ (0, import_jsx_runtime92.jsx)(import_lucide_react34.DollarSign, { className: "w-4 h-4 text-text-tertiary" }),
            /* @__PURE__ */ (0, import_jsx_runtime92.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime92.jsx)("p", { className: "text-sm font-medium text-text-primary", children: formatCurrency20(order.totalAmount) }),
              /* @__PURE__ */ (0, import_jsx_runtime92.jsx)("p", { className: "text-xs text-text-secondary", children: "Total Amount" })
            ] })
          ] })
        ] }),
        order.orderItems && order.orderItems.length > 0 && /* @__PURE__ */ (0, import_jsx_runtime92.jsxs)("div", { className: "mt-4 pt-4 border-t border-border", children: [
          /* @__PURE__ */ (0, import_jsx_runtime92.jsx)("h4", { className: "text-sm font-medium text-text-primary mb-2", children: "Order Items:" }),
          /* @__PURE__ */ (0, import_jsx_runtime92.jsx)("div", { className: "space-y-2", children: order.orderItems.map((item, index) => /* @__PURE__ */ (0, import_jsx_runtime92.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
            /* @__PURE__ */ (0, import_jsx_runtime92.jsxs)("div", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime92.jsx)(import_lucide_react34.Package, { className: "w-3 h-3 text-text-tertiary" }),
              /* @__PURE__ */ (0, import_jsx_runtime92.jsx)("span", { className: "text-text-primary", children: item.product?.name || "Unknown Product" }),
              /* @__PURE__ */ (0, import_jsx_runtime92.jsxs)("span", { className: "text-text-secondary", children: [
                "(Qty: ",
                item.quantity,
                ")"
              ] })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime92.jsx)("span", { className: "text-text-primary font-medium", children: formatCurrency20(item.totalPrice) })
          ] }, index)) })
        ] }),
        order.orderType === "RENT" && /* @__PURE__ */ (0, import_jsx_runtime92.jsx)("div", { className: "mt-4 pt-4 border-t border-border", children: /* @__PURE__ */ (0, import_jsx_runtime92.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 text-sm", children: [
          order.pickupPlanAt && /* @__PURE__ */ (0, import_jsx_runtime92.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime92.jsx)("p", { className: "text-text-secondary", children: "Pickup Date:" }),
            /* @__PURE__ */ (0, import_jsx_runtime92.jsx)("p", { className: "text-text-primary font-medium", children: formatDate11(order.pickupPlanAt) })
          ] }),
          order.returnPlanAt && /* @__PURE__ */ (0, import_jsx_runtime92.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime92.jsx)("p", { className: "text-text-secondary", children: "Return Date:" }),
            /* @__PURE__ */ (0, import_jsx_runtime92.jsx)("p", { className: "text-text-primary font-medium", children: formatDate11(order.returnPlanAt) })
          ] })
        ] }) })
      ] })
    ] }, order.id)) }) }),
    /* @__PURE__ */ (0, import_jsx_runtime92.jsx)("div", { className: "flex justify-end pt-4 border-t border-border", children: /* @__PURE__ */ (0, import_jsx_runtime92.jsx)(import_ui40.Button, { onClick: () => onOpenChange(false), variant: "outline", children: "Close" }) })
  ] }) });
}

// src/components/features/Products/Products.tsx
var import_ui41 = require("@rentalshop/ui");
var import_hooks7 = require("@rentalshop/hooks");
var import_lucide_react35 = require("lucide-react");
var import_jsx_runtime93 = require("react/jsx-runtime");
function Products({
  // Data props
  data,
  filters = {},
  onFiltersChange = () => {
  },
  onSearchChange = () => {
  },
  onClearFilters = () => {
  },
  onProductAction = () => {
  },
  onPageChange = () => {
  },
  onSort = () => {
  },
  // Display props
  title = "Products",
  subtitle = "Manage your product catalog",
  showExportButton = false,
  showAddButton = false,
  addButtonText = "Add Product",
  exportButtonText = "Export Products",
  showStats = false,
  currentUser,
  onExport,
  className = ""
}) {
  const { canManageProducts } = (0, import_hooks7.useUserRole)(currentUser);
  const handleExport = () => {
    if (onExport) {
      onExport();
    } else {
      console.log("Export functionality not implemented");
    }
  };
  const handleAddProduct = () => {
    console.log("Add product functionality should be implemented in page");
  };
  const products = data?.products || [];
  const totalProducts = data?.total || 0;
  const currentPage = data?.page || 1;
  const totalPages = data?.totalPages || 1;
  const limit = data?.limit || 25;
  const memoizedOnFiltersChange = import_react44.default.useCallback(onFiltersChange, [onFiltersChange]);
  const memoizedOnSearchChange = import_react44.default.useCallback(onSearchChange, [onSearchChange]);
  const memoizedOnClearFilters = import_react44.default.useCallback(onClearFilters, [onClearFilters]);
  const memoizedOnProductAction = import_react44.default.useCallback(onProductAction, [onProductAction]);
  const memoizedOnPageChange = import_react44.default.useCallback(onPageChange, [onPageChange]);
  const memoizedOnSort = import_react44.default.useCallback(onSort, [onSort]);
  return /* @__PURE__ */ (0, import_jsx_runtime93.jsxs)("div", { className: `flex flex-col h-full ${className}`, children: [
    /* @__PURE__ */ (0, import_jsx_runtime93.jsxs)("div", { className: "flex-shrink-0 space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime93.jsxs)(
        ProductPageHeader,
        {
          title,
          subtitle,
          children: [
            showAddButton && canManageProducts && /* @__PURE__ */ (0, import_jsx_runtime93.jsxs)(
              import_ui41.Button,
              {
                onClick: handleAddProduct,
                className: "flex items-center space-x-2",
                children: [
                  /* @__PURE__ */ (0, import_jsx_runtime93.jsx)(import_lucide_react35.Package, { className: "w-4 h-4" }),
                  /* @__PURE__ */ (0, import_jsx_runtime93.jsx)("span", { children: addButtonText })
                ]
              }
            ),
            showExportButton && /* @__PURE__ */ (0, import_jsx_runtime93.jsxs)(
              import_ui41.Button,
              {
                variant: "outline",
                onClick: handleExport,
                className: "flex items-center space-x-2",
                children: [
                  /* @__PURE__ */ (0, import_jsx_runtime93.jsx)(import_lucide_react35.Download, { className: "w-4 h-4" }),
                  /* @__PURE__ */ (0, import_jsx_runtime93.jsx)("span", { children: exportButtonText })
                ]
              }
            )
          ]
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime93.jsx)(
        ProductFilters,
        {
          filters,
          onFiltersChange: memoizedOnFiltersChange,
          onSearchChange: memoizedOnSearchChange,
          onClearFilters: memoizedOnClearFilters
        }
      )
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime93.jsx)("div", { className: "flex-1 min-h-0 mt-4", children: products.length > 0 ? /* @__PURE__ */ (0, import_jsx_runtime93.jsx)(
      ProductTable,
      {
        products,
        onProductAction: memoizedOnProductAction,
        sortBy: filters.sortBy || "name",
        sortOrder: filters.sortOrder || "asc",
        onSort: memoizedOnSort
      }
    ) : /* @__PURE__ */ (0, import_jsx_runtime93.jsx)(
      import_ui41.EmptyState,
      {
        icon: import_lucide_react35.Package,
        title: "No products found",
        description: filters.search || filters.categoryId || filters.outletId ? "Try adjusting your search or filters" : "Get started by adding your first product",
        actionLabel: canManageProducts ? addButtonText : void 0,
        onAction: canManageProducts ? handleAddProduct : void 0
      }
    ) }),
    products.length > 0 && totalProducts > limit && /* @__PURE__ */ (0, import_jsx_runtime93.jsx)("div", { className: "flex-shrink-0 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime93.jsx)(
      import_ui41.Pagination,
      {
        currentPage,
        totalPages,
        total: totalProducts,
        limit,
        onPageChange: memoizedOnPageChange,
        itemName: "products"
      }
    ) })
  ] });
}
var Products_default = Products;

// src/components/features/Customers/Customers.tsx
var import_react52 = __toESM(require("react"));
var import_ui68 = require("@rentalshop/ui");

// src/components/features/Customers/components/CustomerTable.tsx
var import_react45 = __toESM(require("react"));
var import_ui42 = require("@rentalshop/ui");
var import_ui43 = require("@rentalshop/ui");
var import_ui44 = require("@rentalshop/ui");
var import_lucide_react36 = require("lucide-react");
var import_jsx_runtime94 = require("react/jsx-runtime");
function CustomerTable({
  customers,
  onCustomerAction,
  sortBy = "createdAt",
  sortOrder = "desc",
  onSort
}) {
  const [openDropdownId, setOpenDropdownId] = import_react45.default.useState(null);
  if (customers.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime94.jsx)(import_ui43.Card, { className: "shadow-sm border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ (0, import_jsx_runtime94.jsx)(import_ui43.CardContent, { className: "text-center py-12", children: /* @__PURE__ */ (0, import_jsx_runtime94.jsxs)("div", { className: "text-gray-500 dark:text-gray-400", children: [
      /* @__PURE__ */ (0, import_jsx_runtime94.jsx)("div", { className: "text-4xl mb-4", children: "\u{1F465}" }),
      /* @__PURE__ */ (0, import_jsx_runtime94.jsx)("h3", { className: "text-lg font-medium mb-2", children: "No customers found" }),
      /* @__PURE__ */ (0, import_jsx_runtime94.jsx)("p", { className: "text-sm", children: "Try adjusting your filters or add some customers to get started." })
    ] }) }) });
  }
  const formatDate11 = (dateString) => {
    if (!dateString)
      return "N/A";
    const date2 = typeof dateString === "string" ? new Date(dateString) : dateString;
    return date2.toLocaleDateString("en-US", {
      year: "numeric",
      month: "short",
      day: "numeric"
    });
  };
  const handleSort = (column) => {
    if (onSort) {
      onSort(column);
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime94.jsx)(import_ui43.Card, { className: "shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col h-full", children: /* @__PURE__ */ (0, import_jsx_runtime94.jsx)("div", { className: "flex-1 overflow-auto", children: /* @__PURE__ */ (0, import_jsx_runtime94.jsxs)("table", { className: "w-full", children: [
    /* @__PURE__ */ (0, import_jsx_runtime94.jsx)("thead", { className: "bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-10", children: /* @__PURE__ */ (0, import_jsx_runtime94.jsxs)("tr", { children: [
      /* @__PURE__ */ (0, import_jsx_runtime94.jsx)(
        "th",
        {
          onClick: () => handleSort("id"),
          className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",
          children: /* @__PURE__ */ (0, import_jsx_runtime94.jsxs)("div", { className: "flex items-center gap-1", children: [
            "ID",
            sortBy === "id" && /* @__PURE__ */ (0, import_jsx_runtime94.jsx)("span", { className: "text-xs", children: sortOrder === "desc" ? "\u2193" : "\u2191" })
          ] })
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime94.jsx)(
        "th",
        {
          onClick: () => handleSort("name"),
          className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",
          children: /* @__PURE__ */ (0, import_jsx_runtime94.jsxs)("div", { className: "flex items-center gap-1", children: [
            "Name",
            sortBy === "name" && /* @__PURE__ */ (0, import_jsx_runtime94.jsx)("span", { className: "text-xs", children: sortOrder === "desc" ? "\u2193" : "\u2191" })
          ] })
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime94.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Contact" }),
      /* @__PURE__ */ (0, import_jsx_runtime94.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Location" }),
      /* @__PURE__ */ (0, import_jsx_runtime94.jsx)(
        "th",
        {
          onClick: () => handleSort("createdAt"),
          className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",
          children: /* @__PURE__ */ (0, import_jsx_runtime94.jsxs)("div", { className: "flex items-center gap-1", children: [
            "Created",
            sortBy === "createdAt" && /* @__PURE__ */ (0, import_jsx_runtime94.jsx)("span", { className: "text-xs", children: sortOrder === "desc" ? "\u2193" : "\u2191" })
          ] })
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime94.jsx)("th", { className: "px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Actions" })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime94.jsx)("tbody", { className: "bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700", children: customers.map((customer) => /* @__PURE__ */ (0, import_jsx_runtime94.jsxs)("tr", { className: "hover:bg-gray-50 dark:hover:bg-gray-800", children: [
      /* @__PURE__ */ (0, import_jsx_runtime94.jsx)("td", { className: "px-6 py-4 whitespace-nowrap", children: /* @__PURE__ */ (0, import_jsx_runtime94.jsxs)("div", { className: "text-sm font-medium text-gray-900 dark:text-white", children: [
        "#",
        customer.id
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime94.jsx)("td", { className: "px-6 py-4 whitespace-nowrap", children: /* @__PURE__ */ (0, import_jsx_runtime94.jsx)("div", { className: "text-sm", children: /* @__PURE__ */ (0, import_jsx_runtime94.jsxs)("div", { className: "font-medium text-gray-900 dark:text-white", children: [
        customer.firstName,
        " ",
        customer.lastName
      ] }) }) }),
      /* @__PURE__ */ (0, import_jsx_runtime94.jsx)("td", { className: "px-6 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime94.jsxs)("div", { className: "text-sm", children: [
        /* @__PURE__ */ (0, import_jsx_runtime94.jsx)("div", { className: "font-medium text-gray-900 dark:text-white", children: customer.email }),
        /* @__PURE__ */ (0, import_jsx_runtime94.jsx)("div", { className: "text-gray-500 dark:text-gray-400 text-xs", children: customer.phone })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime94.jsx)("td", { className: "px-6 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime94.jsx)("div", { className: "text-sm text-gray-900 dark:text-white", children: customer.city && customer.state ? /* @__PURE__ */ (0, import_jsx_runtime94.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime94.jsxs)("div", { children: [
          customer.city,
          ", ",
          customer.state
        ] }),
        customer.country && /* @__PURE__ */ (0, import_jsx_runtime94.jsx)("div", { className: "text-gray-500 dark:text-gray-400 text-xs", children: customer.country })
      ] }) : /* @__PURE__ */ (0, import_jsx_runtime94.jsx)("span", { className: "text-gray-500 dark:text-gray-400", children: "N/A" }) }) }),
      /* @__PURE__ */ (0, import_jsx_runtime94.jsx)("td", { className: "px-6 py-4 whitespace-nowrap", children: /* @__PURE__ */ (0, import_jsx_runtime94.jsx)("div", { className: "text-sm text-gray-900 dark:text-white", children: formatDate11(customer.createdAt) }) }),
      /* @__PURE__ */ (0, import_jsx_runtime94.jsx)("td", { className: "px-6 py-4 whitespace-nowrap text-right text-sm font-medium", children: /* @__PURE__ */ (0, import_jsx_runtime94.jsxs)(import_ui44.DropdownMenu, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime94.jsx)(import_ui44.DropdownMenuTrigger, { children: /* @__PURE__ */ (0, import_jsx_runtime94.jsx)(
          import_ui42.Button,
          {
            variant: "ghost",
            size: "sm",
            className: "h-8 w-8 p-0",
            onClick: () => setOpenDropdownId(customer.id),
            children: /* @__PURE__ */ (0, import_jsx_runtime94.jsx)(import_lucide_react36.MoreVertical, { className: "h-4 w-4" })
          }
        ) }),
        /* @__PURE__ */ (0, import_jsx_runtime94.jsxs)(
          import_ui44.DropdownMenuContent,
          {
            align: "end",
            open: openDropdownId === customer.id,
            onOpenChange: (open) => setOpenDropdownId(open ? customer.id : null),
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime94.jsxs)(import_ui44.DropdownMenuItem, { onClick: () => {
                onCustomerAction("view", customer.id);
                setOpenDropdownId(null);
              }, children: [
                /* @__PURE__ */ (0, import_jsx_runtime94.jsx)(import_lucide_react36.Eye, { className: "h-4 w-4 mr-2" }),
                "View Details"
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime94.jsxs)(import_ui44.DropdownMenuItem, { onClick: () => {
                onCustomerAction("edit", customer.id);
                setOpenDropdownId(null);
              }, children: [
                /* @__PURE__ */ (0, import_jsx_runtime94.jsx)(import_lucide_react36.Edit, { className: "h-4 w-4 mr-2" }),
                "Edit Customer"
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime94.jsxs)(import_ui44.DropdownMenuItem, { onClick: () => {
                onCustomerAction("viewOrders", customer.id);
                setOpenDropdownId(null);
              }, children: [
                /* @__PURE__ */ (0, import_jsx_runtime94.jsx)(import_lucide_react36.ShoppingBag, { className: "h-4 w-4 mr-2" }),
                "View Orders"
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime94.jsx)(import_ui44.DropdownMenuSeparator, {}),
              /* @__PURE__ */ (0, import_jsx_runtime94.jsxs)(
                import_ui44.DropdownMenuItem,
                {
                  onClick: () => {
                    onCustomerAction("delete", customer.id);
                    setOpenDropdownId(null);
                  },
                  className: "text-red-600 dark:text-red-400 focus:text-red-700 dark:focus:text-red-300",
                  children: [
                    /* @__PURE__ */ (0, import_jsx_runtime94.jsx)(import_lucide_react36.Trash2, { className: "h-4 w-4 mr-2" }),
                    "Delete Customer"
                  ]
                }
              )
            ]
          }
        )
      ] }) })
    ] }, customer.id)) })
  ] }) }) });
}

// src/components/features/Customers/components/CustomerDetailDialog.tsx
var import_react46 = require("react");
var import_lucide_react37 = require("lucide-react");
var import_jsx_runtime95 = require("react/jsx-runtime");
var CustomerDetailDialog = ({
  open,
  onOpenChange,
  customer,
  onDelete
}) => {
  const [isDeleting, setIsDeleting] = (0, import_react46.useState)(false);
  const [showDeleteConfirm, setShowDeleteConfirm] = (0, import_react46.useState)(false);
  const [merchant, setMerchant] = (0, import_react46.useState)(null);
  const [isLoadingMerchant, setIsLoadingMerchant] = (0, import_react46.useState)(false);
  (0, import_react46.useEffect)(() => {
    const fetchMerchant = async () => {
      if (!customer?.merchantId) {
        console.log("\u{1F50D} CustomerDetailDialog: No merchantId found for customer:", customer);
        setMerchant(null);
        return;
      }
      try {
        setIsLoadingMerchant(true);
        console.log("\u{1F50D} CustomerDetailDialog: Fetching merchant with ID:", customer.merchantId);
        const { merchantsApi: merchantsApi4 } = await import("@rentalshop/utils");
        const response = await merchantsApi4.getMerchantById(customer.merchantId);
        console.log("\u{1F50D} CustomerDetailDialog: Merchant API response:", response);
        if (response.success && response.data) {
          console.log("\u2705 CustomerDetailDialog: Merchant fetched successfully:", response.data);
          setMerchant(response.data);
        } else {
          console.error("\u274C CustomerDetailDialog: Merchant API error:", response.error);
          setMerchant(null);
        }
      } catch (error2) {
        console.error("\u274C CustomerDetailDialog: Error fetching merchant:", error2);
        setMerchant(null);
      } finally {
        setIsLoadingMerchant(false);
      }
    };
    fetchMerchant();
  }, [customer?.merchantId]);
  if (!customer)
    return null;
  const formatDate11 = (date2) => {
    if (!date2)
      return "N/A";
    const dateObj = typeof date2 === "string" ? new Date(date2) : date2;
    return dateObj.toLocaleDateString("en-US", {
      year: "numeric",
      month: "long",
      day: "numeric"
    });
  };
  const getStatusBadgeStyle = (isActive) => {
    if (isActive) {
      return "bg-emerald-100 text-emerald-800 border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-800";
    } else {
      return "bg-red-100 text-red-800 border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800";
    }
  };
  const getStatusDisplayName = (isActive) => {
    return isActive ? "Active" : "Inactive";
  };
  const handleDelete = async () => {
    if (!customer || !onDelete)
      return;
    try {
      setIsDeleting(true);
      await onDelete(customer.id);
      setShowDeleteConfirm(false);
      onOpenChange(false);
    } catch (error2) {
      console.error("Error deleting customer:", error2);
    } finally {
      setIsDeleting(false);
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)(import_jsx_runtime95.Fragment, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime95.jsx)(Dialog, { open, onOpenChange, children: /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)(DialogContent, { className: "max-w-4xl max-h-[90vh] overflow-y-auto", children: [
      /* @__PURE__ */ (0, import_jsx_runtime95.jsx)(DialogHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime95.jsx)(DialogTitle, { className: "text-xl font-semibold", children: "Customer Details" }),
        /* @__PURE__ */ (0, import_jsx_runtime95.jsx)(DialogDescription, { className: "text-sm text-gray-600 mt-1", children: "View customer information and details" })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)("div", { className: "mt-6 space-y-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime95.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)(CardContent2, { className: "p-6", children: [
          /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)("h3", { className: "text-lg font-medium text-gray-900 mb-4 flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("span", { className: "w-2 h-2 bg-indigo-500 rounded-full" }),
            "Customer Overview"
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
            /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Full Name" }),
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("p", { className: "text-gray-900 text-base font-medium", children: `${customer.firstName} ${customer.lastName}` })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Email" }),
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("p", { className: "text-gray-900 text-base", children: customer.email })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Phone" }),
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("p", { className: "text-gray-900 text-base", children: customer.phone })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Date of Birth" }),
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("p", { className: "text-gray-900 text-base", children: customer.dateOfBirth ? formatDate11(customer.dateOfBirth) : "Not provided" })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Status" }),
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("div", { className: `inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${getStatusBadgeStyle(customer.isActive)}`, children: getStatusDisplayName(customer.isActive) })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Customer ID" }),
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("p", { className: "text-gray-500 text-sm font-mono", children: customer.id })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Member Since" }),
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("p", { className: "text-gray-900 text-base", children: formatDate11(customer.createdAt) })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Last Updated" }),
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("p", { className: "text-gray-900 text-base", children: formatDate11(customer.updatedAt) })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Merchant" }),
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("p", { className: "text-gray-900 text-base", children: isLoadingMerchant ? /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("span", { className: "text-gray-500", children: "Loading..." }) : merchant ? merchant.name : /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)("span", { className: "text-gray-500", children: [
                "Not available ",
                customer.merchantId ? `(ID: ${customer.merchantId})` : "(No merchant ID)"
              ] }) })
            ] })
          ] })
        ] }) }),
        /* @__PURE__ */ (0, import_jsx_runtime95.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)(CardContent2, { className: "p-6", children: [
          /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)("h3", { className: "text-lg font-medium text-gray-900 mb-4 flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("span", { className: "w-2 h-2 bg-green-500 rounded-full" }),
            "Address Information"
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
            /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)("div", { className: "md:col-span-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Street Address" }),
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("p", { className: "text-gray-900 text-base", children: customer.address || "No address provided" })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "City" }),
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("p", { className: "text-gray-900 text-base", children: customer.city || "Not specified" })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "State/Province" }),
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("p", { className: "text-gray-900 text-base", children: customer.state || "Not specified" })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "ZIP/Postal Code" }),
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("p", { className: "text-gray-900 text-base", children: customer.zipCode || "Not specified" })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Country" }),
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("p", { className: "text-gray-900 text-base", children: customer.country || "Not specified" })
            ] })
          ] })
        ] }) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)(DialogFooter, { className: "flex justify-between", children: [
        /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("div", { children: onDelete && /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)(
          Button,
          {
            variant: "destructive",
            onClick: () => setShowDeleteConfirm(true),
            disabled: isDeleting,
            className: "flex items-center space-x-2",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)(import_lucide_react37.Trash2, { className: "w-4 h-4" }),
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("span", { children: "Delete Customer" })
            ]
          }
        ) }),
        /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("div", { className: "flex space-x-2", children: /* @__PURE__ */ (0, import_jsx_runtime95.jsx)(
          Button,
          {
            variant: "outline",
            onClick: () => onOpenChange(false),
            children: "Close"
          }
        ) })
      ] })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime95.jsx)(Dialog, { open: showDeleteConfirm, onOpenChange: setShowDeleteConfirm, children: /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)(DialogContent, { className: "max-w-md", children: [
      /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)(DialogHeader, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime95.jsx)(DialogTitle, { className: "text-lg font-semibold text-red-600", children: "Delete Customer" }),
        /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)(DialogDescription, { className: "text-sm text-gray-600", children: [
          "Are you sure you want to delete ",
          /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)("strong", { children: [
            customer?.firstName,
            " ",
            customer?.lastName
          ] }),
          "? This action cannot be undone and will permanently remove all customer data."
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)(DialogFooter, { className: "flex justify-end space-x-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime95.jsx)(
          Button,
          {
            variant: "outline",
            onClick: () => setShowDeleteConfirm(false),
            disabled: isDeleting,
            children: "Cancel"
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime95.jsxs)(
          Button,
          {
            variant: "destructive",
            onClick: handleDelete,
            disabled: isDeleting,
            className: "flex items-center space-x-2",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)(import_lucide_react37.Trash2, { className: "w-4 h-4" }),
              /* @__PURE__ */ (0, import_jsx_runtime95.jsx)("span", { children: isDeleting ? "Deleting..." : "Delete Customer" })
            ]
          }
        )
      ] })
    ] }) })
  ] });
};

// src/components/features/Customers/components/CustomerInfoCard.tsx
var import_ui45 = require("@rentalshop/ui");
var import_ui46 = require("@rentalshop/ui");
var import_lucide_react38 = require("lucide-react");
var import_jsx_runtime96 = require("react/jsx-runtime");
var CustomerInfoCard = ({
  customer,
  onEdit,
  onViewOrders,
  onDelete,
  showActions = true,
  isLoading = false
}) => {
  const formatDate11 = (date2) => {
    if (!date2)
      return "N/A";
    const dateObj = typeof date2 === "string" ? new Date(date2) : date2;
    return dateObj.toLocaleDateString("en-US", {
      year: "numeric",
      month: "long",
      day: "numeric"
    });
  };
  const formatAddress = () => {
    if (!customer)
      return "No address provided";
    const parts = [
      customer.address,
      customer.city,
      customer.state,
      customer.zipCode,
      customer.country
    ].filter(Boolean);
    return parts.length > 0 ? parts.join(", ") : "No address provided";
  };
  if (isLoading) {
    return /* @__PURE__ */ (0, import_jsx_runtime96.jsxs)(import_ui45.Card, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime96.jsx)(import_ui45.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime96.jsx)(import_ui45.CardTitle, { className: "text-lg font-semibold text-gray-900", children: "Customer Information" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime96.jsx)(import_ui45.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime96.jsx)("div", { className: "space-y-4", children: /* @__PURE__ */ (0, import_jsx_runtime96.jsxs)("div", { className: "animate-pulse", children: [
        /* @__PURE__ */ (0, import_jsx_runtime96.jsx)("div", { className: "h-4 bg-gray-200 rounded w-3/4 mb-4" }),
        /* @__PURE__ */ (0, import_jsx_runtime96.jsx)("div", { className: "h-4 bg-gray-200 rounded w-1/2 mb-2" }),
        /* @__PURE__ */ (0, import_jsx_runtime96.jsx)("div", { className: "h-4 bg-gray-200 rounded w-2/3 mb-2" }),
        /* @__PURE__ */ (0, import_jsx_runtime96.jsx)("div", { className: "h-4 bg-gray-200 rounded w-1/2" })
      ] }) }) })
    ] });
  }
  if (!customer) {
    return /* @__PURE__ */ (0, import_jsx_runtime96.jsxs)(import_ui45.Card, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime96.jsx)(import_ui45.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime96.jsx)(import_ui45.CardTitle, { className: "text-lg font-semibold text-gray-900", children: "Customer Information" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime96.jsx)(import_ui45.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime96.jsx)("div", { className: "text-center py-8", children: /* @__PURE__ */ (0, import_jsx_runtime96.jsx)("p", { className: "text-gray-500", children: "No customer data available" }) }) })
    ] });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime96.jsxs)(import_ui45.Card, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime96.jsxs)(import_ui45.CardHeader, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime96.jsxs)("div", { className: "flex items-center justify-between", children: [
        /* @__PURE__ */ (0, import_jsx_runtime96.jsx)(import_ui45.CardTitle, { className: "text-lg font-semibold text-gray-900", children: "Customer Information" }),
        showActions && /* @__PURE__ */ (0, import_jsx_runtime96.jsxs)("div", { className: "flex items-center space-x-2", children: [
          onEdit && /* @__PURE__ */ (0, import_jsx_runtime96.jsxs)(
            import_ui46.Button,
            {
              onClick: onEdit,
              variant: "outline",
              size: "sm",
              className: "flex items-center space-x-2",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime96.jsx)(import_lucide_react38.Edit, { className: "w-4 h-4" }),
                /* @__PURE__ */ (0, import_jsx_runtime96.jsx)("span", { children: "Edit" })
              ]
            }
          ),
          onViewOrders && /* @__PURE__ */ (0, import_jsx_runtime96.jsxs)(
            import_ui46.Button,
            {
              onClick: onViewOrders,
              variant: "outline",
              size: "sm",
              className: "flex items-center space-x-2",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime96.jsx)(import_lucide_react38.ShoppingBag, { className: "w-4 h-4" }),
                /* @__PURE__ */ (0, import_jsx_runtime96.jsx)("span", { children: "Orders" })
              ]
            }
          ),
          onDelete && /* @__PURE__ */ (0, import_jsx_runtime96.jsxs)(
            import_ui46.Button,
            {
              onClick: onDelete,
              variant: "destructive",
              size: "sm",
              className: "flex items-center space-x-2",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime96.jsx)(import_lucide_react38.Trash2, { className: "w-4 h-4" }),
                /* @__PURE__ */ (0, import_jsx_runtime96.jsx)("span", { children: "Delete" })
              ]
            }
          )
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime96.jsx)("div", { className: "border-b border-gray-200 mt-4" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime96.jsx)(import_ui45.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime96.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime96.jsx)("div", { className: "space-y-4", children: /* @__PURE__ */ (0, import_jsx_runtime96.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime96.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime96.jsx)("label", { className: "block text-sm font-normal text-gray-500 mb-2", children: "Full Name" }),
          /* @__PURE__ */ (0, import_jsx_runtime96.jsxs)("p", { className: "text-gray-900 text-base font-medium", children: [
            customer.firstName,
            " ",
            customer.lastName
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime96.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime96.jsx)("label", { className: "block text-sm font-normal text-gray-500 mb-2", children: "Email" }),
          /* @__PURE__ */ (0, import_jsx_runtime96.jsx)("p", { className: "text-gray-900 text-base", children: customer.email })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime96.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime96.jsx)("label", { className: "block text-sm font-normal text-gray-500 mb-2", children: "Phone" }),
          /* @__PURE__ */ (0, import_jsx_runtime96.jsx)("p", { className: "text-gray-900 text-base", children: customer.phone })
        ] })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime96.jsx)("div", { className: "space-y-4", children: /* @__PURE__ */ (0, import_jsx_runtime96.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime96.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime96.jsx)("label", { className: "block text-sm font-normal text-gray-500 mb-2", children: "Address" }),
          /* @__PURE__ */ (0, import_jsx_runtime96.jsx)("p", { className: "text-gray-900 text-base", children: formatAddress() })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime96.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime96.jsx)("label", { className: "block text-sm font-normal text-gray-500 mb-2", children: "Member Since" }),
          /* @__PURE__ */ (0, import_jsx_runtime96.jsx)("p", { className: "text-gray-900 text-base", children: formatDate11(customer.createdAt) })
        ] })
      ] }) })
    ] }) })
  ] });
};

// src/components/features/Customers/components/CustomerOrdersSummaryCard.tsx
var import_ui47 = require("@rentalshop/ui");
var import_jsx_runtime97 = require("react/jsx-runtime");
var CustomerOrdersSummaryCard = ({
  customer,
  orderStats,
  isLoading = false
}) => {
  const formatDate11 = (date2) => {
    if (!date2)
      return "N/A";
    const dateObj = typeof date2 === "string" ? new Date(date2) : date2;
    return dateObj.toLocaleDateString("en-US", {
      year: "numeric",
      month: "long",
      day: "numeric"
    });
  };
  const formatCurrency20 = (amount) => {
    return new Intl.NumberFormat("en-US", {
      style: "currency",
      currency: "USD",
      minimumFractionDigits: 2,
      maximumFractionDigits: 2
    }).format(amount);
  };
  if (isLoading) {
    return /* @__PURE__ */ (0, import_jsx_runtime97.jsxs)(import_ui47.Card, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime97.jsx)(import_ui47.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime97.jsx)(import_ui47.CardTitle, { className: "text-lg font-semibold text-gray-900", children: "Customer Orders Summary" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime97.jsx)(import_ui47.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime97.jsx)("div", { className: "space-y-4", children: /* @__PURE__ */ (0, import_jsx_runtime97.jsxs)("div", { className: "animate-pulse", children: [
        /* @__PURE__ */ (0, import_jsx_runtime97.jsx)("div", { className: "h-4 bg-gray-200 rounded w-3/4 mb-4" }),
        /* @__PURE__ */ (0, import_jsx_runtime97.jsx)("div", { className: "h-4 bg-gray-200 rounded w-1/2 mb-2" }),
        /* @__PURE__ */ (0, import_jsx_runtime97.jsx)("div", { className: "h-4 bg-gray-200 rounded w-2/3 mb-2" }),
        /* @__PURE__ */ (0, import_jsx_runtime97.jsx)("div", { className: "h-4 bg-gray-200 rounded w-1/2" })
      ] }) }) })
    ] });
  }
  if (!customer) {
    return /* @__PURE__ */ (0, import_jsx_runtime97.jsxs)(import_ui47.Card, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime97.jsx)(import_ui47.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime97.jsx)(import_ui47.CardTitle, { className: "text-lg font-semibold text-gray-900", children: "Customer Orders Summary" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime97.jsx)(import_ui47.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime97.jsx)("div", { className: "text-center py-8", children: /* @__PURE__ */ (0, import_jsx_runtime97.jsx)("p", { className: "text-gray-500", children: "No customer data available" }) }) })
    ] });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime97.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
    /* @__PURE__ */ (0, import_jsx_runtime97.jsxs)(import_ui47.Card, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime97.jsx)(import_ui47.CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: /* @__PURE__ */ (0, import_jsx_runtime97.jsx)(import_ui47.CardTitle, { className: "text-sm font-medium text-gray-600 dark:text-gray-400", children: "Total Orders" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime97.jsxs)(import_ui47.CardContent, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime97.jsx)("div", { className: "text-2xl font-bold text-gray-900 dark:text-white", children: (orderStats?.totalOrders || 0).toLocaleString() }),
        /* @__PURE__ */ (0, import_jsx_runtime97.jsx)("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "All time orders" })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime97.jsxs)(import_ui47.Card, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime97.jsx)(import_ui47.CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: /* @__PURE__ */ (0, import_jsx_runtime97.jsx)(import_ui47.CardTitle, { className: "text-sm font-medium text-gray-600 dark:text-gray-400", children: "Total Revenue" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime97.jsxs)(import_ui47.CardContent, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime97.jsx)("div", { className: "text-2xl font-bold text-green-600 dark:text-green-400", children: formatCurrency20(orderStats?.totalRevenue || 0) }),
        /* @__PURE__ */ (0, import_jsx_runtime97.jsx)("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Lifetime revenue" })
      ] })
    ] })
  ] });
};

// src/components/features/Customers/components/CustomerPageHeader.tsx
var import_ui48 = require("@rentalshop/ui");
var import_jsx_runtime98 = require("react/jsx-runtime");
var CustomerPageHeader = ({
  title,
  subtitle,
  onBack,
  backText = "Back to Customers",
  backUrl,
  children
}) => {
  const handleBack = () => {
    if (onBack) {
      onBack();
    } else if (backUrl) {
      window.location.href = backUrl;
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime98.jsx)("div", { className: "mb-6", children: (onBack || backUrl) && /* @__PURE__ */ (0, import_jsx_runtime98.jsxs)(
    import_ui48.Button,
    {
      onClick: handleBack,
      variant: "outline",
      className: "mb-4",
      children: [
        "\u2190 ",
        backText
      ]
    }
  ) });
};

// src/components/features/Customers/components/AddCustomerDialog.tsx
var import_react47 = require("react");
var import_jsx_runtime99 = require("react/jsx-runtime");
var AddCustomerDialog = ({
  open,
  onOpenChange,
  onCustomerCreated,
  onError
}) => {
  const [isSubmitting, setIsSubmitting] = (0, import_react47.useState)(false);
  const handleSave = async (customerData) => {
    try {
      setIsSubmitting(true);
      if (onCustomerCreated) {
        await onCustomerCreated(customerData);
      }
      onOpenChange(false);
    } catch (error2) {
      console.error("\u274C AddCustomerDialog: Error occurred:", error2);
      if (onError) {
        onError(error2 instanceof Error ? error2.message : "Failed to create customer");
      }
    } finally {
      setIsSubmitting(false);
    }
  };
  const handleCancel = () => {
    if (isSubmitting)
      return;
    onOpenChange(false);
  };
  return /* @__PURE__ */ (0, import_jsx_runtime99.jsx)(Dialog, { open, onOpenChange, children: /* @__PURE__ */ (0, import_jsx_runtime99.jsxs)(DialogContent, { className: "max-w-4xl max-h-[95vh] overflow-y-auto p-0", children: [
    /* @__PURE__ */ (0, import_jsx_runtime99.jsx)(DialogHeader, { className: "px-6 py-4 border-b border-gray-200", children: /* @__PURE__ */ (0, import_jsx_runtime99.jsx)(DialogTitle, { className: "text-xl font-semibold text-gray-900", children: "Add New Customer" }) }),
    /* @__PURE__ */ (0, import_jsx_runtime99.jsx)("div", { className: "p-6", children: /* @__PURE__ */ (0, import_jsx_runtime99.jsx)(
      AddCustomerForm,
      {
        onSave: handleSave,
        onCancel: handleCancel,
        isSubmitting
      }
    ) })
  ] }) });
};

// src/components/features/Customers/components/EditCustomerForm.tsx
var import_react48 = require("react");
var import_lucide_react39 = require("lucide-react");
var import_ui50 = require("@rentalshop/ui");
var import_ui51 = require("@rentalshop/ui");
var import_ui52 = require("@rentalshop/ui");
var import_ui53 = require("@rentalshop/ui");
var import_jsx_runtime100 = require("react/jsx-runtime");
var EditCustomerForm = (0, import_react48.forwardRef)(({
  customer,
  onSave,
  onCancel,
  isSubmitting: externalIsSubmitting,
  showActions = true
}, ref) => {
  const [formData, setFormData] = (0, import_react48.useState)({
    firstName: customer.firstName,
    lastName: customer.lastName,
    email: customer.email,
    phone: customer.phone,
    companyName: customer.companyName || "",
    address: customer.address || "",
    city: customer.city || "",
    state: customer.state || "",
    zipCode: customer.zipCode || "",
    country: customer.country || "",
    status: customer.status,
    membershipLevel: customer.membershipLevel
  });
  const [errors, setErrors] = (0, import_react48.useState)({});
  const [internalIsSubmitting, setInternalIsSubmitting] = (0, import_react48.useState)(false);
  const [errorMessage, setErrorMessage] = (0, import_react48.useState)(null);
  const isSubmitting = externalIsSubmitting !== void 0 ? externalIsSubmitting : internalIsSubmitting;
  (0, import_react48.useEffect)(() => {
    setFormData({
      firstName: customer.firstName,
      lastName: customer.lastName,
      email: customer.email,
      phone: customer.phone,
      companyName: customer.companyName || "",
      address: customer.address || "",
      city: customer.city || "",
      state: customer.state || "",
      zipCode: customer.zipCode || "",
      country: customer.country || "",
      status: customer.status,
      membershipLevel: customer.membershipLevel
    });
  }, [customer]);
  console.log("\u{1F50D} EditCustomerForm: Component rendered with customer:", customer);
  const handleInputChange = (field, value) => {
    console.log("\u{1F50D} EditCustomerForm: Input changed:", { field, value });
    setFormData((prev) => ({ ...prev, [field]: value }));
    if (errors[field]) {
      setErrors((prev) => ({ ...prev, [field]: "" }));
    }
    if (errorMessage) {
      setErrorMessage(null);
    }
  };
  const validateForm = () => {
    const newErrors = {};
    if (!formData.firstName.trim()) {
      newErrors.firstName = "First name is required";
    } else if (formData.firstName.trim().length < 2) {
      newErrors.firstName = "First name must be at least 2 characters";
    }
    if (!formData.lastName.trim()) {
      newErrors.lastName = "Last name is required";
    } else if (formData.lastName.trim().length < 2) {
      newErrors.lastName = "Last name must be at least 2 characters";
    }
    if (formData.email && formData.email.trim() && !/\S+@\S+\.\S+/.test(formData.email)) {
      newErrors.email = "Email is invalid";
    }
    if (!formData.phone || !formData.phone.trim()) {
      newErrors.phone = "Phone number is required";
    } else if (!/^[0-9+\-\s()]+$/.test(formData.phone.trim())) {
      newErrors.phone = "Phone number contains invalid characters";
    } else if (formData.phone.trim().length < 8) {
      newErrors.phone = "Phone number must be at least 8 digits";
    }
    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };
  const handleSubmit = async (e) => {
    e.preventDefault();
    console.log("\u{1F50D} EditCustomerForm: Form submitted");
    if (!validateForm()) {
      console.log("\u274C EditCustomerForm: Validation failed");
      return;
    }
    try {
      setInternalIsSubmitting(true);
      setErrorMessage(null);
      const changedFields = { id: customer.id };
      Object.keys(formData).forEach((key) => {
        const field = key;
        if (formData[field] !== customer[field]) {
          changedFields[field] = formData[field];
        }
      });
      if (Object.keys(changedFields).length === 0) {
        console.log("\u{1F50D} EditCustomerForm: No changes detected");
        return;
      }
      console.log("\u{1F50D} EditCustomerForm: Calling onSave with changed fields:", changedFields);
      await onSave(changedFields);
      console.log("\u2705 EditCustomerForm: Customer updated successfully");
    } catch (error2) {
      console.error("\u274C EditCustomerForm: Error updating customer:", error2);
      const errorMessage2 = error2 instanceof Error ? error2.message : "An unexpected error occurred";
      setErrorMessage(errorMessage2);
    } finally {
      setInternalIsSubmitting(false);
    }
  };
  const handleCancel = () => {
    if (onCancel) {
      onCancel();
    }
  };
  (0, import_react48.useImperativeHandle)(ref, () => ({
    submitForm: () => {
      const syntheticEvent = {
        preventDefault: () => {
        }
      };
      handleSubmit(syntheticEvent);
    }
  }));
  return /* @__PURE__ */ (0, import_jsx_runtime100.jsxs)("form", { onSubmit: handleSubmit, className: "space-y-6", children: [
    errorMessage && /* @__PURE__ */ (0, import_jsx_runtime100.jsx)("div", { className: "p-4 bg-red-50 border border-red-200 rounded-lg", children: /* @__PURE__ */ (0, import_jsx_runtime100.jsx)("p", { className: "text-sm text-red-800", children: errorMessage }) }),
    /* @__PURE__ */ (0, import_jsx_runtime100.jsx)(import_ui53.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime100.jsxs)(import_ui53.CardContent, { className: "pt-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime100.jsx)("h3", { className: "text-lg font-medium text-gray-900 mb-4", children: "Personal Information" }),
      /* @__PURE__ */ (0, import_jsx_runtime100.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime100.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime100.jsx)(import_ui52.Label, { htmlFor: "firstName", children: "First Name *" }),
          /* @__PURE__ */ (0, import_jsx_runtime100.jsx)(
            import_ui51.Input,
            {
              id: "firstName",
              type: "text",
              value: formData.firstName,
              onChange: (e) => handleInputChange("firstName", e.target.value),
              placeholder: "Enter first name",
              className: errors.firstName ? "border-red-500" : ""
            }
          ),
          errors.firstName && /* @__PURE__ */ (0, import_jsx_runtime100.jsx)("p", { className: "text-sm text-red-600", children: errors.firstName })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime100.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime100.jsx)(import_ui52.Label, { htmlFor: "lastName", children: "Last Name *" }),
          /* @__PURE__ */ (0, import_jsx_runtime100.jsx)(
            import_ui51.Input,
            {
              id: "lastName",
              type: "text",
              value: formData.lastName,
              onChange: (e) => handleInputChange("lastName", e.target.value),
              placeholder: "Enter last name",
              className: errors.lastName ? "border-red-500" : ""
            }
          ),
          errors.lastName && /* @__PURE__ */ (0, import_jsx_runtime100.jsx)("p", { className: "text-sm text-red-600", children: errors.lastName })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime100.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 mt-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime100.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime100.jsx)(import_ui52.Label, { htmlFor: "email", children: "Email" }),
          /* @__PURE__ */ (0, import_jsx_runtime100.jsx)(
            import_ui51.Input,
            {
              id: "email",
              type: "email",
              value: formData.email || "",
              onChange: (e) => handleInputChange("email", e.target.value),
              placeholder: "Enter email address (optional)",
              className: errors.email ? "border-red-500" : ""
            }
          ),
          errors.email && /* @__PURE__ */ (0, import_jsx_runtime100.jsx)("p", { className: "text-sm text-red-600", children: errors.email })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime100.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime100.jsx)(import_ui52.Label, { htmlFor: "phone", children: "Phone" }),
          /* @__PURE__ */ (0, import_jsx_runtime100.jsx)(
            import_ui51.Input,
            {
              id: "phone",
              type: "tel",
              value: formData.phone || "",
              onChange: (e) => handleInputChange("phone", e.target.value),
              placeholder: "Enter phone number (optional)",
              className: errors.phone ? "border-red-500" : ""
            }
          ),
          errors.phone && /* @__PURE__ */ (0, import_jsx_runtime100.jsx)("p", { className: "text-sm text-red-600", children: errors.phone })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime100.jsx)("div", { className: "mt-4", children: /* @__PURE__ */ (0, import_jsx_runtime100.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime100.jsx)(import_ui52.Label, { htmlFor: "companyName", children: "Company Name" }),
        /* @__PURE__ */ (0, import_jsx_runtime100.jsx)(
          import_ui51.Input,
          {
            id: "companyName",
            type: "text",
            value: formData.companyName,
            onChange: (e) => handleInputChange("companyName", e.target.value),
            placeholder: "Enter company name (optional)"
          }
        )
      ] }) })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime100.jsx)(import_ui53.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime100.jsxs)(import_ui53.CardContent, { className: "pt-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime100.jsx)("h3", { className: "text-lg font-medium text-gray-900 mb-4", children: "Address Information" }),
      /* @__PURE__ */ (0, import_jsx_runtime100.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime100.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime100.jsx)(import_ui52.Label, { htmlFor: "address", children: "Street Address" }),
          /* @__PURE__ */ (0, import_jsx_runtime100.jsx)(
            import_ui51.Input,
            {
              id: "address",
              type: "text",
              value: formData.address,
              onChange: (e) => handleInputChange("address", e.target.value),
              placeholder: "Enter street address (optional)"
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime100.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime100.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime100.jsx)(import_ui52.Label, { htmlFor: "city", children: "City" }),
            /* @__PURE__ */ (0, import_jsx_runtime100.jsx)(
              import_ui51.Input,
              {
                id: "city",
                type: "text",
                value: formData.city,
                onChange: (e) => handleInputChange("city", e.target.value),
                placeholder: "Enter city (optional)"
              }
            )
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime100.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime100.jsx)(import_ui52.Label, { htmlFor: "state", children: "State/Province" }),
            /* @__PURE__ */ (0, import_jsx_runtime100.jsx)(
              import_ui51.Input,
              {
                id: "state",
                type: "text",
                value: formData.state,
                onChange: (e) => handleInputChange("state", e.target.value),
                placeholder: "Enter state (optional)"
              }
            )
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime100.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime100.jsx)(import_ui52.Label, { htmlFor: "zipCode", children: "ZIP/Postal Code" }),
            /* @__PURE__ */ (0, import_jsx_runtime100.jsx)(
              import_ui51.Input,
              {
                id: "zipCode",
                type: "text",
                value: formData.zipCode,
                onChange: (e) => handleInputChange("zipCode", e.target.value),
                placeholder: "Enter ZIP code (optional)"
              }
            )
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime100.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime100.jsx)(import_ui52.Label, { htmlFor: "country", children: "Country" }),
          /* @__PURE__ */ (0, import_jsx_runtime100.jsx)(
            import_ui51.Input,
            {
              id: "country",
              type: "text",
              value: formData.country,
              onChange: (e) => handleInputChange("country", e.target.value),
              placeholder: "Enter country (optional)"
            }
          )
        ] })
      ] })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime100.jsxs)("div", { className: "flex justify-end space-x-3", children: [
      /* @__PURE__ */ (0, import_jsx_runtime100.jsxs)(
        import_ui50.Button,
        {
          type: "button",
          variant: "outline",
          onClick: onCancel,
          disabled: isSubmitting,
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime100.jsx)(import_lucide_react39.X, { className: "w-4 h-4 mr-2" }),
            "Cancel"
          ]
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime100.jsxs)(
        import_ui50.Button,
        {
          type: "submit",
          disabled: isSubmitting,
          className: "bg-blue-600 hover:bg-blue-700 text-white",
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime100.jsx)(import_lucide_react39.Save, { className: "w-4 h-4 mr-2" }),
            isSubmitting ? "Updating..." : "Update Customer"
          ]
        }
      )
    ] })
  ] });
});
EditCustomerForm.displayName = "EditCustomerForm";

// src/components/features/Customers/components/CustomerForm.tsx
var import_react49 = require("react");
var import_lucide_react40 = require("lucide-react");
var import_ui54 = require("@rentalshop/ui");
var import_ui55 = require("@rentalshop/ui");
var import_ui56 = require("@rentalshop/ui");
var import_ui57 = require("@rentalshop/ui");
var import_ui58 = require("@rentalshop/ui");
var import_jsx_runtime101 = require("react/jsx-runtime");
var CustomerForm = ({
  mode = "create",
  customer,
  onSave,
  onCancel,
  isSubmitting: externalIsSubmitting,
  currentUser
}) => {
  const [formData, setFormData] = (0, import_react49.useState)({
    firstName: "",
    lastName: "",
    email: "",
    phone: "",
    companyName: "",
    address: "",
    city: "",
    state: "",
    zipCode: "",
    country: "",
    dateOfBirth: "",
    idNumber: "",
    idType: "other",
    notes: ""
  });
  const [isSubmitting, setIsSubmitting] = (0, import_react49.useState)(false);
  const [errors, setErrors] = (0, import_react49.useState)({});
  (0, import_react49.useEffect)(() => {
    if (mode === "edit" && customer) {
      setFormData({
        firstName: customer.firstName || "",
        lastName: customer.lastName || "",
        email: customer.email || "",
        phone: customer.phone || "",
        companyName: customer.companyName || "",
        address: customer.address || "",
        city: customer.city || "",
        state: customer.state || "",
        zipCode: customer.zipCode || "",
        country: customer.country || "",
        dateOfBirth: customer.dateOfBirth ? new Date(customer.dateOfBirth).toISOString().split("T")[0] : "",
        idNumber: customer.idNumber || "",
        idType: customer.idType || "other",
        notes: customer.notes || ""
      });
    }
  }, [mode, customer]);
  const handleInputChange = (field, value) => {
    setFormData((prev) => ({ ...prev, [field]: value }));
    if (errors[field]) {
      setErrors((prev) => ({ ...prev, [field]: "" }));
    }
  };
  const validateForm = () => {
    const newErrors = {};
    if (!formData.firstName.trim()) {
      newErrors.firstName = "First name is required";
    }
    if (!formData.lastName.trim()) {
      newErrors.lastName = "Last name is required";
    }
    if (!formData.phone.trim()) {
      newErrors.phone = "Phone number is required";
    }
    if (formData.email && formData.email.trim()) {
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(formData.email)) {
        newErrors.email = "Invalid email format";
      }
    }
    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };
  const handleSubmit = async (e) => {
    e.preventDefault();
    if (!validateForm()) {
      return;
    }
    setIsSubmitting(true);
    try {
      const customerData = {
        ...mode === "edit" && customer ? { id: customer.id } : {},
        firstName: formData.firstName.trim(),
        lastName: formData.lastName.trim(),
        email: formData.email.trim() || void 0,
        phone: formData.phone.trim(),
        companyName: formData.companyName.trim() || void 0,
        address: formData.address.trim() || void 0,
        city: formData.city.trim() || void 0,
        state: formData.state.trim() || void 0,
        zipCode: formData.zipCode.trim() || void 0,
        country: formData.country.trim() || void 0,
        dateOfBirth: formData.dateOfBirth ? new Date(formData.dateOfBirth) : void 0,
        idNumber: formData.idNumber.trim() || void 0,
        idType: formData.idType,
        notes: formData.notes.trim() || void 0
        // merchantId will be automatically determined from JWT token
        // Only ADMIN users need to send merchantId in request
      };
      await onSave(customerData);
    } catch (error2) {
      console.error("Error saving customer:", error2);
    } finally {
      setIsSubmitting(false);
    }
  };
  const handleCancel = () => {
    if (onCancel) {
      onCancel();
    }
  };
  const isFormSubmitting = isSubmitting || externalIsSubmitting;
  return /* @__PURE__ */ (0, import_jsx_runtime101.jsxs)("form", { onSubmit: handleSubmit, className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(import_ui58.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime101.jsxs)(import_ui58.CardContent, { className: "pt-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime101.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime101.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(import_ui56.Label, { htmlFor: "firstName", children: "First Name *" }),
          /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(
            import_ui55.Input,
            {
              id: "firstName",
              value: formData.firstName,
              onChange: (e) => handleInputChange("firstName", e.target.value),
              placeholder: "Enter first name",
              className: errors.firstName ? "border-red-500" : "",
              disabled: isFormSubmitting
            }
          ),
          errors.firstName && /* @__PURE__ */ (0, import_jsx_runtime101.jsx)("p", { className: "text-sm text-red-500", children: errors.firstName })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime101.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(import_ui56.Label, { htmlFor: "lastName", children: "Last Name *" }),
          /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(
            import_ui55.Input,
            {
              id: "lastName",
              value: formData.lastName,
              onChange: (e) => handleInputChange("lastName", e.target.value),
              placeholder: "Enter last name",
              className: errors.lastName ? "border-red-500" : "",
              disabled: isFormSubmitting
            }
          ),
          errors.lastName && /* @__PURE__ */ (0, import_jsx_runtime101.jsx)("p", { className: "text-sm text-red-500", children: errors.lastName })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime101.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(import_ui56.Label, { htmlFor: "email", children: "Email" }),
          /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(
            import_ui55.Input,
            {
              id: "email",
              type: "email",
              value: formData.email,
              onChange: (e) => handleInputChange("email", e.target.value),
              placeholder: "Enter email address",
              className: errors.email ? "border-red-500" : "",
              disabled: isFormSubmitting
            }
          ),
          errors.email && /* @__PURE__ */ (0, import_jsx_runtime101.jsx)("p", { className: "text-sm text-red-500", children: errors.email })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime101.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(import_ui56.Label, { htmlFor: "phone", children: "Phone *" }),
          /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(
            import_ui55.Input,
            {
              id: "phone",
              value: formData.phone,
              onChange: (e) => handleInputChange("phone", e.target.value),
              placeholder: "Enter phone number",
              className: errors.phone ? "border-red-500" : "",
              disabled: isFormSubmitting
            }
          ),
          errors.phone && /* @__PURE__ */ (0, import_jsx_runtime101.jsx)("p", { className: "text-sm text-red-500", children: errors.phone })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime101.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(import_ui56.Label, { htmlFor: "companyName", children: "Company Name" }),
          /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(
            import_ui55.Input,
            {
              id: "companyName",
              value: formData.companyName,
              onChange: (e) => handleInputChange("companyName", e.target.value),
              placeholder: "Enter company name",
              disabled: isFormSubmitting
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime101.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(import_ui56.Label, { htmlFor: "dateOfBirth", children: "Date of Birth" }),
          /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(
            import_ui55.Input,
            {
              id: "dateOfBirth",
              type: "date",
              value: formData.dateOfBirth,
              onChange: (e) => handleInputChange("dateOfBirth", e.target.value),
              disabled: isFormSubmitting
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime101.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(import_ui56.Label, { htmlFor: "idType", children: "ID Type" }),
          /* @__PURE__ */ (0, import_jsx_runtime101.jsxs)(
            import_ui57.Select,
            {
              value: formData.idType,
              onValueChange: (value) => handleInputChange("idType", value),
              disabled: isFormSubmitting,
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(import_ui57.SelectTrigger, { children: /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(import_ui57.SelectValue, { placeholder: "Select ID type" }) }),
                /* @__PURE__ */ (0, import_jsx_runtime101.jsxs)(import_ui57.SelectContent, { children: [
                  /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(import_ui57.SelectItem, { value: "passport", children: "Passport" }),
                  /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(import_ui57.SelectItem, { value: "drivers_license", children: "Driver's License" }),
                  /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(import_ui57.SelectItem, { value: "national_id", children: "National ID" }),
                  /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(import_ui57.SelectItem, { value: "other", children: "Other" })
                ] })
              ]
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime101.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(import_ui56.Label, { htmlFor: "idNumber", children: "ID Number" }),
          /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(
            import_ui55.Input,
            {
              id: "idNumber",
              value: formData.idNumber,
              onChange: (e) => handleInputChange("idNumber", e.target.value),
              placeholder: "Enter ID number",
              disabled: isFormSubmitting
            }
          )
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime101.jsxs)("div", { className: "mt-4 space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(import_ui56.Label, { htmlFor: "address", children: "Address" }),
        /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(
          import_ui55.Input,
          {
            id: "address",
            value: formData.address,
            onChange: (e) => handleInputChange("address", e.target.value),
            placeholder: "Enter street address",
            disabled: isFormSubmitting
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime101.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-4 mt-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime101.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(import_ui56.Label, { htmlFor: "city", children: "City" }),
          /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(
            import_ui55.Input,
            {
              id: "city",
              value: formData.city,
              onChange: (e) => handleInputChange("city", e.target.value),
              placeholder: "Enter city",
              disabled: isFormSubmitting
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime101.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(import_ui56.Label, { htmlFor: "state", children: "State" }),
          /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(
            import_ui55.Input,
            {
              id: "state",
              value: formData.state,
              onChange: (e) => handleInputChange("state", e.target.value),
              placeholder: "Enter state",
              disabled: isFormSubmitting
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime101.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(import_ui56.Label, { htmlFor: "zipCode", children: "Zip Code" }),
          /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(
            import_ui55.Input,
            {
              id: "zipCode",
              value: formData.zipCode,
              onChange: (e) => handleInputChange("zipCode", e.target.value),
              placeholder: "Enter zip code",
              disabled: isFormSubmitting
            }
          )
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime101.jsxs)("div", { className: "mt-4 space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(import_ui56.Label, { htmlFor: "country", children: "Country" }),
        /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(
          import_ui55.Input,
          {
            id: "country",
            value: formData.country,
            onChange: (e) => handleInputChange("country", e.target.value),
            placeholder: "Enter country",
            disabled: isFormSubmitting
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime101.jsxs)("div", { className: "mt-4 space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(import_ui56.Label, { htmlFor: "notes", children: "Notes" }),
        /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(
          "textarea",
          {
            id: "notes",
            value: formData.notes,
            onChange: (e) => handleInputChange("notes", e.target.value),
            placeholder: "Enter any additional notes",
            className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",
            rows: 3,
            disabled: isFormSubmitting
          }
        )
      ] })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime101.jsxs)("div", { className: "flex justify-end space-x-3", children: [
      /* @__PURE__ */ (0, import_jsx_runtime101.jsxs)(
        import_ui54.Button,
        {
          type: "button",
          variant: "outline",
          onClick: handleCancel,
          disabled: isFormSubmitting,
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(import_lucide_react40.X, { className: "w-4 h-4 mr-2" }),
            "Cancel"
          ]
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime101.jsxs)(
        import_ui54.Button,
        {
          type: "submit",
          disabled: isFormSubmitting,
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime101.jsx)(import_lucide_react40.Save, { className: "w-4 h-4 mr-2" }),
            isFormSubmitting ? "Saving..." : mode === "create" ? "Create Customer" : "Update Customer"
          ]
        }
      )
    ] })
  ] });
};

// src/components/features/Customers/components/CustomerActions.tsx
var import_react50 = require("react");
var import_navigation4 = require("next/navigation");
var import_lucide_react41 = require("lucide-react");
var import_jsx_runtime102 = require("react/jsx-runtime");
function CustomerActions({
  onAction,
  merchantId,
  onCustomerCreated,
  onCustomerUpdated,
  onError,
  onViewOrders
}) {
  const [isAddDialogOpen, setIsAddDialogOpen] = (0, import_react50.useState)(false);
  const router = (0, import_navigation4.useRouter)();
  (0, import_react50.useEffect)(() => {
    const handleCustomerAction = (event) => {
      const { action, customer } = event.detail;
      if (!customer)
        return;
      switch (action) {
        case "view":
          if (customer.id) {
            router.push(`/customers/${customer.id}`);
          } else {
            console.error("Customer missing id for navigation:", customer);
          }
          break;
        case "edit":
          if (customer.id) {
            router.push(`/customers/${customer.id}/edit`);
          } else {
            console.error("Customer missing id for navigation:", customer);
          }
          break;
        default:
          console.log("Unknown customer action:", action);
      }
    };
    const handleViewOrdersAction = (event) => {
      const { customerId, customer } = event.detail;
      if (customer && customer.id) {
        router.push(`/customers/${customer.id}/orders`);
      } else if (onViewOrders) {
        onViewOrders(customerId);
      }
    };
    window.addEventListener("customer-action", handleCustomerAction);
    window.addEventListener("customer-view-orders", handleViewOrdersAction);
    return () => {
      window.removeEventListener("customer-action", handleCustomerAction);
      window.removeEventListener("customer-view-orders", handleViewOrdersAction);
    };
  }, [router, onViewOrders]);
  const handleAddCustomer = () => {
    setIsAddDialogOpen(true);
  };
  const actions = [
    {
      id: "add-customer",
      label: "Add Customer",
      icon: import_lucide_react41.Plus,
      onClick: handleAddCustomer,
      variant: "default"
    },
    {
      id: "bulk-actions",
      label: "Bulk Actions",
      icon: import_lucide_react41.Filter,
      onClick: () => onAction("bulk-actions", 0),
      variant: "outline"
    }
  ];
  return /* @__PURE__ */ (0, import_jsx_runtime102.jsxs)("div", { className: "space-y-4", children: [
    /* @__PURE__ */ (0, import_jsx_runtime102.jsx)("div", { className: "flex flex-wrap gap-3", children: actions.map((action) => /* @__PURE__ */ (0, import_jsx_runtime102.jsxs)(
      Button,
      {
        onClick: action.onClick,
        variant: action.variant,
        className: "flex items-center space-x-2",
        children: [
          /* @__PURE__ */ (0, import_jsx_runtime102.jsx)(action.icon, { className: "w-4 h-4" }),
          /* @__PURE__ */ (0, import_jsx_runtime102.jsx)("span", { children: action.label })
        ]
      },
      action.id
    )) }),
    /* @__PURE__ */ (0, import_jsx_runtime102.jsx)(
      AddCustomerDialog,
      {
        open: isAddDialogOpen,
        onOpenChange: setIsAddDialogOpen,
        onCustomerCreated,
        onError
      }
    )
  ] });
}

// src/components/features/Customers/components/CustomerHeader.tsx
var import_ui59 = require("@rentalshop/ui");
var import_jsx_runtime103 = require("react/jsx-runtime");
function CustomerHeader({ totalCustomers, stats }) {
  const formatCurrency20 = (amount) => {
    return new Intl.NumberFormat("en-US", {
      style: "currency",
      currency: "USD",
      minimumFractionDigits: 0,
      maximumFractionDigits: 0
    }).format(amount);
  };
  const activeCustomers = stats.topCustomers.length;
  const totalRevenue = stats.topCustomers.reduce((sum, customer) => sum + customer.totalSpent, 0);
  return /* @__PURE__ */ (0, import_jsx_runtime103.jsx)("div", { className: "space-y-6", children: /* @__PURE__ */ (0, import_jsx_runtime103.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4", children: [
    /* @__PURE__ */ (0, import_jsx_runtime103.jsxs)(import_ui59.Card, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime103.jsx)(import_ui59.CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: /* @__PURE__ */ (0, import_jsx_runtime103.jsx)(import_ui59.CardTitle, { className: "text-sm font-medium text-gray-600 dark:text-gray-400", children: "Total Customers" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime103.jsxs)(import_ui59.CardContent, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime103.jsx)("div", { className: "text-2xl font-bold text-gray-900 dark:text-white", children: stats.totalCustomers.toLocaleString() }),
        /* @__PURE__ */ (0, import_jsx_runtime103.jsx)("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "All time customers" })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime103.jsxs)(import_ui59.Card, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime103.jsx)(import_ui59.CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: /* @__PURE__ */ (0, import_jsx_runtime103.jsx)(import_ui59.CardTitle, { className: "text-sm font-medium text-gray-600 dark:text-gray-400", children: "Active Customers" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime103.jsxs)(import_ui59.CardContent, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime103.jsx)("div", { className: "text-2xl font-bold text-green-600 dark:text-green-400", children: activeCustomers.toLocaleString() }),
        /* @__PURE__ */ (0, import_jsx_runtime103.jsxs)("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: [
          (activeCustomers / stats.totalCustomers * 100).toFixed(1),
          "% of total"
        ] })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime103.jsxs)(import_ui59.Card, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime103.jsx)(import_ui59.CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: /* @__PURE__ */ (0, import_jsx_runtime103.jsx)(import_ui59.CardTitle, { className: "text-sm font-medium text-gray-600 dark:text-gray-400", children: "New This Month" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime103.jsxs)(import_ui59.CardContent, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime103.jsx)("div", { className: "text-2xl font-bold text-blue-600 dark:text-blue-400", children: stats.newCustomersThisMonth.toLocaleString() }),
        /* @__PURE__ */ (0, import_jsx_runtime103.jsx)("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Recent signups" })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime103.jsxs)(import_ui59.Card, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime103.jsx)(import_ui59.CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: /* @__PURE__ */ (0, import_jsx_runtime103.jsx)(import_ui59.CardTitle, { className: "text-sm font-medium text-gray-600 dark:text-gray-400", children: "Total Revenue" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime103.jsxs)(import_ui59.CardContent, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime103.jsx)("div", { className: "text-2xl font-bold text-gray-900 dark:text-white", children: formatCurrency20(totalRevenue) }),
        /* @__PURE__ */ (0, import_jsx_runtime103.jsx)("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "From all customers" })
      ] })
    ] })
  ] }) });
}

// src/components/features/Customers/components/CustomerSearch.tsx
var import_ui60 = require("@rentalshop/ui");
var import_ui61 = require("@rentalshop/ui");
var import_jsx_runtime104 = require("react/jsx-runtime");
function CustomerSearch({ filters, onFiltersChange, onSearchChange, onClearFilters }) {
  const handleFilterChange = (key, value) => {
    if (key !== "search") {
      onFiltersChange({
        ...filters,
        [key]: value
      });
    }
  };
  const handleInputChange = (e) => {
    onSearchChange(e.target.value);
  };
  return /* @__PURE__ */ (0, import_jsx_runtime104.jsx)(import_ui61.Card, { className: "shadow-sm border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ (0, import_jsx_runtime104.jsx)(import_ui61.CardContent, { className: "pt-6 space-y-4", children: /* @__PURE__ */ (0, import_jsx_runtime104.jsx)("div", { className: "flex justify-between items-end gap-4", children: /* @__PURE__ */ (0, import_jsx_runtime104.jsxs)("div", { className: "space-y-2 flex-1", children: [
    /* @__PURE__ */ (0, import_jsx_runtime104.jsx)("label", { className: "text-sm font-medium text-gray-700 dark:text-gray-300", children: "Search Customers" }),
    /* @__PURE__ */ (0, import_jsx_runtime104.jsx)(
      import_ui60.Input,
      {
        placeholder: "Search by name, email, phone...",
        value: filters.search || "",
        onChange: handleInputChange
      }
    )
  ] }) }) }) });
}

// src/components/features/Customers/components/CustomerStats.tsx
var import_ui62 = require("@rentalshop/ui");
var import_ui63 = require("@rentalshop/ui");
var import_jsx_runtime105 = require("react/jsx-runtime");
function CustomerStats({ stats }) {
  const formatCurrency20 = (amount) => {
    return new Intl.NumberFormat("en-US", {
      style: "currency",
      currency: "USD",
      minimumFractionDigits: 0,
      maximumFractionDigits: 0
    }).format(amount);
  };
  const formatDate11 = (dateString) => {
    return new Date(dateString).toLocaleDateString("en-US", {
      year: "numeric",
      month: "short",
      day: "numeric"
    });
  };
  const activeCustomers = stats.topCustomers.length;
  const totalRevenue = stats.topCustomers.reduce((sum, customer) => sum + customer.totalSpent, 0);
  const averageOrderValue = activeCustomers > 0 ? totalRevenue / activeCustomers : 0;
  return /* @__PURE__ */ (0, import_jsx_runtime105.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime105.jsxs)(import_ui62.Card, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime105.jsxs)(import_ui62.CardHeader, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime105.jsx)(import_ui62.CardTitle, { children: "Top Customers" }),
        /* @__PURE__ */ (0, import_jsx_runtime105.jsx)("p", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Customers with highest lifetime value" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime105.jsx)(import_ui62.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime105.jsxs)("div", { className: "space-y-4", children: [
        stats.topCustomers.map((customer, index) => /* @__PURE__ */ (0, import_jsx_runtime105.jsxs)("div", { className: "flex items-center justify-between p-3 rounded-lg border border-gray-200 dark:border-gray-700", children: [
          /* @__PURE__ */ (0, import_jsx_runtime105.jsxs)("div", { className: "flex items-center space-x-3", children: [
            /* @__PURE__ */ (0, import_jsx_runtime105.jsxs)("div", { className: `w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${index === 0 ? "bg-yellow-100 text-yellow-800" : index === 1 ? "bg-gray-100 text-gray-800" : index === 2 ? "bg-orange-100 text-orange-800" : "bg-blue-100 text-blue-800"}`, children: [
              "#",
              index + 1
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime105.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime105.jsx)("div", { className: "font-medium text-gray-900 dark:text-white", children: customer.name }),
              /* @__PURE__ */ (0, import_jsx_runtime105.jsxs)("div", { className: "text-sm text-gray-500 dark:text-gray-400", children: [
                customer.orderCount,
                " orders"
              ] })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime105.jsxs)("div", { className: "text-right", children: [
            /* @__PURE__ */ (0, import_jsx_runtime105.jsx)("div", { className: "font-medium text-gray-900 dark:text-white", children: formatCurrency20(customer.totalSpent) }),
            /* @__PURE__ */ (0, import_jsx_runtime105.jsxs)("div", { className: "text-sm text-gray-500 dark:text-gray-400", children: [
              "Customer ID: ",
              customer.id
            ] })
          ] })
        ] }, customer.id)),
        stats.topCustomers.length === 0 && /* @__PURE__ */ (0, import_jsx_runtime105.jsx)("div", { className: "text-center py-8 text-gray-500 dark:text-gray-400", children: /* @__PURE__ */ (0, import_jsx_runtime105.jsx)("p", { children: "No customer data available" }) })
      ] }) })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime105.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime105.jsxs)(import_ui62.Card, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime105.jsx)(import_ui62.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime105.jsx)(import_ui62.CardTitle, { children: "Customer Distribution" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime105.jsx)(import_ui62.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime105.jsxs)("div", { className: "space-y-3", children: [
          /* @__PURE__ */ (0, import_jsx_runtime105.jsxs)("div", { className: "flex items-center justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime105.jsx)("span", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Active" }),
            /* @__PURE__ */ (0, import_jsx_runtime105.jsxs)("div", { className: "flex items-center space-x-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime105.jsx)("div", { className: "w-20 bg-gray-200 dark:bg-gray-700 rounded-full h-2", children: /* @__PURE__ */ (0, import_jsx_runtime105.jsx)(
                "div",
                {
                  className: "bg-green-600 h-2 rounded-full",
                  style: { width: `${activeCustomers / stats.totalCustomers * 100}%` }
                }
              ) }),
              /* @__PURE__ */ (0, import_jsx_runtime105.jsx)("span", { className: "text-sm font-medium", children: activeCustomers })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime105.jsxs)("div", { className: "flex items-center justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime105.jsx)("span", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Inactive" }),
            /* @__PURE__ */ (0, import_jsx_runtime105.jsxs)("div", { className: "flex items-center space-x-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime105.jsx)("div", { className: "w-20 bg-gray-200 dark:bg-gray-700 rounded-full h-2", children: /* @__PURE__ */ (0, import_jsx_runtime105.jsx)(
                "div",
                {
                  className: "bg-gray-600 h-2 rounded-full",
                  style: { width: `${(stats.totalCustomers - activeCustomers) / stats.totalCustomers * 100}%` }
                }
              ) }),
              /* @__PURE__ */ (0, import_jsx_runtime105.jsx)("span", { className: "text-sm font-medium", children: stats.totalCustomers - activeCustomers })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime105.jsxs)("div", { className: "flex items-center justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime105.jsx)("span", { className: "text-sm text-gray-600 dark:text-gray-400", children: "New This Month" }),
            /* @__PURE__ */ (0, import_jsx_runtime105.jsxs)("div", { className: "flex items-center space-x-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime105.jsx)("div", { className: "w-20 bg-blue-200 dark:bg-blue-700 rounded-full h-2", children: /* @__PURE__ */ (0, import_jsx_runtime105.jsx)(
                "div",
                {
                  className: "bg-blue-600 h-2 rounded-full",
                  style: { width: `${stats.newCustomersThisMonth / stats.totalCustomers * 100}%` }
                }
              ) }),
              /* @__PURE__ */ (0, import_jsx_runtime105.jsx)("span", { className: "text-sm font-medium", children: stats.newCustomersThisMonth })
            ] })
          ] })
        ] }) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime105.jsxs)(import_ui62.Card, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime105.jsx)(import_ui62.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime105.jsx)(import_ui62.CardTitle, { children: "Performance Metrics" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime105.jsx)(import_ui62.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime105.jsxs)("div", { className: "space-y-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime105.jsxs)("div", { className: "flex items-center justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime105.jsx)("span", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Average Order Value" }),
            /* @__PURE__ */ (0, import_jsx_runtime105.jsx)("span", { className: "font-medium", children: formatCurrency20(averageOrderValue) })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime105.jsxs)("div", { className: "flex items-center justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime105.jsx)("span", { className: "text-sm text-gray-600 dark:text-gray-400", children: "New This Month" }),
            /* @__PURE__ */ (0, import_jsx_runtime105.jsx)("div", { className: "flex items-center space-x-2", children: /* @__PURE__ */ (0, import_jsx_runtime105.jsxs)(import_ui63.Badge, { variant: "outline", className: "bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200", children: [
              "+",
              stats.newCustomersThisMonth
            ] }) })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime105.jsxs)("div", { className: "flex items-center justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime105.jsx)("span", { className: "text-sm text-gray-600 dark:text-gray-400", children: "Total Revenue" }),
            /* @__PURE__ */ (0, import_jsx_runtime105.jsx)("span", { className: "font-medium text-lg", children: formatCurrency20(totalRevenue) })
          ] })
        ] }) })
      ] })
    ] })
  ] });
}

// src/components/features/Customers/components/CustomerOrdersDialog.tsx
var import_react51 = require("react");
var import_ui64 = require("@rentalshop/ui");
var import_ui65 = require("@rentalshop/ui");
var import_ui66 = require("@rentalshop/ui");
var import_lucide_react42 = require("lucide-react");
var import_constants11 = require("@rentalshop/constants");
var import_jsx_runtime106 = require("react/jsx-runtime");
var CustomerOrdersDialog = ({
  open,
  onOpenChange,
  customer
}) => {
  const [orders, setOrders] = (0, import_react51.useState)([]);
  const [loading, setLoading] = (0, import_react51.useState)(false);
  const [error2, setError] = (0, import_react51.useState)(null);
  (0, import_react51.useEffect)(() => {
    if (open && customer) {
      fetchCustomerOrders(customer.id);
    }
  }, [open, customer]);
  const fetchCustomerOrders = async (customerId) => {
    setLoading(true);
    setError(null);
    try {
      const mockOrders = [
        {
          id: 1,
          orderNumber: "1",
          orderType: "RENT",
          status: "PICKUPED",
          totalAmount: 150,
          depositAmount: 50,
          pickupPlanAt: /* @__PURE__ */ new Date("2024-01-15"),
          returnPlanAt: /* @__PURE__ */ new Date("2024-01-20"),
          pickedUpAt: /* @__PURE__ */ new Date("2024-01-15"),
          returnedAt: void 0,
          createdAt: /* @__PURE__ */ new Date("2024-01-10"),
          outletName: "Downtown Store"
        },
        {
          id: 2,
          orderNumber: "2",
          orderType: "SALE",
          status: "COMPLETED",
          totalAmount: 299.99,
          depositAmount: 0,
          pickupPlanAt: void 0,
          returnPlanAt: void 0,
          pickedUpAt: /* @__PURE__ */ new Date("2024-01-05"),
          returnedAt: void 0,
          createdAt: /* @__PURE__ */ new Date("2024-01-01"),
          outletName: "Downtown Store"
        },
        {
          id: 3,
          orderNumber: "3",
          orderType: "RENT",
          status: "PICKUPED",
          totalAmount: 200,
          depositAmount: 75,
          pickupPlanAt: /* @__PURE__ */ new Date("2024-01-08"),
          returnPlanAt: /* @__PURE__ */ new Date("2024-01-12"),
          pickedUpAt: /* @__PURE__ */ new Date("2024-01-08"),
          returnedAt: void 0,
          createdAt: /* @__PURE__ */ new Date("2024-01-05"),
          outletName: "Downtown Store"
        }
      ];
      setOrders(mockOrders);
    } catch (err) {
      setError("Failed to fetch customer orders");
      console.error("Error fetching customer orders:", err);
    } finally {
      setLoading(false);
    }
  };
  const getStatusBadge = (status) => {
    const colors = import_constants11.ORDER_STATUS_COLORS[status] || "bg-gray-100 text-gray-800";
    return /* @__PURE__ */ (0, import_jsx_runtime106.jsx)(import_ui66.Badge, { variant: "outline", className: colors, children: status });
  };
  const getOrderTypeBadge = (orderType) => {
    const variants = {
      RENT: "bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",
      SALE: "bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",
      RENT_TO_OWN: "bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200"
    };
    return /* @__PURE__ */ (0, import_jsx_runtime106.jsx)(import_ui66.Badge, { variant: "outline", className: variants[orderType] || variants.RENT, children: orderType });
  };
  const formatCurrency20 = (amount) => {
    return new Intl.NumberFormat("en-US", {
      style: "currency",
      currency: "USD",
      minimumFractionDigits: 2
    }).format(amount);
  };
  const formatDate11 = (date2) => {
    if (!date2)
      return "N/A";
    return date2.toLocaleDateString("en-US", {
      year: "numeric",
      month: "short",
      day: "numeric"
    });
  };
  const getDaysOverdue = (returnDate) => {
    if (!returnDate)
      return 0;
    const today = /* @__PURE__ */ new Date();
    const diffTime = today.getTime() - returnDate.getTime();
    const diffDays = Math.ceil(diffTime / (1e3 * 60 * 60 * 24));
    return diffDays > 0 ? diffDays : 0;
  };
  if (!customer)
    return null;
  return /* @__PURE__ */ (0, import_jsx_runtime106.jsx)(import_ui64.Dialog, { open, onOpenChange, children: /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)(import_ui64.DialogContent, { className: "max-w-6xl max-h-[90vh] overflow-y-auto", children: [
    /* @__PURE__ */ (0, import_jsx_runtime106.jsx)(import_ui64.DialogHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)("div", { children: [
      /* @__PURE__ */ (0, import_jsx_runtime106.jsx)(import_ui64.DialogTitle, { className: "text-xl font-semibold", children: "Customer Orders" }),
      /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)(import_ui64.DialogDescription, { className: "text-sm text-gray-600 mt-1", children: [
        "View all orders for ",
        customer.firstName,
        " ",
        customer.lastName
      ] })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)("div", { className: "mt-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)(import_ui65.Card, { className: "mb-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime106.jsx)(import_ui65.CardHeader, { className: "pb-3", children: /* @__PURE__ */ (0, import_jsx_runtime106.jsx)(import_ui65.CardTitle, { className: "text-lg", children: "Customer Information" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime106.jsx)(import_ui65.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)("div", { className: "flex items-center gap-3", children: [
            /* @__PURE__ */ (0, import_jsx_runtime106.jsx)(import_lucide_react42.User, { className: "w-5 h-5 text-gray-500" }),
            /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)("p", { className: "font-medium", children: [
                customer.firstName,
                " ",
                customer.lastName
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime106.jsx)("p", { className: "text-sm text-gray-500", children: customer.email })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)("div", { className: "flex items-center gap-3", children: [
            /* @__PURE__ */ (0, import_jsx_runtime106.jsx)(import_lucide_react42.Package, { className: "w-5 h-5 text-gray-500" }),
            /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)("p", { className: "font-medium", children: [
                orders.length,
                " Orders"
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime106.jsx)("p", { className: "text-sm text-gray-500", children: "Total Orders" })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)("div", { className: "flex items-center gap-3", children: [
            /* @__PURE__ */ (0, import_jsx_runtime106.jsx)(import_lucide_react42.DollarSign, { className: "w-5 h-5 text-gray-500" }),
            /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime106.jsx)("p", { className: "font-medium", children: formatCurrency20(orders.reduce((sum, order) => sum + order.totalAmount, 0)) }),
              /* @__PURE__ */ (0, import_jsx_runtime106.jsx)("p", { className: "text-sm text-gray-500", children: "Total Spent" })
            ] })
          ] })
        ] }) })
      ] }),
      loading ? /* @__PURE__ */ (0, import_jsx_runtime106.jsx)(import_ui65.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime106.jsx)(import_ui65.CardContent, { className: "text-center py-12", children: /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)("div", { className: "text-gray-500", children: [
        /* @__PURE__ */ (0, import_jsx_runtime106.jsx)(import_lucide_react42.Package, { className: "w-8 h-8 mx-auto mb-2 animate-spin" }),
        /* @__PURE__ */ (0, import_jsx_runtime106.jsx)("p", { children: "Loading orders..." })
      ] }) }) }) : error2 ? /* @__PURE__ */ (0, import_jsx_runtime106.jsx)(import_ui65.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime106.jsx)(import_ui65.CardContent, { className: "text-center py-12", children: /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)("div", { className: "text-red-500", children: [
        /* @__PURE__ */ (0, import_jsx_runtime106.jsx)(import_lucide_react42.Package, { className: "w-8 h-8 mx-auto mb-2" }),
        /* @__PURE__ */ (0, import_jsx_runtime106.jsx)("p", { children: error2 })
      ] }) }) }) : orders.length === 0 ? /* @__PURE__ */ (0, import_jsx_runtime106.jsx)(import_ui65.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime106.jsx)(import_ui65.CardContent, { className: "text-center py-12", children: /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)("div", { className: "text-gray-500", children: [
        /* @__PURE__ */ (0, import_jsx_runtime106.jsx)(import_lucide_react42.Package, { className: "w-8 h-8 mx-auto mb-2" }),
        /* @__PURE__ */ (0, import_jsx_runtime106.jsx)("p", { children: "No orders found for this customer" })
      ] }) }) }) : /* @__PURE__ */ (0, import_jsx_runtime106.jsx)("div", { className: "space-y-4", children: orders.map((order) => /* @__PURE__ */ (0, import_jsx_runtime106.jsx)(import_ui65.Card, { className: "hover:shadow-md transition-shadow", children: /* @__PURE__ */ (0, import_jsx_runtime106.jsx)(import_ui65.CardContent, { className: "p-4", children: /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)("div", { className: "flex items-start justify-between", children: [
        /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)("div", { className: "flex-1", children: [
          /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)("div", { className: "flex items-center gap-3 mb-3", children: [
            /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)("h3", { className: "font-semibold text-lg", children: [
              "#",
              order.orderNumber
            ] }),
            getStatusBadge(order.status),
            getOrderTypeBadge(order.orderType),
            order.status === "PICKUPED" && order.returnPlanAt && /* @__PURE__ */ new Date() > order.returnPlanAt && /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)(import_ui66.Badge, { variant: "outline", className: "bg-red-50 text-red-700 border-red-200", children: [
              getDaysOverdue(order.returnPlanAt),
              " days overdue"
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm", children: [
            /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)("div", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime106.jsx)(import_lucide_react42.MapPin, { className: "w-4 h-4 text-gray-500" }),
              /* @__PURE__ */ (0, import_jsx_runtime106.jsx)("span", { className: "text-gray-600", children: order.outletName })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)("div", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime106.jsx)(import_lucide_react42.Calendar, { className: "w-4 h-4 text-gray-500" }),
              /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)("span", { className: "text-gray-600", children: [
                "Created: ",
                formatDate11(order.createdAt)
              ] })
            ] }),
            order.pickupPlanAt && /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)("div", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime106.jsx)(import_lucide_react42.Package, { className: "w-4 h-4 text-gray-500" }),
              /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)("span", { className: "text-gray-600", children: [
                "Pickup: ",
                formatDate11(order.pickupPlanAt)
              ] })
            ] }),
            order.returnPlanAt && /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)("div", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime106.jsx)(import_lucide_react42.Clock, { className: "w-4 h-4 text-gray-500" }),
              /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)("span", { className: "text-gray-600", children: [
                "Return: ",
                formatDate11(order.returnPlanAt)
              ] })
            ] })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)("div", { className: "text-right ml-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime106.jsx)("div", { className: "text-lg font-semibold text-gray-900", children: formatCurrency20(order.totalAmount) }),
          order.depositAmount > 0 && /* @__PURE__ */ (0, import_jsx_runtime106.jsxs)("div", { className: "text-sm text-gray-500", children: [
            "Deposit: ",
            formatCurrency20(order.depositAmount)
          ] })
        ] })
      ] }) }) }, order.id)) })
    ] })
  ] }) });
};

// src/components/features/Customers/components/CustomersLoading.tsx
var import_ui67 = require("@rentalshop/ui");
var import_jsx_runtime107 = require("react/jsx-runtime");
function CustomersLoading() {
  return /* @__PURE__ */ (0, import_jsx_runtime107.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime107.jsx)(import_ui67.StatsSkeleton, {}),
    /* @__PURE__ */ (0, import_jsx_runtime107.jsx)(import_ui67.SearchSkeleton, {}),
    /* @__PURE__ */ (0, import_jsx_runtime107.jsx)(import_ui67.TableSkeleton, { rows: 8, columns: 5 }),
    /* @__PURE__ */ (0, import_jsx_runtime107.jsx)(import_ui67.PaginationSkeleton, {})
  ] });
}
function CustomerDetailLoading() {
  return /* @__PURE__ */ (0, import_jsx_runtime107.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime107.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime107.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime107.jsx)("div", { className: "h-8 w-48 bg-gray-200 rounded animate-pulse" }),
        /* @__PURE__ */ (0, import_jsx_runtime107.jsx)("div", { className: "h-4 w-32 bg-gray-200 rounded animate-pulse" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime107.jsxs)("div", { className: "flex gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime107.jsx)("div", { className: "h-10 w-24 bg-gray-200 rounded animate-pulse" }),
        /* @__PURE__ */ (0, import_jsx_runtime107.jsx)("div", { className: "h-10 w-24 bg-gray-200 rounded animate-pulse" })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime107.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime107.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime107.jsx)("div", { className: "h-6 w-24 bg-gray-200 rounded animate-pulse" }),
        /* @__PURE__ */ (0, import_jsx_runtime107.jsx)("div", { className: "space-y-2", children: Array.from({ length: 5 }).map((_, i) => /* @__PURE__ */ (0, import_jsx_runtime107.jsx)("div", { className: "h-4 w-full bg-gray-200 rounded animate-pulse" }, i)) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime107.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime107.jsx)("div", { className: "h-6 w-24 bg-gray-200 rounded animate-pulse" }),
        /* @__PURE__ */ (0, import_jsx_runtime107.jsx)("div", { className: "space-y-2", children: Array.from({ length: 4 }).map((_, i) => /* @__PURE__ */ (0, import_jsx_runtime107.jsx)("div", { className: "h-4 w-full bg-gray-200 rounded animate-pulse" }, i)) })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime107.jsxs)("div", { className: "space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime107.jsx)("div", { className: "h-6 w-32 bg-gray-200 rounded animate-pulse" }),
      /* @__PURE__ */ (0, import_jsx_runtime107.jsx)(import_ui67.TableSkeleton, { rows: 3, columns: 4 })
    ] })
  ] });
}

// src/components/features/Customers/Customers.tsx
var import_lucide_react43 = require("lucide-react");
var import_hooks8 = require("@rentalshop/hooks");
var import_jsx_runtime108 = require("react/jsx-runtime");
var Customers = ({
  // Data props
  data,
  filters = {},
  onFiltersChange = () => {
  },
  onSearchChange = () => {
  },
  onClearFilters = () => {
  },
  onCustomerAction = () => {
  },
  onPageChange = () => {
  },
  onSort = () => {
  },
  // Display props
  title = "Customer Management",
  subtitle = "Manage customers in the system",
  showExportButton = false,
  showAddButton = false,
  addButtonText = "Add Customer",
  exportButtonText = "Export Customers",
  showStats = false,
  currentUser,
  onExport,
  className = ""
}) => {
  const { canManageUsers } = (0, import_hooks8.useUserRole)(currentUser);
  const handleExport = () => {
    if (onExport) {
      onExport();
    } else {
      console.log("Export functionality not implemented");
    }
  };
  const handleAddCustomer = () => {
    console.log("Add customer functionality should be implemented in page");
  };
  const customers = data?.customers || [];
  const totalCustomers = data?.total || 0;
  const currentPage = data?.page || 1;
  const totalPages = data?.totalPages || 1;
  const limit = data?.limit || 25;
  const memoizedOnFiltersChange = import_react52.default.useCallback(onFiltersChange, [onFiltersChange]);
  const memoizedOnSearchChange = import_react52.default.useCallback(onSearchChange, [onSearchChange]);
  const memoizedOnClearFilters = import_react52.default.useCallback(onClearFilters, [onClearFilters]);
  const memoizedOnCustomerAction = import_react52.default.useCallback(onCustomerAction, [onCustomerAction]);
  const memoizedOnPageChange = import_react52.default.useCallback(onPageChange, [onPageChange]);
  const memoizedOnSort = import_react52.default.useCallback(onSort, [onSort]);
  return /* @__PURE__ */ (0, import_jsx_runtime108.jsxs)("div", { className: `flex flex-col h-full ${className}`, children: [
    /* @__PURE__ */ (0, import_jsx_runtime108.jsxs)("div", { className: "flex-shrink-0 space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime108.jsxs)(
        CustomerPageHeader,
        {
          title,
          subtitle,
          children: [
            showAddButton && canManageUsers && /* @__PURE__ */ (0, import_jsx_runtime108.jsxs)(
              import_ui68.Button,
              {
                onClick: handleAddCustomer,
                className: "flex items-center space-x-2",
                children: [
                  /* @__PURE__ */ (0, import_jsx_runtime108.jsx)(import_lucide_react43.User, { className: "w-4 h-4" }),
                  /* @__PURE__ */ (0, import_jsx_runtime108.jsx)("span", { children: addButtonText })
                ]
              }
            ),
            showExportButton && /* @__PURE__ */ (0, import_jsx_runtime108.jsxs)(
              import_ui68.Button,
              {
                variant: "outline",
                onClick: handleExport,
                className: "flex items-center space-x-2",
                children: [
                  /* @__PURE__ */ (0, import_jsx_runtime108.jsx)(import_lucide_react43.Download, { className: "w-4 h-4" }),
                  /* @__PURE__ */ (0, import_jsx_runtime108.jsx)("span", { children: exportButtonText })
                ]
              }
            )
          ]
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime108.jsx)(
        CustomerSearch,
        {
          filters,
          onFiltersChange: memoizedOnFiltersChange,
          onSearchChange: memoizedOnSearchChange,
          onClearFilters: memoizedOnClearFilters
        }
      )
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime108.jsx)("div", { className: "flex-1 min-h-0 mt-4", children: customers.length > 0 ? /* @__PURE__ */ (0, import_jsx_runtime108.jsx)(
      CustomerTable,
      {
        customers,
        onCustomerAction: memoizedOnCustomerAction,
        sortBy: filters.sortBy || "createdAt",
        sortOrder: filters.sortOrder || "desc",
        onSort: memoizedOnSort
      }
    ) : /* @__PURE__ */ (0, import_jsx_runtime108.jsx)(
      import_ui68.EmptyState,
      {
        icon: import_lucide_react43.User,
        title: "No customers found",
        description: filters.search || filters.q ? "Try adjusting your search" : "Get started by adding your first customer",
        actionLabel: canManageUsers ? addButtonText : void 0,
        onAction: canManageUsers ? handleAddCustomer : void 0
      }
    ) }),
    customers.length > 0 && totalCustomers > limit && /* @__PURE__ */ (0, import_jsx_runtime108.jsx)("div", { className: "flex-shrink-0 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime108.jsx)(
      import_ui68.Pagination,
      {
        currentPage,
        totalPages,
        total: totalCustomers,
        limit,
        onPageChange: memoizedOnPageChange,
        itemName: "customers"
      }
    ) })
  ] });
};
var Customers_default = Customers;

// src/components/features/Orders/Orders.tsx
var import_react53 = __toESM(require("react"));
var import_ui69 = require("@rentalshop/ui");
var import_jsx_runtime109 = require("react/jsx-runtime");
var Orders = import_react53.default.memo(function Orders2({
  data,
  filters,
  onFiltersChange,
  onSearchChange,
  onClearFilters,
  onOrderAction,
  onPageChange,
  onSort,
  showStats = true
}) {
  import_react53.default.useEffect(() => {
    console.log("\u{1F4CA} Orders Component: received new data", {
      ordersCount: data.orders.length,
      searchTerm: filters.search,
      statusFilter: filters.status,
      firstOrder: data.orders[0]?.orderNumber
    });
  }, [data.orders, filters.search, filters.status]);
  const memoizedOnFiltersChange = import_react53.default.useCallback(onFiltersChange, [onFiltersChange]);
  const memoizedOnSearchChange = import_react53.default.useCallback(onSearchChange, [onSearchChange]);
  const memoizedOnClearFilters = import_react53.default.useCallback(onClearFilters || (() => {
  }), [onClearFilters]);
  const memoizedOnOrderAction = import_react53.default.useCallback(onOrderAction, [onOrderAction]);
  const memoizedOnPageChange = import_react53.default.useCallback(onPageChange, [onPageChange]);
  const memoizedOnSort = import_react53.default.useCallback(onSort || (() => {
  }), [onSort]);
  return /* @__PURE__ */ (0, import_jsx_runtime109.jsxs)("div", { className: "flex flex-col h-full", children: [
    /* @__PURE__ */ (0, import_jsx_runtime109.jsxs)("div", { className: "flex-shrink-0 space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime109.jsx)(
        OrderHeader,
        {
          totalOrders: data.total,
          stats: data.stats,
          showStats
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime109.jsx)(
        OrderFilters,
        {
          filters,
          onFiltersChange: memoizedOnFiltersChange,
          onSearchChange: memoizedOnSearchChange,
          onClearFilters: memoizedOnClearFilters
        }
      )
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime109.jsx)("div", { className: "flex-1 min-h-0 mt-4", children: /* @__PURE__ */ (0, import_jsx_runtime109.jsx)(
      OrderTable,
      {
        orders: data.orders,
        onOrderAction: memoizedOnOrderAction,
        sortBy: filters.sortBy,
        sortOrder: filters.sortOrder,
        onSort: memoizedOnSort
      }
    ) }),
    data.total > 0 && data.total > (data.limit || 20) && /* @__PURE__ */ (0, import_jsx_runtime109.jsx)("div", { className: "flex-shrink-0 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime109.jsx)(
      import_ui69.Pagination,
      {
        currentPage: data.currentPage,
        totalPages: data.totalPages,
        total: data.total,
        limit: data.limit || 20,
        onPageChange: memoizedOnPageChange,
        itemName: "orders"
      }
    ) })
  ] });
});
var Orders_default = Orders;

// src/components/features/Orders/RentalPeriodSelector.tsx
var import_react54 = require("react");
var import_ui70 = require("@rentalshop/ui");
var import_utils24 = require("@rentalshop/utils");
var import_jsx_runtime110 = require("react/jsx-runtime");
var RentalPeriodSelector2 = ({
  product,
  merchant,
  onPeriodChange,
  onPriceChange,
  initialStartDate,
  initialEndDate
}) => {
  const [rentalStartAt, setRentalStartAt] = (0, import_react54.useState)(
    () => initialStartDate ? new Date(initialStartDate) : null
  );
  const [rentalEndAt, setRentalEndAt] = (0, import_react54.useState)(
    () => initialEndDate ? new Date(initialEndDate) : null
  );
  const [validationResult, setValidationResult] = (0, import_react54.useState)(null);
  const [lastNotifiedDates, setLastNotifiedDates] = (0, import_react54.useState)("");
  const config = import_utils24.PricingResolver.getEffectivePricingConfig(product, merchant);
  const [pickupHour, setPickupHour] = (0, import_react54.useState)(() => {
    if (initialStartDate) {
      return new Date(initialStartDate).getHours();
    }
    return 9;
  });
  const [returnHour, setReturnHour] = (0, import_react54.useState)(() => {
    if (initialEndDate) {
      return new Date(initialEndDate).getHours();
    }
    return 17;
  });
  console.log("\u{1F50D} RentalPeriodSelector rendered:", {
    pricingType: config.pricingType,
    productName: product.name,
    merchantBusinessType: merchant.businessType
  });
  (0, import_react54.useEffect)(() => {
    if (rentalStartAt && rentalEndAt) {
      const currentDatesKey = `${rentalStartAt.toISOString()}_${rentalEndAt.toISOString()}`;
      if (currentDatesKey !== lastNotifiedDates) {
        console.log("\u{1F50D} RentalPeriodSelector dates changed:", {
          rentalStartAt,
          rentalEndAt,
          currentDatesKey,
          lastNotifiedDates
        });
        setLastNotifiedDates(currentDatesKey);
        onPeriodChange(rentalStartAt, rentalEndAt);
        const validation = import_utils24.PricingValidator.validateRentalPeriod(
          product,
          merchant,
          rentalStartAt,
          rentalEndAt,
          1
        );
        setValidationResult(validation);
        console.log("\u{1F50D} Validation result:", validation);
        if (validation.isValid && onPriceChange) {
          try {
            const pricing = import_utils24.PricingResolver.calculatePrice(
              product,
              merchant,
              rentalStartAt,
              rentalEndAt,
              1
            );
            onPriceChange(pricing);
          } catch (error2) {
            console.error("Price calculation error:", error2);
          }
        }
      }
    }
  }, [rentalStartAt, rentalEndAt]);
  const setQuickDuration = (duration, unit) => {
    const now = /* @__PURE__ */ new Date();
    let endTime;
    switch (unit) {
      case "hour":
        endTime = new Date(now.getTime() + duration * 60 * 60 * 1e3);
        break;
      case "day":
        endTime = new Date(now.getTime() + duration * 24 * 60 * 60 * 1e3);
        break;
      case "week":
        endTime = new Date(now.getTime() + duration * 7 * 24 * 60 * 60 * 1e3);
        break;
      default:
        endTime = now;
    }
    setRentalStartAt(now);
    setRentalEndAt(endTime);
  };
  const calculateDuration = (start, end, pricingType) => {
    const durationMs = end.getTime() - start.getTime();
    switch (pricingType) {
      case "HOURLY":
        const hours = Math.ceil(durationMs / (1e3 * 60 * 60));
        return `${hours} hour${hours > 1 ? "s" : ""}`;
      case "DAILY":
        const days = Math.ceil(durationMs / (1e3 * 60 * 60 * 24));
        return `${days} day${days > 1 ? "s" : ""}`;
      case "WEEKLY":
        const weeks = Math.ceil(durationMs / (1e3 * 60 * 60 * 24 * 7));
        return `${weeks} week${weeks > 1 ? "s" : ""}`;
      default:
        return "N/A";
    }
  };
  const calculateTotalPrice = () => {
    if (!rentalStartAt || !rentalEndAt)
      return 0;
    try {
      const pricing = import_utils24.PricingResolver.calculatePrice(
        product,
        merchant,
        rentalStartAt,
        rentalEndAt,
        1
      );
      return pricing.totalPrice;
    } catch (error2) {
      return 0;
    }
  };
  const renderPricingUI = () => {
    switch (config.pricingType) {
      case "HOURLY":
        return renderHourlyPricing();
      case "DAILY":
        return renderDailyPricing();
      case "WEEKLY":
        return renderWeeklyPricing();
      case "FIXED":
      default:
        return renderFixedPricing();
    }
  };
  const renderCalendarUI = (label, quickButtons) => /* @__PURE__ */ (0, import_jsx_runtime110.jsxs)("div", { className: "space-y-3", children: [
    /* @__PURE__ */ (0, import_jsx_runtime110.jsx)(import_ui70.Label, { className: "text-sm font-medium", children: label }),
    /* @__PURE__ */ (0, import_jsx_runtime110.jsx)(
      import_ui70.DateRangePicker,
      {
        value: {
          from: rentalStartAt || void 0,
          to: rentalEndAt || void 0
        },
        onChange: (range) => {
          if (range?.from)
            setRentalStartAt(range.from);
          if (range?.to)
            setRentalEndAt(range.to);
        },
        placeholder: "Select pickup and return dates",
        minDate: /* @__PURE__ */ new Date(),
        showPresets: true
      }
    ),
    quickButtons && quickButtons.length > 0 && /* @__PURE__ */ (0, import_jsx_runtime110.jsx)("div", { className: "flex gap-2 flex-wrap", children: quickButtons.map((btn) => /* @__PURE__ */ (0, import_jsx_runtime110.jsx)(
      import_ui70.Button,
      {
        type: "button",
        variant: "outline",
        size: "sm",
        onClick: () => setQuickDuration(btn.value, btn.unit),
        children: btn.label
      },
      btn.value
    )) })
  ] });
  const renderFixedPricing = () => renderCalendarUI("Rental Period");
  const renderHourlyPricing = () => {
    const updateHourlyDates = (pickup, returnH) => {
      if (rentalStartAt) {
        const newStart = new Date(rentalStartAt);
        newStart.setHours(pickup, 0, 0, 0);
        setRentalStartAt(newStart);
        const newEnd = new Date(rentalStartAt);
        newEnd.setHours(returnH, 0, 0, 0);
        setRentalEndAt(newEnd);
      }
    };
    return /* @__PURE__ */ (0, import_jsx_runtime110.jsxs)("div", { className: "space-y-3", children: [
      /* @__PURE__ */ (0, import_jsx_runtime110.jsx)(import_ui70.Label, { className: "text-sm font-medium", children: "Rental Period (Hourly)" }),
      /* @__PURE__ */ (0, import_jsx_runtime110.jsx)("div", { className: "space-y-2", children: /* @__PURE__ */ (0, import_jsx_runtime110.jsx)(
        import_ui70.DateRangePicker,
        {
          value: {
            from: rentalStartAt || void 0,
            to: rentalStartAt || void 0
            // Same day for hourly
          },
          onChange: (range) => {
            if (range?.from) {
              const selectedDate = new Date(range.from);
              const newStart = new Date(selectedDate);
              newStart.setHours(pickupHour, 0, 0, 0);
              setRentalStartAt(newStart);
              const newEnd = new Date(selectedDate);
              newEnd.setHours(returnHour, 0, 0, 0);
              setRentalEndAt(newEnd);
            }
          },
          placeholder: "Select rental date",
          minDate: /* @__PURE__ */ new Date(),
          showPresets: false
        }
      ) }),
      /* @__PURE__ */ (0, import_jsx_runtime110.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime110.jsx)(import_ui70.Label, { className: "text-sm font-medium text-gray-600", children: "Pickup Hour" }),
        /* @__PURE__ */ (0, import_jsx_runtime110.jsx)("div", { className: "grid grid-cols-8 gap-1", children: Array.from({ length: 24 }, (_, i) => i).map((hour) => /* @__PURE__ */ (0, import_jsx_runtime110.jsx)(
          import_ui70.Button,
          {
            type: "button",
            variant: pickupHour === hour ? "default" : "outline",
            size: "sm",
            onClick: () => {
              setPickupHour(hour);
              updateHourlyDates(hour, returnHour);
            },
            disabled: !rentalStartAt,
            className: "text-xs px-1",
            children: hour.toString().padStart(2, "0")
          },
          hour
        )) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime110.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime110.jsx)(import_ui70.Label, { className: "text-sm font-medium text-gray-600", children: "Return Hour" }),
        /* @__PURE__ */ (0, import_jsx_runtime110.jsx)("div", { className: "grid grid-cols-8 gap-1", children: Array.from({ length: 24 }, (_, i) => i).map((hour) => /* @__PURE__ */ (0, import_jsx_runtime110.jsx)(
          import_ui70.Button,
          {
            type: "button",
            variant: returnHour === hour ? "default" : "outline",
            size: "sm",
            onClick: () => {
              setReturnHour(hour);
              updateHourlyDates(pickupHour, hour);
            },
            disabled: !rentalStartAt || hour <= pickupHour,
            className: "text-xs px-1",
            children: hour.toString().padStart(2, "0")
          },
          hour
        )) })
      ] }),
      rentalStartAt && rentalEndAt && /* @__PURE__ */ (0, import_jsx_runtime110.jsx)("div", { className: "p-3 bg-blue-50 rounded-lg border border-blue-200 text-sm", children: /* @__PURE__ */ (0, import_jsx_runtime110.jsxs)("div", { className: "flex justify-between", children: [
        /* @__PURE__ */ (0, import_jsx_runtime110.jsx)("span", { className: "text-gray-600", children: "Duration:" }),
        /* @__PURE__ */ (0, import_jsx_runtime110.jsxs)("span", { className: "font-medium text-blue-700", children: [
          Math.ceil((rentalEndAt.getTime() - rentalStartAt.getTime()) / (1e3 * 60 * 60)),
          " hours"
        ] })
      ] }) })
    ] });
  };
  const renderDailyPricing = () => renderCalendarUI(
    "Rental Period (Daily)",
    [
      { value: 1, unit: "day", label: "1 Day" },
      { value: 3, unit: "day", label: "3 Days" },
      { value: 7, unit: "day", label: "1 Week" },
      { value: 14, unit: "day", label: "2 Weeks" }
    ]
  );
  const renderWeeklyPricing = () => renderCalendarUI(
    "Rental Period (Weekly)",
    [
      { value: 1, unit: "week", label: "1 Week" },
      { value: 2, unit: "week", label: "2 Weeks" },
      { value: 4, unit: "week", label: "1 Month" }
    ]
  );
  return renderPricingUI();
};

// src/components/features/Merchants/Merchants.tsx
var import_react70 = __toESM(require("react"));

// src/components/features/Merchants/components/MerchantHeader.tsx
var import_lucide_react44 = require("lucide-react");
var import_jsx_runtime111 = require("react/jsx-runtime");
function MerchantHeader({ merchant, stats }) {
  return /* @__PURE__ */ (0, import_jsx_runtime111.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime111.jsx)(Card2, { className: "shadow-sm border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ (0, import_jsx_runtime111.jsx)(CardContent2, { className: "p-6", children: /* @__PURE__ */ (0, import_jsx_runtime111.jsxs)("div", { className: "space-y-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime111.jsx)("p", { className: "text-xs font-medium text-gray-600 dark:text-gray-400", children: "Merchant" }),
      /* @__PURE__ */ (0, import_jsx_runtime111.jsx)("p", { className: "text-base font-bold text-gray-900 dark:text-white", children: merchant.name }),
      /* @__PURE__ */ (0, import_jsx_runtime111.jsx)("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: merchant.email })
    ] }) }) }),
    /* @__PURE__ */ (0, import_jsx_runtime111.jsx)(Card2, { className: "shadow-sm border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ (0, import_jsx_runtime111.jsx)(CardContent2, { className: "p-6", children: /* @__PURE__ */ (0, import_jsx_runtime111.jsxs)("div", { className: "text-center", children: [
      /* @__PURE__ */ (0, import_jsx_runtime111.jsx)(import_lucide_react44.Building2, { className: "w-6 h-6 text-blue-600 mx-auto mb-2" }),
      /* @__PURE__ */ (0, import_jsx_runtime111.jsx)("p", { className: "text-xs font-medium text-gray-600 dark:text-gray-400", children: "Total Outlets" }),
      /* @__PURE__ */ (0, import_jsx_runtime111.jsx)("p", { className: "text-2xl font-bold text-gray-900 dark:text-white", children: stats.totalOutlets }),
      /* @__PURE__ */ (0, import_jsx_runtime111.jsx)("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Business locations" })
    ] }) }) }),
    /* @__PURE__ */ (0, import_jsx_runtime111.jsx)(Card2, { className: "shadow-sm border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ (0, import_jsx_runtime111.jsx)(CardContent2, { className: "p-6", children: /* @__PURE__ */ (0, import_jsx_runtime111.jsxs)("div", { className: "text-center", children: [
      /* @__PURE__ */ (0, import_jsx_runtime111.jsx)(import_lucide_react44.Users, { className: "w-6 h-6 text-purple-600 mx-auto mb-2" }),
      /* @__PURE__ */ (0, import_jsx_runtime111.jsx)("p", { className: "text-xs font-medium text-gray-600 dark:text-gray-400", children: "Total Users" }),
      /* @__PURE__ */ (0, import_jsx_runtime111.jsx)("p", { className: "text-2xl font-bold text-gray-900 dark:text-white", children: stats.totalUsers }),
      /* @__PURE__ */ (0, import_jsx_runtime111.jsx)("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Staff accounts" })
    ] }) }) }),
    /* @__PURE__ */ (0, import_jsx_runtime111.jsx)(Card2, { className: "shadow-sm border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ (0, import_jsx_runtime111.jsx)(CardContent2, { className: "p-6", children: /* @__PURE__ */ (0, import_jsx_runtime111.jsxs)("div", { className: "text-center", children: [
      /* @__PURE__ */ (0, import_jsx_runtime111.jsx)(import_lucide_react44.TrendingUp, { className: "w-6 h-6 text-green-600 mx-auto mb-2" }),
      /* @__PURE__ */ (0, import_jsx_runtime111.jsx)("p", { className: "text-xs font-medium text-gray-600 dark:text-gray-400", children: "Total Revenue" }),
      /* @__PURE__ */ (0, import_jsx_runtime111.jsxs)("p", { className: "text-2xl font-bold text-gray-900 dark:text-white", children: [
        "$",
        (stats.totalRevenue || 0).toLocaleString()
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime111.jsx)("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Lifetime earnings" })
    ] }) }) })
  ] });
}

// src/components/features/Merchants/components/MerchantListHeader.tsx
var import_jsx_runtime112 = require("react/jsx-runtime");
function MerchantListHeader({ stats }) {
  return /* @__PURE__ */ (0, import_jsx_runtime112.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime112.jsx)(Card2, { className: "shadow-sm border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ (0, import_jsx_runtime112.jsx)(CardContent2, { className: "p-6", children: /* @__PURE__ */ (0, import_jsx_runtime112.jsxs)("div", { className: "space-y-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime112.jsx)("p", { className: "text-sm font-medium text-gray-600 dark:text-gray-400", children: "Total Merchants" }),
      /* @__PURE__ */ (0, import_jsx_runtime112.jsx)("p", { className: "text-3xl font-bold text-gray-900 dark:text-white", children: stats.totalMerchants }),
      /* @__PURE__ */ (0, import_jsx_runtime112.jsx)("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "All registered merchants" })
    ] }) }) }),
    /* @__PURE__ */ (0, import_jsx_runtime112.jsx)(Card2, { className: "shadow-sm border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ (0, import_jsx_runtime112.jsx)(CardContent2, { className: "p-6", children: /* @__PURE__ */ (0, import_jsx_runtime112.jsxs)("div", { className: "space-y-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime112.jsx)("p", { className: "text-sm font-medium text-gray-600 dark:text-gray-400", children: "Active Merchants" }),
      /* @__PURE__ */ (0, import_jsx_runtime112.jsx)("p", { className: "text-3xl font-bold text-gray-900 dark:text-white", children: stats.activeMerchants }),
      /* @__PURE__ */ (0, import_jsx_runtime112.jsx)("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Currently active accounts" })
    ] }) }) }),
    /* @__PURE__ */ (0, import_jsx_runtime112.jsx)(Card2, { className: "shadow-sm border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ (0, import_jsx_runtime112.jsx)(CardContent2, { className: "p-6", children: /* @__PURE__ */ (0, import_jsx_runtime112.jsxs)("div", { className: "space-y-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime112.jsx)("p", { className: "text-sm font-medium text-gray-600 dark:text-gray-400", children: "Trial Accounts" }),
      /* @__PURE__ */ (0, import_jsx_runtime112.jsx)("p", { className: "text-3xl font-bold text-gray-900 dark:text-white", children: stats.trialAccounts }),
      /* @__PURE__ */ (0, import_jsx_runtime112.jsx)("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Free trial users" })
    ] }) }) }),
    /* @__PURE__ */ (0, import_jsx_runtime112.jsx)(Card2, { className: "shadow-sm border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ (0, import_jsx_runtime112.jsx)(CardContent2, { className: "p-6", children: /* @__PURE__ */ (0, import_jsx_runtime112.jsxs)("div", { className: "space-y-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime112.jsx)("p", { className: "text-sm font-medium text-gray-600 dark:text-gray-400", children: "Total Revenue" }),
      /* @__PURE__ */ (0, import_jsx_runtime112.jsxs)("p", { className: "text-3xl font-bold text-gray-900 dark:text-white", children: [
        "$",
        (stats.totalRevenue || 0).toLocaleString()
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime112.jsx)("p", { className: "text-xs text-gray-500 dark:text-gray-400", children: "Lifetime earnings" })
    ] }) }) })
  ] });
}
var MerchantListHeader_default = MerchantListHeader;

// src/components/features/Merchants/components/MerchantFilters.tsx
var import_lucide_react45 = require("lucide-react");
var import_jsx_runtime113 = require("react/jsx-runtime");
function MerchantFilters({
  filters,
  onFiltersChange,
  onSearchChange,
  onClearFilters
}) {
  const handleSearchChange = (e) => {
    onSearchChange(e.target.value);
  };
  const handleStatusChange = (value) => {
    onFiltersChange({ ...filters, status: value });
  };
  const handlePlanChange = (value) => {
    onFiltersChange({ ...filters, plan: value });
  };
  const handleClearFilters = () => {
    if (onClearFilters) {
      onClearFilters();
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime113.jsx)(Card2, { className: "mb-6 shadow-sm border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ (0, import_jsx_runtime113.jsx)(CardContent2, { className: "p-6", children: /* @__PURE__ */ (0, import_jsx_runtime113.jsxs)("div", { className: "flex flex-col lg:flex-row gap-4 items-start lg:items-center", children: [
    /* @__PURE__ */ (0, import_jsx_runtime113.jsx)("div", { className: "flex-1 w-full lg:w-auto", children: /* @__PURE__ */ (0, import_jsx_runtime113.jsxs)("div", { className: "relative", children: [
      /* @__PURE__ */ (0, import_jsx_runtime113.jsx)(import_lucide_react45.Search, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4" }),
      /* @__PURE__ */ (0, import_jsx_runtime113.jsx)(
        Input2,
        {
          type: "text",
          placeholder: "Search merchants by name or email...",
          value: filters.search,
          onChange: handleSearchChange,
          className: "pl-10 w-full lg:w-80"
        }
      )
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime113.jsxs)("div", { className: "flex flex-wrap gap-3 items-center", children: [
      /* @__PURE__ */ (0, import_jsx_runtime113.jsxs)("div", { className: "flex items-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime113.jsx)("label", { className: "text-sm font-medium text-gray-700 dark:text-gray-300", children: "Status:" }),
        /* @__PURE__ */ (0, import_jsx_runtime113.jsxs)(Select2, { value: filters.status, onValueChange: handleStatusChange, children: [
          /* @__PURE__ */ (0, import_jsx_runtime113.jsx)(SelectTrigger2, { className: "w-32", children: /* @__PURE__ */ (0, import_jsx_runtime113.jsx)(SelectValue2, { placeholder: "All Status" }) }),
          /* @__PURE__ */ (0, import_jsx_runtime113.jsxs)(SelectContent2, { children: [
            /* @__PURE__ */ (0, import_jsx_runtime113.jsx)(SelectItem2, { value: "all", children: "All Status" }),
            /* @__PURE__ */ (0, import_jsx_runtime113.jsx)(SelectItem2, { value: "active", children: "Active" }),
            /* @__PURE__ */ (0, import_jsx_runtime113.jsx)(SelectItem2, { value: "inactive", children: "Inactive" }),
            /* @__PURE__ */ (0, import_jsx_runtime113.jsx)(SelectItem2, { value: "trial", children: "Trial" }),
            /* @__PURE__ */ (0, import_jsx_runtime113.jsx)(SelectItem2, { value: "expired", children: "Expired" })
          ] })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime113.jsxs)("div", { className: "flex items-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime113.jsx)("label", { className: "text-sm font-medium text-gray-700 dark:text-gray-300", children: "Plan:" }),
        /* @__PURE__ */ (0, import_jsx_runtime113.jsxs)(Select2, { value: filters.plan, onValueChange: handlePlanChange, children: [
          /* @__PURE__ */ (0, import_jsx_runtime113.jsx)(SelectTrigger2, { className: "w-32", children: /* @__PURE__ */ (0, import_jsx_runtime113.jsx)(SelectValue2, { placeholder: "All Plans" }) }),
          /* @__PURE__ */ (0, import_jsx_runtime113.jsxs)(SelectContent2, { children: [
            /* @__PURE__ */ (0, import_jsx_runtime113.jsx)(SelectItem2, { value: "all", children: "All Plans" }),
            /* @__PURE__ */ (0, import_jsx_runtime113.jsx)(SelectItem2, { value: "Basic", children: "Basic" }),
            /* @__PURE__ */ (0, import_jsx_runtime113.jsx)(SelectItem2, { value: "Professional", children: "Professional" }),
            /* @__PURE__ */ (0, import_jsx_runtime113.jsx)(SelectItem2, { value: "Enterprise", children: "Enterprise" })
          ] })
        ] })
      ] }),
      onClearFilters && /* @__PURE__ */ (0, import_jsx_runtime113.jsxs)(
        Button,
        {
          variant: "outline",
          size: "sm",
          onClick: handleClearFilters,
          className: "h-9 px-3",
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime113.jsx)(import_lucide_react45.X, { className: "w-4 h-4 mr-1" }),
            "Clear"
          ]
        }
      )
    ] })
  ] }) }) });
}
var MerchantFilters_default = MerchantFilters;

// src/components/features/Merchants/components/MerchantTable.tsx
var import_react55 = require("react");
var import_lucide_react46 = require("lucide-react");
var import_jsx_runtime114 = require("react/jsx-runtime");
function MerchantTable({
  merchants,
  onMerchantAction,
  sortBy = "name",
  sortOrder = "asc",
  onSort
}) {
  const [openMenuId, setOpenMenuId] = (0, import_react55.useState)(null);
  const getStatusBadge = (merchant) => {
    if (!merchant.isActive) {
      return /* @__PURE__ */ (0, import_jsx_runtime114.jsx)(StatusBadge, { status: "inactive", size: "sm" });
    }
    return /* @__PURE__ */ (0, import_jsx_runtime114.jsx)(StatusBadge, { status: merchant.subscriptionStatus, size: "sm" });
  };
  if (merchants.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime114.jsx)(Card2, { className: "shadow-sm border-border", children: /* @__PURE__ */ (0, import_jsx_runtime114.jsx)(CardContent2, { className: "text-center py-12", children: /* @__PURE__ */ (0, import_jsx_runtime114.jsxs)("div", { className: "text-text-tertiary", children: [
      /* @__PURE__ */ (0, import_jsx_runtime114.jsx)("div", { className: "text-4xl mb-4", children: "\u{1F3EA}" }),
      /* @__PURE__ */ (0, import_jsx_runtime114.jsx)("h3", { className: "text-lg font-medium mb-2", children: "No merchants found" }),
      /* @__PURE__ */ (0, import_jsx_runtime114.jsx)("p", { className: "text-sm", children: "Try adjusting your filters or create some merchants to get started." })
    ] }) }) });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime114.jsx)(Card2, { className: "shadow-sm border-border flex flex-col h-full", children: /* @__PURE__ */ (0, import_jsx_runtime114.jsx)(CardContent2, { className: "p-0 flex-1 overflow-hidden", children: /* @__PURE__ */ (0, import_jsx_runtime114.jsx)("div", { className: "flex-1 overflow-auto h-full", children: /* @__PURE__ */ (0, import_jsx_runtime114.jsxs)("table", { className: "w-full", children: [
    /* @__PURE__ */ (0, import_jsx_runtime114.jsx)("thead", { className: "bg-bg-secondary border-b border-border sticky top-0 z-10", children: /* @__PURE__ */ (0, import_jsx_runtime114.jsxs)("tr", { children: [
      /* @__PURE__ */ (0, import_jsx_runtime114.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Merchant Name" }),
      /* @__PURE__ */ (0, import_jsx_runtime114.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Plan & Status" }),
      /* @__PURE__ */ (0, import_jsx_runtime114.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Created At" }),
      /* @__PURE__ */ (0, import_jsx_runtime114.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Start Date" }),
      /* @__PURE__ */ (0, import_jsx_runtime114.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider", children: "End Date" }),
      /* @__PURE__ */ (0, import_jsx_runtime114.jsx)("th", { className: "px-6 py-3 text-right text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Actions" })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime114.jsx)("tbody", { className: "divide-y divide-border bg-bg-card", children: merchants.map((merchant) => /* @__PURE__ */ (0, import_jsx_runtime114.jsxs)(
      "tr",
      {
        className: "hover:bg-bg-secondary transition-colors",
        children: [
          /* @__PURE__ */ (0, import_jsx_runtime114.jsx)("td", { className: "px-6 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime114.jsxs)("div", { className: "flex items-center gap-3", children: [
            /* @__PURE__ */ (0, import_jsx_runtime114.jsx)("div", { className: "flex-shrink-0 w-10 h-10 rounded-full bg-gradient-to-br from-action-primary to-brand-primary flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime114.jsx)("span", { className: "text-white font-semibold text-sm", children: merchant.name.substring(0, 2).toUpperCase() }) }),
            /* @__PURE__ */ (0, import_jsx_runtime114.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime114.jsx)("div", { className: "text-sm font-medium text-text-primary", children: merchant.name }),
              /* @__PURE__ */ (0, import_jsx_runtime114.jsx)("div", { className: "text-sm text-text-tertiary", children: merchant.email || "No email" })
            ] })
          ] }) }),
          /* @__PURE__ */ (0, import_jsx_runtime114.jsx)("td", { className: "px-6 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime114.jsxs)("div", { className: "flex flex-col gap-1", children: [
            /* @__PURE__ */ (0, import_jsx_runtime114.jsx)("div", { className: "text-sm font-medium text-text-primary", children: merchant.plan?.name || (merchant.planId ? `Plan ${merchant.planId}` : "No Plan") }),
            getStatusBadge(merchant)
          ] }) }),
          /* @__PURE__ */ (0, import_jsx_runtime114.jsx)("td", { className: "px-6 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime114.jsx)("div", { className: "text-sm text-text-primary", children: merchant.createdAt ? new Date(merchant.createdAt).toLocaleDateString("en-US", {
            month: "short",
            day: "numeric",
            year: "numeric"
          }) : "N/A" }) }),
          /* @__PURE__ */ (0, import_jsx_runtime114.jsx)("td", { className: "px-6 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime114.jsx)("div", { className: "text-sm text-text-primary", children: merchant.currentSubscription?.startDate ? new Date(merchant.currentSubscription.startDate).toLocaleDateString("en-US", {
            month: "short",
            day: "numeric",
            year: "numeric"
          }) : merchant.createdAt ? new Date(merchant.createdAt).toLocaleDateString("en-US", {
            month: "short",
            day: "numeric",
            year: "numeric"
          }) : "N/A" }) }),
          /* @__PURE__ */ (0, import_jsx_runtime114.jsx)("td", { className: "px-6 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime114.jsx)("div", { className: "text-sm text-text-primary", children: merchant.currentSubscription?.endDate ? new Date(merchant.currentSubscription.endDate).toLocaleDateString("en-US", {
            month: "short",
            day: "numeric",
            year: "numeric"
          }) : merchant.lastActiveAt ? new Date(merchant.lastActiveAt).toLocaleDateString("en-US", {
            month: "short",
            day: "numeric",
            year: "numeric"
          }) : "No end date" }) }),
          /* @__PURE__ */ (0, import_jsx_runtime114.jsx)("td", { className: "px-6 py-4 text-right", children: /* @__PURE__ */ (0, import_jsx_runtime114.jsxs)(DropdownMenu, { children: [
            /* @__PURE__ */ (0, import_jsx_runtime114.jsx)(DropdownMenuTrigger, { asChild: true, children: /* @__PURE__ */ (0, import_jsx_runtime114.jsx)(
              Button,
              {
                variant: "ghost",
                size: "sm",
                onClick: () => setOpenMenuId(openMenuId === merchant.id ? null : merchant.id),
                children: /* @__PURE__ */ (0, import_jsx_runtime114.jsx)(import_lucide_react46.MoreVertical, { className: "h-4 w-4" })
              }
            ) }),
            /* @__PURE__ */ (0, import_jsx_runtime114.jsxs)(
              DropdownMenuContent,
              {
                align: "end",
                open: openMenuId === merchant.id,
                onOpenChange: (open) => setOpenMenuId(open ? merchant.id : null),
                children: [
                  /* @__PURE__ */ (0, import_jsx_runtime114.jsxs)(
                    DropdownMenuItem,
                    {
                      onClick: () => {
                        onMerchantAction("view", merchant.id);
                        setOpenMenuId(null);
                      },
                      children: [
                        /* @__PURE__ */ (0, import_jsx_runtime114.jsx)(import_lucide_react46.Eye, { className: "h-4 w-4 mr-2" }),
                        "View Details"
                      ]
                    }
                  ),
                  /* @__PURE__ */ (0, import_jsx_runtime114.jsxs)(
                    DropdownMenuItem,
                    {
                      onClick: () => {
                        onMerchantAction("edit", merchant.id);
                        setOpenMenuId(null);
                      },
                      children: [
                        /* @__PURE__ */ (0, import_jsx_runtime114.jsx)(import_lucide_react46.Edit, { className: "h-4 w-4 mr-2" }),
                        "Edit Merchant"
                      ]
                    }
                  )
                ]
              }
            )
          ] }) })
        ]
      },
      merchant.id
    )) })
  ] }) }) }) });
}
var MerchantTable_default = MerchantTable;

// src/components/features/Merchants/components/MerchantPlanManagement.tsx
var import_react69 = require("react");

// src/components/features/Subscriptions/components/SubscriptionList.tsx
var import_react60 = require("react");
var import_lucide_react52 = require("lucide-react");

// src/components/features/Subscriptions/components/SubscriptionViewDialog.tsx
var import_ui75 = require("@rentalshop/ui");
var import_ui76 = require("@rentalshop/ui");
var import_lucide_react47 = require("lucide-react");
var import_jsx_runtime115 = require("react/jsx-runtime");
function SubscriptionViewDialog({
  subscription,
  isOpen,
  onClose,
  onEdit,
  onCancel,
  onExtend,
  onSuspend,
  onReactivate,
  onChangePlan
}) {
  if (!subscription)
    return null;
  const getStatusColor11 = (status) => {
    const normalizedStatus2 = status.toLowerCase();
    switch (normalizedStatus2) {
      case "active":
        return "default";
      case "trial":
        return "secondary";
      case "past_due":
        return "destructive";
      case "cancelled":
        return "destructive";
      case "paused":
        return "destructive";
      case "expired":
        return "destructive";
      default:
        return "secondary";
    }
  };
  const normalizedStatus = subscription.status.toLowerCase();
  const isActive = ["active", "trial", "past_due"].includes(normalizedStatus);
  const isInactive = ["cancelled", "paused", "expired"].includes(normalizedStatus);
  const isExpired = normalizedStatus === "expired" || subscription.status === "EXPIRED";
  const isActiveStatus = normalizedStatus === "active" || subscription.status === "ACTIVE";
  const debugMode = false;
  const canCancel = debugMode ? !!onCancel : isActive && !!onCancel;
  const canExtend = debugMode ? !!onExtend : isActive && !!onExtend;
  const canChangePlan = debugMode ? !!onChangePlan : isActive && !!onChangePlan;
  console.log("SubscriptionViewDialog Debug:", {
    subscription,
    originalStatus: subscription.status,
    normalizedStatus,
    isActive,
    isInactive,
    isExpired,
    isActiveStatus,
    canCancel,
    canExtend,
    canChangePlan,
    hasHandlers: {
      onCancel: !!onCancel,
      onExtend: !!onExtend,
      onChangePlan: !!onChangePlan
    }
  });
  return /* @__PURE__ */ (0, import_jsx_runtime115.jsx)(import_ui75.Dialog, { open: isOpen, onOpenChange: onClose, children: /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)(import_ui75.DialogContent, { className: "max-w-4xl max-h-[90vh] overflow-y-auto", children: [
    /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)(import_ui75.DialogHeader, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)(import_ui75.DialogTitle, { className: "flex items-center gap-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("span", { children: "Subscription Details" }),
        /* @__PURE__ */ (0, import_jsx_runtime115.jsx)(import_ui75.Badge, { variant: getStatusColor11(subscription.status), children: subscription.status })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)(import_ui75.DialogDescription, { children: [
        "View and manage subscription information for ",
        subscription.merchant?.name || "Unknown Merchant"
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { className: "space-y-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)(import_ui75.Card, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime115.jsx)(import_ui75.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime115.jsx)(import_ui75.CardTitle, { children: "Basic Information" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime115.jsx)(import_ui75.CardContent, { className: "space-y-4", children: /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { className: "grid grid-cols-2 gap-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("label", { className: "text-sm font-medium text-gray-500", children: "Subscription ID" }),
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("p", { className: "text-sm", children: subscription.id })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("label", { className: "text-sm font-medium text-gray-500", children: "Status" }),
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("div", { className: "flex items-center gap-2", children: /* @__PURE__ */ (0, import_jsx_runtime115.jsx)(import_ui75.Badge, { variant: getStatusColor11(subscription.status), children: subscription.status }) })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("label", { className: "text-sm font-medium text-gray-500", children: "Plan" }),
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("p", { className: "text-sm font-medium", children: subscription.plan?.name || "Unknown Plan" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("label", { className: "text-sm font-medium text-gray-500", children: "Amount" }),
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("p", { className: "text-sm font-medium", children: (0, import_ui76.formatCurrency)(subscription.amount, subscription.plan?.currency || "USD") })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("label", { className: "text-sm font-medium text-gray-500", children: "Billing Interval" }),
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("p", { className: "text-sm", children: subscription.billingInterval || "month" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("label", { className: "text-sm font-medium text-gray-500", children: "Currency" }),
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("p", { className: "text-sm", children: subscription.plan?.currency || "USD" })
          ] })
        ] }) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)(import_ui75.Card, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime115.jsx)(import_ui75.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime115.jsx)(import_ui75.CardTitle, { children: "Merchant Information" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime115.jsx)(import_ui75.CardContent, { className: "space-y-4", children: /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { className: "grid grid-cols-2 gap-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("label", { className: "text-sm font-medium text-gray-500", children: "Merchant ID" }),
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("p", { className: "text-sm", children: subscription.merchantId })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("label", { className: "text-sm font-medium text-gray-500", children: "Merchant Name" }),
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("p", { className: "text-sm font-medium", children: subscription.merchant?.name || "Unknown" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("label", { className: "text-sm font-medium text-gray-500", children: "Email" }),
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("p", { className: "text-sm", children: subscription.merchant?.email || "Unknown" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("label", { className: "text-sm font-medium text-gray-500", children: "Subscription Status" }),
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("p", { className: "text-sm", children: subscription.merchant?.subscriptionStatus || "Unknown" })
          ] })
        ] }) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)(import_ui75.Card, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime115.jsx)(import_ui75.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime115.jsx)(import_ui75.CardTitle, { children: "Plan Details" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime115.jsx)(import_ui75.CardContent, { className: "space-y-4", children: /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { className: "grid grid-cols-2 gap-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("label", { className: "text-sm font-medium text-gray-500", children: "Plan ID" }),
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("p", { className: "text-sm", children: subscription.planId })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("label", { className: "text-sm font-medium text-gray-500", children: "Plan Name" }),
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("p", { className: "text-sm font-medium", children: subscription.plan?.name || "Unknown" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("label", { className: "text-sm font-medium text-gray-500", children: "Plan Price" }),
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("p", { className: "text-sm font-medium", children: subscription.plan ? (0, import_ui76.formatCurrency)(subscription.plan.basePrice, subscription.plan.currency) : "Unknown" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("label", { className: "text-sm font-medium text-gray-500", children: "Billing Interval" }),
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("p", { className: "text-sm", children: subscription.billingInterval || "month" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("label", { className: "text-sm font-medium text-gray-500", children: "Status" }),
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("p", { className: "text-sm", children: subscription.status || "Unknown" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("label", { className: "text-sm font-medium text-gray-500", children: "Plan ID" }),
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("p", { className: "text-sm", children: subscription.planId || "Unknown" })
          ] })
        ] }) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)(import_ui75.Card, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime115.jsx)(import_ui75.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime115.jsx)(import_ui75.CardTitle, { children: "Important Dates" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime115.jsx)(import_ui75.CardContent, { className: "space-y-4", children: /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { className: "grid grid-cols-2 gap-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("label", { className: "text-sm font-medium text-gray-500", children: "Current Period Start" }),
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("p", { className: "text-sm", children: (0, import_ui76.formatDate)(subscription.currentPeriodStart) })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("label", { className: "text-sm font-medium text-gray-500", children: "Current Period End" }),
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("p", { className: "text-sm", children: subscription.currentPeriodEnd ? (0, import_ui76.formatDate)(subscription.currentPeriodEnd) : "No end date" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("label", { className: "text-sm font-medium text-gray-500", children: "Trial Start" }),
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("p", { className: "text-sm", children: "No trial data available" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("label", { className: "text-sm font-medium text-gray-500", children: "Trial End" }),
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("p", { className: "text-sm", children: "No trial data available" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("label", { className: "text-sm font-medium text-gray-500", children: "Created At" }),
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("p", { className: "text-sm", children: (0, import_ui76.formatDate)(subscription.createdAt) })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("label", { className: "text-sm font-medium text-gray-500", children: "Updated At" }),
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("p", { className: "text-sm", children: (0, import_ui76.formatDate)(subscription.updatedAt) })
          ] })
        ] }) })
      ] }),
      subscription.status === "cancelled" && /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)(import_ui75.Card, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime115.jsx)(import_ui75.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime115.jsx)(import_ui75.CardTitle, { children: "Cancellation Information" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime115.jsx)(import_ui75.CardContent, { className: "space-y-4", children: /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { className: "grid grid-cols-2 gap-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("label", { className: "text-sm font-medium text-gray-500", children: "Cancelled At" }),
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("p", { className: "text-sm", children: (0, import_ui76.formatDate)(subscription.updatedAt) })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("label", { className: "text-sm font-medium text-gray-500", children: "Cancellation Reason" }),
            /* @__PURE__ */ (0, import_jsx_runtime115.jsx)("p", { className: "text-sm", children: "No reason provided" })
          ] })
        ] }) })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime115.jsx)(import_ui75.Separator, {}),
    /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)(import_ui75.DialogFooter, { className: "flex justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { className: "flex gap-2 flex-wrap", children: [
        canExtend && onExtend && /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)(
          import_ui75.Button,
          {
            variant: "outline",
            onClick: () => onExtend(subscription),
            className: "flex items-center gap-2",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime115.jsx)(import_lucide_react47.Clock, { className: "h-4 w-4" }),
              "Extend Subscription"
            ]
          }
        ),
        canChangePlan && onChangePlan && /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)(
          import_ui75.Button,
          {
            variant: "outline",
            onClick: () => onChangePlan(subscription),
            className: "flex items-center gap-2",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime115.jsx)(import_lucide_react47.ArrowRight, { className: "h-4 w-4" }),
              "Change Plan"
            ]
          }
        ),
        isActiveStatus && onSuspend && /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)(
          import_ui75.Button,
          {
            variant: "outline",
            onClick: () => onSuspend(subscription, "Paused from subscription view"),
            className: "flex items-center gap-2 text-orange-600 hover:text-orange-700",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime115.jsx)(import_lucide_react47.Pause, { className: "h-4 w-4" }),
              "Pause Subscription"
            ]
          }
        ),
        subscription.status === "paused" && onReactivate && /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)(
          import_ui75.Button,
          {
            variant: "outline",
            onClick: () => onReactivate(subscription),
            className: "flex items-center gap-2 text-green-600 hover:text-green-700",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime115.jsx)(import_lucide_react47.Play, { className: "h-4 w-4" }),
              "Resume Subscription"
            ]
          }
        ),
        canCancel && onCancel && /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)(
          import_ui75.Button,
          {
            variant: "destructive",
            onClick: () => onCancel(subscription),
            className: "flex items-center gap-2",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime115.jsx)(import_lucide_react47.X, { className: "h-4 w-4" }),
              "Cancel Subscription"
            ]
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)("div", { className: "flex gap-2", children: [
        onEdit && /* @__PURE__ */ (0, import_jsx_runtime115.jsxs)(
          import_ui75.Button,
          {
            variant: "outline",
            onClick: () => onEdit(subscription),
            className: "flex items-center gap-2",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime115.jsx)(import_lucide_react47.Edit, { className: "h-4 w-4" }),
              "Edit"
            ]
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime115.jsx)(import_ui75.Button, { variant: "outline", onClick: onClose, children: "Close" })
      ] })
    ] })
  ] }) });
}

// src/components/features/Subscriptions/components/SubscriptionExtendDialog.tsx
var import_react56 = require("react");
var import_ui77 = require("@rentalshop/ui");
var import_ui78 = require("@rentalshop/ui");
var import_lucide_react48 = require("lucide-react");
var import_jsx_runtime116 = require("react/jsx-runtime");
var EXTENSION_METHODS = [
  "MANUAL_EXTENSION",
  "PAYMENT_RECEIVED",
  "ADMIN_EXTENSION",
  "COMPENSATION",
  "OTHER"
];
function SubscriptionExtendDialog({
  subscription,
  isOpen,
  onClose,
  onConfirm,
  loading = false
}) {
  const [newEndDate, setNewEndDate] = (0, import_react56.useState)("");
  const [amount, setAmount] = (0, import_react56.useState)("");
  const [method, setMethod] = (0, import_react56.useState)("MANUAL_EXTENSION");
  const [description, setDescription] = (0, import_react56.useState)("");
  const handleSubmit = () => {
    if (!subscription || !newEndDate || !amount)
      return;
    const extensionData = {
      newEndDate: new Date(newEndDate),
      amount: parseFloat(amount),
      method,
      description: description.trim() || void 0
    };
    onConfirm(subscription, extensionData);
  };
  const handleClose = () => {
    setNewEndDate("");
    setAmount("");
    setMethod("MANUAL_EXTENSION");
    setDescription("");
    onClose();
  };
  if (!subscription)
    return null;
  const currentEndDate = subscription.endDate ? new Date(subscription.endDate) : /* @__PURE__ */ new Date();
  const minDate = (/* @__PURE__ */ new Date()).toISOString().split("T")[0];
  const suggestedEndDate = new Date(currentEndDate.getTime() + 30 * 24 * 60 * 60 * 1e3).toISOString().split("T")[0];
  return /* @__PURE__ */ (0, import_jsx_runtime116.jsx)(import_ui77.Dialog, { open: isOpen, onOpenChange: handleClose, children: /* @__PURE__ */ (0, import_jsx_runtime116.jsxs)(import_ui77.DialogContent, { className: "max-w-2xl", children: [
    /* @__PURE__ */ (0, import_jsx_runtime116.jsxs)(import_ui77.DialogHeader, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime116.jsxs)(import_ui77.DialogTitle, { className: "flex items-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime116.jsx)(import_lucide_react48.Calendar, { className: "h-5 w-5 text-blue-600" }),
        "Extend Subscription"
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime116.jsxs)(import_ui77.DialogDescription, { children: [
        "Extend subscription for ",
        subscription.merchant?.name || "Unknown Merchant",
        ". This will update the end date and create a payment record."
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime116.jsxs)("div", { className: "space-y-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime116.jsxs)(import_ui77.Card, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime116.jsx)(import_ui77.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime116.jsx)(import_ui77.CardTitle, { children: "Current Subscription" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime116.jsx)(import_ui77.CardContent, { className: "space-y-4", children: /* @__PURE__ */ (0, import_jsx_runtime116.jsxs)("div", { className: "grid grid-cols-2 gap-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime116.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime116.jsx)(import_ui77.Label, { className: "text-sm font-medium text-gray-500", children: "Plan" }),
            /* @__PURE__ */ (0, import_jsx_runtime116.jsx)("p", { className: "text-sm font-medium", children: subscription.plan?.name || "Unknown Plan" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime116.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime116.jsx)(import_ui77.Label, { className: "text-sm font-medium text-gray-500", children: "Current Amount" }),
            /* @__PURE__ */ (0, import_jsx_runtime116.jsx)("p", { className: "text-sm font-medium", children: (0, import_ui78.formatCurrency)(subscription.amount, subscription.currency) })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime116.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime116.jsx)(import_ui77.Label, { className: "text-sm font-medium text-gray-500", children: "Current End Date" }),
            /* @__PURE__ */ (0, import_jsx_runtime116.jsx)("p", { className: "text-sm", children: (0, import_ui78.formatDate)(subscription.endDate) })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime116.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime116.jsx)(import_ui77.Label, { className: "text-sm font-medium text-gray-500", children: "Status" }),
            /* @__PURE__ */ (0, import_jsx_runtime116.jsx)("p", { className: "text-sm", children: subscription.status })
          ] })
        ] }) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime116.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime116.jsxs)("div", { className: "grid grid-cols-2 gap-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime116.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime116.jsx)(import_ui77.Label, { htmlFor: "newEndDate", children: "New End Date *" }),
            /* @__PURE__ */ (0, import_jsx_runtime116.jsx)(
              import_ui77.Input,
              {
                id: "newEndDate",
                type: "date",
                value: newEndDate,
                onChange: (e) => setNewEndDate(e.target.value),
                min: minDate,
                placeholder: suggestedEndDate,
                className: "mt-1"
              }
            ),
            /* @__PURE__ */ (0, import_jsx_runtime116.jsxs)("p", { className: "text-xs text-gray-500 mt-1", children: [
              "Suggested: ",
              suggestedEndDate,
              " (30 days from current end date)"
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime116.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime116.jsx)(import_ui77.Label, { htmlFor: "amount", children: "Extension Amount *" }),
            /* @__PURE__ */ (0, import_jsx_runtime116.jsxs)("div", { className: "relative mt-1", children: [
              /* @__PURE__ */ (0, import_jsx_runtime116.jsx)(import_lucide_react48.DollarSign, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400" }),
              /* @__PURE__ */ (0, import_jsx_runtime116.jsx)(
                import_ui77.Input,
                {
                  id: "amount",
                  type: "number",
                  value: amount,
                  onChange: (e) => setAmount(e.target.value),
                  placeholder: subscription.amount.toString(),
                  className: "pl-10",
                  step: "0.01",
                  min: "0"
                }
              )
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime116.jsxs)("p", { className: "text-xs text-gray-500 mt-1", children: [
              "Current amount: ",
              (0, import_ui78.formatCurrency)(subscription.amount, subscription.currency)
            ] })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime116.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime116.jsx)(import_ui77.Label, { htmlFor: "method", children: "Extension Method *" }),
          /* @__PURE__ */ (0, import_jsx_runtime116.jsx)(
            "select",
            {
              id: "method",
              value: method,
              onChange: (e) => setMethod(e.target.value),
              className: "w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",
              children: EXTENSION_METHODS.map((m) => /* @__PURE__ */ (0, import_jsx_runtime116.jsx)("option", { value: m, children: m.replace("_", " ") }, m))
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime116.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime116.jsx)(import_ui77.Label, { htmlFor: "description", children: "Description (Optional)" }),
          /* @__PURE__ */ (0, import_jsx_runtime116.jsx)(
            import_ui77.Input,
            {
              id: "description",
              value: description,
              onChange: (e) => setDescription(e.target.value),
              placeholder: "Reason for extension...",
              className: "mt-1"
            }
          )
        ] })
      ] }),
      newEndDate && amount && /* @__PURE__ */ (0, import_jsx_runtime116.jsxs)(import_ui77.Alert, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime116.jsx)(import_lucide_react48.Clock, { className: "h-4 w-4" }),
        /* @__PURE__ */ (0, import_jsx_runtime116.jsx)(import_ui77.AlertDescription, { children: /* @__PURE__ */ (0, import_jsx_runtime116.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime116.jsx)("p", { className: "font-medium", children: "Extension Preview:" }),
          /* @__PURE__ */ (0, import_jsx_runtime116.jsxs)("div", { className: "grid grid-cols-2 gap-4 text-sm", children: [
            /* @__PURE__ */ (0, import_jsx_runtime116.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime116.jsx)("span", { className: "font-medium", children: "Current End:" }),
              " ",
              (0, import_ui78.formatDate)(subscription.endDate)
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime116.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime116.jsx)("span", { className: "font-medium", children: "New End:" }),
              " ",
              (0, import_ui78.formatDate)(new Date(newEndDate))
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime116.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime116.jsx)("span", { className: "font-medium", children: "Extension Amount:" }),
              " ",
              (0, import_ui78.formatCurrency)(parseFloat(amount) || 0, subscription.currency)
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime116.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime116.jsx)("span", { className: "font-medium", children: "Method:" }),
              " ",
              method.replace("_", " ")
            ] })
          ] })
        ] }) })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime116.jsxs)(import_ui77.DialogFooter, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime116.jsx)(import_ui77.Button, { variant: "outline", onClick: handleClose, disabled: loading, children: "Cancel" }),
      /* @__PURE__ */ (0, import_jsx_runtime116.jsx)(
        import_ui77.Button,
        {
          onClick: handleSubmit,
          disabled: loading || !newEndDate || !amount,
          children: loading ? "Extending..." : "Extend Subscription"
        }
      )
    ] })
  ] }) });
}

// src/components/features/Subscriptions/components/SubscriptionChangePlanDialog.tsx
var import_react57 = require("react");
var import_ui79 = require("@rentalshop/ui");
var import_ui80 = require("@rentalshop/ui");
var import_lucide_react49 = require("lucide-react");
var import_jsx_runtime117 = require("react/jsx-runtime");
function SubscriptionChangePlanDialog({
  subscription,
  plans,
  isOpen,
  onClose,
  onConfirm,
  loading = false
}) {
  const [selectedPlanId, setSelectedPlanId] = (0, import_react57.useState)(null);
  const [selectedPeriod, setSelectedPeriod] = (0, import_react57.useState)(1);
  const handleSubmit = () => {
    if (!subscription || !selectedPlanId)
      return;
    onConfirm(subscription, selectedPlanId, selectedPeriod);
  };
  const handleClose = () => {
    setSelectedPlanId(null);
    onClose();
  };
  if (!subscription)
    return null;
  const currentPlan = subscription.plan;
  const selectedPlan = plans.find((p) => p.id === selectedPlanId);
  const getFeatureComparison = (current, selected) => {
    const features2 = [
      { key: "outlets", label: "Max Outlets", current: current?.limits?.outlets, selected: selected?.limits?.outlets },
      { key: "users", label: "Max Users", current: current?.limits?.users, selected: selected?.limits?.users },
      { key: "products", label: "Max Products", current: current?.limits?.products, selected: selected?.limits?.products },
      { key: "customers", label: "Max Customers", current: current?.limits?.customers, selected: selected?.limits?.customers }
    ];
    return features2.map((feature) => ({
      ...feature,
      change: feature.selected > feature.current ? "upgrade" : feature.selected < feature.current ? "downgrade" : "same"
    }));
  };
  const features = getFeatureComparison(currentPlan, selectedPlan);
  return /* @__PURE__ */ (0, import_jsx_runtime117.jsx)(import_ui79.Dialog, { open: isOpen, onOpenChange: handleClose, children: /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)(import_ui79.DialogContent, { className: "max-w-4xl", children: [
    /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)(import_ui79.DialogHeader, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)(import_ui79.DialogTitle, { className: "flex items-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime117.jsx)(import_lucide_react49.ArrowRight, { className: "h-5 w-5 text-blue-600" }),
        "Change Subscription Plan"
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)(import_ui79.DialogDescription, { children: [
        "Change subscription plan for ",
        subscription.merchant?.name || "Unknown Merchant",
        ". This will update the plan and pricing immediately."
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)("div", { className: "space-y-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)(import_ui79.Card, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime117.jsx)(import_ui79.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime117.jsx)(import_ui79.CardTitle, { children: "Current Plan" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime117.jsx)(import_ui79.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)("div", { className: "flex items-center justify-between", children: [
          /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime117.jsx)("h3", { className: "text-lg font-semibold", children: currentPlan?.name || "Unknown Plan" }),
            /* @__PURE__ */ (0, import_jsx_runtime117.jsx)("p", { className: "text-sm text-gray-600", children: currentPlan?.description || "No description" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)("div", { className: "text-right", children: [
            /* @__PURE__ */ (0, import_jsx_runtime117.jsx)("p", { className: "text-2xl font-bold", children: currentPlan ? (0, import_ui80.formatCurrency)(currentPlan.basePrice, currentPlan.currency) : "Unknown" }),
            /* @__PURE__ */ (0, import_jsx_runtime117.jsx)("p", { className: "text-sm text-gray-600", children: "per month" })
          ] })
        ] }) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime117.jsx)(import_ui79.Label, { className: "text-lg font-semibold", children: "Billing Period" }),
        /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)(import_ui79.Select, { value: selectedPeriod.toString(), onValueChange: (value) => setSelectedPeriod(parseInt(value)), children: [
          /* @__PURE__ */ (0, import_jsx_runtime117.jsx)(import_ui79.SelectTrigger, { className: "w-full", children: /* @__PURE__ */ (0, import_jsx_runtime117.jsx)(import_ui79.SelectValue, { placeholder: "Select billing period" }) }),
          /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)(import_ui79.SelectContent, { children: [
            /* @__PURE__ */ (0, import_jsx_runtime117.jsx)(import_ui79.SelectItem, { value: "1", children: "Monthly (0% discount)" }),
            /* @__PURE__ */ (0, import_jsx_runtime117.jsx)(import_ui79.SelectItem, { value: "3", children: "Quarterly (10% discount)" }),
            /* @__PURE__ */ (0, import_jsx_runtime117.jsx)(import_ui79.SelectItem, { value: "12", children: "Yearly (20% discount)" })
          ] })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime117.jsx)(import_ui79.Label, { className: "text-lg font-semibold", children: "Select New Plan" }),
        /* @__PURE__ */ (0, import_jsx_runtime117.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4", children: plans.map((plan) => {
          const pricing = plan.pricing || {};
          const periodKey = selectedPeriod === 1 ? "monthly" : selectedPeriod === 3 ? "quarterly" : "yearly";
          const periodPricing = pricing[periodKey] || { price: plan.basePrice, discount: 0, discountedPrice: plan.basePrice, savings: 0 };
          return /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)(
            import_ui79.Card,
            {
              className: `cursor-pointer transition-all ${selectedPlanId === plan.id ? "ring-2 ring-blue-500 border-blue-500" : "hover:border-gray-300"}`,
              onClick: () => setSelectedPlanId(plan.id),
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)(import_ui79.CardHeader, { children: [
                  /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)("div", { className: "flex items-center justify-between", children: [
                    /* @__PURE__ */ (0, import_jsx_runtime117.jsx)(import_ui79.CardTitle, { className: "text-lg", children: plan.name }),
                    selectedPlanId === plan.id && /* @__PURE__ */ (0, import_jsx_runtime117.jsx)(import_lucide_react49.Check, { className: "h-5 w-5 text-blue-600" })
                  ] }),
                  /* @__PURE__ */ (0, import_jsx_runtime117.jsx)("p", { className: "text-sm text-gray-600", children: plan.description })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime117.jsx)(import_ui79.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)("div", { className: "space-y-3", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)("div", { className: "text-center", children: [
                    /* @__PURE__ */ (0, import_jsx_runtime117.jsx)("div", { className: "text-2xl font-bold", children: (0, import_ui80.formatCurrency)(periodPricing.price, plan.currency) }),
                    /* @__PURE__ */ (0, import_jsx_runtime117.jsx)("div", { className: "text-sm text-gray-600", children: selectedPeriod === 1 ? "per month" : selectedPeriod === 3 ? "per quarter" : "per year" }),
                    periodPricing.discount > 0 && /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)("div", { className: "flex items-center justify-center gap-2 mt-1", children: [
                      /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)(import_ui79.Badge, { variant: "outline", className: "text-green-600 border-green-200", children: [
                        periodPricing.discount,
                        "% off"
                      ] }),
                      /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)("span", { className: "text-xs text-green-600", children: [
                        "Save ",
                        (0, import_ui80.formatCurrency)(periodPricing.savings, plan.currency)
                      ] })
                    ] })
                  ] }),
                  /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)("div", { className: "space-y-1 text-sm", children: [
                    /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)("div", { children: [
                      "Outlets: ",
                      plan.limits.outlets === -1 ? "Unlimited" : plan.limits.outlets
                    ] }),
                    /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)("div", { children: [
                      "Users: ",
                      plan.limits.users === -1 ? "Unlimited" : plan.limits.users
                    ] }),
                    /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)("div", { children: [
                      "Products: ",
                      plan.limits.products === -1 ? "Unlimited" : plan.limits.products
                    ] }),
                    /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)("div", { children: [
                      "Customers: ",
                      plan.limits.customers === -1 ? "Unlimited" : plan.limits.customers
                    ] })
                  ] })
                ] }) })
              ]
            },
            plan.id
          );
        }) })
      ] }),
      selectedPlan && /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)(import_ui79.Card, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime117.jsx)(import_ui79.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime117.jsx)(import_ui79.CardTitle, { children: "Plan Comparison" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime117.jsx)(import_ui79.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)("div", { className: "space-y-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)("div", { className: "grid grid-cols-3 gap-4 text-sm", children: [
            /* @__PURE__ */ (0, import_jsx_runtime117.jsx)("div", { className: "font-medium", children: "Feature" }),
            /* @__PURE__ */ (0, import_jsx_runtime117.jsx)("div", { className: "font-medium text-center", children: "Current" }),
            /* @__PURE__ */ (0, import_jsx_runtime117.jsx)("div", { className: "font-medium text-center", children: "New Plan" })
          ] }),
          features.map((feature) => /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)("div", { className: "grid grid-cols-3 gap-4 text-sm", children: [
            /* @__PURE__ */ (0, import_jsx_runtime117.jsx)("div", { children: feature.label }),
            /* @__PURE__ */ (0, import_jsx_runtime117.jsx)("div", { className: "text-center", children: feature.current === -1 ? "Unlimited" : feature.current }),
            /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)("div", { className: "text-center flex items-center justify-center gap-1", children: [
              feature.selected === -1 ? "Unlimited" : feature.selected,
              feature.change === "upgrade" && /* @__PURE__ */ (0, import_jsx_runtime117.jsx)(import_lucide_react49.ArrowRight, { className: "h-4 w-4 text-green-600" }),
              feature.change === "downgrade" && /* @__PURE__ */ (0, import_jsx_runtime117.jsx)(import_lucide_react49.X, { className: "h-4 w-4 text-red-600" })
            ] })
          ] }, feature.key))
        ] }) })
      ] }),
      selectedPlan && currentPlan && /* @__PURE__ */ (0, import_jsx_runtime117.jsx)(import_ui79.Alert, { children: /* @__PURE__ */ (0, import_jsx_runtime117.jsx)(import_ui79.AlertDescription, { children: /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime117.jsx)("p", { className: "font-medium", children: "Pricing Change:" }),
        /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)("div", { className: "flex items-center gap-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)("span", { className: "text-sm", children: [
            "From: ",
            (0, import_ui80.formatCurrency)(currentPlan.basePrice, currentPlan.currency),
            "/month"
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime117.jsx)(import_lucide_react49.ArrowRight, { className: "h-4 w-4" }),
          /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)("span", { className: "text-sm font-medium", children: [
            "To: ",
            (0, import_ui80.formatCurrency)(selectedPlan.basePrice, selectedPlan.currency),
            "/month"
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime117.jsx)("p", { className: "text-sm text-gray-600", children: "The plan change will take effect immediately and billing will be updated accordingly." })
      ] }) }) })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime117.jsxs)(import_ui79.DialogFooter, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime117.jsx)(import_ui79.Button, { variant: "outline", onClick: handleClose, disabled: loading, children: "Cancel" }),
      /* @__PURE__ */ (0, import_jsx_runtime117.jsx)(
        import_ui79.Button,
        {
          onClick: handleSubmit,
          disabled: loading || !selectedPlanId,
          children: loading ? "Changing Plan..." : "Change Plan"
        }
      )
    ] })
  ] }) });
}

// src/components/features/Subscriptions/components/SubscriptionEditDialog.tsx
var import_react59 = require("react");
var import_ui82 = require("@rentalshop/ui");

// src/components/features/Subscriptions/components/SubscriptionFormSimple.tsx
var import_react58 = require("react");
var import_lucide_react50 = require("lucide-react");
var import_jsx_runtime118 = require("react/jsx-runtime");
function SubscriptionFormSimple({
  initialData,
  plans,
  merchants,
  onSubmit,
  onCancel,
  loading = false,
  mode = "create",
  title,
  submitText,
  showCard = true,
  showActions = true
}) {
  const [formData, setFormData] = (0, import_react58.useState)({
    merchantId: initialData?.merchantId || 0,
    planId: initialData?.planId || 0,
    status: initialData?.status || "trial",
    currentPeriodStart: initialData?.currentPeriodStart || /* @__PURE__ */ new Date(),
    currentPeriodEnd: initialData?.currentPeriodEnd || /* @__PURE__ */ new Date(),
    trialStart: initialData?.trialStart,
    trialEnd: initialData?.trialEnd,
    amount: initialData?.amount || 0,
    currency: initialData?.currency || "USD",
    interval: initialData?.interval || "month",
    intervalCount: initialData?.intervalCount || 1,
    period: initialData?.period || 1,
    discount: initialData?.discount || 0,
    savings: initialData?.savings || 0,
    platform: initialData?.platform || "web-mobile",
    cancelAtPeriodEnd: initialData?.cancelAtPeriodEnd || false,
    canceledAt: initialData?.canceledAt,
    cancelReason: initialData?.cancelReason,
    autoRenew: initialData?.autoRenew ?? true,
    changeReason: initialData?.changeReason || ""
  });
  const [selectedPlan, setSelectedPlan] = (0, import_react58.useState)(null);
  const [errors, setErrors] = (0, import_react58.useState)({});
  const [merchantOptions, setMerchantOptions] = (0, import_react58.useState)([]);
  (0, import_react58.useEffect)(() => {
    const options = merchants.map((merchant) => ({
      value: merchant.id.toString(),
      label: merchant.name,
      subtitle: merchant.email,
      description: `${merchant.city}, ${merchant.state}`,
      type: "merchant"
    }));
    setMerchantOptions(options);
  }, [merchants]);
  const handleMerchantSearch = async (query) => {
    if (!query.trim()) {
      return merchantOptions;
    }
    const filtered = merchantOptions.filter(
      (option) => option.label.toLowerCase().includes(query.toLowerCase()) || option.subtitle?.toLowerCase().includes(query.toLowerCase()) || option.description?.toLowerCase().includes(query.toLowerCase())
    );
    return filtered;
  };
  (0, import_react58.useEffect)(() => {
    const plan = plans.find((p) => p.id === formData.planId);
    setSelectedPlan(plan || null);
  }, [formData.planId, plans]);
  const validateForm = () => {
    const newErrors = {};
    if (!formData.merchantId) {
      newErrors.merchantId = "Merchant is required";
    }
    if (!formData.planId) {
      newErrors.planId = "Plan is required";
    }
    if (!formData.amount || formData.amount <= 0) {
      newErrors.amount = "Amount must be greater than 0";
    }
    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };
  const handleSubmit = async (e) => {
    e.preventDefault();
    if (!validateForm()) {
      return;
    }
    try {
      const submitData = {
        merchantId: formData.merchantId,
        planId: formData.planId,
        status: formData.status,
        currentPeriodStart: formData.currentPeriodStart,
        currentPeriodEnd: formData.currentPeriodEnd,
        trialStart: formData.trialStart,
        trialEnd: formData.trialEnd,
        amount: formData.amount,
        currency: formData.currency,
        interval: formData.interval,
        intervalCount: formData.intervalCount,
        period: formData.period,
        discount: formData.discount,
        savings: formData.savings,
        platform: formData.platform,
        cancelAtPeriodEnd: formData.cancelAtPeriodEnd,
        canceledAt: formData.canceledAt,
        cancelReason: formData.cancelReason,
        autoRenew: formData.autoRenew,
        changeReason: formData.changeReason
      };
      await onSubmit(submitData);
    } catch (error2) {
      console.error("Error submitting subscription:", error2);
    }
  };
  const getDiscountPercentage3 = (period) => {
    const discountMap = {
      1: 0,
      // Monthly: 0% discount
      3: 10,
      // Quarterly: 10% discount
      6: 15,
      // 6 Months: 15% discount
      12: 20
      // Yearly: 20% discount
    };
    return discountMap[period] || 0;
  };
  const calculatePricingWithDiscount = (basePrice, period) => {
    const discount = getDiscountPercentage3(period);
    const totalMonths = period;
    const totalBasePrice = basePrice * totalMonths;
    const discountAmount = totalBasePrice * discount / 100;
    const finalPrice = totalBasePrice - discountAmount;
    const monthlyEquivalent = finalPrice / totalMonths;
    return {
      basePrice: totalBasePrice,
      discount,
      finalPrice,
      savings: discountAmount,
      monthlyEquivalent
    };
  };
  const handleInputChange = (field, value) => {
    setFormData((prev) => {
      const newData = { ...prev, [field]: value };
      if (field === "interval") {
        const intervalToPeriodMap = {
          "month": 1,
          "quarter": 3,
          "6months": 6,
          "year": 12
        };
        newData.period = intervalToPeriodMap[value] || 1;
        if (selectedPlan) {
          const pricing = calculatePricingWithDiscount(selectedPlan.basePrice, newData.period);
          newData.amount = pricing.finalPrice;
          newData.discount = pricing.discount;
          newData.savings = pricing.savings;
        }
      }
      return newData;
    });
    if (errors[field]) {
      setErrors((prev) => ({
        ...prev,
        [field]: ""
      }));
    }
  };
  const formatCurrency20 = (amount, currency = "USD") => {
    return new Intl.NumberFormat("en-US", {
      style: "currency",
      currency
    }).format(amount);
  };
  const formContent = /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)("div", { className: "space-y-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)(Label2, { htmlFor: "merchantId", className: "flex items-center space-x-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(import_lucide_react50.Building, { className: "h-4 w-4" }),
        /* @__PURE__ */ (0, import_jsx_runtime118.jsx)("span", { children: "Merchant *" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(
        SearchableSelect,
        {
          value: formData.merchantId,
          onChange: (value) => handleInputChange("merchantId", value),
          options: merchantOptions,
          onSearch: handleMerchantSearch,
          placeholder: "Search for a merchant...",
          searchPlaceholder: "Type merchant name, email, or location...",
          emptyText: "No merchants found",
          displayMode: "input",
          className: `w-full ${errors.merchantId ? "border-red-500" : ""}`
        }
      ),
      errors.merchantId && /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)("p", { className: "text-sm text-red-500 flex items-center space-x-1", children: [
        /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(import_lucide_react50.AlertCircle, { className: "h-4 w-4" }),
        /* @__PURE__ */ (0, import_jsx_runtime118.jsx)("span", { children: errors.merchantId })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)("div", { className: "space-y-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)(Label2, { htmlFor: "planId", className: "flex items-center space-x-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(import_lucide_react50.CreditCard, { className: "h-4 w-4" }),
        /* @__PURE__ */ (0, import_jsx_runtime118.jsx)("span", { children: "Plan *" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)(
        Select2,
        {
          value: formData.planId.toString(),
          onValueChange: (value) => handleInputChange("planId", parseInt(value)),
          disabled: mode === "view",
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectTrigger2, { className: `w-full ${errors.planId ? "border-red-500" : ""}`, children: /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectValue2, { placeholder: "Select a plan" }) }),
            /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectContent2, { children: plans.length > 0 ? plans.map((plan) => /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectItem2, { value: plan.id.toString(), children: /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)("div", { className: "flex flex-col", children: [
              /* @__PURE__ */ (0, import_jsx_runtime118.jsx)("span", { className: "font-medium", children: plan.name }),
              /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)("span", { className: "text-sm text-gray-500", children: [
                formatCurrency20(plan.basePrice, plan.currency),
                "/",
                plan.currency
              ] })
            ] }) }, plan.id)) : /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectItem2, { value: "no-plans", disabled: true, children: "No plans available" }) })
          ]
        }
      ),
      errors.planId && /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)("p", { className: "text-sm text-red-500 flex items-center space-x-1", children: [
        /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(import_lucide_react50.AlertCircle, { className: "h-4 w-4" }),
        /* @__PURE__ */ (0, import_jsx_runtime118.jsx)("span", { children: errors.planId })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)("div", { className: "space-y-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)(Label2, { htmlFor: "status", className: "flex items-center space-x-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(StatusBadge, { status: formData.status }),
        /* @__PURE__ */ (0, import_jsx_runtime118.jsx)("span", { children: "Status" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)(
        Select2,
        {
          value: formData.status,
          onValueChange: (value) => handleInputChange("status", value),
          disabled: mode === "view",
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectTrigger2, { className: "w-full", children: /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectValue2, { placeholder: "Select status" }) }),
            /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)(SelectContent2, { children: [
              /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectItem2, { value: "trial", children: "Trial" }),
              /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectItem2, { value: "active", children: "Active" }),
              /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectItem2, { value: "past_due", children: "Past Due" }),
              /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectItem2, { value: "cancelled", children: "Cancelled" }),
              /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectItem2, { value: "paused", children: "Paused" })
            ] })
          ]
        }
      )
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)("div", { className: "space-y-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)(Label2, { htmlFor: "amount", className: "flex items-center space-x-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(import_lucide_react50.DollarSign, { className: "h-4 w-4" }),
        /* @__PURE__ */ (0, import_jsx_runtime118.jsx)("span", { children: "Amount *" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(
        Input2,
        {
          type: "number",
          step: "0.01",
          value: formData.amount,
          onChange: (e) => handleInputChange("amount", parseFloat(e.target.value) || 0),
          placeholder: "0.00",
          disabled: mode === "view",
          className: `w-full ${errors.amount ? "border-red-500" : ""}`
        }
      ),
      errors.amount && /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)("p", { className: "text-sm text-red-500 flex items-center space-x-1", children: [
        /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(import_lucide_react50.AlertCircle, { className: "h-4 w-4" }),
        /* @__PURE__ */ (0, import_jsx_runtime118.jsx)("span", { children: errors.amount })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)("div", { className: "space-y-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(Label2, { htmlFor: "currency", children: "Currency" }),
      /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)(
        Select2,
        {
          value: formData.currency,
          onValueChange: (value) => handleInputChange("currency", value),
          disabled: mode === "view",
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectTrigger2, { className: "w-full", children: /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectValue2, { placeholder: "Select currency" }) }),
            /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)(SelectContent2, { children: [
              /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectItem2, { value: "USD", children: "USD" }),
              /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectItem2, { value: "EUR", children: "EUR" }),
              /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectItem2, { value: "GBP", children: "GBP" })
            ] })
          ]
        }
      )
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)("div", { className: "space-y-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)(Label2, { htmlFor: "platform", className: "flex items-center space-x-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(import_lucide_react50.Users, { className: "h-4 w-4" }),
        /* @__PURE__ */ (0, import_jsx_runtime118.jsx)("span", { children: "Platform Support" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)(
        Select2,
        {
          value: formData.platform,
          onValueChange: (value) => handleInputChange("platform", value),
          disabled: mode === "view",
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectTrigger2, { className: "w-full", children: /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectValue2, { placeholder: "Select platform support" }) }),
            /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)(SelectContent2, { children: [
              /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectItem2, { value: "web-only", children: "Web Only" }),
              /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectItem2, { value: "mobile-only", children: "Mobile Only" }),
              /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectItem2, { value: "web-mobile", children: "Web & Mobile" }),
              /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectItem2, { value: "desktop-only", children: "Desktop Only" }),
              /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectItem2, { value: "all-platforms", children: "All Platforms" })
            ] })
          ]
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime118.jsx)("p", { className: "text-xs text-gray-500", children: "Select which platforms this subscription supports" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)("div", { className: "space-y-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(Label2, { htmlFor: "interval", children: "Billing Interval" }),
      /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)(
        Select2,
        {
          value: formData.interval,
          onValueChange: (value) => handleInputChange("interval", value),
          disabled: mode === "view",
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectTrigger2, { className: "w-full", children: /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectValue2, { placeholder: "Select interval" }) }),
            /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)(SelectContent2, { children: [
              /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectItem2, { value: "month", children: /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)("div", { className: "flex items-center justify-between w-full", children: [
                /* @__PURE__ */ (0, import_jsx_runtime118.jsx)("span", { children: "Monthly" }),
                /* @__PURE__ */ (0, import_jsx_runtime118.jsx)("span", { className: "text-gray-500 text-sm", children: "(0% discount)" })
              ] }) }),
              /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectItem2, { value: "quarter", children: /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)("div", { className: "flex items-center justify-between w-full", children: [
                /* @__PURE__ */ (0, import_jsx_runtime118.jsx)("span", { children: "Quarterly" }),
                /* @__PURE__ */ (0, import_jsx_runtime118.jsx)("span", { className: "text-green-600 text-sm font-medium", children: "(10% discount)" })
              ] }) }),
              /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectItem2, { value: "6months", children: /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)("div", { className: "flex items-center justify-between w-full", children: [
                /* @__PURE__ */ (0, import_jsx_runtime118.jsx)("span", { children: "6 Months" }),
                /* @__PURE__ */ (0, import_jsx_runtime118.jsx)("span", { className: "text-green-600 text-sm font-medium", children: "(15% discount)" })
              ] }) }),
              /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(SelectItem2, { value: "year", children: /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)("div", { className: "flex items-center justify-between w-full", children: [
                /* @__PURE__ */ (0, import_jsx_runtime118.jsx)("span", { children: "Yearly" }),
                /* @__PURE__ */ (0, import_jsx_runtime118.jsx)("span", { className: "text-green-600 text-sm font-medium", children: "(20% discount)" })
              ] }) })
            ] })
          ]
        }
      )
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)("div", { className: "flex items-center space-x-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(
        Switch,
        {
          id: "autoRenew",
          checked: formData.autoRenew,
          onCheckedChange: (checked) => handleInputChange("autoRenew", checked),
          disabled: mode === "view"
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(Label2, { htmlFor: "autoRenew", children: "Auto Renew" })
    ] }),
    mode !== "view" && /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)("div", { className: "space-y-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(Label2, { htmlFor: "changeReason", children: "Change Reason" }),
      /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(
        Textarea,
        {
          value: formData.changeReason || "",
          onChange: (e) => handleInputChange("changeReason", e.target.value),
          placeholder: "Reason for this change...",
          rows: 3
        }
      )
    ] })
  ] });
  return /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)("form", { onSubmit: handleSubmit, className: "space-y-6", children: [
    showCard ? /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)(Card2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)(CardTitle2, { className: "flex items-center space-x-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(import_lucide_react50.CreditCard, { className: "h-5 w-5" }),
        /* @__PURE__ */ (0, import_jsx_runtime118.jsx)("span", { children: title || (mode === "create" ? "Create Subscription" : "Edit Subscription") })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(CardContent2, { children: formContent })
    ] }) : formContent,
    showActions && mode !== "view" && /* @__PURE__ */ (0, import_jsx_runtime118.jsxs)("div", { className: "flex justify-end space-x-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(Button, { type: "button", variant: "outline", onClick: onCancel, disabled: loading, children: "Cancel" }),
      /* @__PURE__ */ (0, import_jsx_runtime118.jsx)(Button, { type: "submit", disabled: loading, children: loading ? "Saving..." : submitText || "Save" })
    ] })
  ] });
}

// src/components/features/Subscriptions/components/SubscriptionEditDialog.tsx
var import_utils25 = require("@rentalshop/utils");
var import_lucide_react51 = require("lucide-react");
var import_jsx_runtime119 = require("react/jsx-runtime");
function SubscriptionEditDialog({
  subscription,
  plans,
  merchants,
  isOpen,
  onClose,
  onSave,
  loading = false
}) {
  const [formData, setFormData] = (0, import_react59.useState)({});
  (0, import_react59.useEffect)(() => {
    if (subscription) {
      setFormData({
        planId: parseInt(subscription.planId),
        merchantId: parseInt(subscription.merchantId),
        status: subscription.status,
        amount: subscription.amount,
        currency: subscription.currency,
        interval: subscription.interval,
        intervalCount: subscription.intervalCount,
        period: subscription.period,
        discount: subscription.discount,
        savings: subscription.savings,
        platform: subscription.platform || "web-mobile",
        currentPeriodStart: subscription.currentPeriodStart,
        currentPeriodEnd: subscription.currentPeriodEnd,
        trialStart: subscription.trialStart,
        trialEnd: subscription.trialEnd,
        cancelAtPeriodEnd: subscription.cancelAtPeriodEnd,
        canceledAt: subscription.canceledAt,
        cancelReason: subscription.cancelReason,
        autoRenew: !subscription.cancelAtPeriodEnd,
        changeReason: ""
      });
    }
  }, [subscription]);
  const handleSubmit = async (data) => {
    try {
      await onSave(data);
      onClose();
    } catch (error2) {
      console.error("Failed to update subscription:", error2);
    }
  };
  const handleCancel = () => {
    setFormData({});
    onClose();
  };
  const calculateDiscountBreakdown = (basePrice, currency) => {
    const periods = [
      { duration: 1, label: "Monthly", discount: 0 },
      { duration: 3, label: "Quarterly", discount: 10 },
      { duration: 6, label: "6 Months", discount: 15 },
      { duration: 12, label: "Yearly", discount: 20 }
    ];
    return periods.map((period) => {
      const discountedPrice = basePrice * (1 - period.discount / 100);
      const totalSavings = basePrice * period.duration - discountedPrice * period.duration;
      return {
        ...period,
        originalPrice: basePrice * period.duration,
        discountedPrice: discountedPrice * period.duration,
        monthlyPrice: discountedPrice,
        totalSavings,
        savingsPercentage: period.discount
      };
    });
  };
  const selectedPlan = plans.find((plan) => plan.id === formData.planId);
  if (!subscription)
    return null;
  return /* @__PURE__ */ (0, import_jsx_runtime119.jsx)(import_ui82.Dialog, { open: isOpen, onOpenChange: handleCancel, children: /* @__PURE__ */ (0, import_jsx_runtime119.jsxs)(import_ui82.DialogContent, { className: "max-w-4xl max-h-[90vh] overflow-y-auto", children: [
    /* @__PURE__ */ (0, import_jsx_runtime119.jsxs)(import_ui82.DialogHeader, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime119.jsx)(import_ui82.DialogTitle, { children: "Edit Subscription" }),
      /* @__PURE__ */ (0, import_jsx_runtime119.jsxs)(import_ui82.DialogDescription, { children: [
        "Update subscription details for ",
        subscription.merchant?.name || "Merchant"
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime119.jsxs)("div", { className: "space-y-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime119.jsx)("div", { className: "w-full", children: /* @__PURE__ */ (0, import_jsx_runtime119.jsx)(
        SubscriptionFormSimple,
        {
          initialData: formData,
          plans,
          merchants,
          onSubmit: handleSubmit,
          onCancel: handleCancel,
          loading,
          mode: "edit",
          title: "",
          submitText: "",
          showCard: false,
          showActions: false
        }
      ) }),
      selectedPlan && /* @__PURE__ */ (0, import_jsx_runtime119.jsxs)("div", { className: "grid grid-cols-1 lg:grid-cols-2 gap-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime119.jsx)("div", { className: "space-y-4", children: /* @__PURE__ */ (0, import_jsx_runtime119.jsxs)(import_ui82.Card, { children: [
          /* @__PURE__ */ (0, import_jsx_runtime119.jsx)(import_ui82.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime119.jsxs)(import_ui82.CardTitle, { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime119.jsx)(import_lucide_react51.Percent, { className: "h-5 w-5" }),
            "Discount Breakdown by Period"
          ] }) }),
          /* @__PURE__ */ (0, import_jsx_runtime119.jsx)(import_ui82.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime119.jsx)("div", { className: "space-y-4", children: calculateDiscountBreakdown(selectedPlan.basePrice, formData.currency || "USD").map((period) => /* @__PURE__ */ (0, import_jsx_runtime119.jsxs)(
            "div",
            {
              className: (0, import_ui82.cn)(
                "p-4 rounded-lg border-2 transition-all",
                formData.period === period.duration ? "border-blue-500 bg-blue-50" : "border-gray-200 hover:border-gray-300"
              ),
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime119.jsxs)("div", { className: "flex items-center justify-between mb-2", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime119.jsxs)("div", { className: "flex items-center gap-2", children: [
                    /* @__PURE__ */ (0, import_jsx_runtime119.jsx)(import_lucide_react51.Calendar, { className: "h-4 w-4 text-gray-600" }),
                    /* @__PURE__ */ (0, import_jsx_runtime119.jsx)("span", { className: "font-semibold text-gray-900", children: period.label }),
                    period.savingsPercentage > 0 && /* @__PURE__ */ (0, import_jsx_runtime119.jsxs)(import_ui82.Badge, { className: "bg-green-100 text-green-800 border-green-200", children: [
                      period.savingsPercentage,
                      "% OFF"
                    ] })
                  ] }),
                  formData.period === period.duration && /* @__PURE__ */ (0, import_jsx_runtime119.jsx)(import_ui82.Badge, { className: "bg-blue-100 text-blue-800 border-blue-200", children: "Current" })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime119.jsxs)("div", { className: "grid grid-cols-2 gap-4 text-sm", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime119.jsxs)("div", { children: [
                    /* @__PURE__ */ (0, import_jsx_runtime119.jsx)("div", { className: "text-gray-600", children: "Monthly Price" }),
                    /* @__PURE__ */ (0, import_jsx_runtime119.jsx)("div", { className: "font-semibold", children: (0, import_utils25.formatCurrency)(period.monthlyPrice, formData.currency) })
                  ] }),
                  /* @__PURE__ */ (0, import_jsx_runtime119.jsxs)("div", { children: [
                    /* @__PURE__ */ (0, import_jsx_runtime119.jsx)("div", { className: "text-gray-600", children: "Total Price" }),
                    /* @__PURE__ */ (0, import_jsx_runtime119.jsx)("div", { className: "font-semibold", children: (0, import_utils25.formatCurrency)(period.discountedPrice, formData.currency) })
                  ] })
                ] }),
                period.savingsPercentage > 0 && /* @__PURE__ */ (0, import_jsx_runtime119.jsxs)("div", { className: "mt-3 pt-3 border-t border-gray-200", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime119.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
                    /* @__PURE__ */ (0, import_jsx_runtime119.jsxs)("div", { className: "flex items-center gap-2", children: [
                      /* @__PURE__ */ (0, import_jsx_runtime119.jsx)(import_lucide_react51.TrendingUp, { className: "h-4 w-4 text-green-600" }),
                      /* @__PURE__ */ (0, import_jsx_runtime119.jsx)("span", { className: "text-gray-600", children: "Total Savings" })
                    ] }),
                    /* @__PURE__ */ (0, import_jsx_runtime119.jsx)("div", { className: "font-semibold text-green-600", children: (0, import_utils25.formatCurrency)(period.totalSavings, formData.currency) })
                  ] }),
                  /* @__PURE__ */ (0, import_jsx_runtime119.jsxs)("div", { className: "text-xs text-gray-500 mt-1", children: [
                    "vs ",
                    (0, import_utils25.formatCurrency)(period.originalPrice, formData.currency),
                    " at regular price"
                  ] })
                ] })
              ]
            },
            period.duration
          )) }) })
        ] }) }),
        /* @__PURE__ */ (0, import_jsx_runtime119.jsx)("div", { className: "space-y-4", children: /* @__PURE__ */ (0, import_jsx_runtime119.jsxs)(import_ui82.Card, { children: [
          /* @__PURE__ */ (0, import_jsx_runtime119.jsx)(import_ui82.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime119.jsxs)(import_ui82.CardTitle, { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime119.jsx)(import_lucide_react51.DollarSign, { className: "h-5 w-5" }),
            "Current Subscription Summary"
          ] }) }),
          /* @__PURE__ */ (0, import_jsx_runtime119.jsx)(import_ui82.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime119.jsxs)("div", { className: "space-y-3", children: [
            /* @__PURE__ */ (0, import_jsx_runtime119.jsxs)("div", { className: "flex justify-between", children: [
              /* @__PURE__ */ (0, import_jsx_runtime119.jsx)("span", { className: "text-gray-600", children: "Plan" }),
              /* @__PURE__ */ (0, import_jsx_runtime119.jsx)("span", { className: "font-semibold", children: selectedPlan.name })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime119.jsxs)("div", { className: "flex justify-between", children: [
              /* @__PURE__ */ (0, import_jsx_runtime119.jsx)("span", { className: "text-gray-600", children: "Billing Period" }),
              /* @__PURE__ */ (0, import_jsx_runtime119.jsx)("span", { className: "font-semibold", children: formData.period === 1 ? "Monthly" : formData.period === 3 ? "Quarterly" : formData.period === 6 ? "6 Months" : formData.period === 12 ? "Yearly" : `${formData.period || 1} months` })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime119.jsxs)("div", { className: "flex justify-between", children: [
              /* @__PURE__ */ (0, import_jsx_runtime119.jsx)("span", { className: "text-gray-600", children: "Current Amount" }),
              /* @__PURE__ */ (0, import_jsx_runtime119.jsx)("span", { className: "font-semibold", children: (0, import_utils25.formatCurrency)(formData.amount || 0, formData.currency) })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime119.jsxs)("div", { className: "flex justify-between", children: [
              /* @__PURE__ */ (0, import_jsx_runtime119.jsx)("span", { className: "text-gray-600", children: "Discount Applied" }),
              /* @__PURE__ */ (0, import_jsx_runtime119.jsxs)("span", { className: "font-semibold text-green-600", children: [
                formData.discount || 0,
                "%"
              ] })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime119.jsxs)("div", { className: "flex justify-between", children: [
              /* @__PURE__ */ (0, import_jsx_runtime119.jsx)("span", { className: "text-gray-600", children: "Platform" }),
              /* @__PURE__ */ (0, import_jsx_runtime119.jsx)("span", { className: "font-semibold", children: formData.platform === "web-only" ? "Web Only" : formData.platform === "mobile-only" ? "Mobile Only" : formData.platform === "web-mobile" ? "Web & Mobile" : formData.platform === "desktop-only" ? "Desktop Only" : formData.platform === "all-platforms" ? "All Platforms" : "Web & Mobile" })
            ] })
          ] }) })
        ] }) })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime119.jsxs)(import_ui82.DialogFooter, { className: "flex justify-end gap-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime119.jsx)(import_ui82.Button, { variant: "outline", onClick: handleCancel, disabled: loading, children: "Cancel" }),
      /* @__PURE__ */ (0, import_jsx_runtime119.jsx)(import_ui82.Button, { onClick: () => handleSubmit(formData), disabled: loading, children: loading ? "Saving..." : "Save Changes" })
    ] })
  ] }) });
}

// src/components/features/Subscriptions/components/SubscriptionList.tsx
var import_jsx_runtime120 = require("react/jsx-runtime");
function SubscriptionList({
  subscriptions = [],
  plans = [],
  merchants = [],
  onView,
  onEdit,
  onDelete,
  onExtend,
  onCancel,
  onSuspend,
  onReactivate,
  onChangePlan,
  loading = false,
  pagination
}) {
  const [openMenuId, setOpenMenuId] = (0, import_react60.useState)(null);
  const [showViewDialog, setShowViewDialog] = (0, import_react60.useState)(false);
  const [showEditDialog, setShowEditDialog] = (0, import_react60.useState)(false);
  const [showExtendDialog, setShowExtendDialog] = (0, import_react60.useState)(false);
  const [showChangePlanDialog, setShowChangePlanDialog] = (0, import_react60.useState)(false);
  const [selectedSubscription, setSelectedSubscription] = (0, import_react60.useState)(null);
  const filteredSubscriptions = subscriptions;
  const getStatusBadge = (status) => {
    const statusMap = {
      "trial": "trial",
      "active": "active",
      "past_due": "warning",
      "cancelled": "cancelled",
      "paused": "warning"
    };
    const mappedStatus = statusMap[status] || status.toLowerCase();
    return /* @__PURE__ */ (0, import_jsx_runtime120.jsx)(StatusBadge, { status: mappedStatus });
  };
  const formatDate11 = (date2) => {
    return new Date(date2).toLocaleDateString("en-US", {
      year: "numeric",
      month: "short",
      day: "numeric"
    });
  };
  const formatCurrency20 = (amount, currency = "USD") => {
    return new Intl.NumberFormat("en-US", {
      style: "currency",
      currency
    }).format(amount);
  };
  const isExpiringSoon = (endDate) => {
    if (!endDate)
      return false;
    const end = new Date(endDate);
    const now = /* @__PURE__ */ new Date();
    const daysUntilExpiry = Math.ceil((end.getTime() - now.getTime()) / (1e3 * 60 * 60 * 24));
    return daysUntilExpiry <= 7 && daysUntilExpiry > 0;
  };
  const isExpired = (endDate) => {
    if (!endDate)
      return false;
    return new Date(endDate) < /* @__PURE__ */ new Date();
  };
  const handleView = (subscription) => {
    setSelectedSubscription(subscription);
    setShowViewDialog(true);
  };
  const handleEdit = (subscription) => {
    setSelectedSubscription(subscription);
    setShowEditDialog(true);
    setShowViewDialog(false);
  };
  const handleEditSave = async (data) => {
    if (onEdit) {
      await onEdit(data);
    }
    setShowEditDialog(false);
  };
  const handleCancel = (subscription) => {
    onCancel?.(subscription, "");
    setShowViewDialog(false);
  };
  const handleExtend = (subscription) => {
    setSelectedSubscription(subscription);
    setShowExtendDialog(true);
    setShowViewDialog(false);
  };
  const handleChangePlan = (subscription) => {
    setSelectedSubscription(subscription);
    setShowChangePlanDialog(true);
    setShowViewDialog(false);
  };
  const handleExtendConfirm = (subscription, data) => {
    onExtend?.(subscription);
    setShowExtendDialog(false);
    setShowViewDialog(false);
    setSelectedSubscription(null);
  };
  const handleChangePlanConfirm = (subscription, newPlanId, period) => {
    onChangePlan?.(subscription, newPlanId, period);
    setShowChangePlanDialog(false);
    setShowViewDialog(false);
    setSelectedSubscription(null);
  };
  const canCancel = (subscription) => ["active", "trial"].includes(subscription.status);
  const canExtend = (subscription) => ["active", "trial", "past_due"].includes(subscription.status);
  const canChangePlan = (subscription) => ["active", "trial"].includes(subscription.status);
  return /* @__PURE__ */ (0, import_jsx_runtime120.jsxs)(import_jsx_runtime120.Fragment, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime120.jsxs)(Card2, { className: "shadow-sm border-border flex flex-col h-full", children: [
      /* @__PURE__ */ (0, import_jsx_runtime120.jsx)(CardHeader2, { className: "flex-shrink-0", children: /* @__PURE__ */ (0, import_jsx_runtime120.jsx)(CardTitle2, { children: "Subscriptions" }) }),
      loading ? /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("div", { className: "flex items-center justify-center py-12", children: /* @__PURE__ */ (0, import_jsx_runtime120.jsxs)("div", { className: "flex items-center space-x-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("div", { className: "animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600" }),
        /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("span", { children: "Loading subscriptions..." })
      ] }) }) : filteredSubscriptions.length === 0 ? /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("div", { className: "text-center py-12", children: /* @__PURE__ */ (0, import_jsx_runtime120.jsxs)("div", { className: "text-text-tertiary", children: [
        /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("div", { className: "text-4xl mb-4", children: "\u{1F4B3}" }),
        /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("h3", { className: "text-lg font-medium mb-2", children: "No subscriptions found" }),
        /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("p", { className: "text-sm", children: "Try adjusting your search or filter criteria." })
      ] }) }) : (
        /* Table with scroll - same structure as ProductTable */
        /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("div", { className: "flex-1 overflow-auto", children: /* @__PURE__ */ (0, import_jsx_runtime120.jsxs)("table", { className: "w-full", children: [
          /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("thead", { className: "bg-bg-secondary border-b border-border sticky top-0 z-10", children: /* @__PURE__ */ (0, import_jsx_runtime120.jsxs)("tr", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Merchant" }),
            /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Plan" }),
            /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Amount" }),
            /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Period" }),
            /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Status" }),
            /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Next Billing" }),
            /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("th", { className: "px-6 py-3 text-right text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Actions" })
          ] }) }),
          /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("tbody", { className: "bg-bg-card divide-y divide-border", children: filteredSubscriptions.map((subscription) => /* @__PURE__ */ (0, import_jsx_runtime120.jsxs)("tr", { className: "hover:bg-bg-secondary transition-colors", children: [
            /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("td", { className: "px-6 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime120.jsxs)("div", { className: "flex items-center gap-3", children: [
              /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("div", { className: "flex-shrink-0 w-10 h-10 rounded-full bg-gradient-to-br from-action-primary to-brand-primary flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime120.jsx)(import_lucide_react52.Building, { className: "w-5 h-5 text-white" }) }),
              /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("div", { children: /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("div", { className: "text-sm font-medium text-text-primary", children: subscription.merchant?.name || "Unknown Merchant" }) })
            ] }) }),
            /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("td", { className: "px-6 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("div", { className: "text-sm text-text-primary", children: subscription.plan?.name || "Unknown Plan" }) }),
            /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("td", { className: "px-6 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("div", { children: /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("div", { className: "text-sm font-medium text-text-primary", children: formatCurrency20(subscription.amount, "USD") }) }) }),
            /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("td", { className: "px-6 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("div", { className: "text-sm text-text-primary", children: subscription.billingInterval === "month" ? "Monthly" : subscription.billingInterval === "quarter" ? "Quarterly" : subscription.billingInterval === "year" ? "Yearly" : subscription.billingInterval === "semiAnnual" ? "Semi-Annual" : "Custom" }) }),
            /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("td", { className: "px-6 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime120.jsxs)("div", { className: "flex items-center gap-2", children: [
              getStatusBadge(subscription.status),
              isExpiringSoon(subscription.currentPeriodEnd) && /* @__PURE__ */ (0, import_jsx_runtime120.jsx)(Badge, { className: "bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200 text-xs", children: "Expiring" })
            ] }) }),
            /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("td", { className: "px-6 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("div", { className: "text-sm text-text-primary", children: formatDate11(subscription.currentPeriodEnd) }) }),
            /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("td", { className: "px-6 py-4 text-right", children: /* @__PURE__ */ (0, import_jsx_runtime120.jsxs)(DropdownMenu, { children: [
              /* @__PURE__ */ (0, import_jsx_runtime120.jsx)(DropdownMenuTrigger, { asChild: true, children: /* @__PURE__ */ (0, import_jsx_runtime120.jsx)(
                Button,
                {
                  variant: "ghost",
                  size: "sm",
                  onClick: () => setOpenMenuId(openMenuId === subscription.id ? null : subscription.id),
                  children: /* @__PURE__ */ (0, import_jsx_runtime120.jsx)(import_lucide_react52.MoreVertical, { className: "h-4 w-4" })
                }
              ) }),
              /* @__PURE__ */ (0, import_jsx_runtime120.jsxs)(
                DropdownMenuContent,
                {
                  align: "end",
                  open: openMenuId === subscription.id,
                  onOpenChange: (open) => setOpenMenuId(open ? subscription.id : null),
                  className: "z-50",
                  children: [
                    /* @__PURE__ */ (0, import_jsx_runtime120.jsxs)(
                      DropdownMenuItem,
                      {
                        onClick: () => {
                          handleView(subscription);
                          setOpenMenuId(null);
                        },
                        children: [
                          /* @__PURE__ */ (0, import_jsx_runtime120.jsx)(import_lucide_react52.Eye, { className: "h-4 w-4 mr-2" }),
                          "View Details"
                        ]
                      }
                    ),
                    /* @__PURE__ */ (0, import_jsx_runtime120.jsxs)(
                      DropdownMenuItem,
                      {
                        onClick: () => {
                          onEdit?.(subscription);
                          setOpenMenuId(null);
                        },
                        children: [
                          /* @__PURE__ */ (0, import_jsx_runtime120.jsx)(import_lucide_react52.Edit, { className: "h-4 w-4 mr-2" }),
                          "Edit"
                        ]
                      }
                    ),
                    canCancel(subscription) && /* @__PURE__ */ (0, import_jsx_runtime120.jsxs)(import_jsx_runtime120.Fragment, { children: [
                      /* @__PURE__ */ (0, import_jsx_runtime120.jsx)(DropdownMenuSeparator, {}),
                      /* @__PURE__ */ (0, import_jsx_runtime120.jsxs)(
                        DropdownMenuItem,
                        {
                          onClick: () => {
                            handleCancel(subscription);
                            setOpenMenuId(null);
                          },
                          className: "text-action-danger focus:text-action-danger",
                          children: [
                            /* @__PURE__ */ (0, import_jsx_runtime120.jsx)(import_lucide_react52.Ban, { className: "h-4 w-4 mr-2" }),
                            "Cancel Subscription"
                          ]
                        }
                      )
                    ] })
                  ]
                }
              )
            ] }) })
          ] }, subscription.id)) })
        ] }) })
      )
    ] }),
    pagination && filteredSubscriptions.length > 0 && pagination.total > pagination.limit && /* @__PURE__ */ (0, import_jsx_runtime120.jsx)("div", { className: "flex-shrink-0 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime120.jsx)(
      Pagination,
      {
        currentPage: pagination.page,
        totalPages: Math.ceil(pagination.total / pagination.limit),
        total: pagination.total,
        limit: pagination.limit,
        onPageChange: pagination.onPageChange
      }
    ) }),
    /* @__PURE__ */ (0, import_jsx_runtime120.jsx)(
      SubscriptionViewDialog,
      {
        subscription: selectedSubscription,
        isOpen: showViewDialog,
        onClose: () => setShowViewDialog(false),
        onEdit: handleEdit,
        onCancel: handleCancel,
        onExtend: handleExtend,
        onSuspend,
        onReactivate,
        onChangePlan: handleChangePlan
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime120.jsx)(
      SubscriptionEditDialog,
      {
        subscription: selectedSubscription,
        plans,
        merchants,
        isOpen: showEditDialog,
        onClose: () => setShowEditDialog(false),
        onSave: handleEditSave,
        loading
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime120.jsx)(
      SubscriptionExtendDialog,
      {
        subscription: selectedSubscription,
        isOpen: showExtendDialog,
        onClose: () => setShowExtendDialog(false),
        onConfirm: handleExtendConfirm,
        loading
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime120.jsx)(
      SubscriptionChangePlanDialog,
      {
        subscription: selectedSubscription,
        plans,
        isOpen: showChangePlanDialog,
        onClose: () => setShowChangePlanDialog(false),
        onConfirm: handleChangePlanConfirm,
        loading
      }
    )
  ] });
}

// src/components/features/Subscriptions/components/SubscriptionForm.tsx
var import_react61 = require("react");
var import_lucide_react53 = require("lucide-react");
var import_jsx_runtime121 = require("react/jsx-runtime");
function SubscriptionForm({
  initialData,
  plans,
  merchants,
  onSubmit,
  onCancel,
  loading = false,
  mode = "create",
  title,
  submitText
}) {
  const [formData, setFormData] = (0, import_react61.useState)({
    merchantId: initialData?.merchantId || 0,
    planId: initialData?.planId || 0,
    status: initialData?.status || "trial",
    currentPeriodStart: initialData?.currentPeriodStart || /* @__PURE__ */ new Date(),
    currentPeriodEnd: initialData?.currentPeriodEnd || /* @__PURE__ */ new Date(),
    trialStart: initialData?.trialStart,
    trialEnd: initialData?.trialEnd,
    amount: initialData?.amount || 0,
    currency: initialData?.currency || "USD",
    interval: initialData?.interval || "month",
    intervalCount: initialData?.intervalCount || 1,
    period: initialData?.period || 1,
    discount: initialData?.discount || 0,
    savings: initialData?.savings || 0,
    platform: initialData?.platform || "web-mobile",
    cancelAtPeriodEnd: initialData?.cancelAtPeriodEnd || false,
    canceledAt: initialData?.canceledAt,
    cancelReason: initialData?.cancelReason,
    autoRenew: initialData?.autoRenew ?? true,
    changeReason: initialData?.changeReason || "",
    // Initialize additional fields
    startDate: initialData?.currentPeriodStart || /* @__PURE__ */ new Date(),
    endDate: initialData?.currentPeriodEnd || /* @__PURE__ */ new Date(),
    nextBillingDate: initialData?.currentPeriodEnd || /* @__PURE__ */ new Date()
  });
  const [selectedPlan, setSelectedPlan] = (0, import_react61.useState)(null);
  const [planVariants, setPlanVariants] = (0, import_react61.useState)([]);
  const [errors, setErrors] = (0, import_react61.useState)({});
  const [merchantOptions, setMerchantOptions] = (0, import_react61.useState)([]);
  const [selectedMerchant, setSelectedMerchant] = (0, import_react61.useState)(null);
  console.log("SubscriptionForm - merchants:", merchants);
  console.log("SubscriptionForm - plans:", plans);
  (0, import_react61.useEffect)(() => {
    const options = merchants.map((merchant) => ({
      value: merchant.id.toString(),
      label: merchant.name,
      subtitle: merchant.email,
      description: `${merchant.city}, ${merchant.state}`,
      type: "merchant"
    }));
    setMerchantOptions(options);
    if (formData.merchantId && merchants.length > 0) {
      const merchant = merchants.find((m) => m.id === formData.merchantId.toString());
      if (merchant) {
        setSelectedMerchant({
          value: merchant.id.toString(),
          label: merchant.name,
          subtitle: merchant.email,
          description: `${merchant.city}, ${merchant.state}`,
          type: "merchant"
        });
      }
    }
  }, [merchants, formData.merchantId]);
  const handleMerchantSearch = async (query) => {
    if (!query.trim()) {
      return merchantOptions;
    }
    const filtered = merchantOptions.filter(
      (option) => option.label.toLowerCase().includes(query.toLowerCase()) || option.subtitle?.toLowerCase().includes(query.toLowerCase()) || option.description?.toLowerCase().includes(query.toLowerCase())
    );
    return filtered;
  };
  (0, import_react61.useEffect)(() => {
    const plan = plans.find((p) => p.id === formData.planId);
    setSelectedPlan(plan || null);
    if (plan) {
      setPlanVariants([]);
      setFormData((prev) => ({
        ...prev,
        amount: plan.basePrice,
        currency: plan.currency
      }));
    }
  }, [formData.planId, plans]);
  (0, import_react61.useEffect)(() => {
    if (selectedPlan && formData.status === "trial" && selectedPlan.trialDays > 0) {
      const endDate = new Date(formData.startDate || formData.currentPeriodStart);
      endDate.setDate(endDate.getDate() + selectedPlan.trialDays);
      setFormData((prev) => ({
        ...prev,
        endDate,
        nextBillingDate: endDate,
        amount: 0
        // Trial is free
      }));
    }
  }, [selectedPlan, formData.startDate, formData.status]);
  (0, import_react61.useEffect)(() => {
    if (formData.status === "ACTIVE" && selectedPlan) {
      const endDate = new Date(formData.startDate || formData.currentPeriodStart);
      endDate.setMonth(endDate.getMonth() + 1);
      setFormData((prev) => ({
        ...prev,
        endDate,
        nextBillingDate: endDate
      }));
    }
  }, [formData.startDate, formData.status, selectedPlan]);
  const validateForm = () => {
    const newErrors = {};
    if (!formData.merchantId) {
      newErrors.merchantId = "Merchant is required";
    }
    if (!formData.planId) {
      newErrors.planId = "Plan is required";
    }
    if (!formData.startDate) {
      newErrors.startDate = "Start date is required";
    }
    if (!formData.nextBillingDate) {
      newErrors.nextBillingDate = "Next billing date is required";
    }
    if (formData.amount < 0) {
      newErrors.amount = "Amount cannot be negative";
    }
    if (formData.status === "TRIAL" && !formData.endDate) {
      newErrors.endDate = "End date is required for trial subscriptions";
    }
    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };
  const handleSubmit = async (e) => {
    e.preventDefault();
    if (!validateForm()) {
      return;
    }
    try {
      const submitData = {
        ...formData,
        startDate: formData.startDate,
        endDate: formData.endDate,
        nextBillingDate: formData.nextBillingDate
      };
      await onSubmit(submitData);
    } catch (error2) {
      console.error("Error submitting subscription:", error2);
    }
  };
  const handleInputChange = (field, value) => {
    setFormData((prev) => ({
      ...prev,
      [field]: value
    }));
    if (errors[field]) {
      setErrors((prev) => ({
        ...prev,
        [field]: ""
      }));
    }
  };
  const getStatusBadge = (status) => {
    const statusMap = {
      "TRIAL": "trial",
      "ACTIVE": "active",
      "CANCELLED": "cancelled",
      "SUSPENDED": "warning"
    };
    const mappedStatus = statusMap[status] || status.toLowerCase();
    return /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(StatusBadge, { status: mappedStatus });
  };
  const formatCurrency20 = (amount, currency = "USD") => {
    return new Intl.NumberFormat("en-US", {
      style: "currency",
      currency
    }).format(amount);
  };
  return /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)("form", { onSubmit: handleSubmit, className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)(Card2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)(CardTitle2, { className: "flex items-center space-x-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(import_lucide_react53.CreditCard, { className: "h-5 w-5" }),
        /* @__PURE__ */ (0, import_jsx_runtime121.jsx)("span", { children: title || (mode === "create" ? "Create Subscription" : "Edit Subscription") })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)(CardContent2, { className: "space-y-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)(Label2, { htmlFor: "merchantId", className: "flex items-center space-x-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(import_lucide_react53.Building, { className: "h-4 w-4" }),
            /* @__PURE__ */ (0, import_jsx_runtime121.jsx)("span", { children: "Merchant *" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(
            SearchableSelect,
            {
              value: formData.merchantId,
              onChange: (value) => handleInputChange("merchantId", value),
              options: merchantOptions,
              onSearch: handleMerchantSearch,
              placeholder: "Search for a merchant...",
              searchPlaceholder: "Type merchant name, email, or location...",
              emptyText: "No merchants found",
              displayMode: "input",
              className: errors.merchantId ? "border-red-500" : ""
            }
          ),
          errors.merchantId && /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)("p", { className: "text-sm text-red-500 flex items-center space-x-1", children: [
            /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(import_lucide_react53.AlertCircle, { className: "h-4 w-4" }),
            /* @__PURE__ */ (0, import_jsx_runtime121.jsx)("span", { children: errors.merchantId })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)(Label2, { htmlFor: "planId", className: "flex items-center space-x-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(import_lucide_react53.CreditCard, { className: "h-4 w-4" }),
            /* @__PURE__ */ (0, import_jsx_runtime121.jsx)("span", { children: "Plan *" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)(
            Select2,
            {
              value: formData.planId.toString(),
              onValueChange: (value) => handleInputChange("planId", parseInt(value)),
              disabled: mode === "view",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(SelectTrigger2, { className: errors.planId ? "border-red-500" : "", children: /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(SelectValue2, { placeholder: "Select a plan" }) }),
                /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(SelectContent2, { children: plans.map((plan) => /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(SelectItem2, { value: plan.id.toString(), children: /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)("div", { className: "flex items-center justify-between w-full", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime121.jsx)("span", { children: plan.name }),
                  /* @__PURE__ */ (0, import_jsx_runtime121.jsx)("span", { className: "text-sm text-gray-500 ml-2", children: formatCurrency20(plan.basePrice, plan.currency) })
                ] }) }, plan.id)) })
              ]
            }
          ),
          errors.planId && /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)("p", { className: "text-sm text-red-500 flex items-center space-x-1", children: [
            /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(import_lucide_react53.AlertCircle, { className: "h-4 w-4" }),
            /* @__PURE__ */ (0, import_jsx_runtime121.jsx)("span", { children: errors.planId })
          ] })
        ] }),
        planVariants.length > 0 && /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(Label2, { htmlFor: "planVariantId", children: "Plan Variant" }),
          /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)(
            Select2,
            {
              value: formData.planVariantId?.toString() || "",
              onValueChange: (value) => handleInputChange("planVariantId", value ? parseInt(value) : void 0),
              disabled: mode === "view",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(SelectTrigger2, { children: /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(SelectValue2, { placeholder: "Select a plan variant" }) }),
                /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(SelectContent2, { children: planVariants.map((variant) => /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)(SelectItem2, { value: variant.id.toString(), children: [
                  variant.name,
                  " - ",
                  formatCurrency20(variant.price, formData.currency)
                ] }, variant.id)) })
              ]
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)(Label2, { htmlFor: "status", className: "flex items-center space-x-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(import_lucide_react53.CheckCircle, { className: "h-4 w-4" }),
            /* @__PURE__ */ (0, import_jsx_runtime121.jsx)("span", { children: "Status" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)(
            Select2,
            {
              value: formData.status,
              onValueChange: (value) => handleInputChange("status", value),
              disabled: mode === "view",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(SelectTrigger2, { children: /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(SelectValue2, {}) }),
                /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)(SelectContent2, { children: [
                  /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(SelectItem2, { value: "TRIAL", children: "Trial" }),
                  /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(SelectItem2, { value: "ACTIVE", children: "Active" }),
                  /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(SelectItem2, { value: "CANCELLED", children: "Cancelled" }),
                  /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(SelectItem2, { value: "SUSPENDED", children: "Suspended" })
                ] })
              ]
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime121.jsx)("div", { className: "flex items-center space-x-2", children: getStatusBadge(formData.status) })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)(Label2, { htmlFor: "currentPeriodStart", className: "flex items-center space-x-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(import_lucide_react53.Calendar, { className: "h-4 w-4" }),
              /* @__PURE__ */ (0, import_jsx_runtime121.jsx)("span", { children: "Start Date *" })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(
              Input2,
              {
                type: "datetime-local",
                value: formData.startDate?.toISOString().slice(0, 16) || "",
                onChange: (e) => handleInputChange("startDate", new Date(e.target.value)),
                disabled: mode === "view",
                className: errors.startDate ? "border-red-500" : ""
              }
            ),
            errors.startDate && /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)("p", { className: "text-sm text-red-500 flex items-center space-x-1", children: [
              /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(import_lucide_react53.AlertCircle, { className: "h-4 w-4" }),
              /* @__PURE__ */ (0, import_jsx_runtime121.jsx)("span", { children: errors.startDate })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)(Label2, { htmlFor: "nextBillingDate", className: "flex items-center space-x-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(import_lucide_react53.Calendar, { className: "h-4 w-4" }),
              /* @__PURE__ */ (0, import_jsx_runtime121.jsx)("span", { children: "Next Billing Date *" })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(
              Input2,
              {
                type: "datetime-local",
                value: formData.nextBillingDate.toISOString().slice(0, 16),
                onChange: (e) => handleInputChange("nextBillingDate", new Date(e.target.value)),
                disabled: mode === "view",
                className: errors.nextBillingDate ? "border-red-500" : ""
              }
            ),
            errors.nextBillingDate && /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)("p", { className: "text-sm text-red-500 flex items-center space-x-1", children: [
              /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(import_lucide_react53.AlertCircle, { className: "h-4 w-4" }),
              /* @__PURE__ */ (0, import_jsx_runtime121.jsx)("span", { children: errors.nextBillingDate })
            ] })
          ] })
        ] }),
        formData.status === "TRIAL" && formData.endDate && /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)(Label2, { htmlFor: "endDate", className: "flex items-center space-x-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(import_lucide_react53.Calendar, { className: "h-4 w-4" }),
            /* @__PURE__ */ (0, import_jsx_runtime121.jsx)("span", { children: "Trial End Date" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(
            Input2,
            {
              type: "datetime-local",
              value: formData.endDate.toISOString().slice(0, 16),
              onChange: (e) => handleInputChange("endDate", new Date(e.target.value)),
              disabled: mode === "view",
              className: errors.endDate ? "border-red-500" : ""
            }
          ),
          errors.endDate && /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)("p", { className: "text-sm text-red-500 flex items-center space-x-1", children: [
            /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(import_lucide_react53.AlertCircle, { className: "h-4 w-4" }),
            /* @__PURE__ */ (0, import_jsx_runtime121.jsx)("span", { children: errors.endDate })
          ] })
        ] }),
        formData.status === "ACTIVE" && formData.endDate && /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)(Label2, { htmlFor: "endDate", className: "flex items-center space-x-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(import_lucide_react53.Calendar, { className: "h-4 w-4" }),
            /* @__PURE__ */ (0, import_jsx_runtime121.jsx)("span", { children: "End Date" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(
            Input2,
            {
              type: "datetime-local",
              value: formData.endDate.toISOString().slice(0, 16),
              onChange: (e) => handleInputChange("endDate", new Date(e.target.value)),
              disabled: mode === "view"
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)(Label2, { htmlFor: "amount", className: "flex items-center space-x-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(import_lucide_react53.DollarSign, { className: "h-4 w-4" }),
              /* @__PURE__ */ (0, import_jsx_runtime121.jsx)("span", { children: "Amount *" })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(
              Input2,
              {
                type: "number",
                step: "0.01",
                min: "0",
                value: formData.amount,
                onChange: (e) => handleInputChange("amount", parseFloat(e.target.value) || 0),
                disabled: mode === "view" || formData.status === "TRIAL",
                className: errors.amount ? "border-red-500" : ""
              }
            ),
            errors.amount && /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)("p", { className: "text-sm text-red-500 flex items-center space-x-1", children: [
              /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(import_lucide_react53.AlertCircle, { className: "h-4 w-4" }),
              /* @__PURE__ */ (0, import_jsx_runtime121.jsx)("span", { children: errors.amount })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(Label2, { htmlFor: "currency", children: "Currency" }),
            /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)(
              Select2,
              {
                value: formData.currency,
                onValueChange: (value) => handleInputChange("currency", value),
                disabled: mode === "view",
                children: [
                  /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(SelectTrigger2, { children: /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(SelectValue2, {}) }),
                  /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)(SelectContent2, { children: [
                    /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(SelectItem2, { value: "USD", children: "USD" }),
                    /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(SelectItem2, { value: "EUR", children: "EUR" }),
                    /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(SelectItem2, { value: "GBP", children: "GBP" }),
                    /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(SelectItem2, { value: "CAD", children: "CAD" })
                  ] })
                ]
              }
            )
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)(Label2, { htmlFor: "discount", className: "flex items-center space-x-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(import_lucide_react53.DollarSign, { className: "h-4 w-4" }),
            /* @__PURE__ */ (0, import_jsx_runtime121.jsx)("span", { children: "Discount %" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(
            Input2,
            {
              type: "number",
              min: "0",
              max: "100",
              step: "0.1",
              value: formData.discount,
              onChange: (e) => handleInputChange("discount", parseFloat(e.target.value) || 0),
              placeholder: "0.0",
              disabled: mode === "view",
              className: "w-32"
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime121.jsx)("p", { className: "text-xs text-gray-500", children: "Enter discount percentage (0-100%)" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)(Label2, { htmlFor: "platform", className: "flex items-center space-x-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(import_lucide_react53.Users, { className: "h-4 w-4" }),
            /* @__PURE__ */ (0, import_jsx_runtime121.jsx)("span", { children: "Platform Support" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)(
            Select2,
            {
              value: formData.platform,
              onValueChange: (value) => handleInputChange("platform", value),
              disabled: mode === "view",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(SelectTrigger2, { children: /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(SelectValue2, { placeholder: "Select platform support" }) }),
                /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)(SelectContent2, { children: [
                  /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(SelectItem2, { value: "web-only", children: "Web Only" }),
                  /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(SelectItem2, { value: "mobile-only", children: "Mobile Only" }),
                  /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(SelectItem2, { value: "web-mobile", children: "Web & Mobile" }),
                  /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(SelectItem2, { value: "desktop-only", children: "Desktop Only" }),
                  /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(SelectItem2, { value: "all-platforms", children: "All Platforms" })
                ] })
              ]
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime121.jsx)("p", { className: "text-xs text-gray-500", children: "Select which platforms this subscription supports" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)("div", { className: "flex items-center space-x-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(
            Switch,
            {
              id: "autoRenew",
              checked: formData.autoRenew,
              onCheckedChange: (checked) => handleInputChange("autoRenew", checked),
              disabled: mode === "view"
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(Label2, { htmlFor: "autoRenew", children: "Auto-renew subscription" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(Label2, { htmlFor: "changeReason", children: "Change Reason" }),
          /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(
            Textarea,
            {
              id: "changeReason",
              placeholder: "Reason for this subscription change...",
              value: formData.changeReason || "",
              onChange: (e) => handleInputChange("changeReason", e.target.value),
              disabled: mode === "view",
              rows: 3
            }
          )
        ] })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime121.jsxs)("div", { className: "flex items-center justify-end space-x-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(
        Button,
        {
          type: "button",
          variant: "outline",
          onClick: onCancel,
          disabled: loading,
          children: "Cancel"
        }
      ),
      mode !== "view" && /* @__PURE__ */ (0, import_jsx_runtime121.jsx)(
        Button,
        {
          type: "submit",
          disabled: loading,
          children: loading ? "Saving..." : submitText || "Save Subscription"
        }
      )
    ] })
  ] });
}

// src/components/features/Subscriptions/components/SubscriptionPreviewPage.tsx
var import_react62 = require("react");
var import_ui85 = require("@rentalshop/ui");
var import_utils26 = require("@rentalshop/utils");
var import_lucide_react54 = require("lucide-react");
var import_jsx_runtime122 = require("react/jsx-runtime");
var SubscriptionPreviewPage = ({
  onSelectPlan,
  showSelectButton = true,
  className
}) => {
  const [plans, setPlans] = (0, import_react62.useState)([]);
  const [loading, setLoading] = (0, import_react62.useState)(true);
  const [error2, setError] = (0, import_react62.useState)(null);
  const [selectedPlan, setSelectedPlan] = (0, import_react62.useState)(null);
  const [selectedDuration, setSelectedDuration] = (0, import_react62.useState)(1);
  (0, import_react62.useEffect)(() => {
    fetchPlans();
  }, []);
  const fetchPlans = async () => {
    try {
      setLoading(true);
      setError(null);
      const response = await import_utils26.publicPlansApi.getPublicPlansWithVariants();
      if (response.success && response.data) {
        setPlans(response.data);
      } else {
        setError(response.error || "Failed to fetch plans");
      }
    } catch (err) {
      console.error("Error fetching plans:", err);
      setError("Failed to fetch plans");
    } finally {
      setLoading(false);
    }
  };
  const handlePlanSelect = (plan, duration) => {
    setSelectedPlan(plan);
    setSelectedDuration(duration);
    if (onSelectPlan) {
      onSelectPlan(plan, duration);
    }
  };
  const getFeatureIcon = (feature) => {
    const featureLower = feature.toLowerCase();
    if (featureLower.includes("outlet") || featureLower.includes("store")) {
      return /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.Store, { className: "w-4 h-4" });
    }
    if (featureLower.includes("user") || featureLower.includes("staff")) {
      return /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.Users, { className: "w-4 h-4" });
    }
    if (featureLower.includes("product") || featureLower.includes("inventory")) {
      return /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.Package, { className: "w-4 h-4" });
    }
    if (featureLower.includes("customer")) {
      return /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.UserCheck, { className: "w-4 h-4" });
    }
    if (featureLower.includes("analytics") || featureLower.includes("report")) {
      return /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.TrendingUp, { className: "w-4 h-4" });
    }
    if (featureLower.includes("security") || featureLower.includes("secure")) {
      return /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.Shield, { className: "w-4 h-4" });
    }
    if (featureLower.includes("performance") || featureLower.includes("speed")) {
      return /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.Zap, { className: "w-4 h-4" });
    }
    return /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.Check, { className: "w-4 h-4" });
  };
  const getDurationText = (duration) => {
    if (duration === 1)
      return "1 Month";
    if (duration === 3)
      return "3 Months";
    if (duration === 6)
      return "6 Months";
    if (duration === 12)
      return "1 Year";
    return `${duration} Months`;
  };
  const getDiscountBadgeColor = (discount) => {
    if (discount >= 20)
      return "bg-red-100 text-red-800 border-red-200";
    if (discount >= 10)
      return "bg-orange-100 text-orange-800 border-orange-200";
    if (discount > 0)
      return "bg-green-100 text-green-800 border-green-200";
    return "bg-gray-100 text-gray-800 border-gray-200";
  };
  const getPlatformDisplayText = (platform) => {
    switch (platform) {
      case "web-only":
        return "Web Only";
      case "mobile-only":
        return "Mobile Only";
      case "web-mobile":
        return "Web & Mobile";
      case "desktop-only":
        return "Desktop Only";
      case "all-platforms":
        return "All Platforms";
      default:
        return "Web & Mobile";
    }
  };
  const getPlatformIcon = (platform) => {
    switch (platform) {
      case "web-only":
        return /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.Package, { className: "w-4 h-4" });
      case "mobile-only":
        return /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.Zap, { className: "w-4 h-4" });
      case "web-mobile":
        return /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.Shield, { className: "w-4 h-4" });
      case "desktop-only":
        return /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.TrendingUp, { className: "w-4 h-4" });
      case "all-platforms":
        return /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.Check, { className: "w-4 h-4" });
      default:
        return /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.Shield, { className: "w-4 h-4" });
    }
  };
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("div", { className: "min-h-screen bg-gray-50 py-12", children: /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("div", { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8", children: /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "text-center", children: [
      /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("div", { className: "animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto" }),
      /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("p", { className: "mt-4 text-gray-600", children: "Loading subscription plans..." })
    ] }) }) });
  }
  if (error2) {
    return /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("div", { className: "min-h-screen bg-gray-50 py-12", children: /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("div", { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8", children: /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("div", { className: "text-center", children: /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "bg-red-50 border border-red-200 rounded-lg p-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("p", { className: "text-red-800", children: error2 }),
      /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(
        import_ui85.Button,
        {
          onClick: fetchPlans,
          className: "mt-4",
          variant: "outline",
          children: "Try Again"
        }
      )
    ] }) }) }) });
  }
  const durations = [1, 3, 6, 12];
  const getDiscountForDuration = (duration) => {
    if (duration === 1)
      return 0;
    if (duration === 3)
      return 10;
    if (duration === 6)
      return 15;
    if (duration === 12)
      return 20;
    return 0;
  };
  const calculatePlanPricing = (plan, duration) => {
    const basePrice = plan.basePrice;
    const discount = getDiscountForDuration(duration);
    const discountedPrice = basePrice * (1 - discount / 100);
    const totalSavings = basePrice * duration - discountedPrice * duration;
    return {
      basePrice,
      discount,
      discountedPrice,
      totalSavings,
      monthlyPrice: discountedPrice,
      totalPrice: discountedPrice * duration
    };
  };
  return /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("div", { className: (0, import_ui85.cn)("min-h-screen bg-white py-12", className), children: /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "max-w-6xl mx-auto px-4 sm:px-6 lg:px-8", children: [
    /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "text-center mb-12", children: [
      /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("h1", { className: "text-4xl font-bold text-gray-900 mb-4", children: "Choose Your Subscription Plan" }),
      /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("p", { className: "text-xl text-gray-600 max-w-3xl mx-auto", children: "Start with our free trial plan or choose a paid plan that fits your business needs." })
    ] }),
    durations.length > 0 && /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("div", { className: "flex justify-center mb-12", children: /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("div", { className: "flex bg-gray-100 rounded-lg p-1", children: durations.map((duration) => {
      const discount = getDiscountForDuration(duration);
      const isSelected = selectedDuration === duration;
      return /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)(
        import_ui85.Button,
        {
          variant: isSelected ? "default" : "ghost",
          onClick: () => setSelectedDuration(duration),
          className: (0, import_ui85.cn)(
            "px-6 py-3 rounded-md text-sm font-medium transition-all duration-200 relative",
            isSelected ? "bg-blue-600 text-white shadow-sm" : "text-gray-600 hover:text-gray-900 hover:bg-gray-50"
          ),
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "text-center", children: [
              /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("div", { className: "font-semibold", children: duration === 1 ? "Monthly" : duration === 3 ? "Quarterly" : duration === 6 ? "6 Months" : duration === 12 ? "Yearly" : `${duration} months` }),
              discount > 0 ? /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "text-xs opacity-90 font-medium", children: [
                "Save ",
                discount,
                "%"
              ] }) : /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("div", { className: "text-xs opacity-90", children: "Standard" })
            ] }),
            discount > 0 && /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("div", { className: "absolute -top-1 -right-1", children: /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "bg-green-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold", children: [
              discount,
              "%"
            ] }) })
          ]
        },
        duration
      );
    }) }) }),
    /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("div", { className: "grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-12", children: plans.map((plan) => {
      const pricing = calculatePlanPricing(plan, selectedDuration);
      return /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)(
        import_ui85.Card,
        {
          className: (0, import_ui85.cn)(
            "relative transition-all duration-200 hover:shadow-lg bg-white border-2",
            plan.isPopular ? "border-blue-500 shadow-lg" : "border-gray-200 hover:border-gray-300"
          ),
          children: [
            plan.isPopular && /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("div", { className: "absolute -top-3 left-1/2 transform -translate-x-1/2", children: /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_ui85.Badge, { className: "bg-blue-600 text-white px-4 py-1 rounded-full text-sm font-medium", children: "Most Popular" }) }),
            /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)(import_ui85.CardHeader, { className: "text-center pb-4 pt-8", children: [
              /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_ui85.CardTitle, { className: "text-2xl font-bold text-gray-900 mb-2", children: plan.name }),
              /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("p", { className: "text-gray-600 text-sm mb-4", children: plan.description }),
              /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("div", { className: "mb-4", children: plan.name === "Trial" ? /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { children: [
                /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "text-3xl font-bold text-green-600", children: "Free" }),
                /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("div", { className: "text-sm text-gray-600 mt-1", children: "14-day trial" })
              ] }) : /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "space-y-2", children: [
                /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "flex items-baseline justify-center", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "text-3xl font-bold text-gray-900", children: (0, import_utils26.formatCurrency)(pricing.monthlyPrice, plan.currency) }),
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "text-gray-600 ml-1 text-sm", children: "/month" })
                ] }),
                pricing.discount > 0 && /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "text-center space-y-1", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "flex items-center justify-center gap-2", children: [
                    /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("span", { className: "text-sm text-gray-500 line-through", children: [
                      (0, import_utils26.formatCurrency)(pricing.basePrice, plan.currency),
                      "/month"
                    ] }),
                    /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)(import_ui85.Badge, { className: (0, import_ui85.cn)("text-xs font-medium", getDiscountBadgeColor(pricing.discount)), children: [
                      pricing.discount,
                      "% OFF"
                    ] })
                  ] }),
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "text-sm text-green-600 font-medium", children: [
                    "Save ",
                    (0, import_utils26.formatCurrency)(pricing.totalSavings, plan.currency),
                    " total"
                  ] })
                ] }),
                selectedDuration > 1 && /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "text-center", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "text-sm text-gray-600", children: [
                    "Total for ",
                    selectedDuration,
                    " month",
                    selectedDuration > 1 ? "s" : "",
                    ":"
                  ] }),
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("div", { className: "text-lg font-semibold text-gray-900", children: (0, import_utils26.formatCurrency)(pricing.totalPrice, plan.currency) })
                ] })
              ] }) })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)(import_ui85.CardContent, { className: "pt-0", children: [
              /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "space-y-3 mb-6", children: [
                /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "text-gray-700", children: "Outlets" }),
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "font-medium text-gray-900", children: plan.limits.outlets === -1 ? "Unlimited" : plan.limits.outlets })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "text-gray-700", children: "Users" }),
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "font-medium text-gray-900", children: plan.limits.users === -1 ? "Unlimited" : plan.limits.users })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "text-gray-700", children: "Products" }),
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "font-medium text-gray-900", children: plan.limits.products === -1 ? "Unlimited" : plan.limits.products.toLocaleString() })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "text-gray-700", children: "Customers" }),
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "font-medium text-gray-900", children: plan.limits.customers === -1 ? "Unlimited" : plan.limits.customers.toLocaleString() })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "text-gray-700", children: "Trial Period" }),
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("span", { className: "font-medium text-gray-900", children: [
                    plan.trialDays,
                    " days"
                  ] })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "text-gray-700", children: "Platform" }),
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "font-medium text-gray-900", children: /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("span", { className: "inline-flex items-center gap-1 text-green-600", children: [
                    getPlatformIcon("web-mobile"),
                    getPlatformDisplayText("web-mobile")
                  ] }) })
                ] })
              ] }),
              plan.features && plan.features.length > 0 && /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "space-y-3 mb-6", children: [
                /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("h4", { className: "text-sm font-semibold text-gray-900 mb-2", children: "Features" }),
                plan.features.map((feature, index) => /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "text-gray-700", children: feature }),
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.Check, { className: "w-4 h-4 text-green-500" })
                ] }, index))
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "space-y-3 mb-6", children: [
                /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("h4", { className: "text-sm font-semibold text-gray-900 mb-2", children: "Core Features" }),
                /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "text-gray-700", children: "Order Management" }),
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.Check, { className: "w-4 h-4 text-green-500" })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "text-gray-700", children: "Product Management" }),
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.Check, { className: "w-4 h-4 text-green-500" })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "text-gray-700", children: "Customer Management" }),
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.Check, { className: "w-4 h-4 text-green-500" })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "text-gray-700", children: "Revenue Reports" }),
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.Check, { className: "w-4 h-4 text-green-500" })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "text-gray-700", children: "Web Portal" }),
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.Check, { className: "w-4 h-4 text-green-500" })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "text-gray-700", children: "Mobile App" }),
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.Check, { className: "w-4 h-4 text-green-500" })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "text-gray-700", children: "Free Updates" }),
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.Check, { className: "w-4 h-4 text-green-500" })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "text-gray-700", children: "Email Support" }),
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.Check, { className: "w-4 h-4 text-green-500" })
                ] }),
                plan.name === "Professional" && /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)(import_jsx_runtime122.Fragment, { children: [
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
                    /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "text-gray-700", children: "Priority Support" }),
                    /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.Check, { className: "w-4 h-4 text-green-500" })
                  ] }),
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
                    /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "text-gray-700", children: "API Access" }),
                    /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.Check, { className: "w-4 h-4 text-green-500" })
                  ] }),
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
                    /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "text-gray-700", children: "Team Collaboration" }),
                    /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.Check, { className: "w-4 h-4 text-green-500" })
                  ] })
                ] }),
                plan.name === "Enterprise" && /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)(import_jsx_runtime122.Fragment, { children: [
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
                    /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "text-gray-700", children: "24/7 Priority Support" }),
                    /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.Check, { className: "w-4 h-4 text-green-500" })
                  ] }),
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
                    /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "text-gray-700", children: "Full API Access" }),
                    /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.Check, { className: "w-4 h-4 text-green-500" })
                  ] }),
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
                    /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "text-gray-700", children: "White-label Solution" }),
                    /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.Check, { className: "w-4 h-4 text-green-500" })
                  ] }),
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
                    /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "text-gray-700", children: "Dedicated Account Manager" }),
                    /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.Check, { className: "w-4 h-4 text-green-500" })
                  ] }),
                  /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
                    /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("span", { className: "text-gray-700", children: "SLA Guarantee" }),
                    /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(import_lucide_react54.Check, { className: "w-4 h-4 text-green-500" })
                  ] })
                ] })
              ] }),
              showSelectButton && /* @__PURE__ */ (0, import_jsx_runtime122.jsx)(
                import_ui85.Button,
                {
                  className: "w-full",
                  variant: plan.isPopular ? "default" : plan.name === "Trial" ? "default" : "outline",
                  onClick: () => {
                    handlePlanSelect(plan, selectedDuration);
                  },
                  children: selectedPlan?.id === plan.id ? "Selected" : plan.name === "Trial" ? "Start Free Trial" : "Select Plan"
                }
              )
            ] })
          ]
        },
        plan.id
      );
    }) }),
    selectedPlan && /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "bg-white rounded-lg shadow-lg p-6 border border-gray-200", children: [
      /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("h3", { className: "text-lg font-semibold text-gray-900 mb-4", children: "Selected Plan Summary" }),
      /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("p", { className: "text-sm text-gray-600", children: "Plan" }),
          /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("p", { className: "font-medium text-gray-900", children: selectedPlan.name })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("p", { className: "text-sm text-gray-600", children: "Billing Period" }),
          /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("p", { className: "font-medium text-gray-900", children: selectedDuration === 1 ? "Monthly" : selectedDuration === 3 ? "Quarterly" : selectedDuration === 6 ? "6 Months" : selectedDuration === 12 ? "Yearly" : `${selectedDuration} months` })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("p", { className: "text-sm text-gray-600", children: "Monthly Price" }),
          /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("p", { className: "font-medium text-gray-900", children: [
            (0, import_utils26.formatCurrency)(calculatePlanPricing(selectedPlan, selectedDuration).monthlyPrice, selectedPlan.currency),
            calculatePlanPricing(selectedPlan, selectedDuration).discount > 0 && /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("span", { className: "text-green-600 ml-2 text-sm", children: [
              "(",
              calculatePlanPricing(selectedPlan, selectedDuration).discount,
              "% OFF)"
            ] })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("p", { className: "text-sm text-gray-600", children: "Total Price" }),
          /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("p", { className: "font-medium text-gray-900", children: [
            (0, import_utils26.formatCurrency)(calculatePlanPricing(selectedPlan, selectedDuration).totalPrice, selectedPlan.currency),
            calculatePlanPricing(selectedPlan, selectedDuration).discount > 0 && /* @__PURE__ */ (0, import_jsx_runtime122.jsxs)("div", { className: "text-xs text-green-600", children: [
              "Save ",
              (0, import_utils26.formatCurrency)(calculatePlanPricing(selectedPlan, selectedDuration).totalSavings, selectedPlan.currency)
            ] })
          ] })
        ] })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("div", { className: "text-center mt-12 text-gray-600", children: /* @__PURE__ */ (0, import_jsx_runtime122.jsx)("p", { className: "text-sm", children: "All plans include 24/7 support and can be upgraded or downgraded at any time." }) })
  ] }) });
};

// src/components/features/Subscriptions/components/PlanSelectionModal.tsx
var import_react63 = require("react");
var import_ui86 = require("@rentalshop/ui");
var import_lucide_react55 = require("lucide-react");
var import_jsx_runtime123 = require("react/jsx-runtime");
var BILLING_CYCLES2 = [
  {
    value: "monthly",
    label: "Monthly",
    months: 1,
    discount: 0,
    description: "Pay monthly, cancel anytime"
  },
  {
    value: "quarterly",
    label: "Quarterly",
    months: 3,
    discount: 10,
    description: "Save 10% with quarterly billing"
  },
  {
    value: "semi_annual",
    label: "Semi-Annual",
    months: 6,
    discount: 15,
    description: "Save 15% with semi-annual billing"
  },
  {
    value: "annual",
    label: "Annual",
    months: 12,
    discount: 25,
    description: "Save 25% with annual billing"
  }
];
var PAYMENT_METHODS = [
  { value: "STRIPE", label: "Credit Card (Stripe)", icon: import_lucide_react55.CreditCard },
  { value: "PAYPAL", label: "PayPal", icon: import_lucide_react55.CreditCard },
  { value: "BANK_TRANSFER", label: "Bank Transfer", icon: import_lucide_react55.CreditCard },
  { value: "MANUAL", label: "Manual Payment", icon: import_lucide_react55.CreditCard }
];
var PlanSelectionModal = ({
  isOpen,
  onClose,
  onSelectPlan,
  plans,
  currentPlan,
  loading = false
}) => {
  const [selectedPlan, setSelectedPlan] = (0, import_react63.useState)(null);
  const [selectedBillingCycle, setSelectedBillingCycle] = (0, import_react63.useState)("monthly");
  const [selectedPaymentMethod, setSelectedPaymentMethod] = (0, import_react63.useState)("STRIPE");
  const [calculatedPrice, setCalculatedPrice] = (0, import_react63.useState)(0);
  (0, import_react63.useEffect)(() => {
    if (selectedPlan) {
      const billingCycle = BILLING_CYCLES2.find((bc) => bc.value === selectedBillingCycle);
      if (billingCycle) {
        const basePrice = selectedPlan.price;
        const discount = billingCycle.discount / 100;
        const discountedPrice = basePrice * (1 - discount);
        const totalPrice = discountedPrice * billingCycle.months;
        setCalculatedPrice(Math.round(totalPrice * 100) / 100);
      }
    }
  }, [selectedPlan, selectedBillingCycle]);
  const handlePlanSelect = (plan) => {
    setSelectedPlan(plan);
  };
  const handleBillingCycleChange = (value) => {
    setSelectedBillingCycle(value);
  };
  const handlePaymentMethodChange = (value) => {
    setSelectedPaymentMethod(value);
  };
  const handleConfirm = () => {
    if (selectedPlan) {
      onSelectPlan(selectedPlan.id, selectedBillingCycle);
    }
  };
  const getFeatureIcon = (feature) => {
    if (feature.toLowerCase().includes("unlimited"))
      return import_lucide_react55.Zap;
    if (feature.toLowerCase().includes("security") || feature.toLowerCase().includes("secure"))
      return import_lucide_react55.Shield;
    if (feature.toLowerCase().includes("support"))
      return import_lucide_react55.Shield;
    return import_lucide_react55.Check;
  };
  const formatPrice = (price, currency = "USD") => {
    return new Intl.NumberFormat("en-US", {
      style: "currency",
      currency
    }).format(price);
  };
  const getBillingCycleInfo = () => {
    return BILLING_CYCLES2.find((bc) => bc.value === selectedBillingCycle);
  };
  return /* @__PURE__ */ (0, import_jsx_runtime123.jsx)(import_ui86.Dialog, { open: isOpen, onOpenChange: onClose, children: /* @__PURE__ */ (0, import_jsx_runtime123.jsxs)(import_ui86.DialogContent, { className: "max-w-6xl max-h-[90vh] overflow-y-auto", children: [
    /* @__PURE__ */ (0, import_jsx_runtime123.jsx)(import_ui86.DialogHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime123.jsxs)(import_ui86.DialogTitle, { className: "flex items-center gap-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime123.jsx)(import_lucide_react55.AlertTriangle, { className: "h-5 w-5 text-orange-500" }),
      "Subscription Expired - Select a Plan"
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime123.jsxs)("div", { className: "space-y-6", children: [
      currentPlan && /* @__PURE__ */ (0, import_jsx_runtime123.jsx)(import_ui86.Card, { className: "border-orange-200 bg-orange-50", children: /* @__PURE__ */ (0, import_jsx_runtime123.jsxs)(import_ui86.CardContent, { className: "pt-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime123.jsxs)("div", { className: "flex items-center gap-2 text-orange-700", children: [
          /* @__PURE__ */ (0, import_jsx_runtime123.jsx)(import_lucide_react55.Clock, { className: "h-4 w-4" }),
          /* @__PURE__ */ (0, import_jsx_runtime123.jsxs)("span", { className: "font-medium", children: [
            "Current Plan: ",
            currentPlan.name
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime123.jsx)(import_ui86.Badge, { variant: "destructive", children: "Expired" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime123.jsx)("p", { className: "text-sm text-orange-600 mt-1", children: "Your subscription has expired. Please select a new plan to continue using the service." })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime123.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime123.jsx)("h3", { className: "text-lg font-semibold", children: "Choose Your Plan" }),
        /* @__PURE__ */ (0, import_jsx_runtime123.jsx)("div", { className: "grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4", children: plans.map((plan) => /* @__PURE__ */ (0, import_jsx_runtime123.jsxs)(
          import_ui86.Card,
          {
            className: `cursor-pointer transition-all hover:shadow-md ${selectedPlan?.id === plan.id ? "ring-2 ring-blue-500 border-blue-500" : "hover:border-gray-300"} ${plan.isPopular ? "border-blue-500 bg-blue-50" : ""}`,
            onClick: () => handlePlanSelect(plan),
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime123.jsxs)(import_ui86.CardHeader, { className: "pb-3", children: [
                /* @__PURE__ */ (0, import_jsx_runtime123.jsxs)("div", { className: "flex items-center justify-between", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime123.jsx)(import_ui86.CardTitle, { className: "text-lg", children: plan.name }),
                  plan.isPopular && /* @__PURE__ */ (0, import_jsx_runtime123.jsx)(import_ui86.Badge, { className: "bg-blue-500", children: "Most Popular" })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime123.jsxs)("div", { className: "text-2xl font-bold text-blue-600", children: [
                  formatPrice(plan.price, plan.currency),
                  /* @__PURE__ */ (0, import_jsx_runtime123.jsxs)("span", { className: "text-sm font-normal text-gray-500", children: [
                    "/",
                    plan.billingCycle
                  ] })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime123.jsx)("p", { className: "text-sm text-gray-600", children: plan.description })
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime123.jsx)(import_ui86.CardContent, { className: "pt-0", children: /* @__PURE__ */ (0, import_jsx_runtime123.jsx)("div", { className: "space-y-2", children: (typeof plan.features === "string" ? JSON.parse(plan.features) : plan.features || []).map((feature, index) => {
                const Icon2 = getFeatureIcon(feature);
                return /* @__PURE__ */ (0, import_jsx_runtime123.jsxs)("div", { className: "flex items-center gap-2 text-sm", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime123.jsx)(Icon2, { className: "h-4 w-4 text-green-500" }),
                  /* @__PURE__ */ (0, import_jsx_runtime123.jsx)("span", { children: feature })
                ] }, index);
              }) }) })
            ]
          },
          plan.id
        )) })
      ] }),
      selectedPlan && /* @__PURE__ */ (0, import_jsx_runtime123.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime123.jsx)("h3", { className: "text-lg font-semibold", children: "Choose Billing Cycle" }),
        /* @__PURE__ */ (0, import_jsx_runtime123.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3", children: BILLING_CYCLES2.map((cycle) => /* @__PURE__ */ (0, import_jsx_runtime123.jsx)(
          import_ui86.Card,
          {
            className: `cursor-pointer transition-all hover:shadow-md ${selectedBillingCycle === cycle.value ? "ring-2 ring-blue-500 border-blue-500" : "hover:border-gray-300"}`,
            onClick: () => handleBillingCycleChange(cycle.value),
            children: /* @__PURE__ */ (0, import_jsx_runtime123.jsx)(import_ui86.CardContent, { className: "pt-4", children: /* @__PURE__ */ (0, import_jsx_runtime123.jsxs)("div", { className: "text-center", children: [
              /* @__PURE__ */ (0, import_jsx_runtime123.jsx)("h4", { className: "font-semibold", children: cycle.label }),
              cycle.discount > 0 && /* @__PURE__ */ (0, import_jsx_runtime123.jsxs)(import_ui86.Badge, { className: "mt-1 bg-green-500", children: [
                "Save ",
                cycle.discount,
                "%"
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime123.jsx)("p", { className: "text-xs text-gray-600 mt-2", children: cycle.description })
            ] }) })
          },
          cycle.value
        )) })
      ] }),
      selectedPlan && /* @__PURE__ */ (0, import_jsx_runtime123.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime123.jsx)("h3", { className: "text-lg font-semibold", children: "Payment Method" }),
        /* @__PURE__ */ (0, import_jsx_runtime123.jsxs)(import_ui86.Select, { value: selectedPaymentMethod, onValueChange: handlePaymentMethodChange, children: [
          /* @__PURE__ */ (0, import_jsx_runtime123.jsx)(import_ui86.SelectTrigger, { children: /* @__PURE__ */ (0, import_jsx_runtime123.jsx)(import_ui86.SelectValue, { placeholder: "Select payment method" }) }),
          /* @__PURE__ */ (0, import_jsx_runtime123.jsx)(import_ui86.SelectContent, { children: PAYMENT_METHODS.map((method) => {
            const Icon2 = method.icon;
            return /* @__PURE__ */ (0, import_jsx_runtime123.jsx)(import_ui86.SelectItem, { value: method.value, children: /* @__PURE__ */ (0, import_jsx_runtime123.jsxs)("div", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime123.jsx)(Icon2, { className: "h-4 w-4" }),
              method.label
            ] }) }, method.value);
          }) })
        ] })
      ] }),
      selectedPlan && /* @__PURE__ */ (0, import_jsx_runtime123.jsx)(import_ui86.Card, { className: "bg-gray-50", children: /* @__PURE__ */ (0, import_jsx_runtime123.jsx)(import_ui86.CardContent, { className: "pt-4", children: /* @__PURE__ */ (0, import_jsx_runtime123.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime123.jsxs)("div", { className: "flex justify-between items-center", children: [
          /* @__PURE__ */ (0, import_jsx_runtime123.jsx)("span", { className: "font-medium", children: "Plan:" }),
          /* @__PURE__ */ (0, import_jsx_runtime123.jsx)("span", { children: selectedPlan.name })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime123.jsxs)("div", { className: "flex justify-between items-center", children: [
          /* @__PURE__ */ (0, import_jsx_runtime123.jsx)("span", { className: "font-medium", children: "Billing Cycle:" }),
          /* @__PURE__ */ (0, import_jsx_runtime123.jsx)("span", { children: getBillingCycleInfo()?.label })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime123.jsxs)("div", { className: "flex justify-between items-center", children: [
          /* @__PURE__ */ (0, import_jsx_runtime123.jsx)("span", { className: "font-medium", children: "Base Price:" }),
          /* @__PURE__ */ (0, import_jsx_runtime123.jsx)("span", { children: formatPrice(selectedPlan.price, selectedPlan.currency) })
        ] }),
        getBillingCycleInfo()?.discount > 0 && /* @__PURE__ */ (0, import_jsx_runtime123.jsxs)("div", { className: "flex justify-between items-center text-green-600", children: [
          /* @__PURE__ */ (0, import_jsx_runtime123.jsxs)("span", { className: "font-medium", children: [
            "Discount (",
            getBillingCycleInfo()?.discount,
            "%):"
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime123.jsxs)("span", { children: [
            "-",
            formatPrice(selectedPlan.price * getBillingCycleInfo().discount / 100, selectedPlan.currency)
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime123.jsx)(import_ui86.Separator, {}),
        /* @__PURE__ */ (0, import_jsx_runtime123.jsxs)("div", { className: "flex justify-between items-center text-lg font-bold", children: [
          /* @__PURE__ */ (0, import_jsx_runtime123.jsx)("span", { children: "Total:" }),
          /* @__PURE__ */ (0, import_jsx_runtime123.jsx)("span", { className: "text-blue-600", children: formatPrice(calculatedPrice, selectedPlan.currency) })
        ] })
      ] }) }) }),
      /* @__PURE__ */ (0, import_jsx_runtime123.jsxs)("div", { className: "flex justify-end gap-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime123.jsx)(import_ui86.Button, { variant: "outline", onClick: onClose, children: "Cancel" }),
        /* @__PURE__ */ (0, import_jsx_runtime123.jsx)(
          import_ui86.Button,
          {
            onClick: handleConfirm,
            disabled: !selectedPlan || loading,
            className: "bg-blue-600 hover:bg-blue-700",
            children: loading ? "Processing..." : "Continue with Payment"
          }
        )
      ] })
    ] })
  ] }) });
};

// src/components/features/Subscriptions/components/SubscriptionStatusBanner.tsx
var import_lucide_react56 = require("lucide-react");
var import_hooks9 = require("@rentalshop/hooks");
var import_jsx_runtime124 = require("react/jsx-runtime");
function SubscriptionStatusBanner({
  className = "",
  showActions = true,
  onUpgrade,
  onPayment,
  onExport
}) {
  const {
    statusMessage,
    statusColor,
    hasAccess,
    accessLevel,
    requiresPayment,
    upgradeRequired,
    gracePeriodEnds,
    canExportData,
    isRestricted,
    isReadOnly,
    isLimited,
    isDenied
  } = (0, import_hooks9.useSubscriptionStatusInfo)();
  if (!isRestricted) {
    return null;
  }
  const getStatusIcon5 = () => {
    if (isDenied)
      return /* @__PURE__ */ (0, import_jsx_runtime124.jsx)(import_lucide_react56.XCircle, { className: "w-5 h-5" });
    if (isReadOnly)
      return /* @__PURE__ */ (0, import_jsx_runtime124.jsx)(import_lucide_react56.Shield, { className: "w-5 h-5" });
    if (isLimited)
      return /* @__PURE__ */ (0, import_jsx_runtime124.jsx)(import_lucide_react56.Clock, { className: "w-5 h-5" });
    if (requiresPayment)
      return /* @__PURE__ */ (0, import_jsx_runtime124.jsx)(import_lucide_react56.CreditCard, { className: "w-5 h-5" });
    if (upgradeRequired)
      return /* @__PURE__ */ (0, import_jsx_runtime124.jsx)(import_lucide_react56.AlertTriangle, { className: "w-5 h-5" });
    return /* @__PURE__ */ (0, import_jsx_runtime124.jsx)(import_lucide_react56.Info, { className: "w-5 h-5" });
  };
  const getStatusVariant = () => {
    switch (statusColor) {
      case "red":
        return "destructive";
      case "orange":
        return "default";
      case "yellow":
        return "default";
      case "green":
        return "default";
      default:
        return "default";
    }
  };
  const getStatusBadgeVariant = () => {
    switch (accessLevel) {
      case "denied":
        return "destructive";
      case "limited":
        return "secondary";
      case "readonly":
        return "outline";
      default:
        return "default";
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime124.jsx)(Alert, { className: `${className} ${getStatusVariant()}`, children: /* @__PURE__ */ (0, import_jsx_runtime124.jsxs)("div", { className: "flex items-start justify-between", children: [
    /* @__PURE__ */ (0, import_jsx_runtime124.jsxs)("div", { className: "flex items-start space-x-3", children: [
      getStatusIcon5(),
      /* @__PURE__ */ (0, import_jsx_runtime124.jsxs)("div", { className: "flex-1", children: [
        /* @__PURE__ */ (0, import_jsx_runtime124.jsxs)(AlertTitle, { className: "flex items-center gap-2", children: [
          "Subscription Status",
          /* @__PURE__ */ (0, import_jsx_runtime124.jsx)(Badge, { variant: getStatusBadgeVariant(), children: accessLevel.toUpperCase() })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime124.jsx)(AlertDescription, { className: "mt-1", children: statusMessage }),
        gracePeriodEnds && /* @__PURE__ */ (0, import_jsx_runtime124.jsxs)("div", { className: "mt-2 text-sm text-muted-foreground", children: [
          /* @__PURE__ */ (0, import_jsx_runtime124.jsx)(import_lucide_react56.Clock, { className: "w-4 h-4 inline mr-1" }),
          "Grace period ends: ",
          gracePeriodEnds.toLocaleDateString()
        ] })
      ] })
    ] }),
    showActions && /* @__PURE__ */ (0, import_jsx_runtime124.jsxs)("div", { className: "flex items-center space-x-2 ml-4", children: [
      upgradeRequired && onUpgrade && /* @__PURE__ */ (0, import_jsx_runtime124.jsxs)(Button, { size: "sm", onClick: onUpgrade, children: [
        /* @__PURE__ */ (0, import_jsx_runtime124.jsx)(import_lucide_react56.CheckCircle, { className: "w-4 h-4 mr-1" }),
        "Upgrade Now"
      ] }),
      requiresPayment && onPayment && /* @__PURE__ */ (0, import_jsx_runtime124.jsxs)(Button, { size: "sm", variant: "outline", onClick: onPayment, children: [
        /* @__PURE__ */ (0, import_jsx_runtime124.jsx)(import_lucide_react56.CreditCard, { className: "w-4 h-4 mr-1" }),
        "Make Payment"
      ] }),
      canExportData && onExport && /* @__PURE__ */ (0, import_jsx_runtime124.jsxs)(Button, { size: "sm", variant: "outline", onClick: onExport, children: [
        /* @__PURE__ */ (0, import_jsx_runtime124.jsx)(import_lucide_react56.Download, { className: "w-4 h-4 mr-1" }),
        "Export Data"
      ] })
    ] })
  ] }) });
}
function SubscriptionStatusCard({
  className = "",
  showActions = true,
  onUpgrade,
  onPayment,
  onExport
}) {
  const {
    statusMessage,
    statusColor,
    hasAccess,
    accessLevel,
    requiresPayment,
    upgradeRequired,
    gracePeriodEnds,
    canExportData,
    isRestricted,
    isReadOnly,
    isLimited,
    isDenied
  } = (0, import_hooks9.useSubscriptionStatusInfo)();
  if (!isRestricted) {
    return null;
  }
  const getStatusIcon5 = () => {
    if (isDenied)
      return /* @__PURE__ */ (0, import_jsx_runtime124.jsx)(import_lucide_react56.XCircle, { className: "w-6 h-6 text-red-500" });
    if (isReadOnly)
      return /* @__PURE__ */ (0, import_jsx_runtime124.jsx)(import_lucide_react56.Shield, { className: "w-6 h-6 text-yellow-500" });
    if (isLimited)
      return /* @__PURE__ */ (0, import_jsx_runtime124.jsx)(import_lucide_react56.Clock, { className: "w-6 h-6 text-orange-500" });
    if (requiresPayment)
      return /* @__PURE__ */ (0, import_jsx_runtime124.jsx)(import_lucide_react56.CreditCard, { className: "w-6 h-6 text-orange-500" });
    if (upgradeRequired)
      return /* @__PURE__ */ (0, import_jsx_runtime124.jsx)(import_lucide_react56.AlertTriangle, { className: "w-6 h-6 text-red-500" });
    return /* @__PURE__ */ (0, import_jsx_runtime124.jsx)(import_lucide_react56.Info, { className: "w-6 h-6 text-blue-500" });
  };
  const getStatusColor11 = () => {
    switch (statusColor) {
      case "red":
        return "border-red-200 bg-red-50";
      case "orange":
        return "border-orange-200 bg-orange-50";
      case "yellow":
        return "border-yellow-200 bg-yellow-50";
      case "green":
        return "border-green-200 bg-green-50";
      default:
        return "border-gray-200 bg-gray-50";
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime124.jsx)(Card2, { className: `${className} ${getStatusColor11()}`, children: /* @__PURE__ */ (0, import_jsx_runtime124.jsx)(CardContent2, { className: "p-6", children: /* @__PURE__ */ (0, import_jsx_runtime124.jsx)("div", { className: "flex items-start justify-between", children: /* @__PURE__ */ (0, import_jsx_runtime124.jsxs)("div", { className: "flex items-start space-x-4", children: [
    getStatusIcon5(),
    /* @__PURE__ */ (0, import_jsx_runtime124.jsxs)("div", { className: "flex-1", children: [
      /* @__PURE__ */ (0, import_jsx_runtime124.jsxs)("h3", { className: "text-lg font-semibold text-gray-900 mb-2", children: [
        "Subscription Status: ",
        accessLevel.toUpperCase()
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime124.jsx)("p", { className: "text-gray-700 mb-3", children: statusMessage }),
      gracePeriodEnds && /* @__PURE__ */ (0, import_jsx_runtime124.jsxs)("div", { className: "text-sm text-gray-600 mb-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime124.jsx)(import_lucide_react56.Clock, { className: "w-4 h-4 inline mr-1" }),
        "Grace period ends: ",
        gracePeriodEnds.toLocaleDateString()
      ] }),
      showActions && /* @__PURE__ */ (0, import_jsx_runtime124.jsxs)("div", { className: "flex items-center space-x-3", children: [
        upgradeRequired && onUpgrade && /* @__PURE__ */ (0, import_jsx_runtime124.jsxs)(Button, { size: "sm", onClick: onUpgrade, children: [
          /* @__PURE__ */ (0, import_jsx_runtime124.jsx)(import_lucide_react56.CheckCircle, { className: "w-4 h-4 mr-1" }),
          "Upgrade Now"
        ] }),
        requiresPayment && onPayment && /* @__PURE__ */ (0, import_jsx_runtime124.jsxs)(Button, { size: "sm", variant: "outline", onClick: onPayment, children: [
          /* @__PURE__ */ (0, import_jsx_runtime124.jsx)(import_lucide_react56.CreditCard, { className: "w-4 h-4 mr-1" }),
          "Make Payment"
        ] }),
        canExportData && onExport && /* @__PURE__ */ (0, import_jsx_runtime124.jsxs)(Button, { size: "sm", variant: "outline", onClick: onExport, children: [
          /* @__PURE__ */ (0, import_jsx_runtime124.jsx)(import_lucide_react56.Download, { className: "w-4 h-4 mr-1" }),
          "Export Data"
        ] })
      ] })
    ] })
  ] }) }) }) });
}

// src/components/features/Subscriptions/SubscriptionPeriodCard.tsx
var import_lucide_react57 = require("lucide-react");
var import_utils27 = require("@rentalshop/utils");
var import_jsx_runtime125 = require("react/jsx-runtime");
function SubscriptionPeriodCard({
  period,
  planName,
  amount,
  currency = "USD",
  className = ""
}) {
  const formatted = (0, import_utils27.formatSubscriptionPeriod)(period);
  const statusBadge = (0, import_utils27.getSubscriptionStatusBadge)(period.isActive ? "active" : "inactive", period.daysRemaining);
  const getStatusIcon5 = () => {
    switch (statusBadge.icon) {
      case "clock":
        return /* @__PURE__ */ (0, import_jsx_runtime125.jsx)(import_lucide_react57.Clock, { className: "w-4 h-4" });
      case "alert-triangle":
        return /* @__PURE__ */ (0, import_jsx_runtime125.jsx)(import_lucide_react57.AlertTriangle, { className: "w-4 h-4" });
      case "check-circle":
        return /* @__PURE__ */ (0, import_jsx_runtime125.jsx)(import_lucide_react57.CheckCircle, { className: "w-4 h-4" });
      case "pause":
        return /* @__PURE__ */ (0, import_jsx_runtime125.jsx)(import_lucide_react57.Pause, { className: "w-4 h-4" });
      case "x-circle":
        return /* @__PURE__ */ (0, import_jsx_runtime125.jsx)(import_lucide_react57.XCircle, { className: "w-4 h-4" });
      default:
        return /* @__PURE__ */ (0, import_jsx_runtime125.jsx)(import_lucide_react57.MinusCircle, { className: "w-4 h-4" });
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime125.jsxs)(Card2, { className: `${className}`, children: [
    /* @__PURE__ */ (0, import_jsx_runtime125.jsx)(CardHeader2, { className: "pb-3", children: /* @__PURE__ */ (0, import_jsx_runtime125.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime125.jsx)(CardTitle2, { className: "text-lg font-semibold", children: "Subscription Period" }),
      /* @__PURE__ */ (0, import_jsx_runtime125.jsxs)(Badge, { className: `${statusBadge.color} flex items-center gap-1`, children: [
        getStatusIcon5(),
        statusBadge.text
      ] })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime125.jsxs)(CardContent2, { className: "space-y-4", children: [
      planName && /* @__PURE__ */ (0, import_jsx_runtime125.jsxs)("div", { className: "flex items-center justify-between", children: [
        /* @__PURE__ */ (0, import_jsx_runtime125.jsx)("span", { className: "text-sm font-medium text-gray-600", children: "Plan" }),
        /* @__PURE__ */ (0, import_jsx_runtime125.jsx)("span", { className: "text-sm font-semibold", children: planName })
      ] }),
      amount !== void 0 && /* @__PURE__ */ (0, import_jsx_runtime125.jsxs)("div", { className: "flex items-center justify-between", children: [
        /* @__PURE__ */ (0, import_jsx_runtime125.jsx)("span", { className: "text-sm font-medium text-gray-600", children: "Amount" }),
        /* @__PURE__ */ (0, import_jsx_runtime125.jsxs)("span", { className: "text-sm font-semibold", children: [
          currency,
          " ",
          amount.toFixed(2)
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime125.jsxs)("div", { className: "flex items-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime125.jsx)(import_lucide_react57.Calendar, { className: "w-4 h-4 text-gray-500" }),
        /* @__PURE__ */ (0, import_jsx_runtime125.jsxs)("div", { className: "flex-1", children: [
          /* @__PURE__ */ (0, import_jsx_runtime125.jsx)("div", { className: "text-sm font-medium text-gray-900", children: formatted.period }),
          /* @__PURE__ */ (0, import_jsx_runtime125.jsxs)("div", { className: "text-xs text-gray-500", children: [
            period.duration,
            " billing cycle"
          ] })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime125.jsxs)("div", { className: "flex items-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime125.jsx)(import_lucide_react57.Clock, { className: "w-4 h-4 text-gray-500" }),
        /* @__PURE__ */ (0, import_jsx_runtime125.jsxs)("div", { className: "flex-1", children: [
          /* @__PURE__ */ (0, import_jsx_runtime125.jsx)("div", { className: "text-sm font-medium text-gray-900", children: formatted.timeRemaining }),
          /* @__PURE__ */ (0, import_jsx_runtime125.jsxs)("div", { className: "text-xs text-gray-500", children: [
            "Next billing: ",
            formatted.nextBilling
          ] })
        ] })
      ] }),
      period.isTrial && period.endDate && /* @__PURE__ */ (0, import_jsx_runtime125.jsx)("div", { className: "bg-blue-50 border border-blue-200 rounded-lg p-3", children: /* @__PURE__ */ (0, import_jsx_runtime125.jsxs)("div", { className: "flex items-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime125.jsx)(import_lucide_react57.Clock, { className: "w-4 h-4 text-blue-600" }),
        /* @__PURE__ */ (0, import_jsx_runtime125.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime125.jsx)("div", { className: "text-sm font-medium text-blue-900", children: "Trial Period" }),
          /* @__PURE__ */ (0, import_jsx_runtime125.jsxs)("div", { className: "text-xs text-blue-700", children: [
            "Trial ends: ",
            formatted.trialEnd
          ] })
        ] })
      ] }) })
    ] })
  ] });
}

// src/components/features/Subscriptions/components/RestrictedButton.tsx
var import_hooks10 = require("@rentalshop/hooks");
var import_lucide_react58 = require("lucide-react");
var import_jsx_runtime126 = require("react/jsx-runtime");
function RestrictedButton({
  action,
  reason,
  showTooltip = true,
  fallbackText,
  fallbackIcon,
  children,
  disabled,
  ...props
}) {
  const canPerform = (0, import_hooks10.useCanPerform)(action);
  const isDisabled = disabled || !canPerform;
  const getRestrictionIcon = () => {
    if (fallbackIcon)
      return fallbackIcon;
    if (action.includes("Manage") || action.includes("Process")) {
      return /* @__PURE__ */ (0, import_jsx_runtime126.jsx)(import_lucide_react58.Lock, { className: "w-4 h-4" });
    }
    return /* @__PURE__ */ (0, import_jsx_runtime126.jsx)(import_lucide_react58.AlertTriangle, { className: "w-4 h-4" });
  };
  const getRestrictionText = () => {
    if (fallbackText)
      return fallbackText;
    if (reason)
      return reason;
    switch (action) {
      case "canCreate":
        return "Cannot create with current subscription";
      case "canEdit":
        return "Cannot edit with current subscription";
      case "canDelete":
        return "Cannot delete with current subscription";
      case "canManageUsers":
        return "User management not available with current subscription";
      case "canManageOutlets":
        return "Outlet management not available with current subscription";
      case "canManageProducts":
        return "Product management not available with current subscription";
      case "canProcessOrders":
        return "Order processing not available with current subscription";
      default:
        return "Action not available with current subscription";
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime126.jsxs)(
    Button,
    {
      ...props,
      disabled: isDisabled,
      variant: isDisabled ? "outline" : props.variant,
      className: `${props.className} ${isDisabled ? "opacity-50 cursor-not-allowed" : ""}`,
      title: isDisabled && showTooltip ? getRestrictionText() : void 0,
      children: [
        isDisabled && getRestrictionIcon(),
        children
      ]
    }
  );
}
function RestrictedAction({
  action,
  children,
  fallback,
  reason
}) {
  const canPerform = (0, import_hooks10.useCanPerform)(action);
  if (!canPerform) {
    return fallback ? /* @__PURE__ */ (0, import_jsx_runtime126.jsx)(import_jsx_runtime126.Fragment, { children: fallback }) : null;
  }
  return /* @__PURE__ */ (0, import_jsx_runtime126.jsx)(import_jsx_runtime126.Fragment, { children });
}
function RestrictedSection({
  action,
  children,
  fallback,
  reason,
  className = ""
}) {
  const canPerform = (0, import_hooks10.useCanPerform)(action);
  if (!canPerform) {
    return fallback ? /* @__PURE__ */ (0, import_jsx_runtime126.jsx)("div", { className, children: fallback }) : null;
  }
  return /* @__PURE__ */ (0, import_jsx_runtime126.jsx)("div", { className, children });
}

// src/components/features/Subscriptions/components/PaymentHistoryTable.tsx
var import_react64 = require("react");
var import_ui87 = require("@rentalshop/ui");
var import_utils28 = require("@rentalshop/utils");
var import_lucide_react59 = require("lucide-react");
var import_jsx_runtime127 = require("react/jsx-runtime");
function PaymentHistoryTable({
  subscriptionId,
  payments,
  loading = false,
  onViewPayment,
  onDownloadInvoice,
  pagination
}) {
  const [statusFilter, setStatusFilter] = (0, import_react64.useState)("all");
  const [methodFilter, setMethodFilter] = (0, import_react64.useState)("all");
  const getStatusBadge = (status) => {
    const statusMap = {
      COMPLETED: { variant: "success", label: "Paid" },
      PENDING: { variant: "warning", label: "Pending" },
      FAILED: { variant: "danger", label: "Failed" },
      REFUNDED: { variant: "secondary", label: "Refunded" }
    };
    const config = statusMap[status] || { variant: "default", label: status };
    return /* @__PURE__ */ (0, import_jsx_runtime127.jsx)(import_ui87.Badge, { variant: config.variant, children: config.label });
  };
  const getMethodIcon = (method) => {
    switch (method.toUpperCase()) {
      case "STRIPE":
        return "\u{1F4B3}";
      case "TRANSFER":
        return "\u{1F3E6}";
      case "MANUAL":
        return "\u270F\uFE0F";
      default:
        return "\u{1F4B0}";
    }
  };
  const exportToCSV = () => {
    const csv = [
      ["Date", "Amount", "Method", "Status", "Transaction ID"].join(","),
      ...payments.map((p) => [
        (0, import_utils28.formatDate)(p.createdAt, "MMM dd, yyyy"),
        p.amount,
        p.method,
        p.status,
        p.transactionId
      ].join(","))
    ].join("\n");
    const blob = new Blob([csv], { type: "text/csv" });
    const url = URL.createObjectURL(blob);
    const a = document.createElement("a");
    a.href = url;
    a.download = `payment-history-${subscriptionId}-${Date.now()}.csv`;
    a.click();
  };
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime127.jsx)(import_ui87.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime127.jsxs)(import_ui87.CardContent, { className: "p-8 text-center", children: [
      /* @__PURE__ */ (0, import_jsx_runtime127.jsx)("div", { className: "animate-spin w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto" }),
      /* @__PURE__ */ (0, import_jsx_runtime127.jsx)("p", { className: "mt-4 text-gray-600", children: "Loading payment history..." })
    ] }) });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime127.jsxs)(import_ui87.Card, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime127.jsx)(import_ui87.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime127.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime127.jsx)(import_ui87.CardTitle, { children: "\u{1F4B3} Payment History" }),
      /* @__PURE__ */ (0, import_jsx_runtime127.jsx)("div", { className: "flex gap-2", children: /* @__PURE__ */ (0, import_jsx_runtime127.jsxs)(import_ui87.Button, { variant: "outline", size: "sm", onClick: exportToCSV, children: [
        /* @__PURE__ */ (0, import_jsx_runtime127.jsx)(import_lucide_react59.Download, { className: "w-4 h-4 mr-2" }),
        "Export CSV"
      ] }) })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime127.jsx)(import_ui87.CardContent, { children: payments.length === 0 ? /* @__PURE__ */ (0, import_jsx_runtime127.jsxs)("div", { className: "text-center py-12", children: [
      /* @__PURE__ */ (0, import_jsx_runtime127.jsx)(import_lucide_react59.FileText, { className: "w-12 h-12 text-gray-300 mx-auto mb-4" }),
      /* @__PURE__ */ (0, import_jsx_runtime127.jsx)("p", { className: "text-gray-600", children: "No payment history yet" })
    ] }) : /* @__PURE__ */ (0, import_jsx_runtime127.jsxs)(import_jsx_runtime127.Fragment, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime127.jsx)("div", { className: "overflow-x-auto", children: /* @__PURE__ */ (0, import_jsx_runtime127.jsxs)("table", { className: "w-full", children: [
        /* @__PURE__ */ (0, import_jsx_runtime127.jsx)("thead", { className: "border-b", children: /* @__PURE__ */ (0, import_jsx_runtime127.jsxs)("tr", { className: "text-left text-sm text-gray-600", children: [
          /* @__PURE__ */ (0, import_jsx_runtime127.jsx)("th", { className: "pb-3 font-medium", children: "Date" }),
          /* @__PURE__ */ (0, import_jsx_runtime127.jsx)("th", { className: "pb-3 font-medium", children: "Amount" }),
          /* @__PURE__ */ (0, import_jsx_runtime127.jsx)("th", { className: "pb-3 font-medium", children: "Method" }),
          /* @__PURE__ */ (0, import_jsx_runtime127.jsx)("th", { className: "pb-3 font-medium", children: "Status" }),
          /* @__PURE__ */ (0, import_jsx_runtime127.jsx)("th", { className: "pb-3 font-medium", children: "Transaction ID" }),
          /* @__PURE__ */ (0, import_jsx_runtime127.jsx)("th", { className: "pb-3 font-medium", children: "Invoice" }),
          /* @__PURE__ */ (0, import_jsx_runtime127.jsx)("th", { className: "pb-3 font-medium text-right", children: "Actions" })
        ] }) }),
        /* @__PURE__ */ (0, import_jsx_runtime127.jsx)("tbody", { children: payments.map((payment) => /* @__PURE__ */ (0, import_jsx_runtime127.jsxs)("tr", { className: "border-b hover:bg-gray-50", children: [
          /* @__PURE__ */ (0, import_jsx_runtime127.jsx)("td", { className: "py-4 text-sm", children: (0, import_utils28.formatDate)(new Date(payment.createdAt), "MMM dd, yyyy") }),
          /* @__PURE__ */ (0, import_jsx_runtime127.jsx)("td", { className: "py-4 text-sm font-semibold", children: (0, import_utils28.formatCurrency)(payment.amount, payment.currency) }),
          /* @__PURE__ */ (0, import_jsx_runtime127.jsx)("td", { className: "py-4 text-sm", children: /* @__PURE__ */ (0, import_jsx_runtime127.jsxs)("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime127.jsx)("span", { children: getMethodIcon(payment.method) }),
            /* @__PURE__ */ (0, import_jsx_runtime127.jsx)("span", { className: "capitalize", children: payment.method.toLowerCase() })
          ] }) }),
          /* @__PURE__ */ (0, import_jsx_runtime127.jsx)("td", { className: "py-4 text-sm", children: getStatusBadge(payment.status) }),
          /* @__PURE__ */ (0, import_jsx_runtime127.jsx)("td", { className: "py-4 text-sm font-mono", children: payment.transactionId }),
          /* @__PURE__ */ (0, import_jsx_runtime127.jsx)("td", { className: "py-4 text-sm", children: payment.invoiceNumber ? /* @__PURE__ */ (0, import_jsx_runtime127.jsxs)(
            import_ui87.Button,
            {
              variant: "ghost",
              size: "sm",
              onClick: () => onDownloadInvoice?.(payment),
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime127.jsx)(import_lucide_react59.FileText, { className: "w-4 h-4 mr-1" }),
                payment.invoiceNumber
              ]
            }
          ) : /* @__PURE__ */ (0, import_jsx_runtime127.jsx)("span", { className: "text-gray-400", children: "N/A" }) }),
          /* @__PURE__ */ (0, import_jsx_runtime127.jsx)("td", { className: "py-4 text-sm text-right", children: /* @__PURE__ */ (0, import_jsx_runtime127.jsx)(
            import_ui87.Button,
            {
              variant: "ghost",
              size: "sm",
              onClick: () => onViewPayment?.(payment),
              children: /* @__PURE__ */ (0, import_jsx_runtime127.jsx)(import_lucide_react59.Eye, { className: "w-4 h-4" })
            }
          ) })
        ] }, payment.id)) })
      ] }) }),
      pagination && pagination.total > pagination.limit && /* @__PURE__ */ (0, import_jsx_runtime127.jsx)("div", { className: "mt-6", children: /* @__PURE__ */ (0, import_jsx_runtime127.jsx)(
        import_ui87.Pagination,
        {
          currentPage: pagination.page,
          totalPages: Math.ceil(pagination.total / pagination.limit),
          onPageChange: pagination.onPageChange
        }
      ) })
    ] }) })
  ] });
}

// src/components/features/Subscriptions/components/ManualRenewalModal.tsx
var import_react65 = require("react");
var import_ui88 = require("@rentalshop/ui");
var import_utils29 = require("@rentalshop/utils");
var import_constants12 = require("@rentalshop/constants");
var import_utils30 = require("@rentalshop/utils");
var import_lucide_react60 = require("lucide-react");
var import_jsx_runtime128 = require("react/jsx-runtime");
function ManualRenewalModal({
  isOpen,
  onClose,
  subscription,
  onRenew,
  loading = false
}) {
  const [method, setMethod] = (0, import_react65.useState)("TRANSFER");
  const [duration, setDuration] = (0, import_react65.useState)(1);
  const [transactionId, setTransactionId] = (0, import_react65.useState)("");
  const [reference, setReference] = (0, import_react65.useState)("");
  const [description, setDescription] = (0, import_react65.useState)("");
  const [errors, setErrors] = (0, import_react65.useState)({});
  const calculateTotal = () => (0, import_utils30.calculateRenewalPrice)(subscription.amount, duration);
  const getSavings = () => (0, import_utils30.calculateSavings)(subscription.amount, duration);
  const nextPeriodStart = new Date(subscription.currentPeriodEnd);
  const nextPeriodEnd = new Date(nextPeriodStart);
  nextPeriodEnd.setMonth(nextPeriodEnd.getMonth() + duration);
  const validate = () => {
    const newErrors = {};
    if (!transactionId.trim()) {
      newErrors.transactionId = "Transaction ID is required";
    }
    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };
  const handleSubmit = async () => {
    if (!validate())
      return;
    try {
      await onRenew({
        method,
        transactionId,
        reference: reference || void 0,
        description: description || `${duration} month${duration > 1 ? "s" : ""} subscription renewal - ${(0, import_utils29.formatDate)(/* @__PURE__ */ new Date(), "MMMM yyyy")}`
      });
      setTransactionId("");
      setReference("");
      setDescription("");
      onClose();
    } catch (error2) {
      console.error("Renewal failed:", error2);
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime128.jsx)(import_ui88.Dialog, { open: isOpen, onOpenChange: onClose, children: /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)(import_ui88.DialogContent, { className: "max-w-2xl max-h-[90vh] overflow-hidden flex flex-col", children: [
    /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)(import_ui88.DialogHeader, { className: "flex-shrink-0", children: [
      /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)(import_ui88.DialogTitle, { className: "flex items-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime128.jsx)(import_lucide_react60.CreditCard, { className: "h-5 w-5 text-green-500" }),
        "Renew Subscription"
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)(import_ui88.DialogDescription, { children: [
        "Extend subscription for ",
        subscription.merchantName
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)("div", { className: "space-y-6 overflow-y-auto flex-1 pr-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)("div", { className: "p-4 bg-gray-50 border rounded-lg", children: [
        /* @__PURE__ */ (0, import_jsx_runtime128.jsx)("p", { className: "text-sm text-gray-600 mb-1", children: "Current Plan" }),
        /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)("div", { className: "flex items-center justify-between", children: [
          /* @__PURE__ */ (0, import_jsx_runtime128.jsx)("p", { className: "font-semibold text-lg", children: subscription.planName }),
          /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)("p", { className: "font-semibold text-lg", children: [
            (0, import_utils29.formatCurrency)(subscription.amount, subscription.currency),
            "/month"
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)("p", { className: "text-sm text-gray-500 mt-2", children: [
          "Expires: ",
          (0, import_utils29.formatDate)(subscription.currentPeriodEnd, "MMM dd, yyyy")
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime128.jsx)(import_ui88.Label, { htmlFor: "duration", children: "Renewal Period *" }),
        /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)(
          import_ui88.Select,
          {
            value: duration.toString(),
            onValueChange: (value) => setDuration(parseInt(value)),
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime128.jsx)(import_ui88.SelectTrigger, { children: /* @__PURE__ */ (0, import_jsx_runtime128.jsx)(import_ui88.SelectValue, { placeholder: "Choose renewal period..." }) }),
              /* @__PURE__ */ (0, import_jsx_runtime128.jsx)(import_ui88.SelectContent, { children: import_constants12.RENEWAL_DURATIONS.map((option) => {
                const discount = (0, import_utils30.getDiscountPercentage)(option.months);
                const price = (0, import_utils30.calculateRenewalPrice)(subscription.amount, option.months);
                const endDate = new Date(nextPeriodStart);
                endDate.setMonth(endDate.getMonth() + option.months);
                return /* @__PURE__ */ (0, import_jsx_runtime128.jsx)(import_ui88.SelectItem, { value: option.months.toString(), children: /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)("div", { className: "flex flex-col py-1", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)("div", { className: "flex items-center gap-2", children: [
                    /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)("span", { className: "font-medium", children: [
                      option.name,
                      " (",
                      option.label,
                      ")"
                    ] }),
                    /* @__PURE__ */ (0, import_jsx_runtime128.jsx)("span", { className: "font-semibold", children: (0, import_utils29.formatCurrency)(price, subscription.currency) }),
                    discount > 0 && /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)("span", { className: "text-xs bg-green-100 text-green-700 px-1.5 py-0.5 rounded", children: [
                      "Save ",
                      discount,
                      "%"
                    ] })
                  ] }),
                  /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)("span", { className: "text-xs text-gray-500 mt-0.5", children: [
                    "Period: ",
                    (0, import_utils29.formatDate)(nextPeriodStart, "MMM dd"),
                    " - ",
                    (0, import_utils29.formatDate)(endDate, "MMM dd, yyyy")
                  ] })
                ] }) }, option.months);
              }) })
            ]
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime128.jsx)("p", { className: "text-xs text-gray-500 mt-1", children: "Longer renewal periods offer better discounts" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)("div", { className: "p-4 bg-blue-50 border border-blue-200 rounded-lg", children: [
        /* @__PURE__ */ (0, import_jsx_runtime128.jsx)("p", { className: "font-medium text-blue-900 mb-2", children: "Pricing Summary" }),
        /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)("div", { className: "space-y-2 text-sm", children: [
          /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)("div", { className: "flex justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime128.jsx)("span", { children: "Duration:" }),
            /* @__PURE__ */ (0, import_jsx_runtime128.jsx)("span", { className: "font-medium", children: import_constants12.RENEWAL_DURATIONS.find((d) => d.months === duration)?.name })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)("div", { className: "flex justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime128.jsx)("span", { children: "Period:" }),
            /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)("span", { className: "font-medium", children: [
              (0, import_utils29.formatDate)(nextPeriodStart, "MMM dd"),
              " - ",
              (0, import_utils29.formatDate)(nextPeriodEnd, "MMM dd, yyyy")
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)("div", { className: "flex justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime128.jsx)("span", { children: "Base Price:" }),
            /* @__PURE__ */ (0, import_jsx_runtime128.jsx)("span", { className: "font-medium", children: (0, import_utils29.formatCurrency)(subscription.amount * duration, subscription.currency) })
          ] }),
          getSavings() > 0 && /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)("div", { className: "flex justify-between text-green-700", children: [
            /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)("span", { children: [
              "Discount (",
              (0, import_utils30.getDiscountPercentage)(duration),
              "%):"
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)("span", { className: "font-medium", children: [
              "-",
              (0, import_utils29.formatCurrency)(getSavings(), subscription.currency)
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)("div", { className: "flex justify-between pt-2 border-t text-base", children: [
            /* @__PURE__ */ (0, import_jsx_runtime128.jsx)("span", { className: "font-semibold", children: "Total:" }),
            /* @__PURE__ */ (0, import_jsx_runtime128.jsx)("span", { className: "font-bold text-blue-900", children: (0, import_utils29.formatCurrency)(calculateTotal(), subscription.currency) })
          ] })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime128.jsx)(import_ui88.Label, { children: "Payment Method *" }),
        /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)("div", { className: "grid grid-cols-2 gap-3 mt-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime128.jsx)(
            import_ui88.Button,
            {
              variant: "outline",
              type: "button",
              onClick: () => setMethod("TRANSFER"),
              className: `p-3 border-2 rounded-lg text-left transition-all justify-start h-auto ${method === "TRANSFER" ? "border-blue-500 bg-blue-50" : "border-gray-200 hover:border-gray-300"}`,
              children: /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)("div", { className: "flex items-center gap-2", children: [
                /* @__PURE__ */ (0, import_jsx_runtime128.jsx)(import_lucide_react60.Building2, { className: "w-5 h-5 text-gray-600" }),
                /* @__PURE__ */ (0, import_jsx_runtime128.jsx)("span", { className: "font-medium", children: "Bank Transfer" })
              ] })
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime128.jsx)(
            import_ui88.Button,
            {
              variant: "outline",
              type: "button",
              onClick: () => setMethod("STRIPE"),
              className: `p-3 border-2 rounded-lg text-left transition-all justify-start h-auto ${method === "STRIPE" ? "border-blue-500 bg-blue-50" : "border-gray-200 hover:border-gray-300"}`,
              children: /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)("div", { className: "flex items-center gap-2", children: [
                /* @__PURE__ */ (0, import_jsx_runtime128.jsx)(import_lucide_react60.CreditCard, { className: "w-5 h-5 text-gray-600" }),
                /* @__PURE__ */ (0, import_jsx_runtime128.jsx)("span", { className: "font-medium", children: "Stripe" })
              ] })
            }
          )
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)(import_ui88.Label, { htmlFor: "transactionId", children: [
          "Transaction ID *",
          /* @__PURE__ */ (0, import_jsx_runtime128.jsx)("span", { className: "text-gray-500 text-sm font-normal ml-2", children: method === "STRIPE" ? "(e.g., txn_1234567890)" : "(Bank reference number)" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime128.jsx)(
          import_ui88.Input,
          {
            id: "transactionId",
            value: transactionId,
            onChange: (e) => setTransactionId(e.target.value),
            placeholder: method === "STRIPE" ? "txn_1234567890" : "BANK-REF-123",
            className: errors.transactionId ? "border-red-500" : ""
          }
        ),
        errors.transactionId && /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)("p", { className: "text-sm text-red-600 flex items-center gap-1 mt-1", children: [
          /* @__PURE__ */ (0, import_jsx_runtime128.jsx)(import_lucide_react60.AlertCircle, { className: "w-4 h-4" }),
          errors.transactionId
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime128.jsx)(import_ui88.Label, { htmlFor: "reference", children: "Reference Number (Optional)" }),
        /* @__PURE__ */ (0, import_jsx_runtime128.jsx)(
          import_ui88.Input,
          {
            id: "reference",
            value: reference,
            onChange: (e) => setReference(e.target.value),
            placeholder: "REF-2025-001"
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime128.jsx)(import_ui88.Label, { htmlFor: "description", children: "Description (Optional)" }),
        /* @__PURE__ */ (0, import_jsx_runtime128.jsx)(
          import_ui88.Textarea,
          {
            id: "description",
            value: description,
            onChange: (e) => setDescription(e.target.value),
            placeholder: `${duration} month${duration > 1 ? "s" : ""} subscription renewal - ${(0, import_utils29.formatDate)(/* @__PURE__ */ new Date(), "MMMM yyyy")}`,
            rows: 2
          }
        )
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime128.jsxs)(import_ui88.DialogFooter, { className: "flex-shrink-0 border-t pt-4 mt-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime128.jsx)(import_ui88.Button, { variant: "outline", onClick: onClose, disabled: loading, children: "Cancel" }),
      /* @__PURE__ */ (0, import_jsx_runtime128.jsx)(import_ui88.Button, { onClick: handleSubmit, disabled: loading, children: loading ? "Processing..." : "Process Renewal" })
    ] })
  ] }) });
}

// src/components/features/Subscriptions/components/UpgradeTrialModal.tsx
var import_react66 = require("react");
var import_ui89 = require("@rentalshop/ui");
var import_utils31 = require("@rentalshop/utils");
var import_lucide_react61 = require("lucide-react");
var import_jsx_runtime129 = require("react/jsx-runtime");
function UpgradeTrialModal({
  isOpen,
  onClose,
  subscription,
  plans,
  onUpgrade,
  loading = false
}) {
  const [selectedPlan, setSelectedPlan] = (0, import_react66.useState)(null);
  const [billingCycle, setBillingCycle] = (0, import_react66.useState)("month");
  const [paymentMethod, setPaymentMethod] = (0, import_react66.useState)("STRIPE");
  (0, import_react66.useEffect)(() => {
    if (plans.length > 0 && !selectedPlan) {
      const firstPaidPlan = plans.find((p) => p.name !== "Trial" && p.basePrice > 0);
      if (firstPaidPlan) {
        setSelectedPlan(firstPaidPlan);
      }
    }
  }, [plans, selectedPlan]);
  const calculatePrice = (basePrice, cycle) => {
    switch (cycle) {
      case "quarter":
        return basePrice * 3 * 0.9;
      case "year":
        return basePrice * 12 * 0.8;
      default:
        return basePrice;
    }
  };
  const getSavings = (basePrice, cycle) => {
    const fullPrice = cycle === "quarter" ? basePrice * 3 : cycle === "year" ? basePrice * 12 : basePrice;
    const discountedPrice = calculatePrice(basePrice, cycle);
    return fullPrice - discountedPrice;
  };
  const getNextBillingDate = () => {
    const now = /* @__PURE__ */ new Date();
    const next = new Date(now);
    switch (billingCycle) {
      case "quarter":
        next.setMonth(next.getMonth() + 3);
        break;
      case "year":
        next.setFullYear(next.getFullYear() + 1);
        break;
      default:
        next.setMonth(next.getMonth() + 1);
    }
    return next;
  };
  const handleSubmit = async () => {
    if (!selectedPlan)
      return;
    try {
      await onUpgrade(selectedPlan.id, billingCycle, paymentMethod);
      onClose();
    } catch (error2) {
      console.error("Upgrade failed:", error2);
    }
  };
  const paidPlans = plans.filter((p) => p.name !== "Trial" && p.basePrice > 0);
  return /* @__PURE__ */ (0, import_jsx_runtime129.jsx)(import_ui89.Dialog, { open: isOpen, onOpenChange: onClose, children: /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)(import_ui89.DialogContent, { className: "max-w-4xl max-h-[90vh] overflow-y-auto", children: [
    /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)(import_ui89.DialogHeader, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime129.jsx)(import_ui89.DialogTitle, { children: "\u{1F4C8} Upgrade Subscription" }),
      /* @__PURE__ */ (0, import_jsx_runtime129.jsx)(import_ui89.DialogDescription, { children: "Upgrade from Trial to a paid plan to unlock all features" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("div", { className: "space-y-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime129.jsx)("div", { className: "bg-yellow-50 border border-yellow-200 p-4 rounded-lg", children: /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("div", { className: "flex items-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime129.jsx)(import_lucide_react61.Sparkles, { className: "w-5 h-5 text-yellow-600" }),
        /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime129.jsx)("p", { className: "font-medium text-yellow-900", children: "Currently on Trial" }),
          /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("p", { className: "text-sm text-yellow-700", children: [
            "Upgrade now to continue using ",
            subscription.merchantName
          ] })
        ] })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime129.jsx)(import_ui89.Label, { className: "text-lg font-semibold", children: "Choose a Plan *" }),
        /* @__PURE__ */ (0, import_jsx_runtime129.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-4", children: paidPlans.map((plan) => /* @__PURE__ */ (0, import_jsx_runtime129.jsx)(
          import_ui89.Card,
          {
            className: `cursor-pointer transition-all ${selectedPlan?.id === plan.id ? "border-blue-500 bg-blue-50 shadow-lg" : "hover:border-gray-400"} ${plan.isPopular ? "ring-2 ring-blue-500" : ""}`,
            onClick: () => setSelectedPlan(plan),
            children: /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("div", { className: "p-4 space-y-3", children: [
              plan.isPopular && /* @__PURE__ */ (0, import_jsx_runtime129.jsx)("div", { className: "bg-blue-500 text-white text-xs font-bold px-2 py-1 rounded inline-block", children: "POPULAR" }),
              /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("div", { children: [
                /* @__PURE__ */ (0, import_jsx_runtime129.jsx)("h3", { className: "font-bold text-lg", children: plan.name }),
                /* @__PURE__ */ (0, import_jsx_runtime129.jsx)("p", { className: "text-sm text-gray-600", children: plan.description })
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("div", { className: "text-2xl font-bold", children: [
                (0, import_utils31.formatCurrency)(plan.basePrice, "USD"),
                /* @__PURE__ */ (0, import_jsx_runtime129.jsx)("span", { className: "text-sm text-gray-600 font-normal", children: "/month" })
              ] }),
              plan.limits && /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("ul", { className: "text-sm space-y-1", children: [
                /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("li", { children: [
                  "\u2022 ",
                  plan.limits.outlets || 0,
                  " outlets"
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("li", { children: [
                  "\u2022 ",
                  plan.limits.users || 0,
                  " users"
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("li", { children: [
                  "\u2022 ",
                  plan.limits.products === 999999 ? "Unlimited" : plan.limits.products,
                  " products"
                ] })
              ] }),
              selectedPlan?.id === plan.id && /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("div", { className: "flex items-center gap-1 text-blue-600 font-medium", children: [
                /* @__PURE__ */ (0, import_jsx_runtime129.jsx)(import_lucide_react61.Check, { className: "w-4 h-4" }),
                "Selected"
              ] })
            ] })
          },
          plan.id
        )) })
      ] }),
      selectedPlan && /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime129.jsx)(import_ui89.Label, { className: "text-lg font-semibold", children: "Billing Cycle *" }),
        /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime129.jsx)(
            "div",
            {
              className: `flex items-center justify-between p-4 border rounded-lg cursor-pointer hover:bg-gray-50 ${billingCycle === "month" ? "border-blue-500 bg-blue-50" : ""}`,
              onClick: () => setBillingCycle("month"),
              children: /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("div", { className: "flex items-center gap-3", children: [
                /* @__PURE__ */ (0, import_jsx_runtime129.jsx)(
                  "input",
                  {
                    type: "radio",
                    checked: billingCycle === "month",
                    onChange: () => setBillingCycle("month"),
                    className: "cursor-pointer"
                  }
                ),
                /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("div", { children: [
                  /* @__PURE__ */ (0, import_jsx_runtime129.jsx)("p", { className: "font-medium", children: "Monthly" }),
                  /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("p", { className: "text-sm text-gray-600", children: [
                    (0, import_utils31.formatCurrency)(selectedPlan.basePrice, "USD"),
                    "/month"
                  ] })
                ] })
              ] })
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)(
            "div",
            {
              className: `flex items-center justify-between p-4 border rounded-lg cursor-pointer hover:bg-gray-50 ${billingCycle === "quarter" ? "border-blue-500 bg-blue-50" : ""}`,
              onClick: () => setBillingCycle("quarter"),
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("div", { className: "flex items-center gap-3", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime129.jsx)(
                    "input",
                    {
                      type: "radio",
                      checked: billingCycle === "quarter",
                      onChange: () => setBillingCycle("quarter"),
                      className: "cursor-pointer"
                    }
                  ),
                  /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("div", { children: [
                    /* @__PURE__ */ (0, import_jsx_runtime129.jsx)("p", { className: "font-medium", children: "Quarterly" }),
                    /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("p", { className: "text-sm text-gray-600", children: [
                      (0, import_utils31.formatCurrency)(calculatePrice(selectedPlan.basePrice, "quarter"), "USD"),
                      "/quarter"
                    ] })
                  ] })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime129.jsx)("div", { className: "bg-green-100 text-green-700 text-xs font-bold px-2 py-1 rounded", children: "Save 10%" })
              ]
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)(
            "div",
            {
              className: `flex items-center justify-between p-4 border rounded-lg cursor-pointer hover:bg-gray-50 ${billingCycle === "year" ? "border-blue-500 bg-blue-50" : ""}`,
              onClick: () => setBillingCycle("year"),
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("div", { className: "flex items-center gap-3", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime129.jsx)(
                    "input",
                    {
                      type: "radio",
                      checked: billingCycle === "year",
                      onChange: () => setBillingCycle("year"),
                      className: "cursor-pointer"
                    }
                  ),
                  /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("div", { children: [
                    /* @__PURE__ */ (0, import_jsx_runtime129.jsx)("p", { className: "font-medium", children: "Yearly" }),
                    /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("p", { className: "text-sm text-gray-600", children: [
                      (0, import_utils31.formatCurrency)(calculatePrice(selectedPlan.basePrice, "year"), "USD"),
                      "/year"
                    ] })
                  ] })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime129.jsx)("div", { className: "bg-green-100 text-green-700 text-xs font-bold px-2 py-1 rounded", children: "Save 20%" })
              ]
            }
          )
        ] })
      ] }),
      selectedPlan && /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime129.jsx)(import_ui89.Label, { className: "text-lg font-semibold", children: "Payment Method *" }),
        /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)(
            "div",
            {
              className: `flex items-center space-x-2 p-3 border rounded-lg hover:bg-gray-50 cursor-pointer ${paymentMethod === "STRIPE" ? "border-blue-500 bg-blue-50" : ""}`,
              onClick: () => setPaymentMethod("STRIPE"),
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime129.jsx)(
                  "input",
                  {
                    type: "radio",
                    checked: paymentMethod === "STRIPE",
                    onChange: () => setPaymentMethod("STRIPE"),
                    className: "cursor-pointer"
                  }
                ),
                /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)(import_ui89.Label, { className: "flex items-center gap-2 cursor-pointer flex-1", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime129.jsx)(import_lucide_react61.CreditCard, { className: "w-4 h-4" }),
                  /* @__PURE__ */ (0, import_jsx_runtime129.jsx)("span", { children: "Stripe (Card Payment)" })
                ] })
              ]
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)(
            "div",
            {
              className: `flex items-center space-x-2 p-3 border rounded-lg hover:bg-gray-50 cursor-pointer ${paymentMethod === "TRANSFER" ? "border-blue-500 bg-blue-50" : ""}`,
              onClick: () => setPaymentMethod("TRANSFER"),
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime129.jsx)(
                  "input",
                  {
                    type: "radio",
                    checked: paymentMethod === "TRANSFER",
                    onChange: () => setPaymentMethod("TRANSFER"),
                    className: "cursor-pointer"
                  }
                ),
                /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)(import_ui89.Label, { className: "flex items-center gap-2 cursor-pointer flex-1", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime129.jsx)(import_lucide_react61.Building2, { className: "w-4 h-4" }),
                  /* @__PURE__ */ (0, import_jsx_runtime129.jsx)("span", { children: "Bank Transfer" })
                ] })
              ]
            }
          )
        ] })
      ] }),
      selectedPlan && /* @__PURE__ */ (0, import_jsx_runtime129.jsx)(import_ui89.Card, { className: "bg-gray-50 border-gray-200", children: /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("div", { className: "p-4 space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime129.jsx)("h3", { className: "font-semibold", children: "Payment Summary" }),
        /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("div", { className: "space-y-1 text-sm", children: [
          /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("div", { className: "flex justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime129.jsx)("span", { children: "First payment:" }),
            /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("span", { className: "font-semibold", children: [
              (0, import_utils31.formatCurrency)(calculatePrice(selectedPlan.basePrice, billingCycle), "USD"),
              billingCycle === "quarter" && " (3 months)",
              billingCycle === "year" && " (12 months)"
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("div", { className: "flex justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime129.jsx)("span", { children: "Next billing:" }),
            /* @__PURE__ */ (0, import_jsx_runtime129.jsx)("span", { children: (0, import_utils31.formatDate)(getNextBillingDate(), "MMM dd, yyyy") })
          ] }),
          getSavings(selectedPlan.basePrice, billingCycle) > 0 && /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)("div", { className: "flex justify-between text-green-600 font-medium", children: [
            /* @__PURE__ */ (0, import_jsx_runtime129.jsx)("span", { children: "You save:" }),
            /* @__PURE__ */ (0, import_jsx_runtime129.jsx)("span", { children: (0, import_utils31.formatCurrency)(getSavings(selectedPlan.basePrice, billingCycle), "USD") })
          ] })
        ] })
      ] }) })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)(import_ui89.DialogFooter, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime129.jsx)(import_ui89.Button, { variant: "outline", onClick: onClose, disabled: loading, children: "Cancel" }),
      /* @__PURE__ */ (0, import_jsx_runtime129.jsx)(import_ui89.Button, { onClick: handleSubmit, disabled: loading || !selectedPlan, children: loading ? /* @__PURE__ */ (0, import_jsx_runtime129.jsxs)(import_jsx_runtime129.Fragment, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime129.jsx)("div", { className: "animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2" }),
        "Processing..."
      ] }) : /* @__PURE__ */ (0, import_jsx_runtime129.jsx)(import_jsx_runtime129.Fragment, { children: "\u{1F680} Upgrade Now" }) })
    ] })
  ] }) });
}

// src/components/features/Subscriptions/components/SubscriptionActivityTimeline.tsx
var import_react67 = __toESM(require("react"));
var import_utils32 = require("@rentalshop/utils");
var import_lucide_react62 = require("lucide-react");
var import_jsx_runtime130 = require("react/jsx-runtime");
function SubscriptionActivityTimeline({
  activities,
  payments,
  loading = false,
  onExport
}) {
  const timeline = import_react67.default.useMemo(() => {
    const items = [];
    activities.forEach((activity) => {
      items.push({
        itemType: "activity",
        ...activity,
        timestamp: new Date(activity.timestamp)
      });
    });
    payments.forEach((payment) => {
      items.push({
        itemType: "payment",
        ...payment,
        type: payment.type,
        // Keep payment type from API
        timestamp: new Date(payment.createdAt)
      });
    });
    return items.sort((a, b) => b.timestamp.getTime() - a.timestamp.getTime());
  }, [activities, payments]);
  const getActivityIcon = (action) => {
    switch (action.toUpperCase()) {
      case "PLAN_CHANGED":
      case "PLAN_UPGRADED":
      case "PLAN_DOWNGRADED":
        return import_lucide_react62.TrendingUp;
      case "SUBSCRIPTION_ACTIVATED":
      case "BILLING_CYCLE_RENEWED":
        return import_lucide_react62.RefreshCw;
      case "SUBSCRIPTION_CANCELLED":
      case "CANCEL":
      case "CANCELLATION":
        return import_lucide_react62.XCircle;
      case "SUBSCRIPTION_PAUSED":
      case "PAUSE":
        return import_lucide_react62.Pause;
      case "SUBSCRIPTION_RESUMED":
      case "RESUME":
        return import_lucide_react62.Play;
      case "SUBSCRIPTION_CREATED":
      case "CREATE":
        return import_lucide_react62.CreditCard;
      case "PAYMENT_RECEIVED":
        return import_lucide_react62.DollarSign;
      case "PAYMENT_FAILED":
        return import_lucide_react62.AlertCircle;
      case "TRIAL_STARTED":
        return import_lucide_react62.Clock;
      case "TRIAL_ENDED":
        return import_lucide_react62.AlertTriangle;
      case "DISCOUNT_APPLIED":
        return import_lucide_react62.Percent;
      case "REFUND_PROCESSED":
        return import_lucide_react62.RotateCcw;
      case "INVOICE_GENERATED":
        return import_lucide_react62.FileText;
      case "REMINDER_SENT":
        return import_lucide_react62.Bell;
      case "DUNNING_STARTED":
        return import_lucide_react62.AlertTriangle;
      case "SUBSCRIPTION_EXPIRED":
        return import_lucide_react62.AlertCircle;
      case "SUBSCRIPTION_REACTIVATED":
        return import_lucide_react62.Play;
      default:
        return import_lucide_react62.Clock;
    }
  };
  const getActivityColor = (action) => {
    switch (action.toUpperCase()) {
      case "PLAN_CHANGED":
      case "PLAN_UPGRADED":
      case "PLAN_DOWNGRADED":
        return "text-blue-600 bg-blue-100";
      case "SUBSCRIPTION_ACTIVATED":
      case "BILLING_CYCLE_RENEWED":
      case "RENEWAL":
      case "RENEW":
        return "text-green-600 bg-green-100";
      case "SUBSCRIPTION_CANCELLED":
      case "CANCEL":
      case "CANCELLATION":
        return "text-red-600 bg-red-100";
      case "SUBSCRIPTION_PAUSED":
      case "PAUSE":
        return "text-orange-600 bg-orange-100";
      case "SUBSCRIPTION_RESUMED":
      case "RESUME":
        return "text-purple-600 bg-purple-100";
      case "SUBSCRIPTION_CREATED":
      case "CREATE":
        return "text-indigo-600 bg-indigo-100";
      case "PAYMENT_RECEIVED":
        return "text-green-600 bg-green-100";
      case "PAYMENT_FAILED":
        return "text-red-600 bg-red-100";
      case "TRIAL_STARTED":
        return "text-blue-600 bg-blue-100";
      case "TRIAL_ENDED":
        return "text-yellow-600 bg-yellow-100";
      case "DISCOUNT_APPLIED":
        return "text-green-600 bg-green-100";
      case "REFUND_PROCESSED":
        return "text-orange-600 bg-orange-100";
      case "INVOICE_GENERATED":
        return "text-indigo-600 bg-indigo-100";
      case "REMINDER_SENT":
        return "text-blue-600 bg-blue-100";
      case "DUNNING_STARTED":
        return "text-red-600 bg-red-100";
      case "SUBSCRIPTION_EXPIRED":
        return "text-red-600 bg-red-100";
      case "SUBSCRIPTION_REACTIVATED":
        return "text-green-600 bg-green-100";
      default:
        return "text-gray-600 bg-gray-100";
    }
  };
  const getPaymentStatusBadge = (status) => {
    const statusMap = {
      COMPLETED: { variant: "success", label: "Paid" },
      PENDING: { variant: "warning", label: "Pending" },
      FAILED: { variant: "danger", label: "Failed" }
    };
    const config = statusMap[status] || { variant: "default", label: status };
    return /* @__PURE__ */ (0, import_jsx_runtime130.jsx)(Badge, { variant: config.variant, children: config.label });
  };
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime130.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)(CardContent2, { className: "p-8 text-center", children: [
      /* @__PURE__ */ (0, import_jsx_runtime130.jsx)("div", { className: "animate-spin w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto" }),
      /* @__PURE__ */ (0, import_jsx_runtime130.jsx)("p", { className: "mt-4 text-gray-600", children: "Loading activity history..." })
    ] }) });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)(Card2, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime130.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime130.jsx)(CardTitle2, { children: "\u{1F4CA} Subscription Activity & Payment History" }),
      onExport && /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)(Button, { variant: "outline", size: "sm", onClick: onExport, children: [
        /* @__PURE__ */ (0, import_jsx_runtime130.jsx)(import_lucide_react62.Download, { className: "w-4 h-4 mr-2" }),
        "Export"
      ] })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime130.jsx)(CardContent2, { children: timeline.length === 0 ? /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { className: "text-center py-12", children: [
      /* @__PURE__ */ (0, import_jsx_runtime130.jsx)(import_lucide_react62.Clock, { className: "w-12 h-12 text-gray-300 mx-auto mb-4" }),
      /* @__PURE__ */ (0, import_jsx_runtime130.jsx)("p", { className: "text-gray-600", children: "No activity yet" })
    ] }) : /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { className: "relative", children: [
      /* @__PURE__ */ (0, import_jsx_runtime130.jsx)("div", { className: "absolute left-6 top-0 bottom-0 w-0.5 bg-gray-200" }),
      /* @__PURE__ */ (0, import_jsx_runtime130.jsx)("div", { className: "space-y-6", children: timeline.map((item, index) => {
        if (item.itemType === "activity") {
          const Icon2 = getActivityIcon(item.type);
          const colorClass = getActivityColor(item.type);
          return /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { className: "relative pl-14", children: [
            /* @__PURE__ */ (0, import_jsx_runtime130.jsx)("div", { className: `absolute left-3 w-6 h-6 rounded-full ${colorClass} flex items-center justify-center`, children: /* @__PURE__ */ (0, import_jsx_runtime130.jsx)(Icon2, { className: "w-3 h-3" }) }),
            /* @__PURE__ */ (0, import_jsx_runtime130.jsx)("div", { className: "bg-white border rounded-lg p-4 shadow-sm", children: /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { className: "flex items-start justify-between", children: [
              /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { className: "flex-1", children: [
                /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { className: "flex items-center gap-2 mb-1", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime130.jsx)("h4", { className: "font-semibold text-gray-900", children: item.description }),
                  /* @__PURE__ */ (0, import_jsx_runtime130.jsx)(
                    Badge,
                    {
                      variant: item.metadata?.severity === "error" ? "destructive" : item.metadata?.severity === "warning" ? "warning" : item.metadata?.severity === "success" ? "success" : "secondary",
                      children: item.type?.replace(/_/g, " ").toUpperCase()
                    }
                  )
                ] }),
                item.metadata?.performedBy && /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("p", { className: "text-sm text-gray-600 mb-2", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime130.jsx)(import_lucide_react62.User, { className: "w-3 h-3 inline mr-1" }),
                  "By: ",
                  item.metadata.performedBy.name,
                  " (",
                  item.metadata.performedBy.email,
                  ")",
                  /* @__PURE__ */ (0, import_jsx_runtime130.jsx)("span", { className: "ml-2 text-xs bg-gray-100 px-2 py-0.5 rounded", children: item.metadata.performedBy.role })
                ] }),
                item.metadata && /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { className: "text-sm text-gray-700 space-y-1 mt-2", children: [
                  item.metadata.planName && /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { children: [
                    "\u2022 Plan: ",
                    /* @__PURE__ */ (0, import_jsx_runtime130.jsx)("span", { className: "font-medium", children: item.metadata.planName })
                  ] }),
                  item.metadata.amount !== void 0 && /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { children: [
                    "\u2022 Amount: ",
                    /* @__PURE__ */ (0, import_jsx_runtime130.jsx)("span", { className: "font-semibold", children: (0, import_utils32.formatCurrency)(item.metadata.amount, item.metadata.currency || "USD") })
                  ] }),
                  item.metadata.status && /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { children: [
                    "\u2022 Status: ",
                    /* @__PURE__ */ (0, import_jsx_runtime130.jsx)("span", { className: "font-medium capitalize", children: item.metadata.status.toLowerCase() })
                  ] }),
                  item.metadata.paymentMethod && /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { children: [
                    "\u2022 Method: ",
                    /* @__PURE__ */ (0, import_jsx_runtime130.jsx)("span", { className: "capitalize", children: item.metadata.paymentMethod.toLowerCase() })
                  ] }),
                  item.metadata.transactionId && /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { children: [
                    "\u2022 Transaction: ",
                    /* @__PURE__ */ (0, import_jsx_runtime130.jsx)("span", { className: "font-mono text-xs", children: item.metadata.transactionId })
                  ] }),
                  item.metadata.invoiceNumber && /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { children: [
                    "\u2022 Invoice: ",
                    /* @__PURE__ */ (0, import_jsx_runtime130.jsx)("span", { className: "font-mono text-xs", children: item.metadata.invoiceNumber })
                  ] }),
                  item.metadata.newPlan && /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { children: [
                    "\u2022 New Plan: ",
                    /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("span", { className: "font-medium", children: [
                      item.metadata.newPlan.name,
                      " (",
                      (0, import_utils32.formatCurrency)(item.metadata.newPlan.amount, item.metadata.currency || "USD"),
                      ")"
                    ] })
                  ] }),
                  item.metadata.previousPlan && /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { children: [
                    "\u2022 Previous: ",
                    /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("span", { className: "text-gray-500", children: [
                      item.metadata.previousPlan.name,
                      " (",
                      (0, import_utils32.formatCurrency)(item.metadata.previousPlan.amount, item.metadata.currency || "USD"),
                      ")"
                    ] })
                  ] }),
                  item.metadata.effectiveDate && /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { children: [
                    "\u2022 Effective: ",
                    /* @__PURE__ */ (0, import_jsx_runtime130.jsx)("span", { className: "font-medium", children: (0, import_utils32.formatDate)(item.metadata.effectiveDate, "MMM dd, yyyy") })
                  ] }),
                  item.metadata.nextBillingDate && /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { children: [
                    "\u2022 Next Billing: ",
                    /* @__PURE__ */ (0, import_jsx_runtime130.jsx)("span", { className: "font-medium", children: (0, import_utils32.formatDate)(item.metadata.nextBillingDate, "MMM dd, yyyy") })
                  ] }),
                  item.metadata.trialEndDate && /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { children: [
                    "\u2022 Trial Ends: ",
                    /* @__PURE__ */ (0, import_jsx_runtime130.jsx)("span", { className: "font-medium", children: (0, import_utils32.formatDate)(item.metadata.trialEndDate, "MMM dd, yyyy") })
                  ] }),
                  item.metadata.reason && /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { children: [
                    "\u2022 Reason: ",
                    /* @__PURE__ */ (0, import_jsx_runtime130.jsx)("span", { className: "italic text-gray-600", children: item.metadata.reason })
                  ] }),
                  item.metadata.source && /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { children: [
                    "\u2022 Source: ",
                    /* @__PURE__ */ (0, import_jsx_runtime130.jsx)("span", { className: "text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded", children: item.metadata.source.replace(/_/g, " ").toUpperCase() })
                  ] })
                ] })
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { className: "text-right text-sm text-gray-500 ml-4", children: [
                (0, import_utils32.formatDate)(item.timestamp, "MMM dd, yyyy"),
                /* @__PURE__ */ (0, import_jsx_runtime130.jsx)("br", {}),
                (0, import_utils32.formatDate)(item.timestamp, "HH:mm")
              ] })
            ] }) })
          ] }, `activity-${item.id}-${index}`);
        } else {
          return /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { className: "relative pl-14", children: [
            /* @__PURE__ */ (0, import_jsx_runtime130.jsx)("div", { className: "absolute left-3 w-6 h-6 rounded-full bg-green-100 text-green-600 flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime130.jsx)(import_lucide_react62.CreditCard, { className: "w-3 h-3" }) }),
            /* @__PURE__ */ (0, import_jsx_runtime130.jsx)("div", { className: "bg-white border rounded-lg p-4 shadow-sm", children: /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { className: "flex items-start justify-between", children: [
              /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { className: "flex-1", children: [
                /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { className: "flex items-center gap-2 mb-1", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime130.jsx)("h4", { className: "font-semibold text-gray-900", children: "\u{1F4B0} Payment Received" }),
                  getPaymentStatusBadge(item.status)
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { className: "text-sm text-gray-700 space-y-1", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { children: [
                    "\u2022 Amount: ",
                    /* @__PURE__ */ (0, import_jsx_runtime130.jsx)("span", { className: "font-semibold", children: (0, import_utils32.formatCurrency)(item.amount, item.currency) })
                  ] }),
                  item.method && /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { children: [
                    "\u2022 Method: ",
                    /* @__PURE__ */ (0, import_jsx_runtime130.jsx)("span", { className: "capitalize", children: item.method.toLowerCase() })
                  ] }),
                  item.transactionId && /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { children: [
                    "\u2022 Transaction: ",
                    /* @__PURE__ */ (0, import_jsx_runtime130.jsx)("span", { className: "font-mono text-xs", children: item.transactionId })
                  ] }),
                  item.description && /* @__PURE__ */ (0, import_jsx_runtime130.jsx)("div", { className: "text-gray-600 mt-2", children: item.description })
                ] })
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime130.jsxs)("div", { className: "text-right text-sm text-gray-500 ml-4", children: [
                (0, import_utils32.formatDate)(item.timestamp, "MMM dd, yyyy"),
                /* @__PURE__ */ (0, import_jsx_runtime130.jsx)("br", {}),
                (0, import_utils32.formatDate)(item.timestamp, "HH:mm")
              ] })
            ] }) })
          ] }, `payment-${item.id}-${index}`);
        }
      }) })
    ] }) })
  ] });
}

// src/components/features/Subscriptions/components/SubscriptionHistoryDialog.tsx
var import_react68 = require("react");
var import_utils33 = require("@rentalshop/utils");
var import_jsx_runtime131 = require("react/jsx-runtime");
function SubscriptionHistoryDialog({
  subscriptionId,
  merchantId
}) {
  const [activities, setActivities] = (0, import_react68.useState)([]);
  const [payments, setPayments] = (0, import_react68.useState)([]);
  const [loading, setLoading] = (0, import_react68.useState)(false);
  const fetchHistory = async () => {
    if (!subscriptionId)
      return;
    setLoading(true);
    try {
      const [activitiesResponse, paymentsResponse] = await Promise.all([
        import_utils33.subscriptionsApi.getActivities(subscriptionId, 50),
        import_utils33.subscriptionsApi.getPayments(subscriptionId, 50)
      ]);
      if (activitiesResponse.success && activitiesResponse.data) {
        setActivities(activitiesResponse.data);
      }
      if (paymentsResponse.success && paymentsResponse.data) {
        setPayments(paymentsResponse.data);
      }
    } catch (error2) {
      console.error("Error fetching subscription history:", error2);
    } finally {
      setLoading(false);
    }
  };
  (0, import_react68.useEffect)(() => {
    if (subscriptionId) {
      fetchHistory();
    }
  }, [subscriptionId]);
  if (!subscriptionId) {
    return /* @__PURE__ */ (0, import_jsx_runtime131.jsx)("div", { className: "text-center py-8 text-gray-500", children: "No subscription found" });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime131.jsx)(
    SubscriptionActivityTimeline,
    {
      activities,
      payments,
      loading,
      onExport: () => {
        console.log("Export subscription history");
      }
    }
  );
}

// src/components/features/Merchants/components/MerchantPlanManagement.tsx
var import_lucide_react63 = require("lucide-react");
var import_utils34 = require("@rentalshop/utils");
var import_jsx_runtime132 = require("react/jsx-runtime");
var BILLING_INTERVALS = [
  {
    id: "month",
    name: "Monthly",
    months: 1,
    discountPercentage: 0,
    description: "No discount for monthly billing",
    isActive: true
  },
  {
    id: "quarter",
    name: "Quarterly",
    months: 3,
    discountPercentage: 5,
    description: "5% discount for quarterly billing",
    isActive: true
  },
  {
    id: "semiAnnual",
    name: "6 Months",
    months: 6,
    discountPercentage: 10,
    description: "10% discount for 6-month billing",
    isActive: true
  },
  {
    id: "year",
    name: "Yearly",
    months: 12,
    discountPercentage: 20,
    description: "20% discount for yearly billing",
    isActive: true
  }
];
var getActiveBillingIntervals = () => BILLING_INTERVALS.filter((interval) => interval.isActive);
var getDiscountPercentage2 = (intervalId) => {
  const interval = BILLING_INTERVALS.find((i) => i.id === intervalId);
  return interval?.discountPercentage || 0;
};
var calculateDiscountedPrice2 = (basePrice, intervalId, duration = 1) => {
  const interval = BILLING_INTERVALS.find((i) => i.id === intervalId);
  if (!interval)
    return basePrice * duration;
  const discount = interval.discountPercentage / 100;
  const discountedPrice = basePrice * (1 - discount);
  return discountedPrice * duration;
};
var formatBillingInterval = (intervalId) => {
  const interval = BILLING_INTERVALS.find((i) => i.id === intervalId);
  if (!interval)
    return intervalId;
  const discount = interval.discountPercentage > 0 ? ` (${interval.discountPercentage}% discount)` : "";
  return `${interval.name}${discount}`;
};
function MerchantPlanManagement({
  merchant,
  subscriptions = [],
  plans = [],
  onPlanChange,
  onExtend,
  onCancel,
  onSuspend,
  onReactivate,
  loading = false,
  currentUserRole
}) {
  const currentSubscription = merchant.currentSubscription || subscriptions[0];
  console.log("\u{1F50D} MerchantPlanManagement Debug:", {
    merchantId: merchant.id,
    merchantName: merchant.name,
    subscriptionStatus: merchant.subscriptionStatus,
    currentSubscription,
    subscriptionStatusFromSubscription: subscriptions[0]?.status
  });
  const normalizedStatus = merchant.subscriptionStatus?.toLowerCase() || "unknown";
  const isActiveStatus = normalizedStatus === "trial" || normalizedStatus === "active";
  const isPausedStatus = normalizedStatus === "paused" || normalizedStatus === "cancelled" || normalizedStatus === "expired";
  const isTrialStatus = normalizedStatus === "trial";
  const isActivePaidStatus = normalizedStatus === "active";
  const isPaused = normalizedStatus === "paused";
  const isTrialPlan = merchant.currentPlan?.name?.toLowerCase() === "trial" || merchant.currentPlan?.price === 0 || currentSubscription?.plan?.name?.toLowerCase() === "trial";
  const [showChangeDialog, setShowChangeDialog] = (0, import_react69.useState)(false);
  const [showRenewalModal, setShowRenewalModal] = (0, import_react69.useState)(false);
  const [showCancelDialog, setShowCancelDialog] = (0, import_react69.useState)(false);
  const [showSuspendDialog, setShowSuspendDialog] = (0, import_react69.useState)(false);
  const [showResumeDialog, setShowResumeDialog] = (0, import_react69.useState)(false);
  const [showHistoryDialog, setShowHistoryDialog] = (0, import_react69.useState)(false);
  const [cancelReason, setCancelReason] = (0, import_react69.useState)("");
  const [cancelType, setCancelType] = (0, import_react69.useState)("end_of_period");
  const [suspendReason, setSuspendReason] = (0, import_react69.useState)("");
  const [isSubmitting, setIsSubmitting] = (0, import_react69.useState)(false);
  const [renewalLoading, setRenewalLoading] = (0, import_react69.useState)(false);
  const [selectedPlanId, setSelectedPlanId] = (0, import_react69.useState)("");
  const [changeReason, setChangeReason] = (0, import_react69.useState)("");
  const [notifyMerchant, setNotifyMerchant] = (0, import_react69.useState)(true);
  const [changeBillingInterval, setChangeBillingInterval] = (0, import_react69.useState)("month");
  const handleOpenChangeDialog = () => {
    setShowChangeDialog(true);
    setSelectedPlanId("");
    setChangeReason("");
    setChangeBillingInterval("month");
    setNotifyMerchant(true);
  };
  (0, import_react69.useEffect)(() => {
    if (showChangeDialog && !changeBillingInterval) {
      setChangeBillingInterval("month");
    }
  }, [showChangeDialog, changeBillingInterval]);
  const formatPrice = (price, currency) => {
    return new Intl.NumberFormat("en-US", {
      style: "currency",
      currency
    }).format(price);
  };
  const formatDate11 = (date2) => {
    return new Date(date2).toLocaleDateString("en-US", {
      year: "numeric",
      month: "long",
      day: "numeric"
    });
  };
  const billingIntervals = getActiveBillingIntervals();
  const getStatusColor11 = (status) => {
    switch (status.toLowerCase()) {
      case "active":
        return "success";
      case "trial":
        return "warning";
      case "expired":
        return "danger";
      case "cancelled":
        return "danger";
      case "paused":
        return "warning";
      case "suspended":
        return "warning";
      case "disabled":
        return "danger";
      default:
        return "secondary";
    }
  };
  const handleRenewal = async (paymentData) => {
    if (!currentSubscription || !onExtend)
      return;
    try {
      setRenewalLoading(true);
      await onExtend({
        subscription: currentSubscription,
        duration: 1,
        billingInterval: "month",
        discount: 0,
        totalPrice: currentSubscription.amount,
        paymentData
        // Include payment info
      });
      setShowRenewalModal(false);
    } catch (error2) {
      console.error("Failed to renew subscription:", error2);
      throw error2;
    } finally {
      setRenewalLoading(false);
    }
  };
  const handleCancel = async () => {
    if (!currentSubscription || !cancelReason.trim())
      return;
    setIsSubmitting(true);
    try {
      await onCancel?.(currentSubscription, cancelReason.trim(), cancelType);
      setShowCancelDialog(false);
      setCancelReason("");
      setCancelType("end_of_period");
    } catch (error2) {
      console.error("Error canceling subscription:", error2);
    } finally {
      setIsSubmitting(false);
    }
  };
  const handleChangePlan = async () => {
    if (!selectedPlanId || !changeBillingInterval)
      return;
    setIsSubmitting(true);
    try {
      const selectedPlan = plans.find((p) => p.id.toString() === selectedPlanId);
      const discount = getDiscountPercentage2(changeBillingInterval);
      const planChangeData = {
        planId: Number(selectedPlanId),
        reason: changeReason.trim() || "Plan changed by admin",
        notifyMerchant,
        billingInterval: changeBillingInterval,
        duration: 1,
        // Always 1 period
        discount,
        totalPrice: selectedPlan ? calculateDiscountedPrice2(selectedPlan.basePrice, changeBillingInterval, 1) : 0
      };
      await onPlanChange?.(planChangeData);
      setShowChangeDialog(false);
      setSelectedPlanId("");
      setChangeReason("");
      setNotifyMerchant(true);
      setChangeBillingInterval("month");
    } catch (error2) {
      console.error("Error changing plan:", error2);
    } finally {
      setIsSubmitting(false);
    }
  };
  const handleSuspend = async () => {
    if (!currentSubscription || !suspendReason.trim())
      return;
    setIsSubmitting(true);
    try {
      await onSuspend?.(currentSubscription, suspendReason.trim());
      setShowSuspendDialog(false);
      setSuspendReason("");
    } catch (error2) {
      console.error("Error suspending subscription:", error2);
    } finally {
      setIsSubmitting(false);
    }
  };
  const handleReactivate = async () => {
    if (!currentSubscription)
      return;
    setIsSubmitting(true);
    try {
      await onReactivate?.(currentSubscription);
      setShowResumeDialog(false);
    } catch (error2) {
      console.error("Error reactivating subscription:", error2);
    } finally {
      setIsSubmitting(false);
    }
  };
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(Card2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(CardTitle2, { className: "flex items-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(import_lucide_react63.CreditCard, { className: "h-5 w-5" }),
        "Plan Management"
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "animate-pulse space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("div", { className: "h-4 bg-gray-200 rounded w-3/4" }),
        /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("div", { className: "h-4 bg-gray-200 rounded w-1/2" }),
        /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("div", { className: "h-8 bg-gray-200 rounded w-1/4" })
      ] }) })
    ] });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(Card2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "flex items-center justify-between", children: [
        /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(CardTitle2, { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(import_lucide_react63.CreditCard, { className: "h-5 w-5" }),
          "Current Subscription"
        ] }),
        currentSubscription && (currentUserRole === "ADMIN" || currentUserRole === "MERCHANT") && /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(
          Button,
          {
            variant: "outline",
            size: "sm",
            onClick: () => setShowHistoryDialog(true),
            className: "flex items-center gap-2",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(import_lucide_react63.History, { className: "h-4 w-4" }),
              "View History"
            ]
          }
        )
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(CardContent2, { children: merchant.currentPlan || currentSubscription ? /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "flex items-center justify-between", children: [
          /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("h3", { className: "text-lg font-semibold", children: merchant.currentPlan?.name || currentSubscription?.plan?.name || "No plan assigned" }),
            /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("p", { className: "text-sm text-gray-500", children: merchant.currentPlan ? formatPrice(merchant.currentPlan.price, merchant.currentPlan.currency) + "/month" : currentSubscription ? formatPrice(currentSubscription.amount, currentSubscription.currency) + "/month" : "No pricing available" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("div", { className: "flex flex-col items-end gap-2", children: /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("div", { className: `px-3 py-1.5 rounded-lg font-semibold text-sm ${currentSubscription?.status === "ACTIVE" ? "bg-green-100 text-green-800" : currentSubscription?.status === "TRIAL" ? "bg-blue-100 text-blue-800" : currentSubscription?.status === "PAUSED" ? "bg-orange-100 text-orange-800" : currentSubscription?.status === "CANCELLED" ? "bg-red-100 text-red-800" : currentSubscription?.status === "EXPIRED" ? "bg-gray-100 text-gray-800" : "bg-gray-100 text-gray-800"}`, children: currentSubscription?.status || merchant.subscriptionStatus || "Unknown" }) })
        ] }),
        currentSubscription && /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "p-4 bg-gray-50 border rounded-lg space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
            /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("span", { className: "text-gray-600", children: "Period:" }),
            /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("span", { className: "font-medium", children: [
              (0, import_utils34.formatDateTimeLong)(currentSubscription.startDate),
              " - ",
              (0, import_utils34.formatDateTimeLong)(currentSubscription.endDate)
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
            /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("span", { className: "text-gray-600", children: "Billing Interval:" }),
            /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("span", { className: "font-medium capitalize", children: currentSubscription.interval || "month" })
          ] }),
          currentSubscription.subscriptionPeriod?.daysRemaining !== void 0 && /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
            /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("span", { className: "text-gray-600", children: currentSubscription.status === "trial" ? "Trial ends in:" : "Renews in:" }),
            /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("span", { className: `font-medium ${currentSubscription.subscriptionPeriod?.daysRemaining <= 7 ? "text-orange-600" : "text-gray-900"}`, children: [
              currentSubscription.subscriptionPeriod?.daysRemaining,
              " days"
            ] })
          ] })
        ] }),
        (currentUserRole === "ADMIN" || currentUserRole === "MERCHANT") && /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "flex flex-wrap items-center gap-3 pt-4", children: [
          isTrialPlan && /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(
            Button,
            {
              variant: "default",
              size: "sm",
              onClick: handleOpenChangeDialog,
              className: "flex items-center gap-2 bg-blue-600 hover:bg-blue-700",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(import_lucide_react63.ArrowRight, { className: "h-4 w-4" }),
                "Upgrade to Paid Plan"
              ]
            }
          ),
          !isTrialPlan && /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(
            Button,
            {
              variant: "outline",
              size: "sm",
              onClick: handleOpenChangeDialog,
              className: "flex items-center gap-2",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(import_lucide_react63.ArrowRight, { className: "h-4 w-4" }),
                "Change Plan"
              ]
            }
          ),
          currentSubscription && isActiveStatus && !isTrialPlan && /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(
            Button,
            {
              variant: "outline",
              size: "sm",
              onClick: () => setShowRenewalModal(true),
              className: "flex items-center gap-2",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(import_lucide_react63.Plus, { className: "h-4 w-4" }),
                "Renew/Extend"
              ]
            }
          ),
          currentSubscription && isActivePaidStatus && /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(
            Button,
            {
              variant: "outline",
              size: "sm",
              onClick: () => setShowSuspendDialog(true),
              className: "flex items-center gap-2 text-orange-600 hover:text-orange-700",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(import_lucide_react63.Pause, { className: "h-4 w-4" }),
                "Pause Plan"
              ]
            }
          ),
          currentSubscription && isPaused && /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(
            Button,
            {
              variant: "outline",
              size: "sm",
              onClick: () => setShowResumeDialog(true),
              disabled: isSubmitting,
              className: "flex items-center gap-2 text-green-600 hover:text-green-700",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(import_lucide_react63.Play, { className: "h-4 w-4" }),
                "Resume Plan"
              ]
            }
          ),
          currentSubscription && (isActiveStatus || isPausedStatus) && /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(
            Button,
            {
              variant: "outline",
              size: "sm",
              onClick: () => setShowCancelDialog(true),
              className: "flex items-center gap-2 text-red-600 hover:text-red-700",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(import_lucide_react63.X, { className: "h-4 w-4" }),
                isTrialStatus ? "End Trial" : "Cancel Plan"
              ]
            }
          )
        ] })
      ] }) : /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "text-center py-8", children: [
        /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(import_lucide_react63.CreditCard, { className: "h-12 w-12 text-gray-400 mx-auto mb-4" }),
        /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("h3", { className: "text-lg font-medium text-gray-900 mb-2", children: "No Subscription" }),
        /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("p", { className: "text-gray-500 mb-4", children: "This merchant doesn't have an active subscription." }),
        (currentUserRole === "ADMIN" || currentUserRole === "MERCHANT") && /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "flex flex-wrap items-center justify-center gap-3", children: [
          /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(Button, { onClick: handleOpenChangeDialog, children: [
            /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(import_lucide_react63.CreditCard, { className: "h-4 w-4 mr-2" }),
            "Create Subscription"
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(
            Button,
            {
              variant: "outline",
              size: "sm",
              onClick: handleOpenChangeDialog,
              className: "flex items-center gap-2",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(import_lucide_react63.ArrowRight, { className: "h-4 w-4" }),
                "Change Plan"
              ]
            }
          )
        ] })
      ] }) })
    ] }),
    subscriptions.length > 1 && /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(Card2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(CardTitle2, { className: "flex items-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(import_lucide_react63.Clock, { className: "h-5 w-5" }),
        "Plan History"
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("div", { className: "space-y-3", children: subscriptions.slice(1).map((subscription) => /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "flex items-center justify-between p-3 border rounded-lg", children: [
        /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("p", { className: "font-medium", children: subscription.planName || "Unknown Plan" }),
          /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("p", { className: "text-sm text-gray-500", children: [
            formatDate11(subscription.startDate),
            " - ",
            subscription.endDate ? formatDate11(subscription.endDate) : "N/A"
          ] }),
          subscription.changeReason && /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("p", { className: "text-xs text-gray-400 mt-1", children: [
            "Reason: ",
            subscription.changeReason
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "text-right", children: [
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("p", { className: "font-medium", children: formatPrice(subscription.amount, subscription.currency || "USD") }),
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(
            StatusBadge,
            {
              status: getStatusColor11(subscription.status),
              size: "sm"
            }
          )
        ] })
      ] }, subscription.id)) }) })
    ] }),
    currentSubscription && !isTrialPlan && /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(
      ManualRenewalModal,
      {
        isOpen: showRenewalModal,
        onClose: () => setShowRenewalModal(false),
        subscription: {
          id: currentSubscription.id,
          merchantName: merchant.name,
          planName: merchant.currentPlan?.name || "Unknown Plan",
          amount: merchant.currentPlan?.price || currentSubscription.amount || 0,
          currency: currentSubscription.currency || "USD",
          currentPeriodEnd: currentSubscription.currentPeriodEnd ? new Date(currentSubscription.currentPeriodEnd) : /* @__PURE__ */ new Date()
        },
        onRenew: handleRenewal,
        loading: renewalLoading
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(Dialog, { open: showChangeDialog, onOpenChange: setShowChangeDialog, children: /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(DialogContent, { className: "max-w-2xl max-h-[90vh] overflow-y-auto", children: [
      /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(DialogHeader, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(DialogTitle, { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(import_lucide_react63.ArrowRight, { className: "h-5 w-5 text-blue-500" }),
          "Change Subscription Plan"
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(DialogDescription, { children: [
          "Change the subscription plan for ",
          merchant.name
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "space-y-6", children: [
        merchant.currentPlan && /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "p-4 bg-gray-50 border rounded-lg", children: [
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("p", { className: "text-sm text-gray-600 mb-1", children: "Current Plan" }),
          /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "flex items-center justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("p", { className: "font-semibold text-lg", children: merchant.currentPlan.name }),
            /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("p", { className: "font-semibold text-lg", children: [
              formatPrice(merchant.currentPlan.price, merchant.currentPlan.currency),
              "/month"
            ] })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(Label2, { htmlFor: "planSelect", children: "New Plan *" }),
          /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(Select2, { value: selectedPlanId, onValueChange: setSelectedPlanId, children: [
            /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(SelectTrigger2, { children: /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(SelectValue2, { placeholder: "Choose a plan..." }) }),
            /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(SelectContent2, { children: plans.map((plan) => /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(SelectItem2, { value: plan.id.toString(), children: [
              plan.name,
              " - $",
              plan.basePrice,
              "/month"
            ] }, plan.id)) })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(Label2, { htmlFor: "changeBillingInterval", children: "Billing Cycle *" }),
          /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(Select2, { value: changeBillingInterval, onValueChange: setChangeBillingInterval, children: [
            /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(SelectTrigger2, { children: /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(SelectValue2, {}) }),
            /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(SelectContent2, { children: billingIntervals.map((interval) => /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(SelectItem2, { value: interval.id, children: formatBillingInterval(interval.id) }, interval.id)) })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("p", { className: "text-xs text-gray-500 mt-1", children: "Longer billing cycles offer better discounts" })
        ] }),
        selectedPlanId && changeBillingInterval && /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "p-4 bg-blue-50 border border-blue-200 rounded-lg", children: [
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("p", { className: "font-medium text-blue-900 mb-2", children: "Pricing Summary" }),
          /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "space-y-2 text-sm", children: [
            /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "flex justify-between", children: [
              /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("span", { children: "New Plan:" }),
              /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("span", { className: "font-medium", children: plans.find((p) => p.id.toString() === selectedPlanId)?.name })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "flex justify-between", children: [
              /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("span", { children: "Billing:" }),
              /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("span", { className: "font-medium", children: formatBillingInterval(changeBillingInterval) })
            ] }),
            getDiscountPercentage2(changeBillingInterval) > 0 && /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "flex justify-between text-green-700", children: [
              /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("span", { children: "Discount:" }),
              /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("span", { className: "font-medium", children: [
                getDiscountPercentage2(changeBillingInterval),
                "% off"
              ] })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "flex justify-between pt-2 border-t text-base", children: [
              /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("span", { className: "font-semibold", children: "Total:" }),
              /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("span", { className: "font-bold text-blue-900", children: [
                (() => {
                  const selectedPlan = plans.find((p) => p.id.toString() === selectedPlanId);
                  if (!selectedPlan)
                    return "$0.00";
                  const discount = getDiscountPercentage2(changeBillingInterval);
                  const discountedPrice = selectedPlan.basePrice * (1 - discount / 100);
                  return formatPrice(discountedPrice, selectedPlan.currency);
                })(),
                "/",
                changeBillingInterval
              ] })
            ] })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(Label2, { htmlFor: "changeReason", children: "Reason for Change (Optional)" }),
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(
            Textarea,
            {
              id: "changeReason",
              value: changeReason,
              onChange: (e) => setChangeReason(e.target.value),
              placeholder: "e.g., Customer requested upgrade, Business growth, etc.",
              rows: 2
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "flex items-center space-x-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(
            "input",
            {
              type: "checkbox",
              id: "notifyMerchant",
              checked: notifyMerchant,
              onChange: (e) => setNotifyMerchant(e.target.checked),
              className: "rounded border-gray-300"
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(Label2, { htmlFor: "notifyMerchant", className: "text-sm", children: "Send email notification to merchant" })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(DialogFooter, { className: "border-t pt-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(
          Button,
          {
            variant: "outline",
            onClick: () => setShowChangeDialog(false),
            disabled: isSubmitting,
            children: "Cancel"
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(
          Button,
          {
            onClick: handleChangePlan,
            disabled: !selectedPlanId || !changeBillingInterval || isSubmitting,
            children: isSubmitting ? "Changing..." : "Change Plan"
          }
        )
      ] })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(Dialog, { open: showCancelDialog, onOpenChange: setShowCancelDialog, children: /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(DialogContent, { className: "max-w-md max-h-[90vh] overflow-y-auto flex flex-col", children: [
      /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(DialogHeader, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(DialogTitle, { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(import_lucide_react63.X, { className: "h-5 w-5 text-red-500" }),
          "Cancel Plan"
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(DialogDescription, { children: [
          "Permanently cancel the current plan for ",
          merchant.name,
          ". This action cannot be undone."
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("div", { className: "p-4 bg-red-50 border border-red-200 rounded-lg", children: /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(import_lucide_react63.X, { className: "h-5 w-5 text-red-500" }),
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("p", { className: "text-sm text-red-700 font-medium", children: "Warning: This will permanently cancel the subscription" })
        ] }) }),
        /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(Label2, { htmlFor: "cancelType", children: "Cancellation Type" }),
          /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(Select2, { value: cancelType, onValueChange: (value) => setCancelType(value), children: [
            /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(SelectTrigger2, { children: /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(SelectValue2, {}) }),
            /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(SelectContent2, { children: [
              /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(SelectItem2, { value: "end_of_period", children: "End of Current Period (Recommended)" }),
              /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(SelectItem2, { value: "immediate", children: "Immediate Cancellation" })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("p", { className: "text-xs text-gray-500 mt-1", children: cancelType === "end_of_period" ? "Customer keeps access until current billing period ends" : "Customer loses access immediately" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(Label2, { htmlFor: "cancelReason", children: "Reason for Cancellation" }),
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(
            Textarea,
            {
              id: "cancelReason",
              value: cancelReason,
              onChange: (e) => setCancelReason(e.target.value),
              placeholder: "Enter reason for canceling this plan...",
              rows: 3
            }
          )
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(DialogFooter, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(
          Button,
          {
            variant: "outline",
            onClick: () => setShowCancelDialog(false),
            disabled: isSubmitting,
            children: "Cancel"
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(
          Button,
          {
            variant: "destructive",
            onClick: handleCancel,
            disabled: !cancelReason.trim() || isSubmitting,
            children: isSubmitting ? "Canceling..." : "Cancel Plan"
          }
        )
      ] })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(Dialog, { open: showSuspendDialog, onOpenChange: setShowSuspendDialog, children: /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(DialogContent, { className: "max-w-md max-h-[90vh] overflow-y-auto flex flex-col", children: [
      /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(DialogHeader, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(DialogTitle, { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(import_lucide_react63.Pause, { className: "h-5 w-5 text-orange-500" }),
          "Pause Plan"
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(DialogDescription, { children: [
          "Pause the current plan for ",
          merchant.name,
          ". The plan can be resumed later without losing subscription history."
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("div", { className: "p-4 bg-orange-50 border border-orange-200 rounded-lg", children: /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(import_lucide_react63.Clock, { className: "h-5 w-5 text-orange-500" }),
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("p", { className: "text-sm text-orange-700 font-medium", children: "Pausing preserves subscription history and makes reactivation easier" })
        ] }) }),
        /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(Label2, { htmlFor: "suspendReason", children: "Reason for Pausing" }),
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(
            Textarea,
            {
              id: "suspendReason",
              value: suspendReason,
              onChange: (e) => setSuspendReason(e.target.value),
              placeholder: "Enter reason for pausing this plan...",
              rows: 3
            }
          )
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(DialogFooter, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(
          Button,
          {
            variant: "outline",
            onClick: () => setShowSuspendDialog(false),
            disabled: isSubmitting,
            children: "Cancel"
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(
          Button,
          {
            variant: "destructive",
            onClick: handleSuspend,
            disabled: !suspendReason.trim() || isSubmitting,
            children: isSubmitting ? "Pausing..." : "Pause Plan"
          }
        )
      ] })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(Dialog, { open: showResumeDialog, onOpenChange: setShowResumeDialog, children: /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(DialogContent, { className: "max-w-md max-h-[90vh] overflow-y-auto flex flex-col", children: [
      /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(DialogHeader, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(DialogTitle, { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(import_lucide_react63.Play, { className: "h-5 w-5 text-green-500" }),
          "Resume Subscription"
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(DialogDescription, { children: "Are you sure you want to resume this subscription?" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "space-y-4 flex-1 overflow-y-auto", children: [
        /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "p-4 bg-green-50 border border-green-200 rounded-lg", children: [
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("h4", { className: "font-semibold text-green-900 mb-2", children: "Resuming Subscription" }),
          /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("ul", { className: "text-sm text-green-800 space-y-1", children: [
            /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("li", { children: "\u2713 Your subscription will be reactivated immediately" }),
            /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("li", { children: "\u2713 You will regain full access to all features" }),
            /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("li", { children: "\u2713 Billing will resume according to your current plan" }),
            /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("li", { children: "\u2713 All services will be restored" })
          ] })
        ] }),
        currentSubscription && /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "p-4 bg-gray-50 border rounded-lg space-y-2 text-sm", children: [
          /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "flex justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("span", { className: "text-gray-600", children: "Plan:" }),
            /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("span", { className: "font-medium", children: currentSubscription.plan?.name })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("div", { className: "flex justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("span", { className: "text-gray-600", children: "Amount:" }),
            /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)("span", { className: "font-medium", children: [
              formatPrice(currentSubscription.amount, currentSubscription.currency),
              "/month"
            ] })
          ] })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(DialogFooter, { className: "flex-shrink-0", children: [
        /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(
          Button,
          {
            variant: "outline",
            onClick: () => setShowResumeDialog(false),
            disabled: isSubmitting,
            children: "Cancel"
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(
          Button,
          {
            variant: "default",
            onClick: handleReactivate,
            disabled: isSubmitting,
            className: "bg-green-600 hover:bg-green-700",
            children: isSubmitting ? "Resuming..." : "Resume Subscription"
          }
        )
      ] })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(Dialog, { open: showHistoryDialog, onOpenChange: setShowHistoryDialog, children: /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(DialogContent, { className: "max-w-4xl max-h-[90vh] overflow-y-auto", children: [
      /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(DialogHeader, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime132.jsxs)(DialogTitle, { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(import_lucide_react63.History, { className: "h-5 w-5 text-blue-500" }),
          "Subscription Activity & Payment History"
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(DialogDescription, { children: "View detailed activity and payment history for this subscription" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime132.jsx)("div", { className: "mt-4", children: /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(
        SubscriptionHistoryDialog,
        {
          subscriptionId: currentSubscription?.id,
          merchantId: merchant.id
        }
      ) }),
      /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(DialogFooter, { children: /* @__PURE__ */ (0, import_jsx_runtime132.jsx)(
        Button,
        {
          variant: "outline",
          onClick: () => setShowHistoryDialog(false),
          children: "Close"
        }
      ) })
    ] }) })
  ] });
}

// src/components/features/Merchants/Merchants.tsx
var import_jsx_runtime133 = require("react/jsx-runtime");
function Merchants({
  data,
  filters,
  onFiltersChange,
  onSearchChange,
  onClearFilters,
  onMerchantAction,
  onPageChange,
  onSort
}) {
  console.log("\u{1F3E2} Merchants Component - Data check:", {
    total: data.total,
    currentPage: data.currentPage,
    totalPages: data.totalPages,
    merchantsCount: data.merchants?.length,
    shouldShowPagination: data.total > 0,
    paginationCondition: `data.total > 0 = ${data.total} > 0 = ${data.total > 0}`
  });
  const memoizedOnFiltersChange = import_react70.default.useCallback(onFiltersChange, [onFiltersChange]);
  const memoizedOnSearchChange = import_react70.default.useCallback(onSearchChange, [onSearchChange]);
  const memoizedOnClearFilters = import_react70.default.useCallback(onClearFilters || (() => {
  }), [onClearFilters]);
  const memoizedOnMerchantAction = import_react70.default.useCallback(onMerchantAction, [onMerchantAction]);
  const memoizedOnPageChange = import_react70.default.useCallback(onPageChange, [onPageChange]);
  const memoizedOnSort = import_react70.default.useCallback(onSort || (() => {
  }), [onSort]);
  return /* @__PURE__ */ (0, import_jsx_runtime133.jsxs)("div", { className: "flex flex-col h-full", children: [
    /* @__PURE__ */ (0, import_jsx_runtime133.jsxs)("div", { className: "flex-shrink-0 space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime133.jsx)(MerchantListHeader_default, { stats: data.stats }),
      /* @__PURE__ */ (0, import_jsx_runtime133.jsx)(
        MerchantFilters_default,
        {
          filters,
          onFiltersChange: memoizedOnFiltersChange,
          onSearchChange: memoizedOnSearchChange,
          onClearFilters: memoizedOnClearFilters
        }
      )
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime133.jsx)("div", { className: "flex-1 min-h-0 mt-4", children: /* @__PURE__ */ (0, import_jsx_runtime133.jsx)(
      MerchantTable_default,
      {
        merchants: data.merchants,
        onMerchantAction: memoizedOnMerchantAction,
        sortBy: filters.sortBy || "createdAt",
        sortOrder: filters.sortOrder || "desc",
        onSort: memoizedOnSort
      }
    ) }),
    data.merchants.length > 0 && data.total > data.limit && /* @__PURE__ */ (0, import_jsx_runtime133.jsx)("div", { className: "flex-shrink-0 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime133.jsx)(
      Pagination,
      {
        currentPage: data.currentPage || data.page || 1,
        totalPages: data.totalPages || 1,
        total: data.total || data.merchants.length,
        limit: data.limit || 10,
        onPageChange: memoizedOnPageChange,
        itemName: "merchants"
      }
    ) })
  ] });
}
var Merchants_default = Merchants;

// src/components/features/Merchants/components/MerchantDetail.tsx
var import_navigation5 = require("next/navigation");

// src/components/features/Merchants/components/MerchantSubscriptionSection.tsx
var import_react71 = require("react");
var import_lucide_react64 = require("lucide-react");
var import_jsx_runtime134 = require("react/jsx-runtime");
function MerchantSubscriptionSection({
  merchantId,
  subscription,
  loading = false
}) {
  const [activities, setActivities] = (0, import_react71.useState)([]);
  const [payments, setPayments] = (0, import_react71.useState)([]);
  const [loadingHistory, setLoadingHistory] = (0, import_react71.useState)(false);
  const [showHistoryDialog, setShowHistoryDialog] = (0, import_react71.useState)(false);
  (0, import_react71.useEffect)(() => {
    if (subscription && showHistoryDialog) {
      fetchHistory();
    }
  }, [subscription, showHistoryDialog]);
  const fetchHistory = async () => {
    if (!subscription)
      return;
    try {
      setLoadingHistory(true);
      const { subscriptionsApi: subscriptionsApi3 } = await import("@rentalshop/utils");
      try {
        const activitiesResult = await subscriptionsApi3.getActivities(subscription.id, 20);
        if (activitiesResult.success && activitiesResult.data) {
          setActivities(activitiesResult.data || []);
        }
      } catch (err) {
        console.log("Activities not yet implemented or error:", err);
        setActivities([]);
      }
      try {
        const paymentsResult = await subscriptionsApi3.getPayments(subscription.id, 20);
        if (paymentsResult.success && paymentsResult.data) {
          setPayments(paymentsResult.data || []);
        }
      } catch (err) {
        console.log("Payments not yet implemented or error:", err);
        setPayments([]);
      }
    } catch (error2) {
      console.error("Error fetching history:", error2);
    } finally {
      setLoadingHistory(false);
    }
  };
  const getStatusBadge = (status) => {
    const statusMap = {
      active: { variant: "success", label: "Active", icon: import_lucide_react64.CheckCircle },
      trial: { variant: "warning", label: "Trial", icon: import_lucide_react64.Clock },
      past_due: { variant: "danger", label: "Past Due", icon: import_lucide_react64.AlertCircle },
      paused: { variant: "secondary", label: "Paused", icon: import_lucide_react64.Pause },
      cancelled: { variant: "danger", label: "Cancelled", icon: import_lucide_react64.XCircle }
    };
    const config = statusMap[status] || { variant: "default", label: status, icon: import_lucide_react64.Clock };
    const Icon2 = config.icon;
    return /* @__PURE__ */ (0, import_jsx_runtime134.jsxs)(Badge, { variant: config.variant, className: "flex items-center gap-1", children: [
      /* @__PURE__ */ (0, import_jsx_runtime134.jsx)(Icon2, { className: "w-3 h-3" }),
      config.label
    ] });
  };
  const getDaysRemaining = () => {
    if (!subscription || !subscription.currentPeriodEnd)
      return 0;
    try {
      const now = /* @__PURE__ */ new Date();
      const end = new Date(subscription.currentPeriodEnd);
      if (isNaN(end.getTime()))
        return 0;
      const diff = end.getTime() - now.getTime();
      return Math.ceil(diff / (1e3 * 60 * 60 * 24));
    } catch (error2) {
      console.error("Error calculating days remaining:", error2);
      return 0;
    }
  };
  if (!subscription) {
    return null;
  }
  return /* @__PURE__ */ (0, import_jsx_runtime134.jsx)(import_jsx_runtime134.Fragment, { children: /* @__PURE__ */ (0, import_jsx_runtime134.jsx)(Dialog, { open: showHistoryDialog, onOpenChange: setShowHistoryDialog, children: /* @__PURE__ */ (0, import_jsx_runtime134.jsxs)(DialogContent, { className: "max-w-4xl max-h-[90vh] overflow-y-auto", children: [
    /* @__PURE__ */ (0, import_jsx_runtime134.jsxs)(DialogHeader, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime134.jsxs)(DialogTitle, { className: "flex items-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime134.jsx)(import_lucide_react64.History, { className: "h-5 w-5 text-blue-500" }),
        "Subscription Activity & Payment History"
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime134.jsx)(DialogDescription, { children: "View detailed activity and payment history for this subscription" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime134.jsx)("div", { className: "mt-4", children: /* @__PURE__ */ (0, import_jsx_runtime134.jsx)(
      SubscriptionActivityTimeline,
      {
        activities,
        payments,
        loading: loadingHistory,
        onExport: () => {
          console.log("Export subscription history");
        }
      }
    ) }),
    /* @__PURE__ */ (0, import_jsx_runtime134.jsx)(DialogFooter, { children: /* @__PURE__ */ (0, import_jsx_runtime134.jsx)(
      Button,
      {
        variant: "outline",
        onClick: () => setShowHistoryDialog(false),
        children: "Close"
      }
    ) })
  ] }) }) });
}

// src/components/features/Merchants/components/MerchantDetail.tsx
var import_lucide_react65 = require("lucide-react");
var import_jsx_runtime135 = require("react/jsx-runtime");
function MerchantDetail({
  data,
  plans = [],
  currentUserRole,
  onMerchantAction,
  onOutletAction,
  onUserAction,
  onProductAction,
  onOrderAction,
  onPlanChange,
  onExtend,
  onCancel,
  onSuspend,
  onReactivate
}) {
  const router = (0, import_navigation5.useRouter)();
  const navigateToPage = (page, id) => {
    const url = id ? `/${page}/${id}` : `/${page}`;
    router.push(url);
  };
  const handleNavigateToAdmin = (page, id) => {
    navigateToPage(page, id);
  };
  return /* @__PURE__ */ (0, import_jsx_runtime135.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime135.jsx)(
      MerchantHeader,
      {
        merchant: data.merchant,
        stats: data.stats
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime135.jsx)("div", { className: "grid grid-cols-1 gap-6", children: /* @__PURE__ */ (0, import_jsx_runtime135.jsxs)(Card2, { className: "shadow-sm border-gray-200 dark:border-gray-700", children: [
      /* @__PURE__ */ (0, import_jsx_runtime135.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime135.jsx)(CardTitle2, { children: "Basic Information" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime135.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime135.jsxs)("div", { className: "space-y-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime135.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime135.jsx)("label", { className: "text-xs font-medium text-gray-500 dark:text-gray-400", children: "Name" }),
          /* @__PURE__ */ (0, import_jsx_runtime135.jsx)("p", { className: "text-sm text-gray-900 dark:text-white", children: data.merchant.name })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime135.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime135.jsx)("label", { className: "text-xs font-medium text-gray-500 dark:text-gray-400", children: "Email" }),
          /* @__PURE__ */ (0, import_jsx_runtime135.jsx)("p", { className: "text-sm text-gray-900 dark:text-white", children: data.merchant.email })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime135.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime135.jsx)("label", { className: "text-xs font-medium text-gray-500 dark:text-gray-400", children: "Phone" }),
          /* @__PURE__ */ (0, import_jsx_runtime135.jsx)("p", { className: "text-sm text-gray-900 dark:text-white", children: data.merchant.phone || "Not provided" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime135.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime135.jsx)("label", { className: "text-xs font-medium text-gray-500 dark:text-gray-400", children: "Address" }),
          /* @__PURE__ */ (0, import_jsx_runtime135.jsx)("p", { className: "text-sm text-gray-900 dark:text-white", children: data.merchant.address || "Not provided" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime135.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime135.jsx)("label", { className: "text-xs font-medium text-gray-500 dark:text-gray-400", children: "Description" }),
          /* @__PURE__ */ (0, import_jsx_runtime135.jsx)("p", { className: "text-sm text-gray-900 dark:text-white", children: data.merchant.description || "No description" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime135.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime135.jsx)("label", { className: "text-xs font-medium text-gray-500 dark:text-gray-400", children: "Status" }),
          /* @__PURE__ */ (0, import_jsx_runtime135.jsx)("p", { className: `text-sm ${data.merchant.isActive ? "text-green-600" : "text-red-600"}`, children: data.merchant.isActive ? "Active" : "Inactive" })
        ] })
      ] }) })
    ] }) }),
    onPlanChange && /* @__PURE__ */ (0, import_jsx_runtime135.jsx)(
      MerchantPlanManagement,
      {
        merchant: {
          id: data.merchant.id,
          name: data.merchant.name,
          email: data.merchant.email,
          currentPlan: data.merchant.plan ? {
            id: data.merchant.plan.id,
            name: data.merchant.plan.name,
            price: data.merchant.plan.basePrice,
            currency: data.merchant.plan.currency
          } : null,
          subscriptionStatus: data.merchant.currentSubscription?.status || data.merchant.subscriptionStatus || "unknown"
        },
        subscriptions: data.merchant.currentSubscription ? [data.merchant.currentSubscription] : [],
        plans,
        currentUserRole,
        onPlanChange,
        onExtend,
        onCancel,
        onSuspend,
        onReactivate
      }
    ),
    data.merchant.currentSubscription && /* @__PURE__ */ (0, import_jsx_runtime135.jsx)(
      MerchantSubscriptionSection,
      {
        merchantId: data.merchant.id,
        subscription: data.merchant.currentSubscription
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime135.jsxs)("div", { className: "grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime135.jsxs)(Card2, { className: "shadow-sm border-gray-200 dark:border-gray-700", children: [
        /* @__PURE__ */ (0, import_jsx_runtime135.jsxs)(CardHeader2, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime135.jsx)(CardTitle2, { className: "text-sm font-medium", children: "Manage Outlets" }),
          /* @__PURE__ */ (0, import_jsx_runtime135.jsx)(import_lucide_react65.Building2, { className: "w-5 h-5 text-blue-600" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime135.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime135.jsx)(
          Button,
          {
            variant: "outline",
            className: "w-full",
            onClick: () => handleNavigateToAdmin("merchants/" + data.merchant.id + "/outlets"),
            children: "Go to Outlets"
          }
        ) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime135.jsxs)(Card2, { className: "shadow-sm border-gray-200 dark:border-gray-700", children: [
        /* @__PURE__ */ (0, import_jsx_runtime135.jsxs)(CardHeader2, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime135.jsx)(CardTitle2, { className: "text-sm font-medium", children: "Manage Products" }),
          /* @__PURE__ */ (0, import_jsx_runtime135.jsx)(import_lucide_react65.Package, { className: "w-5 h-5 text-green-600" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime135.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime135.jsx)(
          Button,
          {
            variant: "outline",
            className: "w-full",
            onClick: () => handleNavigateToAdmin("merchants/" + data.merchant.id + "/products"),
            children: "Go to Products"
          }
        ) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime135.jsxs)(Card2, { className: "shadow-sm border-gray-200 dark:border-gray-700", children: [
        /* @__PURE__ */ (0, import_jsx_runtime135.jsxs)(CardHeader2, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime135.jsx)(CardTitle2, { className: "text-sm font-medium", children: "Manage Users" }),
          /* @__PURE__ */ (0, import_jsx_runtime135.jsx)(import_lucide_react65.Users, { className: "w-5 h-5 text-purple-600" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime135.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime135.jsx)(
          Button,
          {
            variant: "outline",
            className: "w-full",
            onClick: () => handleNavigateToAdmin("merchants/" + data.merchant.id + "/users"),
            children: "Go to Users"
          }
        ) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime135.jsxs)(Card2, { className: "shadow-sm border-gray-200 dark:border-gray-700", children: [
        /* @__PURE__ */ (0, import_jsx_runtime135.jsxs)(CardHeader2, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime135.jsx)(CardTitle2, { className: "text-sm font-medium", children: "Manage Orders" }),
          /* @__PURE__ */ (0, import_jsx_runtime135.jsx)(import_lucide_react65.ShoppingCart, { className: "w-5 h-5 text-orange-600" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime135.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime135.jsx)(
          Button,
          {
            variant: "outline",
            className: "w-full",
            onClick: () => handleNavigateToAdmin("merchants/" + data.merchant.id + "/orders"),
            children: "Go to Orders"
          }
        ) })
      ] })
    ] })
  ] });
}

// src/components/features/Calendars/Calendars.tsx
var import_react73 = require("react");

// src/components/features/Calendars/components/CalendarHeader.tsx
var import_lucide_react66 = require("lucide-react");
var import_jsx_runtime136 = require("react/jsx-runtime");
function CalendarHeader({
  title = "Pickup Calendar",
  subtitle,
  children
}) {
  return /* @__PURE__ */ (0, import_jsx_runtime136.jsxs)("div", { className: "flex items-center justify-between mb-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime136.jsxs)("div", { className: "flex items-center space-x-3", children: [
      /* @__PURE__ */ (0, import_jsx_runtime136.jsx)("div", { className: "w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime136.jsx)(import_lucide_react66.Calendar, { className: "w-6 h-6 text-blue-600" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime136.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime136.jsx)("h1", { className: "text-2xl font-bold text-gray-900", children: title }),
        subtitle && /* @__PURE__ */ (0, import_jsx_runtime136.jsx)("p", { className: "text-sm text-gray-600", children: subtitle })
      ] })
    ] }),
    children && /* @__PURE__ */ (0, import_jsx_runtime136.jsx)("div", { className: "flex items-center space-x-3", children })
  ] });
}

// src/components/features/Calendars/components/CalendarNavigation.tsx
var import_lucide_react67 = require("lucide-react");
var import_jsx_runtime137 = require("react/jsx-runtime");
function CalendarNavigation({
  currentDate,
  onPreviousMonth,
  onNextMonth,
  onToday,
  className = ""
}) {
  const monthNames = [
    "January",
    "February",
    "March",
    "April",
    "May",
    "June",
    "July",
    "August",
    "September",
    "October",
    "November",
    "December"
  ];
  const currentMonth = monthNames[currentDate.getMonth()];
  const currentYear = currentDate.getFullYear();
  return /* @__PURE__ */ (0, import_jsx_runtime137.jsxs)("div", { className: `flex items-center justify-between ${className}`, children: [
    /* @__PURE__ */ (0, import_jsx_runtime137.jsxs)("div", { className: "flex items-center space-x-3", children: [
      /* @__PURE__ */ (0, import_jsx_runtime137.jsx)(import_lucide_react67.Calendar, { className: "w-5 h-5 text-blue-600" }),
      /* @__PURE__ */ (0, import_jsx_runtime137.jsxs)("h2", { className: "text-xl font-semibold text-gray-900", children: [
        currentMonth,
        " ",
        currentYear
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime137.jsxs)("div", { className: "flex items-center space-x-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime137.jsx)(
        Button,
        {
          variant: "outline",
          size: "icon",
          onClick: onPreviousMonth,
          "aria-label": "Previous month",
          children: /* @__PURE__ */ (0, import_jsx_runtime137.jsx)(import_lucide_react67.ChevronLeft, { className: "w-5 h-5 text-gray-600" })
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime137.jsx)(
        Button,
        {
          variant: "outline",
          onClick: onToday,
          className: "px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 hover:bg-blue-100",
          children: "Today"
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime137.jsx)(
        Button,
        {
          variant: "outline",
          size: "icon",
          onClick: onNextMonth,
          "aria-label": "Next month",
          children: /* @__PURE__ */ (0, import_jsx_runtime137.jsx)(import_lucide_react67.ChevronRight, { className: "w-5 h-5 text-gray-600" })
        }
      )
    ] })
  ] });
}

// src/components/features/Calendars/components/CalendarStats.tsx
var import_lucide_react68 = require("lucide-react");
var import_jsx_runtime138 = require("react/jsx-runtime");
function CalendarStats({
  totalPickups,
  currentMonth,
  currentYear,
  className = ""
}) {
  const monthNames = [
    "January",
    "February",
    "March",
    "April",
    "May",
    "June",
    "July",
    "August",
    "September",
    "October",
    "November",
    "December"
  ];
  return /* @__PURE__ */ (0, import_jsx_runtime138.jsxs)("div", { className: `grid grid-cols-1 md:grid-cols-2 gap-4 ${className}`, children: [
    /* @__PURE__ */ (0, import_jsx_runtime138.jsx)("div", { className: "bg-white rounded-lg border border-gray-200 p-4", children: /* @__PURE__ */ (0, import_jsx_runtime138.jsxs)("div", { className: "flex items-center space-x-3", children: [
      /* @__PURE__ */ (0, import_jsx_runtime138.jsx)("div", { className: "w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime138.jsx)(import_lucide_react68.ArrowUpRight, { className: "w-5 h-5 text-green-600" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime138.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime138.jsx)("p", { className: "text-sm font-medium text-gray-600", children: "Pickup Orders" }),
        /* @__PURE__ */ (0, import_jsx_runtime138.jsx)("p", { className: "text-2xl font-bold text-gray-900", children: totalPickups })
      ] })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime138.jsx)("div", { className: "bg-white rounded-lg border border-gray-200 p-4", children: /* @__PURE__ */ (0, import_jsx_runtime138.jsxs)("div", { className: "flex items-center space-x-3", children: [
      /* @__PURE__ */ (0, import_jsx_runtime138.jsx)("div", { className: "w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime138.jsx)(import_lucide_react68.Package, { className: "w-5 h-5 text-purple-600" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime138.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime138.jsx)("p", { className: "text-sm font-medium text-gray-600", children: "Month" }),
        /* @__PURE__ */ (0, import_jsx_runtime138.jsxs)("p", { className: "text-lg font-semibold text-gray-900", children: [
          monthNames[currentMonth],
          " ",
          currentYear
        ] })
      ] })
    ] }) })
  ] });
}

// src/components/features/Calendars/components/CalendarGrid.tsx
var import_react72 = __toESM(require("react"));
var import_jsx_runtime139 = require("react/jsx-runtime");
function CalendarGrid({
  currentDate,
  selectedDate,
  orders,
  onDateClick,
  className = ""
}) {
  const calendarDays = import_react72.default.useMemo(() => {
    const year = currentDate.getFullYear();
    const month = currentDate.getMonth();
    const firstDay = new Date(year, month, 1);
    const lastDay = new Date(year, month + 1, 0);
    const startDate = new Date(firstDay);
    startDate.setDate(startDate.getDate() - firstDay.getDay());
    const endDate = new Date(lastDay);
    endDate.setDate(endDate.getDate() + (6 - lastDay.getDay()));
    const days = [];
    const tempDate = new Date(startDate);
    while (tempDate <= endDate) {
      const dayOfMonth = tempDate.getDate();
      const isCurrentMonth = tempDate.getMonth() === month;
      const isToday = tempDate.toDateString() === (/* @__PURE__ */ new Date()).toDateString();
      const isSelected = selectedDate?.toDateString() === tempDate.toDateString();
      const currentDateKey = `${tempDate.getFullYear()}-${String(tempDate.getMonth() + 1).padStart(2, "0")}-${String(tempDate.getDate()).padStart(2, "0")}`;
      const dateOrders = orders.filter((order) => {
        const pickupDate = new Date(order.pickupPlanAt || order.pickupDate);
        const returnDate = new Date(order.returnPlanAt || order.returnDate);
        const pickupDateKey = `${pickupDate.getFullYear()}-${String(pickupDate.getMonth() + 1).padStart(2, "0")}-${String(pickupDate.getDate()).padStart(2, "0")}`;
        const returnDateKey = `${returnDate.getFullYear()}-${String(returnDate.getMonth() + 1).padStart(2, "0")}-${String(returnDate.getDate()).padStart(2, "0")}`;
        const matches = pickupDateKey === currentDateKey || returnDateKey === currentDateKey;
        return matches;
      });
      const pickupOrders = dateOrders.filter((order) => {
        const pickupDate = new Date(order.pickupPlanAt || order.pickupDate);
        const pickupDateKey = `${pickupDate.getFullYear()}-${String(pickupDate.getMonth() + 1).padStart(2, "0")}-${String(pickupDate.getDate()).padStart(2, "0")}`;
        return pickupDateKey === currentDateKey;
      });
      const returnOrders = [];
      days.push({
        date: new Date(tempDate),
        events: [],
        // Required by CalendarDay interface
        isCurrentMonth,
        isToday,
        isSelected,
        // Additional properties for this component
        dayOfMonth,
        pickupOrders,
        returnOrders,
        hasEvents: dateOrders.length > 0,
        orders: dateOrders,
        pickupCount: pickupOrders.length,
        returnCount: returnOrders.length
      });
      tempDate.setDate(tempDate.getDate() + 1);
    }
    return days;
  }, [currentDate, orders, selectedDate]);
  const weekdays = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
  return /* @__PURE__ */ (0, import_jsx_runtime139.jsxs)("div", { className: `bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden ${className}`, children: [
    /* @__PURE__ */ (0, import_jsx_runtime139.jsx)("div", { className: "grid grid-cols-7 bg-gray-50 border-b border-gray-200", children: weekdays.map((day) => /* @__PURE__ */ (0, import_jsx_runtime139.jsx)(
      "div",
      {
        className: "px-3 py-3 text-center text-sm font-medium text-gray-700",
        children: day
      },
      day
    )) }),
    /* @__PURE__ */ (0, import_jsx_runtime139.jsx)("div", { className: "grid grid-cols-7", children: calendarDays.map((day, index) => /* @__PURE__ */ (0, import_jsx_runtime139.jsxs)(
      "div",
      {
        onClick: () => onDateClick(day.date),
        className: `
              min-h-[120px] p-2 border-r border-b border-gray-200 cursor-pointer transition-colors
              ${day.isCurrentMonth ? "bg-white" : "bg-gray-50"}
              ${day.isToday ? "bg-blue-50" : ""}
              ${day.isSelected ? "bg-blue-100 ring-2 ring-blue-500" : ""}
              ${day.isCurrentMonth ? "hover:bg-gray-50" : ""}
            `,
        children: [
          /* @__PURE__ */ (0, import_jsx_runtime139.jsx)("div", { className: "mb-2", children: /* @__PURE__ */ (0, import_jsx_runtime139.jsx)(
            "span",
            {
              className: `
                  text-sm font-medium
                  ${day.isCurrentMonth ? "text-gray-900" : "text-gray-400"}
                  ${day.isToday ? "text-blue-600 font-bold" : ""}
                `,
              children: day.dayOfMonth
            }
          ) }),
          /* @__PURE__ */ (0, import_jsx_runtime139.jsxs)("div", { className: "space-y-1", children: [
            day.hasEvents && /* @__PURE__ */ (0, import_jsx_runtime139.jsxs)("div", { className: "space-y-1", children: [
              day.pickupCount > 0 && /* @__PURE__ */ (0, import_jsx_runtime139.jsxs)("div", { className: "flex items-center justify-between px-2 py-1 bg-green-50 border border-green-200 rounded text-xs", children: [
                /* @__PURE__ */ (0, import_jsx_runtime139.jsx)("span", { className: "text-green-700 font-medium", children: "Pickup" }),
                /* @__PURE__ */ (0, import_jsx_runtime139.jsx)("span", { className: "text-green-800 font-bold", children: day.pickupCount })
              ] }),
              day.returnCount > 0 && /* @__PURE__ */ (0, import_jsx_runtime139.jsxs)("div", { className: "flex items-center justify-between px-2 py-1 bg-blue-50 border border-blue-200 rounded text-xs", children: [
                /* @__PURE__ */ (0, import_jsx_runtime139.jsx)("span", { className: "text-blue-700 font-medium", children: "Return" }),
                /* @__PURE__ */ (0, import_jsx_runtime139.jsx)("span", { className: "text-blue-800 font-bold", children: day.returnCount })
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime139.jsx)("div", { className: "text-xs text-gray-400 text-left", children: "More..." })
            ] }),
            !day.hasEvents && day.isCurrentMonth && /* @__PURE__ */ (0, import_jsx_runtime139.jsx)("div", { className: "text-xs text-gray-400 text-center py-2", children: "No orders" })
          ] })
        ]
      },
      index
    )) })
  ] });
}

// src/components/features/Calendars/components/CalendarLoading.tsx
var import_jsx_runtime140 = require("react/jsx-runtime");
function CalendarLoading() {
  return /* @__PURE__ */ (0, import_jsx_runtime140.jsxs)("div", { className: "space-y-6 animate-pulse", children: [
    /* @__PURE__ */ (0, import_jsx_runtime140.jsx)("div", { className: "bg-white rounded-xl border border-gray-200 p-6 shadow-sm", children: /* @__PURE__ */ (0, import_jsx_runtime140.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime140.jsxs)("div", { className: "space-y-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime140.jsx)("div", { className: "h-8 w-64 bg-gray-200 rounded" }),
        /* @__PURE__ */ (0, import_jsx_runtime140.jsxs)("div", { className: "flex items-center gap-6", children: [
          /* @__PURE__ */ (0, import_jsx_runtime140.jsxs)("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime140.jsx)("div", { className: "w-3 h-3 bg-gray-200 rounded-full" }),
            /* @__PURE__ */ (0, import_jsx_runtime140.jsx)("div", { className: "h-4 w-32 bg-gray-200 rounded" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime140.jsxs)("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime140.jsx)("div", { className: "w-3 h-3 bg-gray-200 rounded-full" }),
            /* @__PURE__ */ (0, import_jsx_runtime140.jsx)("div", { className: "h-4 w-32 bg-gray-200 rounded" })
          ] })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime140.jsxs)("div", { className: "flex items-center gap-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime140.jsx)("div", { className: "w-12 h-12 bg-gray-200 rounded-lg" }),
        /* @__PURE__ */ (0, import_jsx_runtime140.jsx)("div", { className: "w-12 h-12 bg-gray-200 rounded-lg" })
      ] })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime140.jsxs)("div", { className: "bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden", children: [
      /* @__PURE__ */ (0, import_jsx_runtime140.jsx)("div", { className: "grid grid-cols-7 bg-gray-50 border-b border-gray-200", children: Array.from({ length: 7 }).map((_, i) => /* @__PURE__ */ (0, import_jsx_runtime140.jsx)("div", { className: "px-3 py-3", children: /* @__PURE__ */ (0, import_jsx_runtime140.jsx)("div", { className: "h-4 bg-gray-200 rounded mx-auto w-8" }) }, i)) }),
      /* @__PURE__ */ (0, import_jsx_runtime140.jsx)("div", { className: "grid grid-cols-7", children: Array.from({ length: 35 }).map((_, i) => /* @__PURE__ */ (0, import_jsx_runtime140.jsx)(
        "div",
        {
          className: "min-h-[120px] p-2 border-r border-b border-gray-200",
          children: /* @__PURE__ */ (0, import_jsx_runtime140.jsxs)("div", { className: "space-y-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime140.jsx)("div", { className: "h-4 w-6 bg-gray-200 rounded" }),
            /* @__PURE__ */ (0, import_jsx_runtime140.jsx)("div", { className: "h-3 w-16 bg-gray-200 rounded" }),
            /* @__PURE__ */ (0, import_jsx_runtime140.jsx)("div", { className: "h-3 w-12 bg-gray-200 rounded" })
          ] })
        },
        i
      )) })
    ] })
  ] });
}
function CalendarEventLoading() {
  return /* @__PURE__ */ (0, import_jsx_runtime140.jsxs)("div", { className: "space-y-4 animate-pulse", children: [
    /* @__PURE__ */ (0, import_jsx_runtime140.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime140.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime140.jsx)("div", { className: "h-6 w-32 bg-gray-200 rounded" }),
        /* @__PURE__ */ (0, import_jsx_runtime140.jsx)("div", { className: "h-4 w-24 bg-gray-200 rounded" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime140.jsx)("div", { className: "h-8 w-20 bg-gray-200 rounded" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime140.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime140.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime140.jsx)("div", { className: "h-5 w-20 bg-gray-200 rounded" }),
        /* @__PURE__ */ (0, import_jsx_runtime140.jsx)("div", { className: "space-y-2", children: Array.from({ length: 4 }).map((_, i) => /* @__PURE__ */ (0, import_jsx_runtime140.jsx)("div", { className: "h-4 w-full bg-gray-200 rounded" }, i)) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime140.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime140.jsx)("div", { className: "h-5 w-20 bg-gray-200 rounded" }),
        /* @__PURE__ */ (0, import_jsx_runtime140.jsx)("div", { className: "space-y-2", children: Array.from({ length: 3 }).map((_, i) => /* @__PURE__ */ (0, import_jsx_runtime140.jsx)("div", { className: "h-4 w-full bg-gray-200 rounded" }, i)) })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime140.jsxs)("div", { className: "space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime140.jsx)("div", { className: "h-5 w-28 bg-gray-200 rounded" }),
      /* @__PURE__ */ (0, import_jsx_runtime140.jsx)("div", { className: "space-y-3", children: Array.from({ length: 3 }).map((_, i) => /* @__PURE__ */ (0, import_jsx_runtime140.jsxs)("div", { className: "flex items-center gap-3 p-3 border rounded-lg", children: [
        /* @__PURE__ */ (0, import_jsx_runtime140.jsx)("div", { className: "h-4 w-4 bg-gray-200 rounded" }),
        /* @__PURE__ */ (0, import_jsx_runtime140.jsx)("div", { className: "h-4 w-32 bg-gray-200 rounded" }),
        /* @__PURE__ */ (0, import_jsx_runtime140.jsx)("div", { className: "h-4 w-24 bg-gray-200 rounded" })
      ] }, i)) })
    ] })
  ] });
}

// src/components/features/Calendars/Calendars.tsx
var import_jsx_runtime141 = require("react/jsx-runtime");
function Calendars({
  orders = [],
  loading = false,
  error: error2 = null,
  authenticated = false,
  onFiltersChange,
  onOrderClick,
  onDateSelect,
  onLoginClick,
  onDevLogin,
  onRetry,
  className = ""
}) {
  const [currentDate, setCurrentDate] = (0, import_react73.useState)(/* @__PURE__ */ new Date());
  const [selectedDate, setSelectedDate] = (0, import_react73.useState)(null);
  const goToPreviousMonth = (0, import_react73.useCallback)(() => {
    setCurrentDate((prev) => new Date(prev.getFullYear(), prev.getMonth() - 1, 1));
  }, []);
  const goToNextMonth = (0, import_react73.useCallback)(() => {
    setCurrentDate((prev) => new Date(prev.getFullYear(), prev.getMonth() + 1, 1));
  }, []);
  const goToToday = (0, import_react73.useCallback)(() => {
    const today = /* @__PURE__ */ new Date();
    setCurrentDate(today);
    setSelectedDate(today);
  }, []);
  const handleDateClick = (0, import_react73.useCallback)((date2) => {
    setSelectedDate(date2);
    onDateSelect?.(date2);
  }, [onDateSelect]);
  const currentMonth = currentDate.getMonth();
  const currentYear = currentDate.getFullYear();
  const monthOrders = orders.filter((order) => {
    const orderDate = new Date(order.pickupPlanAt || order.pickupDate);
    return orderDate.getMonth() === currentMonth && orderDate.getFullYear() === currentYear;
  });
  const totalPickups = monthOrders.length;
  const totalReturns = 0;
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime141.jsxs)("div", { className, children: [
      /* @__PURE__ */ (0, import_jsx_runtime141.jsx)(CalendarHeader, { title: "Pickup Calendar" }),
      /* @__PURE__ */ (0, import_jsx_runtime141.jsx)(CalendarLoading, {})
    ] });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime141.jsxs)("div", { className: `space-y-6 ${className}`, children: [
    /* @__PURE__ */ (0, import_jsx_runtime141.jsx)(CalendarHeader, { title: "Pickup Calendar", children: /* @__PURE__ */ (0, import_jsx_runtime141.jsx)(
      CalendarNavigation,
      {
        currentDate,
        onPreviousMonth: goToPreviousMonth,
        onNextMonth: goToNextMonth,
        onToday: goToToday
      }
    ) }),
    /* @__PURE__ */ (0, import_jsx_runtime141.jsx)(
      CalendarStats,
      {
        totalPickups,
        currentMonth,
        currentYear
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime141.jsx)(
      CalendarGrid,
      {
        currentDate,
        selectedDate,
        orders,
        onDateClick: handleDateClick
      }
    )
  ] });
}

// src/components/features/Calendars/components/OrdersList.tsx
var import_lucide_react69 = require("lucide-react");
var import_jsx_runtime142 = require("react/jsx-runtime");
function OrdersList({
  orders,
  selectedDate,
  onOrderClick,
  className = ""
}) {
  if (orders.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime142.jsxs)("div", { className: `text-center py-8 text-gray-500 ${className}`, children: [
      /* @__PURE__ */ (0, import_jsx_runtime142.jsx)(import_lucide_react69.Package, { className: "w-12 h-12 mx-auto mb-4 text-gray-300" }),
      /* @__PURE__ */ (0, import_jsx_runtime142.jsx)("p", { className: "text-lg font-medium", children: "No orders found" }),
      selectedDate && /* @__PURE__ */ (0, import_jsx_runtime142.jsxs)("p", { className: "text-sm", children: [
        "for ",
        selectedDate.toLocaleDateString()
      ] })
    ] });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime142.jsxs)("div", { className: `space-y-4 ${className}`, children: [
    /* @__PURE__ */ (0, import_jsx_runtime142.jsxs)("h3", { className: "text-lg font-semibold text-gray-900", children: [
      "Orders ",
      selectedDate && `for ${selectedDate.toLocaleDateString()}`
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime142.jsx)("div", { className: "space-y-3", children: orders.map((order) => /* @__PURE__ */ (0, import_jsx_runtime142.jsxs)(
      "div",
      {
        onClick: () => onOrderClick?.(order),
        className: "bg-white border border-gray-200 rounded-lg p-4 hover:border-blue-300 hover:shadow-sm transition-all duration-200 cursor-pointer",
        children: [
          /* @__PURE__ */ (0, import_jsx_runtime142.jsxs)("div", { className: "flex items-center justify-between mb-3", children: [
            /* @__PURE__ */ (0, import_jsx_runtime142.jsxs)("h4", { className: "font-semibold text-gray-900", children: [
              "#",
              order.orderNumber
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime142.jsx)("span", { className: `px-2 py-1 text-xs rounded-full font-medium ${order.status === "RESERVED" ? "bg-red-100 text-red-800" : order.status === "PICKUPED" ? "bg-green-100 text-green-800" : "bg-gray-100 text-gray-800"}`, children: order.status })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime142.jsxs)("div", { className: "flex items-center space-x-3 mb-3", children: [
            /* @__PURE__ */ (0, import_jsx_runtime142.jsx)("div", { className: "w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime142.jsx)(import_lucide_react69.User, { className: "w-4 h-4 text-blue-600" }) }),
            /* @__PURE__ */ (0, import_jsx_runtime142.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime142.jsx)("p", { className: "font-medium text-gray-900", children: order.customerName }),
              /* @__PURE__ */ (0, import_jsx_runtime142.jsx)("p", { className: "text-sm text-gray-500", children: order.customerPhone || "No phone" })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime142.jsxs)("div", { className: "flex items-center space-x-2 mb-3", children: [
            /* @__PURE__ */ (0, import_jsx_runtime142.jsx)(import_lucide_react69.Package, { className: "w-4 h-4 text-gray-500" }),
            /* @__PURE__ */ (0, import_jsx_runtime142.jsx)("span", { className: "text-sm text-gray-700", children: order.productName })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime142.jsxs)("div", { className: "flex items-center text-sm text-gray-600", children: [
            /* @__PURE__ */ (0, import_jsx_runtime142.jsx)(import_lucide_react69.Clock, { className: "w-4 h-4 mr-2" }),
            /* @__PURE__ */ (0, import_jsx_runtime142.jsx)("span", { className: "capitalize", children: order.status })
          ] })
        ]
      },
      order.id
    )) })
  ] });
}

// src/components/features/Users/Users.tsx
var import_react81 = __toESM(require("react"));
var import_ui106 = require("@rentalshop/ui");

// src/components/features/Users/components/UserHeader.tsx
var import_lucide_react70 = require("lucide-react");
var import_jsx_runtime143 = require("react/jsx-runtime");
function UserHeader({ viewMode, onViewModeChange, onAddUser }) {
  return /* @__PURE__ */ (0, import_jsx_runtime143.jsxs)("div", { className: "flex justify-between items-center gap-4", children: [
    /* @__PURE__ */ (0, import_jsx_runtime143.jsx)("div", { className: "flex items-center gap-2", children: /* @__PURE__ */ (0, import_jsx_runtime143.jsxs)(
      Button,
      {
        onClick: onAddUser,
        className: "bg-blue-600 hover:bg-blue-700 text-white",
        children: [
          /* @__PURE__ */ (0, import_jsx_runtime143.jsx)(import_lucide_react70.Plus, { className: "w-4 h-4 mr-2" }),
          "Add User"
        ]
      }
    ) }),
    /* @__PURE__ */ (0, import_jsx_runtime143.jsxs)("div", { className: "flex items-center gap-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime143.jsxs)(
        Button,
        {
          variant: viewMode === "table" ? "default" : "outline",
          size: "sm",
          onClick: () => onViewModeChange("table"),
          className: "flex items-center gap-2",
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime143.jsx)(import_lucide_react70.List, { className: "w-4 h-4" }),
            "Table"
          ]
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime143.jsxs)(
        Button,
        {
          variant: viewMode === "grid" ? "default" : "outline",
          size: "sm",
          onClick: () => onViewModeChange("grid"),
          className: "flex items-center gap-2",
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime143.jsx)(import_lucide_react70.Grid, { className: "w-4 h-4" }),
            "Grid"
          ]
        }
      )
    ] })
  ] });
}

// src/components/features/Users/components/UserFilters.tsx
var import_ui95 = require("@rentalshop/ui");
var import_jsx_runtime144 = require("react/jsx-runtime");
function UserFilters({ filters, onFiltersChange, onSearchChange, onClearFilters }) {
  const handleFilterChange = (key, value) => {
    if (key !== "search") {
      onFiltersChange({
        ...filters,
        [key]: value
      });
    }
  };
  const handleInputChange = (e) => {
    onSearchChange(e.target.value);
  };
  return /* @__PURE__ */ (0, import_jsx_runtime144.jsx)(import_ui95.Card, { className: "shadow-sm border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ (0, import_jsx_runtime144.jsx)(import_ui95.CardContent, { className: "pt-6 space-y-4", children: /* @__PURE__ */ (0, import_jsx_runtime144.jsxs)("div", { className: "flex flex-col md:flex-row gap-4", children: [
    /* @__PURE__ */ (0, import_jsx_runtime144.jsxs)("div", { className: "flex-1 space-y-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime144.jsx)("label", { className: "text-sm font-medium text-gray-700 dark:text-gray-300", children: "Search Users" }),
      /* @__PURE__ */ (0, import_jsx_runtime144.jsx)(
        import_ui95.Input,
        {
          placeholder: "Search by name, email...",
          value: filters.search || "",
          onChange: handleInputChange,
          className: "w-full"
        }
      )
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime144.jsxs)("div", { className: "space-y-2 md:w-56", children: [
      /* @__PURE__ */ (0, import_jsx_runtime144.jsx)("label", { className: "text-sm font-medium text-gray-700 dark:text-gray-300", children: "Role" }),
      /* @__PURE__ */ (0, import_jsx_runtime144.jsxs)(import_ui95.Select, { value: filters.role, onValueChange: (value) => handleFilterChange("role", value), children: [
        /* @__PURE__ */ (0, import_jsx_runtime144.jsx)(import_ui95.SelectTrigger, { className: "w-full py-3", children: /* @__PURE__ */ (0, import_jsx_runtime144.jsx)(import_ui95.SelectValue, { placeholder: "All roles" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime144.jsxs)(import_ui95.SelectContent, { children: [
          /* @__PURE__ */ (0, import_jsx_runtime144.jsx)(import_ui95.SelectItem, { value: "all", children: "All roles" }),
          /* @__PURE__ */ (0, import_jsx_runtime144.jsx)(import_ui95.SelectItem, { value: "CLIENT", children: "Client" }),
          /* @__PURE__ */ (0, import_jsx_runtime144.jsx)(import_ui95.SelectItem, { value: "MERCHANT", children: "Merchant" }),
          /* @__PURE__ */ (0, import_jsx_runtime144.jsx)(import_ui95.SelectItem, { value: "OUTLET_STAFF", children: "Outlet Staff" }),
          /* @__PURE__ */ (0, import_jsx_runtime144.jsx)(import_ui95.SelectItem, { value: "ADMIN", children: "Admin" })
        ] })
      ] })
    ] })
  ] }) }) });
}

// src/components/features/Users/components/UserCard.tsx
var import_ui96 = require("@rentalshop/ui");
var import_lucide_react71 = require("lucide-react");
var import_jsx_runtime145 = require("react/jsx-runtime");
function UserCard({ user, onUserAction }) {
  const getRoleBadgeVariant = (role) => {
    switch (role) {
      case "ADMIN":
        return "destructive";
      case "MERCHANT":
        return "default";
      case "OUTLET_STAFF":
        return "secondary";
      case "CLIENT":
        return "outline";
      default:
        return "outline";
    }
  };
  const getRoleDisplayName = (role) => {
    switch (role) {
      case "ADMIN":
        return "Admin";
      case "MERCHANT":
        return "Merchant";
      case "OUTLET_STAFF":
        return "Staff";
      case "CLIENT":
        return "Client";
      default:
        return role;
    }
  };
  const formatDate11 = (dateString) => {
    return new Date(dateString).toLocaleDateString("en-US", {
      year: "numeric",
      month: "short",
      day: "numeric"
    });
  };
  return /* @__PURE__ */ (0, import_jsx_runtime145.jsx)(import_ui96.Card, { className: "overflow-hidden hover:shadow-lg transition-shadow", children: /* @__PURE__ */ (0, import_jsx_runtime145.jsxs)("div", { className: "p-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime145.jsxs)("div", { className: "flex items-start justify-between mb-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime145.jsxs)("div", { className: "flex items-center gap-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime145.jsx)("div", { className: "w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime145.jsx)(import_lucide_react71.User, { className: "w-6 h-6 text-blue-600" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime145.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime145.jsx)("h3", { className: "font-semibold text-lg text-gray-900", children: user.name }),
          /* @__PURE__ */ (0, import_jsx_runtime145.jsx)(import_ui96.Badge, { variant: getRoleBadgeVariant(user.role), children: getRoleDisplayName(user.role) })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime145.jsx)(import_ui96.Badge, { variant: user.isActive ? "default" : "secondary", children: user.isActive ? "Active" : "Inactive" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime145.jsxs)("div", { className: "space-y-2 mb-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime145.jsxs)("div", { className: "flex items-center gap-2 text-sm text-gray-600", children: [
        /* @__PURE__ */ (0, import_jsx_runtime145.jsx)(import_lucide_react71.Mail, { className: "w-4 h-4" }),
        /* @__PURE__ */ (0, import_jsx_runtime145.jsx)("span", { children: user.email })
      ] }),
      user.phone && /* @__PURE__ */ (0, import_jsx_runtime145.jsxs)("div", { className: "flex items-center gap-2 text-sm text-gray-600", children: [
        /* @__PURE__ */ (0, import_jsx_runtime145.jsx)(import_lucide_react71.Phone, { className: "w-4 h-4" }),
        /* @__PURE__ */ (0, import_jsx_runtime145.jsx)("span", { children: user.phone })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime145.jsxs)("div", { className: "flex items-center gap-2 text-sm text-gray-600", children: [
        /* @__PURE__ */ (0, import_jsx_runtime145.jsx)(import_lucide_react71.Calendar, { className: "w-4 h-4" }),
        /* @__PURE__ */ (0, import_jsx_runtime145.jsxs)("span", { children: [
          "Joined ",
          formatDate11(user.createdAt.toString())
        ] })
      ] })
    ] }),
    user.merchant && /* @__PURE__ */ (0, import_jsx_runtime145.jsxs)("div", { className: "flex items-center gap-2 text-sm text-gray-600 mb-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime145.jsx)(import_lucide_react71.Building, { className: "w-4 h-4" }),
      /* @__PURE__ */ (0, import_jsx_runtime145.jsx)("span", { children: user.merchant.name })
    ] }),
    user.outlet && /* @__PURE__ */ (0, import_jsx_runtime145.jsxs)("div", { className: "flex items-center gap-2 text-sm text-gray-600 mb-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime145.jsx)(import_lucide_react71.Building, { className: "w-4 h-4" }),
      /* @__PURE__ */ (0, import_jsx_runtime145.jsx)("span", { children: user.outlet.name }),
      user.outlet.merchant && /* @__PURE__ */ (0, import_jsx_runtime145.jsxs)("span", { className: "text-gray-500", children: [
        " - ",
        user.outlet.merchant.name
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime145.jsx)("div", { className: "flex gap-2 pt-4 border-t", children: /* @__PURE__ */ (0, import_jsx_runtime145.jsx)(
      import_ui96.Button,
      {
        variant: "outline",
        size: "sm",
        onClick: () => onUserAction("view", user.id),
        className: "flex-1",
        children: "View"
      }
    ) })
  ] }) });
}

// src/components/features/Users/components/UserGrid.tsx
var import_ui97 = require("@rentalshop/ui");
var import_jsx_runtime146 = require("react/jsx-runtime");
function UserGrid({ users, onUserAction }) {
  if (users.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime146.jsx)(import_ui97.Card, { className: "shadow-sm border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ (0, import_jsx_runtime146.jsx)(import_ui97.CardContent, { className: "text-center py-12", children: /* @__PURE__ */ (0, import_jsx_runtime146.jsxs)("div", { className: "text-gray-500 dark:text-gray-400", children: [
      /* @__PURE__ */ (0, import_jsx_runtime146.jsx)("div", { className: "text-4xl mb-4", children: "\u{1F465}" }),
      /* @__PURE__ */ (0, import_jsx_runtime146.jsx)("h3", { className: "text-lg font-medium mb-2", children: "No users found" }),
      /* @__PURE__ */ (0, import_jsx_runtime146.jsx)("p", { className: "text-sm", children: "Try adjusting your filters or add some users to get started." })
    ] }) }) });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime146.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6", children: users.map((user) => /* @__PURE__ */ (0, import_jsx_runtime146.jsx)(
    UserCard,
    {
      user,
      onUserAction
    },
    user.id
  )) });
}

// src/components/features/Users/components/UserTable.tsx
var import_react74 = __toESM(require("react"));
var import_lucide_react72 = require("lucide-react");
var import_jsx_runtime147 = require("react/jsx-runtime");
function UserTable({
  users,
  onUserAction,
  sortBy = "createdAt",
  sortOrder = "desc",
  onSort
}) {
  const [openDropdownId, setOpenDropdownId] = import_react74.default.useState(null);
  if (users.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime147.jsx)(Card2, { className: "shadow-sm border-border", children: /* @__PURE__ */ (0, import_jsx_runtime147.jsx)(CardContent2, { className: "text-center py-12", children: /* @__PURE__ */ (0, import_jsx_runtime147.jsxs)("div", { className: "text-text-tertiary", children: [
      /* @__PURE__ */ (0, import_jsx_runtime147.jsx)("div", { className: "text-4xl mb-4", children: "\u{1F465}" }),
      /* @__PURE__ */ (0, import_jsx_runtime147.jsx)("h3", { className: "text-lg font-medium mb-2", children: "No users found" }),
      /* @__PURE__ */ (0, import_jsx_runtime147.jsx)("p", { className: "text-sm", children: "Try adjusting your filters or add some users to get started." })
    ] }) }) });
  }
  const formatDate11 = (dateString) => {
    if (!dateString)
      return "N/A";
    const date2 = typeof dateString === "string" ? new Date(dateString) : dateString;
    return date2.toLocaleDateString("en-US", {
      year: "numeric",
      month: "short",
      day: "numeric"
    });
  };
  const getRoleBadge = (role) => {
    const variants = {
      ADMIN: "bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",
      MERCHANT: "bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",
      OUTLET_ADMIN: "bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",
      OUTLET_STAFF: "bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"
    };
    return /* @__PURE__ */ (0, import_jsx_runtime147.jsx)(Badge, { className: variants[role] || variants.OUTLET_STAFF, children: role.replace("_", " ") });
  };
  const getStatusBadge = (isActive) => {
    return isActive ? /* @__PURE__ */ (0, import_jsx_runtime147.jsx)(Badge, { className: "bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200", children: "Active" }) : /* @__PURE__ */ (0, import_jsx_runtime147.jsx)(Badge, { className: "bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200", children: "Inactive" });
  };
  const handleSort = (column) => {
    if (onSort) {
      onSort(column);
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime147.jsx)(Card2, { className: "shadow-sm border-border flex flex-col h-full", children: /* @__PURE__ */ (0, import_jsx_runtime147.jsx)(CardContent2, { className: "p-0 flex-1 overflow-hidden", children: /* @__PURE__ */ (0, import_jsx_runtime147.jsx)("div", { className: "flex-1 overflow-auto h-full", children: /* @__PURE__ */ (0, import_jsx_runtime147.jsxs)("table", { className: "w-full", children: [
    /* @__PURE__ */ (0, import_jsx_runtime147.jsx)("thead", { className: "bg-bg-secondary border-b border-border sticky top-0 z-10", children: /* @__PURE__ */ (0, import_jsx_runtime147.jsxs)("tr", { children: [
      /* @__PURE__ */ (0, import_jsx_runtime147.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider", children: "User" }),
      /* @__PURE__ */ (0, import_jsx_runtime147.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Role" }),
      /* @__PURE__ */ (0, import_jsx_runtime147.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Outlet / Merchant" }),
      /* @__PURE__ */ (0, import_jsx_runtime147.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Status" }),
      /* @__PURE__ */ (0, import_jsx_runtime147.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Created At" }),
      /* @__PURE__ */ (0, import_jsx_runtime147.jsx)("th", { className: "px-6 py-3 text-right text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Actions" })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime147.jsx)("tbody", { className: "bg-bg-card divide-y divide-border", children: users.map((user) => /* @__PURE__ */ (0, import_jsx_runtime147.jsxs)("tr", { className: "hover:bg-bg-secondary transition-colors", children: [
      /* @__PURE__ */ (0, import_jsx_runtime147.jsx)("td", { className: "px-6 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime147.jsxs)("div", { className: "flex items-center gap-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime147.jsx)("div", { className: "flex-shrink-0 w-10 h-10 rounded-full bg-gradient-to-br from-action-primary to-brand-primary flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime147.jsxs)("span", { className: "text-white font-semibold text-sm", children: [
          user.firstName?.substring(0, 1),
          user.lastName?.substring(0, 1)
        ] }) }),
        /* @__PURE__ */ (0, import_jsx_runtime147.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime147.jsxs)("div", { className: "text-sm font-medium text-text-primary", children: [
            user.firstName,
            " ",
            user.lastName
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime147.jsx)("div", { className: "text-sm text-text-tertiary", children: user.email })
        ] })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime147.jsx)("td", { className: "px-6 py-4", children: getRoleBadge(user.role) }),
      /* @__PURE__ */ (0, import_jsx_runtime147.jsx)("td", { className: "px-6 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime147.jsx)("div", { className: "text-sm text-text-primary", children: user.outlet?.name || user.merchant?.name || "N/A" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime147.jsx)("td", { className: "px-6 py-4", children: getStatusBadge(user.isActive) }),
      /* @__PURE__ */ (0, import_jsx_runtime147.jsx)("td", { className: "px-6 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime147.jsx)("div", { className: "text-sm text-text-primary", children: formatDate11(user.createdAt) }) }),
      /* @__PURE__ */ (0, import_jsx_runtime147.jsx)("td", { className: "px-6 py-4 text-right", children: /* @__PURE__ */ (0, import_jsx_runtime147.jsxs)(DropdownMenu, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime147.jsx)(DropdownMenuTrigger, { asChild: true, children: /* @__PURE__ */ (0, import_jsx_runtime147.jsx)(
          Button,
          {
            variant: "ghost",
            size: "sm",
            onClick: () => setOpenDropdownId(openDropdownId === user.id ? null : user.id),
            children: /* @__PURE__ */ (0, import_jsx_runtime147.jsx)(import_lucide_react72.MoreVertical, { className: "h-4 w-4" })
          }
        ) }),
        /* @__PURE__ */ (0, import_jsx_runtime147.jsxs)(
          DropdownMenuContent,
          {
            align: "end",
            open: openDropdownId === user.id,
            onOpenChange: (open) => setOpenDropdownId(open ? user.id : null),
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime147.jsxs)(DropdownMenuItem, { onClick: () => {
                onUserAction("view", user.id);
                setOpenDropdownId(null);
              }, children: [
                /* @__PURE__ */ (0, import_jsx_runtime147.jsx)(import_lucide_react72.Eye, { className: "h-4 w-4 mr-2" }),
                "View Details"
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime147.jsxs)(DropdownMenuItem, { onClick: () => {
                onUserAction("edit", user.id);
                setOpenDropdownId(null);
              }, children: [
                /* @__PURE__ */ (0, import_jsx_runtime147.jsx)(import_lucide_react72.Edit, { className: "h-4 w-4 mr-2" }),
                "Edit User"
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime147.jsxs)(DropdownMenuItem, { onClick: () => {
                onUserAction(user.isActive ? "deactivate" : "activate", user.id);
                setOpenDropdownId(null);
              }, children: [
                user.isActive ? /* @__PURE__ */ (0, import_jsx_runtime147.jsx)(import_lucide_react72.UserX, { className: "h-4 w-4 mr-2" }) : /* @__PURE__ */ (0, import_jsx_runtime147.jsx)(import_lucide_react72.UserCheck, { className: "h-4 w-4 mr-2" }),
                user.isActive ? "Deactivate" : "Activate"
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime147.jsx)(DropdownMenuSeparator, {}),
              /* @__PURE__ */ (0, import_jsx_runtime147.jsxs)(
                DropdownMenuItem,
                {
                  onClick: () => {
                    onUserAction("delete", user.id);
                    setOpenDropdownId(null);
                  },
                  className: "text-action-danger focus:text-action-danger",
                  children: [
                    /* @__PURE__ */ (0, import_jsx_runtime147.jsx)(import_lucide_react72.Trash2, { className: "h-4 w-4 mr-2" }),
                    "Delete User"
                  ]
                }
              )
            ]
          }
        )
      ] }) })
    ] }, user.id)) })
  ] }) }) }) });
}

// src/components/features/Users/components/UsersLoading.tsx
var import_jsx_runtime148 = require("react/jsx-runtime");
function UsersLoading() {
  return /* @__PURE__ */ (0, import_jsx_runtime148.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime148.jsx)(StatsSkeleton, {}),
    /* @__PURE__ */ (0, import_jsx_runtime148.jsx)(SearchSkeleton, {}),
    /* @__PURE__ */ (0, import_jsx_runtime148.jsx)(TableSkeleton, { rows: 8, columns: 6 }),
    /* @__PURE__ */ (0, import_jsx_runtime148.jsx)(PaginationSkeleton, {})
  ] });
}

// src/components/features/Users/components/UserActions.tsx
var import_react77 = require("react");
var import_navigation6 = require("next/navigation");
var import_ui102 = require("@rentalshop/ui");

// src/components/features/Users/components/UserDetailDialog.tsx
var import_react76 = require("react");
var import_ui99 = require("@rentalshop/ui");
var import_ui100 = require("@rentalshop/ui");
var import_ui101 = require("@rentalshop/ui");

// src/components/features/Users/components/ChangePasswordDialog.tsx
var import_react75 = require("react");

// src/components/features/Users/lib/UserApiClient.ts
var import_utils35 = require("@rentalshop/utils");
var UserApiClient = class {
  constructor(baseUrl = "/api") {
    this.baseUrl = baseUrl;
  }
  async request(endpoint, options = {}) {
    const url = `${this.baseUrl}${endpoint}`;
    const token = (0, import_utils35.getAuthToken)() || "";
    const config = {
      headers: {
        "Content-Type": "application/json",
        "Authorization": `Bearer ${token}`,
        ...options.headers
      },
      ...options
    };
    try {
      const response = await fetch(url, config);
      if (!response.ok) {
        const errorData = await response.json().catch(() => ({}));
        throw new Error(errorData.message || `HTTP error! status: ${response.status}`);
      }
      return await response.json();
    } catch (error2) {
      console.error(`API request failed for ${endpoint}:`, error2);
      throw error2;
    }
  }
  async getUsers(filters = {}, options = {}) {
    const params = new URLSearchParams();
    if (filters.search)
      params.append("search", filters.search);
    if (filters.role)
      params.append("role", filters.role);
    if (filters.isActive !== void 0)
      params.append("isActive", filters.isActive.toString());
    if (options.page)
      params.append("page", options.page.toString());
    if (options.limit)
      params.append("limit", options.limit.toString());
    if (options.sortBy)
      params.append("sortBy", options.sortBy);
    if (options.sortOrder)
      params.append("sortOrder", options.sortOrder);
    const queryString = params.toString();
    const endpoint = `/users${queryString ? `?${queryString}` : ""}`;
    return this.request(endpoint);
  }
  async getUserById(userId) {
    return this.request(`/users/${userId}`);
  }
  async createUser(userData) {
    return this.request("/users", {
      method: "POST",
      body: JSON.stringify(userData)
    });
  }
  async updateUser(userId, userData) {
    return this.request(`/users/${userId}`, {
      method: "PUT",
      body: JSON.stringify(userData)
    });
  }
  async deactivateUser(userId) {
    return this.request(`/users/${userId}/deactivate`, {
      method: "PATCH",
      body: JSON.stringify({ isActive: false })
    });
  }
  async activateUser(userId) {
    return this.request(`/users/${userId}/activate`, {
      method: "PATCH",
      body: JSON.stringify({ isActive: true })
    });
  }
  async changePassword(userId, newPassword) {
    return this.request(`/users/${userId}/change-password`, {
      method: "PATCH",
      body: JSON.stringify({ newPassword })
    });
  }
  async deleteUser(userId) {
    return this.request(`/users/${userId}`, {
      method: "DELETE"
    });
  }
};
var userApiClient = new UserApiClient();

// src/components/features/Users/components/ChangePasswordDialog.tsx
var import_lucide_react73 = require("lucide-react");
var import_jsx_runtime149 = require("react/jsx-runtime");
var ChangePasswordDialog = ({
  open,
  onOpenChange,
  userId,
  userName,
  onSuccess,
  onError
}) => {
  const [formData, setFormData] = (0, import_react75.useState)({
    newPassword: "",
    confirmPassword: ""
  });
  const [errors, setErrors] = (0, import_react75.useState)({});
  const [isLoading, setIsLoading] = (0, import_react75.useState)(false);
  const [showPasswords, setShowPasswords] = (0, import_react75.useState)({
    new: false,
    confirm: false
  });
  const handleInputChange = (field, value) => {
    setFormData((prev) => ({ ...prev, [field]: value }));
    if (errors[field]) {
      setErrors((prev) => ({ ...prev, [field]: "" }));
    }
  };
  const togglePasswordVisibility = (field) => {
    setShowPasswords((prev) => ({ ...prev, [field]: !prev[field] }));
  };
  const validateForm = () => {
    const newErrors = {};
    if (!formData.newPassword.trim()) {
      newErrors.newPassword = "New password is required";
    } else if (formData.newPassword.length < 8) {
      newErrors.newPassword = "New password must be at least 8 characters long";
    }
    if (!formData.confirmPassword.trim()) {
      newErrors.confirmPassword = "Please confirm your new password";
    } else if (formData.newPassword !== formData.confirmPassword) {
      newErrors.confirmPassword = "Passwords do not match";
    }
    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };
  const handleSubmit = async (e) => {
    e.preventDefault();
    if (!validateForm()) {
      return;
    }
    setIsLoading(true);
    try {
      const response = await userApiClient.changePassword(
        userId,
        formData.newPassword
      );
      if (response.success) {
        onSuccess?.();
        onOpenChange(false);
        setFormData({
          newPassword: "",
          confirmPassword: ""
        });
        setErrors({});
      } else {
        onError?.(response.error || "Failed to change password");
      }
    } catch (error2) {
      const errorMessage = error2 instanceof Error ? error2.message : "An error occurred";
      onError?.(errorMessage);
    } finally {
      setIsLoading(false);
    }
  };
  const handleCancel = () => {
    onOpenChange(false);
    setFormData({
      newPassword: "",
      confirmPassword: ""
    });
    setErrors({});
  };
  return /* @__PURE__ */ (0, import_jsx_runtime149.jsx)(Dialog, { open, onOpenChange, children: /* @__PURE__ */ (0, import_jsx_runtime149.jsxs)(DialogContent, { className: "max-w-md", children: [
    /* @__PURE__ */ (0, import_jsx_runtime149.jsxs)(DialogHeader, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime149.jsx)(DialogTitle, { className: "text-xl font-semibold", children: "Change Password" }),
      /* @__PURE__ */ (0, import_jsx_runtime149.jsxs)(DialogDescription, { className: "text-sm text-gray-600 mt-1", children: [
        "Change password for user: ",
        /* @__PURE__ */ (0, import_jsx_runtime149.jsx)("span", { className: "font-medium", children: userName })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime149.jsxs)("form", { onSubmit: handleSubmit, children: [
      /* @__PURE__ */ (0, import_jsx_runtime149.jsxs)("div", { className: "mt-6 space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime149.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime149.jsx)(Label2, { htmlFor: "newPassword", children: "New Password *" }),
          /* @__PURE__ */ (0, import_jsx_runtime149.jsxs)("div", { className: "relative", children: [
            /* @__PURE__ */ (0, import_jsx_runtime149.jsx)(
              Input2,
              {
                id: "newPassword",
                type: showPasswords.new ? "text" : "password",
                value: formData.newPassword,
                onChange: (e) => handleInputChange("newPassword", e.target.value),
                placeholder: "Enter new password",
                className: errors.newPassword ? "border-red-500 pr-10" : "pr-10"
              }
            ),
            /* @__PURE__ */ (0, import_jsx_runtime149.jsx)(
              Button,
              {
                variant: "ghost",
                size: "icon",
                type: "button",
                onClick: () => togglePasswordVisibility("new"),
                className: "absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 h-6 w-6 p-0",
                children: showPasswords.new ? /* @__PURE__ */ (0, import_jsx_runtime149.jsx)(import_lucide_react73.EyeOff, { className: "h-4 w-4" }) : /* @__PURE__ */ (0, import_jsx_runtime149.jsx)(import_lucide_react73.Eye, { className: "h-4 w-4" })
              }
            )
          ] }),
          errors.newPassword && /* @__PURE__ */ (0, import_jsx_runtime149.jsx)("p", { className: "text-sm text-red-600", children: errors.newPassword }),
          /* @__PURE__ */ (0, import_jsx_runtime149.jsx)("p", { className: "text-xs text-gray-500", children: "Password must be at least 8 characters long" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime149.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime149.jsx)(Label2, { htmlFor: "confirmPassword", children: "Confirm New Password *" }),
          /* @__PURE__ */ (0, import_jsx_runtime149.jsxs)("div", { className: "relative", children: [
            /* @__PURE__ */ (0, import_jsx_runtime149.jsx)(
              Input2,
              {
                id: "confirmPassword",
                type: showPasswords.confirm ? "text" : "password",
                value: formData.confirmPassword,
                onChange: (e) => handleInputChange("confirmPassword", e.target.value),
                placeholder: "Confirm new password",
                className: errors.confirmPassword ? "border-red-500 pr-10" : "pr-10"
              }
            ),
            /* @__PURE__ */ (0, import_jsx_runtime149.jsx)(
              Button,
              {
                variant: "ghost",
                size: "icon",
                type: "button",
                onClick: () => togglePasswordVisibility("confirm"),
                className: "absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 h-6 w-6 p-0",
                children: showPasswords.confirm ? /* @__PURE__ */ (0, import_jsx_runtime149.jsx)(import_lucide_react73.EyeOff, { className: "h-4 w-4" }) : /* @__PURE__ */ (0, import_jsx_runtime149.jsx)(import_lucide_react73.Eye, { className: "h-4 w-4" })
              }
            )
          ] }),
          errors.confirmPassword && /* @__PURE__ */ (0, import_jsx_runtime149.jsx)("p", { className: "text-sm text-red-600", children: errors.confirmPassword })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime149.jsxs)(DialogFooter, { className: "flex justify-end space-x-2 mt-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime149.jsx)(
          Button,
          {
            type: "button",
            variant: "outline",
            onClick: handleCancel,
            disabled: isLoading,
            children: "Cancel"
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime149.jsx)(
          Button,
          {
            type: "submit",
            disabled: isLoading,
            className: "bg-blue-600 hover:bg-blue-700",
            children: isLoading ? "Changing..." : "Change Password"
          }
        )
      ] })
    ] })
  ] }) });
};

// src/components/features/Users/components/UserDisplayInfo.tsx
var import_ui98 = require("@rentalshop/ui");
var import_jsx_runtime150 = require("react/jsx-runtime");
var UserDisplayInfo = ({
  user,
  showActions = false,
  onEdit,
  onView,
  onDelete,
  onActivate,
  onDeactivate,
  onChangePassword,
  isLoading = false
}) => {
  const getRoleBadgeStyle = (role) => {
    switch (role) {
      case "ADMIN":
        return "bg-red-100 text-red-800 border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800";
      case "MERCHANT":
        return "bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/20 dark:text-blue-400 dark:border-blue-800";
      case "OUTLET_ADMIN":
        return "bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/20 dark:text-purple-400 dark:border-purple-800";
      case "OUTLET_STAFF":
        return "bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/20 dark:text-purple-400 dark:border-purple-800";
      case "CLIENT":
        return "bg-green-100 text-green-800 border-green-200 dark:bg-green-900/20 dark:text-green-400 dark:border-green-800";
      default:
        return "bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900/20 dark:text-gray-400 dark:border-gray-800";
    }
  };
  const getStatusBadgeStyle = (isActive) => {
    if (isActive) {
      return "bg-emerald-100 text-emerald-800 border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-800";
    } else {
      return "bg-red-100 text-red-800 border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800";
    }
  };
  const getRoleDisplayName = (role) => {
    switch (role) {
      case "ADMIN":
        return "Admin";
      case "MERCHANT":
        return "Merchant";
      case "OUTLET_ADMIN":
        return "Outlet Admin";
      case "OUTLET_STAFF":
        return "Outlet Staff";
      case "CLIENT":
        return "Client";
      default:
        return role;
    }
  };
  const getStatusDisplayName = (isActive) => {
    return isActive ? "Active" : "Inactive";
  };
  return /* @__PURE__ */ (0, import_jsx_runtime150.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime150.jsx)(import_ui98.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime150.jsxs)(import_ui98.CardContent, { className: "p-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime150.jsxs)("h3", { className: "text-lg font-medium text-gray-900 mb-4 flex items-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("span", { className: "w-2 h-2 bg-blue-500 rounded-full" }),
        "Personal Information"
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime150.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime150.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Full Name" }),
          /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("p", { className: "text-gray-900 text-base font-medium", children: `${user.firstName || ""} ${user.lastName || ""}`.trim() || "Not provided" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime150.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Email" }),
          /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("p", { className: "text-gray-900 text-base", children: user.email })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime150.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Phone" }),
          /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("p", { className: "text-gray-900 text-base", children: user.phone || "Not provided" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime150.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Role" }),
          /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("div", { className: `inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${getRoleBadgeStyle(user.role)}`, children: getRoleDisplayName(user.role) })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime150.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "Status" }),
          /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("div", { className: `inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${getStatusBadgeStyle(user.isActive)}`, children: getStatusDisplayName(user.isActive) })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime150.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-2", children: "User ID" }),
          /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("p", { className: "text-gray-500 text-sm font-mono", children: user.id })
        ] })
      ] })
    ] }) }),
    user.outlet && /* @__PURE__ */ (0, import_jsx_runtime150.jsx)(import_ui98.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime150.jsxs)(import_ui98.CardContent, { className: "p-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime150.jsxs)("h3", { className: "text-lg font-medium text-gray-900 mb-4 flex items-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("span", { className: "w-2 h-2 bg-green-500 rounded-full" }),
        "Outlet Information"
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("div", { className: "border rounded-lg p-4 bg-gray-50", children: /* @__PURE__ */ (0, import_jsx_runtime150.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime150.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: "Outlet Name" }),
          /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("p", { className: "text-gray-900 text-base", children: user.outlet.name })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime150.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: "Outlet ID" }),
          /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("p", { className: "text-gray-500 text-sm font-mono", children: user.outlet.id })
        ] }),
        user.outlet.merchant && /* @__PURE__ */ (0, import_jsx_runtime150.jsxs)(import_jsx_runtime150.Fragment, { children: [
          /* @__PURE__ */ (0, import_jsx_runtime150.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: "Merchant Name" }),
            /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("p", { className: "text-gray-900 text-base", children: user.outlet.merchant.name })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime150.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("label", { className: "block text-sm font-medium text-gray-700 mb-1", children: "Merchant ID" }),
            /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("p", { className: "text-gray-500 text-sm font-mono", children: user.outlet.merchant.id })
          ] })
        ] })
      ] }) })
    ] }) }),
    showActions && /* @__PURE__ */ (0, import_jsx_runtime150.jsx)(import_ui98.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime150.jsxs)(import_ui98.CardContent, { className: "p-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime150.jsxs)("h3", { className: "text-lg font-medium text-gray-900 mb-4 flex items-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("span", { className: "w-2 h-2 bg-orange-500 rounded-full" }),
        "Account Actions"
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime150.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-4", children: [
        onChangePassword && /* @__PURE__ */ (0, import_jsx_runtime150.jsxs)("div", { className: "space-y-3", children: [
          /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("h4", { className: "font-medium text-gray-900", children: "Password Management" }),
          /* @__PURE__ */ (0, import_jsx_runtime150.jsx)(
            import_ui98.Button,
            {
              variant: "outline",
              onClick: onChangePassword,
              className: "w-full flex items-center justify-start px-3 py-2 text-sm h-auto",
              disabled: isLoading,
              children: "\u{1F511} Change Password"
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("p", { className: "text-xs text-gray-500", children: "Allow users to change their password securely" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime150.jsxs)("div", { className: "space-y-3", children: [
          /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("h4", { className: "font-medium text-gray-900", children: "Account Status" }),
          user.isActive ? onDeactivate && /* @__PURE__ */ (0, import_jsx_runtime150.jsx)(
            import_ui98.Button,
            {
              variant: "outline",
              onClick: onDeactivate,
              className: "w-full flex items-center justify-start px-3 py-2 text-sm text-orange-600 border-orange-200 hover:bg-orange-50 h-auto",
              disabled: isLoading || user.role === "ADMIN",
              children: isLoading ? "\u23F3 Deactivating..." : "\u274C Deactivate Account"
            }
          ) : onActivate && /* @__PURE__ */ (0, import_jsx_runtime150.jsx)(
            import_ui98.Button,
            {
              variant: "outline",
              onClick: onActivate,
              className: "w-full flex items-center justify-start px-3 py-2 text-sm text-green-600 border-green-200 hover:bg-green-50 h-auto",
              disabled: isLoading,
              children: isLoading ? "\u23F3 Activating..." : "\u2705 Activate Account"
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("p", { className: "text-xs text-gray-500", children: user.isActive ? "Deactivate to prevent login access" : "Activate to restore login access" }),
          user.role === "ADMIN" && /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("div", { className: "flex items-center gap-2 text-xs text-amber-600 bg-amber-50 p-2 rounded", children: "\u26A0\uFE0F Admin accounts cannot be deactivated" })
        ] }),
        onDelete && /* @__PURE__ */ (0, import_jsx_runtime150.jsxs)("div", { className: "space-y-3", children: [
          /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("h4", { className: "font-medium text-gray-900", children: "Danger Zone" }),
          /* @__PURE__ */ (0, import_jsx_runtime150.jsx)(
            import_ui98.Button,
            {
              variant: "outline",
              onClick: onDelete,
              className: "w-full flex items-center justify-start px-3 py-2 text-sm text-red-600 border-red-200 hover:bg-red-50 h-auto",
              disabled: isLoading || user.role === "ADMIN",
              children: isLoading ? "\u23F3 Deleting..." : "\u{1F5D1}\uFE0F Delete Account"
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("p", { className: "text-xs text-gray-500", children: "Permanently delete this user account" }),
          user.role === "ADMIN" && /* @__PURE__ */ (0, import_jsx_runtime150.jsx)("div", { className: "flex items-center gap-2 text-xs text-amber-600 bg-amber-50 p-2 rounded", children: "\u26A0\uFE0F Admin accounts cannot be deleted" })
        ] })
      ] })
    ] }) })
  ] });
};

// src/components/features/Users/components/UserDetailDialog.tsx
var import_utils36 = require("@rentalshop/utils");
var import_jsx_runtime151 = require("react/jsx-runtime");
var UserDetailDialog = ({
  open,
  onOpenChange,
  user,
  onUserUpdated,
  onError
}) => {
  const [isChangePasswordOpen, setIsChangePasswordOpen] = (0, import_react76.useState)(false);
  const [isDeactivateConfirmOpen, setIsDeactivateConfirmOpen] = (0, import_react76.useState)(false);
  const [isActivateConfirmOpen, setIsActivateConfirmOpen] = (0, import_react76.useState)(false);
  const [isDeleteConfirmOpen, setIsDeleteConfirmOpen] = (0, import_react76.useState)(false);
  const [isLoading, setIsLoading] = (0, import_react76.useState)(false);
  if (!user)
    return null;
  const handleDeactivateUser = async () => {
    setIsLoading(true);
    try {
      const response = await import_utils36.usersApi.updateUserStatus(user.id, "inactive");
      if (response.success) {
        const updatedUser = { ...user, isActive: false };
        onUserUpdated?.(updatedUser);
        onOpenChange(false);
      } else {
        onError?.(response.error || "Failed to deactivate user");
      }
    } catch (error2) {
      const errorMessage = error2 instanceof Error ? error2.message : "An error occurred";
      onError?.(errorMessage);
    } finally {
      setIsLoading(false);
    }
  };
  const handleActivateUser = async () => {
    setIsLoading(true);
    try {
      const response = await import_utils36.usersApi.updateUserStatus(user.id, "active");
      if (response.success) {
        const updatedUser = { ...user, isActive: true };
        onUserUpdated?.(updatedUser);
        onOpenChange(false);
      } else {
        onError?.(response.error || "Failed to activate user");
      }
    } catch (error2) {
      const errorMessage = error2 instanceof Error ? error2.message : "An error occurred";
      onError?.(errorMessage);
    } finally {
      setIsLoading(false);
    }
  };
  const handlePasswordChangeSuccess = () => {
    console.log("Password changed successfully");
  };
  const handlePasswordChangeError = (error2) => {
    onError?.(error2);
  };
  const handleDeleteUser = async () => {
    setIsLoading(true);
    try {
      const response = await import_utils36.usersApi.deleteUserByPublicId(user.id);
      if (response.success) {
        onOpenChange(false);
        onUserUpdated?.(user);
      } else {
        onError?.(response.error || "Failed to delete user");
      }
    } catch (error2) {
      const errorMessage = error2 instanceof Error ? error2.message : "An error occurred";
      onError?.(errorMessage);
    } finally {
      setIsLoading(false);
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime151.jsxs)(import_jsx_runtime151.Fragment, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime151.jsx)(import_ui99.Dialog, { open, onOpenChange, children: /* @__PURE__ */ (0, import_jsx_runtime151.jsxs)(import_ui99.DialogContent, { className: "max-w-4xl max-h-[90vh] overflow-y-auto", children: [
      /* @__PURE__ */ (0, import_jsx_runtime151.jsx)(import_ui99.DialogHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime151.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime151.jsx)(import_ui99.DialogTitle, { className: "text-xl font-semibold", children: "User Details" }),
        /* @__PURE__ */ (0, import_jsx_runtime151.jsx)(import_ui99.DialogDescription, { className: "text-sm text-gray-600 mt-1", children: "View user information and details" })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime151.jsx)("div", { className: "mt-6", children: /* @__PURE__ */ (0, import_jsx_runtime151.jsx)(
        UserDisplayInfo,
        {
          user,
          showActions: true,
          onChangePassword: () => setIsChangePasswordOpen(true),
          onActivate: () => setIsActivateConfirmOpen(true),
          onDeactivate: () => setIsDeactivateConfirmOpen(true),
          onDelete: () => setIsDeleteConfirmOpen(true),
          isLoading
        }
      ) }),
      /* @__PURE__ */ (0, import_jsx_runtime151.jsx)(import_ui99.DialogFooter, { className: "flex justify-end space-x-2", children: /* @__PURE__ */ (0, import_jsx_runtime151.jsx)(
        import_ui100.Button,
        {
          variant: "outline",
          onClick: () => onOpenChange(false),
          children: "Close"
        }
      ) })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime151.jsx)(
      ChangePasswordDialog,
      {
        open: isChangePasswordOpen,
        onOpenChange: setIsChangePasswordOpen,
        userId: user.id,
        userName: `${user.firstName || ""} ${user.lastName || ""}`.trim(),
        onSuccess: handlePasswordChangeSuccess,
        onError: handlePasswordChangeError
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime151.jsx)(
      import_ui101.ConfirmationDialog,
      {
        open: isDeactivateConfirmOpen,
        onOpenChange: setIsDeactivateConfirmOpen,
        type: "warning",
        title: "Deactivate User Account",
        description: `Are you sure you want to deactivate ${`${user.firstName || ""} ${user.lastName || ""}`.trim()}? This will prevent them from logging in to the system.`,
        confirmText: "Deactivate Account",
        cancelText: "Cancel",
        onConfirm: handleDeactivateUser
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime151.jsx)(
      import_ui101.ConfirmationDialog,
      {
        open: isActivateConfirmOpen,
        onOpenChange: setIsActivateConfirmOpen,
        type: "info",
        title: "Activate User Account",
        description: `Are you sure you want to activate ${`${user.firstName || ""} ${user.lastName || ""}`.trim()}? This will allow them to log in to the system again.`,
        confirmText: "Activate Account",
        cancelText: "Cancel",
        onConfirm: handleActivateUser
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime151.jsx)(
      import_ui101.ConfirmationDialog,
      {
        open: isDeleteConfirmOpen,
        onOpenChange: setIsDeleteConfirmOpen,
        type: "danger",
        title: "Delete User Account",
        description: `Are you sure you want to permanently delete ${`${user.firstName || ""} ${user.lastName || ""}`.trim()}? This action cannot be undone and will remove all user data.`,
        confirmText: "Delete Account",
        cancelText: "Cancel",
        onConfirm: handleDeleteUser
      }
    )
  ] });
};

// src/components/features/Users/components/UserActions.tsx
var import_jsx_runtime152 = require("react/jsx-runtime");
function UserActions({
  onAction,
  onUserCreated,
  onUserUpdated,
  onError,
  onSuccess
}) {
  const router = (0, import_navigation6.useRouter)();
  const [isViewDialogOpen, setIsViewDialogOpen] = (0, import_react77.useState)(false);
  const [isDeactivateDialogOpen, setIsDeactivateDialogOpen] = (0, import_react77.useState)(false);
  const [selectedUser, setSelectedUser] = (0, import_react77.useState)(null);
  const [userToDeactivate, setUserToDeactivate] = (0, import_react77.useState)(null);
  (0, import_react77.useEffect)(() => {
    const handleUserAction = (event) => {
      const { action, userId, user } = event.detail;
      console.log("\u{1F50D} UserActions: Event received:", { action, userId, user });
      if (action === "view" && user) {
        console.log("\u{1F50D} UserActions: Handling view action for user:", user);
        setSelectedUser(user);
        setIsViewDialogOpen(true);
      } else if (action === "edit" && user) {
        console.log("\u{1F50D} UserActions: Handling edit action for user:", user);
        console.log("\u{1F50D} User id:", user.id, "type:", typeof user.id);
        console.log("\u{1F50D} Full user object:", user);
        handleAction("edit", user);
      } else if (action === "deactivate" && user) {
        console.log("\u{1F50D} UserActions: Handling deactivate action for user:", user);
        setUserToDeactivate(user);
        setIsDeactivateDialogOpen(true);
      }
    };
    window.addEventListener("user-action", handleUserAction);
    return () => window.removeEventListener("user-action", handleUserAction);
  }, [router]);
  const handleViewDialogClose = () => {
    setIsViewDialogOpen(false);
    setSelectedUser(null);
  };
  const handleDeactivateDialogClose = () => {
    setIsDeactivateDialogOpen(false);
    setUserToDeactivate(null);
  };
  const handleConfirmDeactivate = () => {
    if (userToDeactivate) {
      onAction("deactivate", userToDeactivate.id);
      handleDeactivateDialogClose();
    }
  };
  const handleSaveUser = async (userData) => {
    console.log("\u{1F50D} UserActions: handleSaveUser called but no longer used");
  };
  const handleCreateUser = async (userData) => {
    console.log("\u{1F50D} UserActions: handleCreateUser called but no longer used");
  };
  const handleAction = (action, user) => {
    console.log("\u{1F50D} UserActions: Action triggered:", { action, userId: user.id });
    switch (action) {
      case "edit":
        console.log("\u{1F50D} UserActions: Edit action - checking id:", {
          id: user.id,
          type: typeof user.id,
          isValid: user.id && typeof user.id === "number"
        });
        if (user.id && typeof user.id === "number") {
          const formattedId = `USER-${user.id.toString().padStart(4, "0")}`;
          console.log("\u{1F50D} UserActions: Navigating to user page:", formattedId);
          console.log("\u{1F50D} Full URL:", `/users/${formattedId}`);
          router.push(`/users/${formattedId}`);
        } else {
          console.error("\u274C UserActions: No valid id available for user:", user);
          console.error("\u274C User data:", user);
          onError?.("Cannot edit user: Missing or invalid id");
        }
        break;
      case "add":
        console.log("\u{1F50D} UserActions: Navigating to add user");
        router.push("/users/add");
        break;
      default:
        console.warn("\u26A0\uFE0F UserActions: Unknown action:", action);
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime152.jsxs)(import_jsx_runtime152.Fragment, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime152.jsx)(
      UserDetailDialog,
      {
        open: isViewDialogOpen,
        onOpenChange: setIsViewDialogOpen,
        user: selectedUser,
        onUserUpdated,
        onError
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime152.jsx)(
      import_ui102.ConfirmationDialog,
      {
        open: isDeactivateDialogOpen,
        onOpenChange: setIsDeactivateDialogOpen,
        type: "warning",
        title: "Deactivate User",
        description: `Are you sure you want to deactivate ${userToDeactivate?.name}? This action will prevent them from accessing the system.`,
        confirmText: "Deactivate",
        cancelText: "Cancel",
        onConfirm: handleConfirmDeactivate
      }
    )
  ] });
}

// src/components/features/Users/components/AddUserDialog.tsx
var import_react80 = require("react");

// src/components/features/Users/components/UserForm.tsx
var import_react79 = require("react");
var import_lucide_react75 = require("lucide-react");

// src/components/features/Users/components/UserFormFields.tsx
var import_react78 = require("react");
var import_lucide_react74 = require("lucide-react");
var import_jsx_runtime153 = require("react/jsx-runtime");
var FormField = ({
  id,
  label,
  value,
  onChange,
  error: error2,
  disabled = false,
  required = false,
  placeholder,
  type = "text",
  showPasswordToggle = false
}) => {
  const [showPassword, setShowPassword] = (0, import_react78.useState)(false);
  const inputType = type === "password" && showPassword ? "text" : type;
  return /* @__PURE__ */ (0, import_jsx_runtime153.jsxs)("div", { className: "space-y-2", children: [
    /* @__PURE__ */ (0, import_jsx_runtime153.jsxs)(Label2, { htmlFor: id, children: [
      label,
      " ",
      required && "*"
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime153.jsxs)("div", { className: "relative", children: [
      /* @__PURE__ */ (0, import_jsx_runtime153.jsx)(
        Input2,
        {
          id,
          type: inputType,
          value,
          onChange: (e) => onChange(e.target.value),
          placeholder,
          className: error2 ? "border-red-500 focus:border-red-500 focus:ring-red-500" : "",
          disabled,
          required
        }
      ),
      showPasswordToggle && type === "password" && /* @__PURE__ */ (0, import_jsx_runtime153.jsx)(
        Button,
        {
          variant: "ghost",
          size: "icon",
          type: "button",
          onClick: () => setShowPassword(!showPassword),
          className: "absolute right-3 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0",
          disabled,
          children: showPassword ? /* @__PURE__ */ (0, import_jsx_runtime153.jsx)(import_lucide_react74.EyeOff, { className: "h-4 w-4" }) : /* @__PURE__ */ (0, import_jsx_runtime153.jsx)(import_lucide_react74.Eye, { className: "h-4 w-4" })
        }
      )
    ] }),
    error2 && /* @__PURE__ */ (0, import_jsx_runtime153.jsx)("p", { className: "text-sm text-red-600", children: error2 })
  ] });
};
var RoleSelect = ({
  value,
  onChange,
  error: error2,
  disabled = false,
  currentUserRole
}) => {
  console.log("\u{1F50D} RoleSelect: Current value:", value, "Type:", typeof value);
  console.log("\u{1F50D} RoleSelect: Current user role:", currentUserRole);
  console.log("\u{1F50D} RoleSelect: Available roles for current user:", currentUserRole === "ADMIN" ? ["ADMIN", "MERCHANT", "OUTLET_ADMIN", "OUTLET_STAFF"] : ["OUTLET_ADMIN", "OUTLET_STAFF"]);
  return /* @__PURE__ */ (0, import_jsx_runtime153.jsxs)("div", { className: "space-y-2", children: [
    /* @__PURE__ */ (0, import_jsx_runtime153.jsx)(Label2, { htmlFor: "role", children: "Role *" }),
    /* @__PURE__ */ (0, import_jsx_runtime153.jsxs)(
      Select2,
      {
        value: value || void 0,
        onValueChange: onChange,
        disabled,
        children: [
          /* @__PURE__ */ (0, import_jsx_runtime153.jsx)(SelectTrigger2, { className: error2 ? "border-red-500 focus:border-red-500 focus:ring-red-500" : "", children: /* @__PURE__ */ (0, import_jsx_runtime153.jsx)(SelectValue2, { placeholder: value ? `Current: ${value}` : "Select role" }) }),
          /* @__PURE__ */ (0, import_jsx_runtime153.jsxs)(SelectContent2, { children: [
            currentUserRole === "ADMIN" && /* @__PURE__ */ (0, import_jsx_runtime153.jsxs)(import_jsx_runtime153.Fragment, { children: [
              /* @__PURE__ */ (0, import_jsx_runtime153.jsx)(SelectItem2, { value: "ADMIN", children: "System Admin" }),
              /* @__PURE__ */ (0, import_jsx_runtime153.jsx)(SelectItem2, { value: "MERCHANT", children: "Merchant" })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime153.jsx)(SelectItem2, { value: "OUTLET_ADMIN", children: "Outlet Admin" }),
            /* @__PURE__ */ (0, import_jsx_runtime153.jsx)(SelectItem2, { value: "OUTLET_STAFF", children: "Outlet Staff" })
          ] })
        ]
      }
    ),
    error2 && /* @__PURE__ */ (0, import_jsx_runtime153.jsx)("p", { className: "text-sm text-red-600", children: error2 })
  ] });
};
var MerchantSelect = ({
  value,
  onChange,
  merchants,
  loading,
  error: error2,
  disabled = false,
  canSelect,
  currentUser
}) => {
  return /* @__PURE__ */ (0, import_jsx_runtime153.jsxs)("div", { className: "space-y-2", children: [
    /* @__PURE__ */ (0, import_jsx_runtime153.jsxs)(Label2, { htmlFor: "merchant", className: "flex items-center gap-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime153.jsx)(import_lucide_react74.Building2, { className: "w-4 h-4" }),
      "Merchant ",
      canSelect ? "*" : "(Read-only)"
    ] }),
    canSelect ? /* @__PURE__ */ (0, import_jsx_runtime153.jsx)(
      SearchableSelect,
      {
        value: value ? Number(value) : void 0,
        onChange: (val) => onChange(val.toString()),
        options: merchants.map((merchant) => ({
          value: merchant.id.toString(),
          label: merchant.name
        })),
        placeholder: loading ? "Loading merchants..." : "Search and select merchant",
        searchPlaceholder: "Search merchants...",
        emptyText: "No merchants found",
        className: error2 ? "border-red-500 focus:border-red-500 focus:ring-red-500" : ""
      },
      `merchant-${merchants.length}`
    ) : /* @__PURE__ */ (0, import_jsx_runtime153.jsx)(
      Input2,
      {
        value: currentUser?.merchant?.name || "",
        disabled: true,
        className: "bg-gray-50 text-gray-600 cursor-not-allowed",
        placeholder: "Current merchant"
      }
    ),
    error2 && /* @__PURE__ */ (0, import_jsx_runtime153.jsx)("p", { className: "text-sm text-red-600", children: error2 })
  ] });
};
var OutletSelect = ({
  value,
  onChange,
  outlets,
  loading,
  error: error2,
  disabled = false,
  canSelect,
  canSelectMerchant,
  merchantId,
  currentUser
}) => {
  return /* @__PURE__ */ (0, import_jsx_runtime153.jsxs)("div", { className: "space-y-2", children: [
    /* @__PURE__ */ (0, import_jsx_runtime153.jsxs)(Label2, { htmlFor: "outlet", className: "flex items-center gap-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime153.jsx)(import_lucide_react74.Store, { className: "w-4 h-4" }),
      "Outlet ",
      canSelect ? "*" : "(Read-only)"
    ] }),
    canSelect ? /* @__PURE__ */ (0, import_jsx_runtime153.jsx)(
      SearchableSelect,
      {
        value: value ? Number(value) : void 0,
        onChange: (val) => onChange(val.toString()),
        options: outlets.map((outlet) => ({
          value: outlet.id.toString(),
          label: outlet.name
        })),
        placeholder: loading ? "Loading outlets..." : !merchantId && canSelectMerchant ? "Select merchant first" : "Search and select outlet",
        searchPlaceholder: "Search outlets...",
        emptyText: "No outlets found",
        className: error2 ? "border-red-500 focus:border-red-500 focus:ring-red-500" : ""
      },
      `outlet-${outlets.length}-${merchantId}`
    ) : /* @__PURE__ */ (0, import_jsx_runtime153.jsx)(
      Input2,
      {
        value: currentUser?.outlet?.name || "",
        disabled: true,
        className: "bg-gray-50 text-gray-600 cursor-not-allowed",
        placeholder: "Current outlet"
      }
    ),
    error2 && /* @__PURE__ */ (0, import_jsx_runtime153.jsx)("p", { className: "text-sm text-red-600", children: error2 })
  ] });
};

// src/components/features/Users/components/UserFormValidation.ts
var validateEmail = (email) => {
  if (!email.trim()) {
    return "Email is required";
  }
  if (!/\S+@\S+\.\S+/.test(email)) {
    return "Email is invalid";
  }
  return null;
};
var validatePhone = (phone) => {
  if (!phone.trim()) {
    return "Phone number is required";
  }
  const digitsOnly = phone.replace(/\D/g, "");
  if (digitsOnly.length < 8) {
    return "Phone number must be at least 8 digits";
  }
  if (digitsOnly.length > 15) {
    return "Phone number must be less than 16 digits";
  }
  const phoneRegex = /^[\+]?[0-9\s\-\(\)]+$/;
  if (!phoneRegex.test(phone.trim())) {
    return "Phone number contains invalid characters";
  }
  return null;
};
var validateName = (name, fieldName = "Name") => {
  if (!name.trim()) {
    return `${fieldName} is required`;
  }
  if (name.trim().length < 2) {
    return `${fieldName} must be at least 2 characters`;
  }
  return null;
};
var validatePassword = (password) => {
  if (!password) {
    return "Password is required";
  }
  if (password.length < 6) {
    return "Password must be at least 6 characters";
  }
  return null;
};
var validateConfirmPassword = (password, confirmPassword) => {
  if (password && password !== confirmPassword) {
    return "Passwords do not match";
  }
  return null;
};
var validateUserCreateInput = (data) => {
  const errors = {};
  console.log("\u{1F50D} UserFormValidation: Validating create input:", data);
  const nameParts = data.name?.trim().split(" ") || [];
  const firstName = nameParts[0] || "";
  const lastName = nameParts.slice(1).join(" ") || "";
  console.log("\u{1F50D} UserFormValidation: Name parts:", { firstName, lastName });
  const firstNameError = validateName(firstName, "First name");
  if (firstNameError)
    errors.firstName = firstNameError;
  const lastNameError = lastName ? validateName(lastName, "Last name") : null;
  if (lastNameError)
    errors.lastName = lastNameError;
  const emailError = validateEmail(data.email || "");
  if (emailError)
    errors.email = emailError;
  const phoneError = validatePhone(data.phone || "");
  if (phoneError)
    errors.phone = phoneError;
  if (!data.role) {
    errors.role = "Role is required";
  }
  if (data.role) {
    if (data.role === "ADMIN") {
    } else if (data.role === "MERCHANT") {
      if (!data.merchantId) {
        errors.merchantId = "Merchant is required for this role";
      }
      if (data.outletId) {
        errors.outletId = "Outlet should not be selected for merchant role";
      }
    } else if (data.role === "OUTLET_ADMIN" || data.role === "OUTLET_STAFF") {
      if (!data.merchantId) {
        errors.merchantId = "Merchant is required for this role";
      }
      if (!data.outletId) {
        errors.outletId = "Outlet is required for this role";
      }
    }
  }
  const passwordError = validatePassword(data.password || "");
  if (passwordError)
    errors.password = passwordError;
  const confirmPasswordError = validateConfirmPassword(data.password || "", data.confirmPassword || "");
  if (confirmPasswordError)
    errors.confirmPassword = confirmPasswordError;
  console.log("\u{1F50D} UserFormValidation: Validation errors:", errors);
  return errors;
};
var validateUserUpdateInput = (data) => {
  const errors = {};
  console.log("\u{1F50D} UserFormValidation: Validating update input:", data);
  const firstNameError = validateName(data.firstName || "", "First name");
  if (firstNameError)
    errors.firstName = firstNameError;
  const lastNameError = validateName(data.lastName || "", "Last name");
  if (lastNameError)
    errors.lastName = lastNameError;
  const emailError = validateEmail(data.email || "");
  if (emailError)
    errors.email = emailError;
  const phoneError = validatePhone(data.phone || "");
  if (phoneError)
    errors.phone = phoneError;
  if (!data.role) {
    errors.role = "Role is required";
  }
  if (data.role) {
    if (data.role === "ADMIN") {
    } else if (data.role === "MERCHANT") {
      if (!data.merchantId) {
        errors.merchantId = "Merchant is required for this role";
      }
      if (data.outletId) {
        errors.outletId = "Outlet should not be selected for merchant role";
      }
    } else if (data.role === "OUTLET_ADMIN" || data.role === "OUTLET_STAFF") {
      if (!data.merchantId) {
        errors.merchantId = "Merchant is required for this role";
      }
      if (!data.outletId) {
        errors.outletId = "Outlet is required for this role";
      }
    }
  }
  console.log("\u{1F50D} UserFormValidation: Update validation errors:", errors);
  return errors;
};

// src/components/features/Users/components/UserForm.tsx
var import_utils37 = require("@rentalshop/utils");
var import_jsx_runtime154 = require("react/jsx-runtime");
var UserForm = ({
  mode,
  user,
  onSave,
  onCancel,
  isSubmitting: externalIsSubmitting,
  currentUser
}) => {
  const isEditMode = mode === "edit";
  const [formData, setFormData] = (0, import_react79.useState)(() => {
    console.log("\u{1F50D} UserForm: Initial state setup - isEditMode:", isEditMode, "user:", user);
    if (isEditMode && user) {
      const initialData = {
        firstName: user.firstName || "",
        lastName: user.lastName || "",
        email: user.email || "",
        phone: user.phone || "",
        // ✅ ADD MISSING FIELDS
        role: user.role || "OUTLET_STAFF",
        merchantId: user.merchantId?.toString() || "",
        outletId: user.outletId?.toString() || ""
      };
      console.log("\u{1F50D} UserForm: Initial formData (edit mode):", initialData);
      return initialData;
    } else {
      const initialData = {
        name: "",
        email: "",
        phone: "",
        role: "OUTLET_STAFF",
        // Default to OUTLET_STAFF for safety
        isActive: true,
        password: "",
        confirmPassword: "",
        merchantId: "",
        outletId: ""
      };
      console.log("\u{1F50D} UserForm: Initial formData (create mode):", initialData);
      return initialData;
    }
  });
  const [errors, setErrors] = (0, import_react79.useState)({});
  const [internalIsSubmitting, setInternalIsSubmitting] = (0, import_react79.useState)(false);
  const [merchants, setMerchants] = (0, import_react79.useState)([]);
  const [outlets, setOutlets] = (0, import_react79.useState)([]);
  const [loadingMerchants, setLoadingMerchants] = (0, import_react79.useState)(false);
  const [loadingOutlets, setLoadingOutlets] = (0, import_react79.useState)(false);
  const isSubmitting = externalIsSubmitting !== void 0 ? externalIsSubmitting : internalIsSubmitting;
  const canSelectMerchant = currentUser?.role === "ADMIN";
  const canSelectOutlet = currentUser?.role === "ADMIN" || currentUser?.role === "MERCHANT";
  const showMerchantField = currentUser?.role === "ADMIN" || currentUser?.role === "MERCHANT" || currentUser?.role === "OUTLET_ADMIN" || currentUser?.role === "OUTLET_STAFF";
  const showOutletField = currentUser?.role === "ADMIN" || currentUser?.role === "MERCHANT" || currentUser?.role === "OUTLET_ADMIN" || currentUser?.role === "OUTLET_STAFF";
  (0, import_react79.useEffect)(() => {
    if (isEditMode && user) {
      console.log("\u{1F50D} UserForm: User object for edit:", user);
      console.log("\u{1F50D} UserForm: User role:", user.role, "Type:", typeof user.role);
      console.log("\u{1F50D} UserForm: User merchantId:", user.merchantId, "Type:", typeof user.merchantId);
      console.log("\u{1F50D} UserForm: User outletId:", user.outletId, "Type:", typeof user.outletId);
      const userRole = user.role;
      const validRoles = ["ADMIN", "MERCHANT", "OUTLET_ADMIN", "OUTLET_STAFF"];
      const role = validRoles.includes(userRole) ? userRole : "OUTLET_STAFF";
      const formData2 = {
        firstName: user.firstName || "",
        lastName: user.lastName || "",
        email: user.email || "",
        phone: user.phone || "",
        role,
        merchantId: user.merchantId?.toString() || "",
        outletId: user.outletId?.toString() || ""
      };
      console.log("\u{1F50D} UserForm: About to set formData:", formData2);
      console.log("\u{1F50D} UserForm: formData.role:", formData2.role, "Type:", typeof formData2.role);
      setFormData(formData2);
      setErrors({});
      console.log("\u{1F50D} UserForm: Auto-filled edit form with user data:", user);
      console.log("\u{1F50D} UserForm: Final role set:", formData2.role);
    }
  }, [user, isEditMode]);
  (0, import_react79.useEffect)(() => {
    if (!isEditMode && currentUser) {
      const updates = {};
      const userMerchantId = currentUser.merchantId || currentUser.merchant?.id;
      if (!canSelectMerchant && userMerchantId) {
        updates.merchantId = userMerchantId.toString();
      }
      const userOutletId = currentUser.outletId || currentUser.outlet?.id;
      if (!canSelectOutlet && userOutletId) {
        updates.outletId = userOutletId.toString();
      }
      if (Object.keys(updates).length > 0) {
        setFormData((prev) => ({ ...prev, ...updates }));
      }
    }
  }, [currentUser, canSelectMerchant, canSelectOutlet, isEditMode]);
  (0, import_react79.useEffect)(() => {
    if (!isEditMode && canSelectMerchant) {
      setLoadingMerchants(true);
      import_utils37.merchantsApi.getMerchants().then((response) => {
        if (response.success && response.data) {
          setMerchants(response.data.merchants || []);
        }
      }).catch((error2) => {
        console.error("Error loading merchants:", error2);
      }).finally(() => {
        setLoadingMerchants(false);
      });
    } else if (!isEditMode && currentUser?.merchantId || currentUser?.merchant?.id) {
      const userMerchantId = currentUser.merchantId || currentUser.merchant?.id;
      setMerchants([{
        id: userMerchantId,
        name: currentUser.merchant?.name || "Current Merchant"
      }]);
      setFormData((prev) => ({ ...prev, merchantId: userMerchantId?.toString() || "" }));
    }
  }, [canSelectMerchant, currentUser, isEditMode]);
  (0, import_react79.useEffect)(() => {
    if (!isEditMode && canSelectOutlet) {
      setLoadingOutlets(true);
      const merchantId = canSelectMerchant ? formData.merchantId : currentUser?.merchantId || currentUser?.merchant?.id;
      console.log("\u{1F50D} UserForm: Loading outlets for merchantId:", merchantId, "canSelectMerchant:", canSelectMerchant);
      if (merchantId) {
        import_utils37.outletsApi.getOutletsByMerchant(Number(merchantId)).then((response) => {
          console.log("\u{1F50D} UserForm: Outlets API response:", response);
          if (response.success && response.data) {
            const outletsData = response.data.outlets || response.data || [];
            console.log("\u{1F50D} UserForm: Setting outlets:", outletsData);
            setOutlets(outletsData);
          } else {
            console.warn("\u{1F50D} UserForm: No outlets data in response:", response);
            setOutlets([]);
          }
        }).catch((error2) => {
          console.error("\u{1F50D} UserForm: Error loading outlets:", error2);
          setOutlets([]);
        }).finally(() => {
          setLoadingOutlets(false);
        });
      } else {
        console.log("\u{1F50D} UserForm: No merchantId, clearing outlets");
        setOutlets([]);
        setLoadingOutlets(false);
      }
    } else if (!isEditMode && currentUser?.outletId) {
      console.log("\u{1F50D} UserForm: Setting single outlet for current user:", currentUser.outletId);
      setOutlets([{
        id: currentUser.outletId,
        name: currentUser.outlet?.name || "Current Outlet"
      }]);
      setFormData((prev) => ({ ...prev, outletId: currentUser.outletId?.toString() || "" }));
    }
  }, [canSelectOutlet, canSelectMerchant, formData.merchantId, currentUser?.merchantId, currentUser?.outletId, isEditMode]);
  (0, import_react79.useEffect)(() => {
    if (!isEditMode && canSelectMerchant && formData.merchantId) {
      console.log("\u{1F50D} UserForm: Merchant changed, resetting outlet and reloading outlets");
      setFormData((prev) => ({ ...prev, outletId: "" }));
      setLoadingOutlets(true);
      import_utils37.outletsApi.getOutletsByMerchant(Number(formData.merchantId)).then((response) => {
        console.log("\u{1F50D} UserForm: Reloading outlets for new merchant:", response);
        if (response.success && response.data) {
          const outletsData = response.data.outlets || response.data || [];
          setOutlets(outletsData);
        } else {
          setOutlets([]);
        }
      }).catch((error2) => {
        console.error("\u{1F50D} UserForm: Error reloading outlets:", error2);
        setOutlets([]);
      }).finally(() => {
        setLoadingOutlets(false);
      });
    }
  }, [formData.merchantId, canSelectMerchant, isEditMode]);
  const handleInputChange = (field, value) => {
    console.log("\u{1F50D} UserForm: Input changed:", { field, value });
    setFormData((prev) => ({ ...prev, [field]: value }));
    if (errors[field]) {
      setErrors((prev) => ({ ...prev, [field]: "" }));
    }
  };
  const validateForm = () => {
    let newErrors;
    if (isEditMode) {
      newErrors = validateUserUpdateInput(formData);
    } else {
      newErrors = validateUserCreateInput(formData);
    }
    console.log("\u{1F50D} UserForm: Validation errors:", newErrors);
    console.log("\u{1F50D} UserForm: Form data being validated:", formData);
    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };
  const handleSubmit = async (e) => {
    e.preventDefault();
    console.log("\u{1F50D} UserForm: Form submitted, validating...");
    if (!validateForm()) {
      return;
    }
    if (!externalIsSubmitting) {
      setInternalIsSubmitting(true);
    }
    try {
      let submitData;
      if (isEditMode) {
        const updateData = formData;
        submitData = {
          id: user?.id || 0,
          firstName: updateData.firstName.trim(),
          lastName: updateData.lastName.trim(),
          email: updateData.email.trim().toLowerCase(),
          phone: updateData.phone.trim(),
          role: updateData.role,
          merchantId: updateData.merchantId ? Number(updateData.merchantId) : void 0,
          outletId: updateData.outletId ? Number(updateData.outletId) : void 0
        };
      } else {
        const createData = formData;
        submitData = {
          firstName: createData.name.trim().split(" ")[0] || "",
          lastName: createData.name.trim().split(" ").slice(1).join(" ") || "",
          email: createData.email.trim().toLowerCase(),
          phone: createData.phone.trim(),
          role: createData.role,
          password: createData.password,
          merchantId: createData.merchantId ? Number(createData.merchantId) : void 0,
          outletId: createData.outletId ? Number(createData.outletId) : void 0
        };
      }
      console.log("\u{1F50D} UserForm: About to call onSave with data:", submitData);
      console.log("\u{1F50D} UserForm: Submit data type:", isEditMode ? "UserUpdateInput" : "UserCreateInput");
      console.log("\u{1F50D} UserForm: Submit data keys:", Object.keys(submitData));
      await onSave(submitData);
      console.log("\u2705 UserForm: User operation completed successfully");
    } catch (error2) {
      console.error("\u274C UserForm: Error in user operation:", error2);
    } finally {
      if (!externalIsSubmitting) {
        setInternalIsSubmitting(false);
      }
    }
  };
  const handleCancel = () => {
    console.log("\u{1F50D} UserForm: Cancel button clicked");
    if (onCancel) {
      onCancel();
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)("form", { onSubmit: handleSubmit, className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime154.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)(CardContent2, { className: "p-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)("h3", { className: "text-lg font-medium text-gray-900 mb-4 flex items-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime154.jsx)("span", { className: "w-2 h-2 bg-blue-500 rounded-full" }),
        isEditMode ? "Basic Information" : "Personal Information"
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
        isEditMode ? /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)(import_jsx_runtime154.Fragment, { children: [
          /* @__PURE__ */ (0, import_jsx_runtime154.jsx)(
            FormField,
            {
              id: "firstName",
              label: "First Name",
              value: formData.firstName,
              onChange: (value) => handleInputChange("firstName", value),
              error: errors.firstName,
              disabled: isSubmitting,
              required: true,
              placeholder: "Enter first name"
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime154.jsx)(
            FormField,
            {
              id: "lastName",
              label: "Last Name",
              value: formData.lastName,
              onChange: (value) => handleInputChange("lastName", value),
              error: errors.lastName,
              disabled: isSubmitting,
              required: true,
              placeholder: "Enter last name"
            }
          )
        ] }) : /* @__PURE__ */ (0, import_jsx_runtime154.jsx)(
          FormField,
          {
            id: "name",
            label: "Full Name",
            value: formData.name,
            onChange: (value) => handleInputChange("name", value),
            error: errors.name,
            disabled: isSubmitting,
            required: true,
            placeholder: "Enter full name"
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime154.jsx)(
          FormField,
          {
            id: "email",
            label: "Email",
            value: formData.email,
            onChange: (value) => handleInputChange("email", value),
            error: errors.email,
            disabled: isSubmitting,
            required: true,
            type: "email",
            placeholder: "Enter email address"
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime154.jsx)(
          FormField,
          {
            id: "phone",
            label: "Phone",
            value: formData.phone,
            onChange: (value) => handleInputChange("phone", value),
            error: errors.phone,
            disabled: isSubmitting,
            required: true,
            placeholder: "Enter phone number (numbers only)"
          }
        ),
        console.log("\u{1F50D} UserForm: RoleSelect value:", formData.role, "FormData:", formData),
        /* @__PURE__ */ (0, import_jsx_runtime154.jsx)(
          RoleSelect,
          {
            value: formData.role,
            onChange: (value) => {
              console.log("\u{1F50D} UserForm: Role changed to:", value);
              handleInputChange("role", value);
            },
            error: errors.role,
            disabled: isSubmitting,
            currentUserRole: currentUser?.role
          }
        )
      ] })
    ] }) }),
    (showMerchantField || showOutletField) && /* @__PURE__ */ (0, import_jsx_runtime154.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)(CardContent2, { className: "p-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)("h3", { className: "text-lg font-medium text-gray-900 mb-4 flex items-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime154.jsx)("span", { className: "w-2 h-2 bg-purple-500 rounded-full" }),
        "Organization Assignment"
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
        showMerchantField && /* @__PURE__ */ (0, import_jsx_runtime154.jsx)(
          MerchantSelect,
          {
            value: formData.merchantId,
            onChange: (value) => handleInputChange("merchantId", value),
            merchants,
            loading: loadingMerchants,
            error: errors.merchantId,
            disabled: isSubmitting,
            canSelect: canSelectMerchant,
            currentUser
          }
        ),
        showOutletField && /* @__PURE__ */ (0, import_jsx_runtime154.jsx)(
          OutletSelect,
          {
            value: formData.outletId,
            onChange: (value) => handleInputChange("outletId", value),
            outlets,
            loading: loadingOutlets,
            error: errors.outletId,
            disabled: isSubmitting,
            canSelect: canSelectOutlet,
            canSelectMerchant,
            merchantId: formData.merchantId,
            currentUser
          }
        )
      ] })
    ] }) }),
    !isEditMode && /* @__PURE__ */ (0, import_jsx_runtime154.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)(CardContent2, { className: "p-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)("h3", { className: "text-lg font-medium text-gray-900 mb-4 flex items-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime154.jsx)("span", { className: "w-2 h-2 bg-green-500 rounded-full" }),
        "Password Settings"
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime154.jsx)(
          FormField,
          {
            id: "password",
            label: "Password",
            value: formData.password,
            onChange: (value) => handleInputChange("password", value),
            error: errors.password,
            disabled: isSubmitting,
            required: true,
            type: "password",
            placeholder: "Enter password",
            showPasswordToggle: true
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime154.jsx)(
          FormField,
          {
            id: "confirmPassword",
            label: "Confirm Password",
            value: formData.confirmPassword,
            onChange: (value) => handleInputChange("confirmPassword", value),
            error: errors.confirmPassword,
            disabled: isSubmitting,
            type: "password",
            placeholder: "Confirm password",
            showPasswordToggle: true
          }
        )
      ] })
    ] }) }),
    !isEditMode && /* @__PURE__ */ (0, import_jsx_runtime154.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)(CardContent2, { className: "p-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)("h3", { className: "text-lg font-medium text-gray-900 mb-4 flex items-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime154.jsx)("span", { className: "w-2 h-2 bg-purple-500 rounded-full" }),
        "Account Settings"
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)("div", { className: "flex items-center space-x-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime154.jsx)(
            "input",
            {
              type: "checkbox",
              id: "isActive",
              checked: formData.isActive,
              onChange: (e) => handleInputChange("isActive", e.target.checked),
              className: "h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",
              disabled: isSubmitting
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime154.jsx)("label", { htmlFor: "isActive", className: "text-sm font-medium text-gray-700", children: "Active Account" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime154.jsx)("p", { className: "text-sm text-gray-600", children: "Active users can log in and access the system. Inactive users are suspended." })
      ] })
    ] }) }),
    isEditMode && user && /* @__PURE__ */ (0, import_jsx_runtime154.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)(CardContent2, { className: "p-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)("h3", { className: "text-lg font-medium text-gray-900 mb-4 flex items-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime154.jsx)("span", { className: "w-2 h-2 bg-blue-500 rounded-full" }),
        "Current User Information"
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 text-sm", children: [
        /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime154.jsx)("span", { className: "font-medium text-gray-700", children: "Role:" }),
          /* @__PURE__ */ (0, import_jsx_runtime154.jsx)("span", { className: "ml-2 px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs", children: user.role })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime154.jsx)("span", { className: "font-medium text-gray-700", children: "Status:" }),
          /* @__PURE__ */ (0, import_jsx_runtime154.jsx)("span", { className: `ml-2 px-2 py-1 rounded-full text-xs ${user.isActive ? "bg-green-100 text-green-800" : "bg-red-100 text-red-800"}`, children: user.isActive ? "Active" : "Inactive" })
        ] }),
        user.merchant && /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime154.jsx)("span", { className: "font-medium text-gray-700", children: "Merchant:" }),
          /* @__PURE__ */ (0, import_jsx_runtime154.jsx)("span", { className: "ml-2 text-gray-600", children: user.merchant.name })
        ] }),
        user.outlet && /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime154.jsx)("span", { className: "font-medium text-gray-700", children: "Outlet:" }),
          /* @__PURE__ */ (0, import_jsx_runtime154.jsx)("span", { className: "ml-2 text-gray-600", children: user.outlet.name })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime154.jsx)("span", { className: "font-medium text-gray-700", children: "Created:" }),
          /* @__PURE__ */ (0, import_jsx_runtime154.jsx)("span", { className: "ml-2 text-gray-600", children: new Date(user.createdAt).toLocaleDateString() })
        ] }),
        user.lastLoginAt && /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime154.jsx)("span", { className: "font-medium text-gray-700", children: "Last Login:" }),
          /* @__PURE__ */ (0, import_jsx_runtime154.jsx)("span", { className: "ml-2 text-gray-600", children: new Date(user.lastLoginAt).toLocaleDateString() })
        ] })
      ] })
    ] }) }),
    Object.keys(errors).length > 0 && /* @__PURE__ */ (0, import_jsx_runtime154.jsx)("div", { className: "bg-yellow-50 border border-yellow-200 rounded-md p-4", children: /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)("div", { className: "flex items-start", children: [
      /* @__PURE__ */ (0, import_jsx_runtime154.jsx)("div", { className: "flex-shrink-0", children: /* @__PURE__ */ (0, import_jsx_runtime154.jsx)("span", { className: "text-yellow-400 text-lg", children: "\u26A0\uFE0F" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)("div", { className: "ml-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime154.jsx)("h3", { className: "text-sm font-medium text-yellow-800", children: "Please fix the following validation errors:" }),
        /* @__PURE__ */ (0, import_jsx_runtime154.jsx)("div", { className: "mt-2 text-sm text-yellow-700", children: /* @__PURE__ */ (0, import_jsx_runtime154.jsx)("ul", { className: "list-disc list-inside space-y-1", children: Object.entries(errors).map(([field, error2]) => /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)("li", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)("strong", { children: [
            field.charAt(0).toUpperCase() + field.slice(1),
            ":"
          ] }),
          " ",
          error2
        ] }, field)) }) })
      ] })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)("div", { className: "flex justify-end space-x-3 pt-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)(
        Button,
        {
          type: "button",
          variant: "outline",
          onClick: handleCancel,
          disabled: isSubmitting,
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime154.jsx)(import_lucide_react75.X, { className: "w-4 h-4 mr-2" }),
            "Cancel"
          ]
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime154.jsxs)(
        Button,
        {
          type: "submit",
          disabled: isSubmitting,
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime154.jsx)(import_lucide_react75.Save, { className: "w-4 h-4 mr-2" }),
            isSubmitting ? isEditMode ? "Updating..." : "Creating..." : isEditMode ? "Update User" : "Create User"
          ]
        }
      )
    ] })
  ] });
};

// src/components/features/Users/components/AddUserDialog.tsx
var import_jsx_runtime155 = require("react/jsx-runtime");
var AddUserDialog = ({
  open,
  onOpenChange,
  onUserCreated,
  onError,
  currentUser
}) => {
  const [isSubmitting, setIsSubmitting] = (0, import_react80.useState)(false);
  const handleSave = async (userData) => {
    try {
      setIsSubmitting(true);
      if (onUserCreated) {
        await onUserCreated(userData);
      }
      onOpenChange(false);
    } catch (error2) {
      console.error("\u274C AddUserDialog: Error occurred:", error2);
      if (onError) {
        onError(error2 instanceof Error ? error2.message : "Failed to create user");
      }
    } finally {
      setIsSubmitting(false);
    }
  };
  const handleCancel = () => {
    if (isSubmitting)
      return;
    onOpenChange(false);
  };
  return /* @__PURE__ */ (0, import_jsx_runtime155.jsx)(Dialog, { open, onOpenChange, children: /* @__PURE__ */ (0, import_jsx_runtime155.jsxs)(DialogContent, { className: "max-w-4xl max-h-[90vh] overflow-y-auto p-0", children: [
    /* @__PURE__ */ (0, import_jsx_runtime155.jsx)(DialogHeader, { className: "px-6 py-4 border-b border-gray-200", children: /* @__PURE__ */ (0, import_jsx_runtime155.jsx)(DialogTitle, { className: "text-xl font-semibold text-gray-900", children: "Add New User" }) }),
    /* @__PURE__ */ (0, import_jsx_runtime155.jsx)("div", { className: "p-6", children: /* @__PURE__ */ (0, import_jsx_runtime155.jsx)(
      UserForm,
      {
        mode: "create",
        user: void 0,
        onSave: handleSave,
        onCancel: handleCancel,
        isSubmitting,
        currentUser
      }
    ) })
  ] }) });
};

// src/components/features/Users/components/UserRow.tsx
var import_ui104 = require("@rentalshop/ui");
var import_lucide_react76 = require("lucide-react");
var import_jsx_runtime156 = require("react/jsx-runtime");
function UserRow({
  user,
  onUserAction,
  showActions = true,
  actions = ["view", "edit"],
  className = "py-4"
}) {
  const handleUserAction = (action, userId) => {
    console.log("\u{1F50D} UserRow: handleUserAction called:", { action, userId, user });
    onUserAction(action, userId);
  };
  const getRoleBadgeStyle = (role) => {
    switch (role) {
      case "ADMIN":
        return "bg-red-100 text-red-800 border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800";
      case "MERCHANT":
        return "bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/20 dark:text-blue-400 dark:border-blue-800";
      case "OUTLET_ADMIN":
        return "bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/20 dark:text-purple-400 dark:border-purple-800";
      case "OUTLET_STAFF":
        return "bg-green-100 text-green-800 border-green-200 dark:bg-green-900/20 dark:text-green-400 dark:border-green-800";
      default:
        return "bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900/20 dark:text-gray-400 dark:border-gray-800";
    }
  };
  const getRoleDisplayName = (role) => {
    switch (role) {
      case "ADMIN":
        return "Admin";
      case "MERCHANT":
        return "Merchant";
      case "OUTLET_ADMIN":
        return "Outlet Admin";
      case "OUTLET_STAFF":
        return "Outlet Staff";
      default:
        return role;
    }
  };
  const getStatusBadgeStyle = (isActive) => {
    if (isActive) {
      return "bg-emerald-100 text-emerald-800 border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-800";
    } else {
      return "bg-red-100 text-red-800 border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800";
    }
  };
  const getStatusDisplayName = (isActive) => {
    return isActive ? "Active" : "Inactive";
  };
  const formatDate11 = (dateString) => {
    return new Date(dateString).toLocaleDateString("en-US", {
      year: "numeric",
      month: "short",
      day: "numeric"
    });
  };
  const renderActionButton = (action) => {
    switch (action) {
      case "view":
        return /* @__PURE__ */ (0, import_jsx_runtime156.jsxs)(
          import_ui104.Button,
          {
            variant: "outline",
            size: "sm",
            onClick: () => handleUserAction("view", user.id),
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime156.jsx)(import_lucide_react76.Eye, { className: "w-4 h-4 mr-2" }),
              "View"
            ]
          }
        );
      case "edit":
        return /* @__PURE__ */ (0, import_jsx_runtime156.jsxs)(
          import_ui104.Button,
          {
            variant: "outline",
            size: "sm",
            onClick: () => handleUserAction("edit", user.id),
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime156.jsx)(import_lucide_react76.Edit, { className: "w-4 h-4 mr-2" }),
              "Edit"
            ]
          }
        );
      case "activate":
        return /* @__PURE__ */ (0, import_jsx_runtime156.jsx)(
          import_ui104.Button,
          {
            variant: "outline",
            size: "sm",
            onClick: () => handleUserAction("activate", user.id),
            children: "Activate"
          }
        );
      case "deactivate":
        return /* @__PURE__ */ (0, import_jsx_runtime156.jsx)(
          import_ui104.Button,
          {
            variant: "outline",
            size: "sm",
            onClick: () => handleUserAction("deactivate", user.id),
            children: "Deactivate"
          }
        );
      default:
        return null;
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime156.jsx)(import_ui104.Card, { className: "hover:shadow-md transition-shadow duration-200", children: /* @__PURE__ */ (0, import_jsx_runtime156.jsx)(import_ui104.CardContent, { className, children: /* @__PURE__ */ (0, import_jsx_runtime156.jsxs)("div", { className: "flex items-center justify-between", children: [
    /* @__PURE__ */ (0, import_jsx_runtime156.jsx)("div", { className: "flex-1", children: /* @__PURE__ */ (0, import_jsx_runtime156.jsx)("div", { className: "flex items-center gap-4", children: /* @__PURE__ */ (0, import_jsx_runtime156.jsxs)("div", { className: "flex-1", children: [
      /* @__PURE__ */ (0, import_jsx_runtime156.jsxs)("div", { className: "flex items-center gap-3 mb-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime156.jsx)("h3", { className: "text-lg font-semibold text-text-primary", children: `${user.firstName || ""} ${user.lastName || ""}`.trim() || user.name || "Unknown User" }),
        /* @__PURE__ */ (0, import_jsx_runtime156.jsx)("div", { className: `inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${getRoleBadgeStyle(user.role)}`, children: getRoleDisplayName(user.role) }),
        /* @__PURE__ */ (0, import_jsx_runtime156.jsx)("div", { className: `inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${getStatusBadgeStyle(user.isActive)}`, children: getStatusDisplayName(user.isActive) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime156.jsxs)("div", { className: "flex items-center gap-6 text-sm text-text-secondary", children: [
        /* @__PURE__ */ (0, import_jsx_runtime156.jsxs)("div", { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime156.jsx)(import_lucide_react76.Mail, { className: "w-4 h-4" }),
          /* @__PURE__ */ (0, import_jsx_runtime156.jsx)("span", { children: user.email })
        ] }),
        user.phone && /* @__PURE__ */ (0, import_jsx_runtime156.jsxs)("div", { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime156.jsx)(import_lucide_react76.Phone, { className: "w-4 h-4" }),
          /* @__PURE__ */ (0, import_jsx_runtime156.jsx)("span", { children: user.phone })
        ] }),
        user.outlet && /* @__PURE__ */ (0, import_jsx_runtime156.jsxs)("div", { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime156.jsx)(import_lucide_react76.Store, { className: "w-4 h-4" }),
          /* @__PURE__ */ (0, import_jsx_runtime156.jsx)("span", { children: user.outlet.name }),
          user.outlet.merchant && /* @__PURE__ */ (0, import_jsx_runtime156.jsxs)("span", { className: "text-text-tertiary", children: [
            "\u2022 ",
            user.outlet.merchant.name
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime156.jsxs)("div", { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime156.jsx)(import_lucide_react76.Calendar, { className: "w-4 h-4" }),
          /* @__PURE__ */ (0, import_jsx_runtime156.jsxs)("span", { children: [
            "Joined ",
            formatDate11(typeof user.createdAt === "string" ? user.createdAt : user.createdAt.toISOString())
          ] })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime156.jsxs)("div", { className: "flex items-center gap-6 text-sm text-text-tertiary mt-1", children: [
        /* @__PURE__ */ (0, import_jsx_runtime156.jsxs)("span", { children: [
          "Last login: ",
          user.lastLoginAt ? formatDate11(typeof user.lastLoginAt === "string" ? user.lastLoginAt : user.lastLoginAt.toISOString()) : "Never"
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime156.jsxs)("span", { children: [
          "Email verified: ",
          user.emailVerified ? "Yes" : "No"
        ] })
      ] })
    ] }) }) }),
    showActions && /* @__PURE__ */ (0, import_jsx_runtime156.jsx)("div", { className: "flex items-center gap-2", children: actions.map((action) => {
      if (action === "activate" && user.isActive)
        return null;
      if (action === "deactivate" && !user.isActive)
        return null;
      return /* @__PURE__ */ (0, import_jsx_runtime156.jsx)("div", { children: renderActionButton(action) }, action);
    }) })
  ] }) }) });
}

// src/components/features/Users/components/UserPageHeader.tsx
var import_ui105 = require("@rentalshop/ui");
var import_lucide_react77 = require("lucide-react");
var import_jsx_runtime157 = require("react/jsx-runtime");
function UserPageHeader({
  title = "Users",
  subtitle = "Manage users in the system",
  showExportButton = false,
  showAddButton = true,
  onExport,
  onAdd,
  addButtonText = "Add User",
  exportButtonText = "Export",
  className = ""
}) {
  return /* @__PURE__ */ (0, import_jsx_runtime157.jsx)("div", { className: `flex justify-between items-start ${className}`, children: /* @__PURE__ */ (0, import_jsx_runtime157.jsxs)("div", { className: "flex gap-3", children: [
    showExportButton && /* @__PURE__ */ (0, import_jsx_runtime157.jsxs)(
      import_ui105.Button,
      {
        onClick: onExport,
        className: "h-9 px-4 text-sm",
        children: [
          /* @__PURE__ */ (0, import_jsx_runtime157.jsx)(import_lucide_react77.Download, { className: "w-4 h-4 mr-2" }),
          exportButtonText
        ]
      }
    ),
    showAddButton && /* @__PURE__ */ (0, import_jsx_runtime157.jsxs)(
      import_ui105.Button,
      {
        onClick: onAdd,
        className: "bg-green-600 hover:bg-green-700 text-white h-9 px-4",
        children: [
          /* @__PURE__ */ (0, import_jsx_runtime157.jsx)(import_lucide_react77.Plus, { className: "w-4 h-4 mr-2" }),
          addButtonText
        ]
      }
    )
  ] }) });
}

// src/components/features/Users/components/AccountManagementCard.tsx
var import_lucide_react78 = require("lucide-react");
var import_jsx_runtime158 = require("react/jsx-runtime");
var AccountManagementCard = ({
  user,
  isUpdating,
  onActivate,
  onDeactivate,
  onDelete
}) => {
  return /* @__PURE__ */ (0, import_jsx_runtime158.jsxs)("div", { className: "bg-white shadow rounded-lg", children: [
    /* @__PURE__ */ (0, import_jsx_runtime158.jsx)("div", { className: "px-6 py-4 border-b border-gray-200", children: /* @__PURE__ */ (0, import_jsx_runtime158.jsx)("h2", { className: "text-lg font-medium text-gray-900", children: "Account Management" }) }),
    /* @__PURE__ */ (0, import_jsx_runtime158.jsxs)("div", { className: "px-6 py-4 space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime158.jsxs)("div", { className: "flex items-center justify-between p-4 bg-gray-50 rounded-lg", children: [
        /* @__PURE__ */ (0, import_jsx_runtime158.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime158.jsx)("h3", { className: "text-sm font-medium text-gray-900", children: "Account Status" }),
          /* @__PURE__ */ (0, import_jsx_runtime158.jsx)("p", { className: "text-sm text-gray-600", children: user.isActive ? "User can currently log in and access the system" : "User is currently disabled and cannot access the system" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime158.jsx)("div", { className: "flex gap-2", children: user.isActive ? /* @__PURE__ */ (0, import_jsx_runtime158.jsxs)(
          Button,
          {
            onClick: onDeactivate,
            variant: "outline",
            disabled: isUpdating,
            className: "text-orange-600 border-orange-600 hover:bg-orange-50",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime158.jsx)(import_lucide_react78.UserX, { className: "w-4 h-4 mr-2" }),
              "Deactivate"
            ]
          }
        ) : /* @__PURE__ */ (0, import_jsx_runtime158.jsxs)(
          Button,
          {
            onClick: onActivate,
            variant: "outline",
            disabled: isUpdating,
            className: "text-green-600 border-green-600 hover:bg-green-50",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime158.jsx)(import_lucide_react78.UserCheck, { className: "w-4 h-4 mr-2" }),
              "Activate"
            ]
          }
        ) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime158.jsxs)("div", { className: "flex items-center justify-between p-4 bg-red-50 border border-red-200 rounded-lg", children: [
        /* @__PURE__ */ (0, import_jsx_runtime158.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime158.jsx)("h3", { className: "text-sm font-medium text-red-900", children: "Delete Account" }),
          /* @__PURE__ */ (0, import_jsx_runtime158.jsx)("p", { className: "text-sm text-red-700", children: "This action cannot be undone. This will permanently delete the user account and remove all associated data." })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime158.jsxs)(
          Button,
          {
            onClick: onDelete,
            variant: "destructive",
            className: "bg-red-600 hover:bg-red-700",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime158.jsx)(import_lucide_react78.Trash2, { className: "w-4 h-4 mr-2" }),
              "Delete Account"
            ]
          }
        )
      ] })
    ] })
  ] });
};

// src/components/features/Users/Users.tsx
var import_lucide_react79 = require("lucide-react");
var import_hooks11 = require("@rentalshop/hooks");
var import_jsx_runtime159 = require("react/jsx-runtime");
var Users9 = ({
  // Data props
  data,
  filters = {},
  onFiltersChange = () => {
  },
  onSearchChange = () => {
  },
  onClearFilters = () => {
  },
  onUserAction = () => {
  },
  onPageChange = () => {
  },
  onSort = () => {
  },
  // Display props
  title = "User Management",
  subtitle = "Manage users in the system",
  showExportButton = false,
  showAddButton = false,
  addButtonText = "Add User",
  exportButtonText = "Export Users",
  showStats = false,
  currentUser,
  onExport,
  className = ""
}) => {
  const { canManageUsers } = (0, import_hooks11.useUserRole)(currentUser);
  console.log("\u{1F465} Users Component - Received data:", {
    hasData: !!data,
    usersCount: data?.users?.length || 0,
    total: data?.total,
    page: data?.page,
    filters
  });
  const handleExport = () => {
    if (onExport) {
      onExport();
    } else {
      console.log("Export functionality not implemented");
    }
  };
  const handleAddUser = () => {
    console.log("Add user functionality should be implemented in page");
  };
  const users = data?.users || [];
  const totalUsers = data?.total || 0;
  const currentPage = data?.page || 1;
  const totalPages = data?.totalPages || 1;
  const limit = data?.limit || 25;
  console.log("\u{1F465} Users Component - Processed data:", {
    usersCount: users.length,
    totalUsers,
    currentPage,
    totalPages,
    limit
  });
  const memoizedOnFiltersChange = import_react81.default.useCallback(onFiltersChange, [onFiltersChange]);
  const memoizedOnSearchChange = import_react81.default.useCallback(onSearchChange, [onSearchChange]);
  const memoizedOnClearFilters = import_react81.default.useCallback(onClearFilters, [onClearFilters]);
  const memoizedOnUserAction = import_react81.default.useCallback(onUserAction, [onUserAction]);
  const memoizedOnPageChange = import_react81.default.useCallback(onPageChange, [onPageChange]);
  const memoizedOnSort = import_react81.default.useCallback(onSort, [onSort]);
  return /* @__PURE__ */ (0, import_jsx_runtime159.jsxs)("div", { className: `flex flex-col h-full ${className}`, children: [
    /* @__PURE__ */ (0, import_jsx_runtime159.jsxs)("div", { className: "flex-shrink-0 space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime159.jsx)(
        UserPageHeader,
        {
          title,
          subtitle,
          showExportButton,
          showAddButton: showAddButton && canManageUsers,
          onExport: handleExport,
          onAdd: handleAddUser,
          addButtonText,
          exportButtonText
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime159.jsx)(
        UserFilters,
        {
          filters,
          onFiltersChange: memoizedOnFiltersChange,
          onSearchChange: memoizedOnSearchChange,
          onClearFilters: memoizedOnClearFilters
        }
      )
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime159.jsx)("div", { className: "flex-1 min-h-0 mt-4", children: users.length > 0 ? /* @__PURE__ */ (0, import_jsx_runtime159.jsx)(
      UserTable,
      {
        users,
        onUserAction: memoizedOnUserAction,
        sortBy: filters.sortBy || "createdAt",
        sortOrder: filters.sortOrder || "desc",
        onSort: memoizedOnSort
      }
    ) : /* @__PURE__ */ (0, import_jsx_runtime159.jsx)(
      import_ui106.EmptyState,
      {
        icon: import_lucide_react79.User,
        title: "No users found",
        description: filters.search || filters.q || filters.role ? "Try adjusting your search or filters" : "Get started by adding your first user",
        actionLabel: canManageUsers ? addButtonText : void 0,
        onAction: canManageUsers ? handleAddUser : void 0
      }
    ) }),
    users.length > 0 && totalUsers > limit && /* @__PURE__ */ (0, import_jsx_runtime159.jsx)("div", { className: "flex-shrink-0 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime159.jsx)(
      import_ui106.Pagination,
      {
        currentPage,
        totalPages,
        total: totalUsers,
        limit,
        onPageChange: memoizedOnPageChange,
        itemName: "users"
      }
    ) })
  ] });
};
var Users_default = Users9;

// src/components/features/Outlets/Outlets.tsx
var import_react83 = __toESM(require("react"));
var import_ui111 = require("@rentalshop/ui");

// src/components/features/Outlets/components/OutletHeader.tsx
var import_ui107 = require("@rentalshop/ui");
var import_lucide_react80 = require("lucide-react");
var import_jsx_runtime160 = require("react/jsx-runtime");
function OutletHeader({
  viewMode,
  onViewModeChange,
  onAddOutlet,
  totalOutlets,
  merchantId
}) {
  return /* @__PURE__ */ (0, import_jsx_runtime160.jsx)(import_ui107.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime160.jsxs)(import_ui107.CardHeader, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [
    /* @__PURE__ */ (0, import_jsx_runtime160.jsx)("div", { className: "flex items-center space-x-4", children: /* @__PURE__ */ (0, import_jsx_runtime160.jsxs)(import_ui107.CardTitle, { className: "flex items-center gap-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime160.jsx)(import_lucide_react80.Building2, { className: "w-5 h-5" }),
      "Outlets (",
      totalOutlets,
      ")"
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime160.jsxs)("div", { className: "flex items-center space-x-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime160.jsxs)("div", { className: "flex items-center space-x-1 border rounded-lg p-1", children: [
        /* @__PURE__ */ (0, import_jsx_runtime160.jsx)(
          import_ui107.Button,
          {
            variant: viewMode === "grid" ? "default" : "ghost",
            size: "sm",
            onClick: () => onViewModeChange("grid"),
            className: "h-8 w-8 p-0",
            children: /* @__PURE__ */ (0, import_jsx_runtime160.jsx)(import_lucide_react80.Grid, { className: "w-4 h-4" })
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime160.jsx)(
          import_ui107.Button,
          {
            variant: viewMode === "table" ? "default" : "ghost",
            size: "sm",
            onClick: () => onViewModeChange("table"),
            className: "h-8 w-8 p-0",
            children: /* @__PURE__ */ (0, import_jsx_runtime160.jsx)(import_lucide_react80.List, { className: "w-4 h-4" })
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime160.jsxs)(import_ui107.Button, { onClick: onAddOutlet, children: [
        /* @__PURE__ */ (0, import_jsx_runtime160.jsx)(import_lucide_react80.Plus, { className: "w-4 h-4 mr-2" }),
        "Add Outlet"
      ] })
    ] })
  ] }) });
}

// src/components/features/Outlets/components/OutletFilters.tsx
var import_ui108 = require("@rentalshop/ui");
var import_lucide_react81 = require("lucide-react");
var import_jsx_runtime161 = require("react/jsx-runtime");
function OutletFilters({
  filters,
  onFiltersChange,
  onSearchChange,
  onClearFilters
}) {
  const handleStatusFilter = (value) => {
    const status = value === "all" ? void 0 : value;
    onFiltersChange({ ...filters, status });
  };
  const handleClearFilters = () => {
    onFiltersChange({
      search: void 0,
      status: void 0,
      limit: filters.limit
    });
    if (onClearFilters) {
      onClearFilters();
    }
  };
  const hasActiveFilters = filters.search || filters.status;
  return /* @__PURE__ */ (0, import_jsx_runtime161.jsxs)(import_ui108.Card, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime161.jsx)(import_ui108.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime161.jsxs)(import_ui108.CardTitle, { className: "flex items-center gap-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime161.jsx)(import_lucide_react81.Filter, { className: "w-5 h-5" }),
      "Filters"
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime161.jsx)(import_ui108.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime161.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime161.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime161.jsx)("label", { className: "text-sm font-medium", children: "Search" }),
        /* @__PURE__ */ (0, import_jsx_runtime161.jsxs)("div", { className: "relative", children: [
          /* @__PURE__ */ (0, import_jsx_runtime161.jsx)(import_lucide_react81.Search, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4" }),
          /* @__PURE__ */ (0, import_jsx_runtime161.jsx)(
            import_ui108.Input,
            {
              placeholder: "Search outlets...",
              value: filters.search || "",
              onChange: (e) => onSearchChange(e.target.value),
              className: "pl-10"
            }
          )
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime161.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime161.jsx)("label", { className: "text-sm font-medium", children: "Status" }),
        /* @__PURE__ */ (0, import_jsx_runtime161.jsxs)(
          import_ui108.Select,
          {
            value: filters.status || "all",
            onValueChange: handleStatusFilter,
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime161.jsx)(import_ui108.SelectTrigger, { children: /* @__PURE__ */ (0, import_jsx_runtime161.jsx)(import_ui108.SelectValue, { placeholder: "All statuses" }) }),
              /* @__PURE__ */ (0, import_jsx_runtime161.jsxs)(import_ui108.SelectContent, { children: [
                /* @__PURE__ */ (0, import_jsx_runtime161.jsx)(import_ui108.SelectItem, { value: "all", children: "All statuses" }),
                /* @__PURE__ */ (0, import_jsx_runtime161.jsx)(import_ui108.SelectItem, { value: "active", children: "Active" }),
                /* @__PURE__ */ (0, import_jsx_runtime161.jsx)(import_ui108.SelectItem, { value: "inactive", children: "Inactive" })
              ] })
            ]
          }
        )
      ] })
    ] }) })
  ] });
}

// src/components/features/Outlets/components/OutletGrid.tsx
var import_ui109 = require("@rentalshop/ui");
var import_lucide_react82 = require("lucide-react");
var import_jsx_runtime162 = require("react/jsx-runtime");
function OutletGrid({
  outlets,
  onOutletAction
}) {
  if (outlets.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime162.jsx)(import_ui109.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime162.jsxs)(import_ui109.CardContent, { className: "text-center py-8 text-gray-500 dark:text-gray-400", children: [
      /* @__PURE__ */ (0, import_jsx_runtime162.jsx)(import_lucide_react82.Building2, { className: "w-12 h-12 mx-auto mb-4 text-gray-300" }),
      /* @__PURE__ */ (0, import_jsx_runtime162.jsx)("h3", { className: "text-lg font-medium mb-2", children: "No Outlets Found" }),
      /* @__PURE__ */ (0, import_jsx_runtime162.jsx)("p", { className: "text-sm", children: "No outlets match your current filters." })
    ] }) });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime162.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6", children: outlets.map((outlet) => /* @__PURE__ */ (0, import_jsx_runtime162.jsxs)(import_ui109.Card, { className: "hover:shadow-lg transition-shadow", children: [
    /* @__PURE__ */ (0, import_jsx_runtime162.jsx)(import_ui109.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime162.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime162.jsxs)(import_ui109.CardTitle, { className: "flex items-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime162.jsx)(import_lucide_react82.Building2, { className: "w-5 h-5" }),
        outlet.name,
        outlet.isDefault && /* @__PURE__ */ (0, import_jsx_runtime162.jsx)(
          import_ui109.StatusBadge,
          {
            status: "main branch",
            variant: "outline",
            className: "flex items-center gap-1"
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime162.jsx)(
        import_ui109.StatusBadge,
        {
          status: outlet.isActive ? "active" : "inactive",
          variant: "default"
        }
      )
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime162.jsxs)(import_ui109.CardContent, { className: "space-y-4", children: [
      outlet.address && /* @__PURE__ */ (0, import_jsx_runtime162.jsxs)("div", { className: "flex items-start gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime162.jsx)(import_lucide_react82.MapPin, { className: "w-4 h-4 text-gray-500 mt-0.5 flex-shrink-0" }),
        /* @__PURE__ */ (0, import_jsx_runtime162.jsx)("div", { className: "text-sm text-gray-600 dark:text-gray-400", children: outlet.address })
      ] }),
      outlet.phone && /* @__PURE__ */ (0, import_jsx_runtime162.jsxs)("div", { className: "flex items-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime162.jsx)(import_lucide_react82.Phone, { className: "w-4 h-4 text-gray-500" }),
        /* @__PURE__ */ (0, import_jsx_runtime162.jsx)("div", { className: "text-sm text-gray-600 dark:text-gray-400", children: outlet.phone })
      ] }),
      outlet.description && /* @__PURE__ */ (0, import_jsx_runtime162.jsx)("div", { className: "text-sm text-gray-600 dark:text-gray-400", children: outlet.description }),
      /* @__PURE__ */ (0, import_jsx_runtime162.jsxs)("div", { className: "text-xs text-gray-500", children: [
        "Created: ",
        new Date(outlet.createdAt).toLocaleDateString()
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime162.jsxs)("div", { className: "flex space-x-2 pt-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime162.jsxs)(
          import_ui109.Button,
          {
            variant: "outline",
            size: "sm",
            onClick: () => onOutletAction("view", outlet.id),
            className: "flex-1",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime162.jsx)(import_lucide_react82.Eye, { className: "w-4 h-4 mr-1" }),
              "View"
            ]
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime162.jsxs)(
          import_ui109.Button,
          {
            variant: "outline",
            size: "sm",
            onClick: () => onOutletAction("edit", outlet.id),
            className: "flex-1",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime162.jsx)(import_lucide_react82.Edit, { className: "w-4 h-4 mr-1" }),
              "Edit"
            ]
          }
        )
      ] })
    ] })
  ] }, outlet.id)) });
}

// src/components/features/Outlets/components/OutletTable.tsx
var import_react82 = __toESM(require("react"));
var import_lucide_react83 = require("lucide-react");
var import_jsx_runtime163 = require("react/jsx-runtime");
function OutletTable({
  outlets,
  onOutletAction,
  sortBy = "createdAt",
  sortOrder = "desc",
  onSort
}) {
  const [openDropdownId, setOpenDropdownId] = import_react82.default.useState(null);
  if (outlets.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime163.jsx)(Card2, { className: "shadow-sm border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ (0, import_jsx_runtime163.jsx)(CardContent2, { className: "text-center py-12", children: /* @__PURE__ */ (0, import_jsx_runtime163.jsxs)("div", { className: "text-gray-500 dark:text-gray-400", children: [
      /* @__PURE__ */ (0, import_jsx_runtime163.jsx)(import_lucide_react83.Building2, { className: "w-16 h-16 mx-auto mb-4 text-gray-400" }),
      /* @__PURE__ */ (0, import_jsx_runtime163.jsx)("h3", { className: "text-lg font-medium mb-2", children: "No outlets found" }),
      /* @__PURE__ */ (0, import_jsx_runtime163.jsx)("p", { className: "text-sm", children: "Try adjusting your search or add outlets to get started." })
    ] }) }) });
  }
  const formatDate11 = (dateString) => {
    if (!dateString)
      return "N/A";
    const date2 = typeof dateString === "string" ? new Date(dateString) : dateString;
    return date2.toLocaleDateString("en-US", {
      year: "numeric",
      month: "short",
      day: "numeric"
    });
  };
  const getStatusBadge = (isActive) => {
    return isActive ? /* @__PURE__ */ (0, import_jsx_runtime163.jsx)(Badge, { className: "bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200", children: "Active" }) : /* @__PURE__ */ (0, import_jsx_runtime163.jsx)(Badge, { className: "bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200", children: "Inactive" });
  };
  const handleSort = (column) => {
    if (onSort) {
      onSort(column);
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime163.jsx)(Card2, { className: "shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col h-full", children: /* @__PURE__ */ (0, import_jsx_runtime163.jsx)("div", { className: "flex-1 overflow-auto", children: /* @__PURE__ */ (0, import_jsx_runtime163.jsxs)("table", { className: "w-full", children: [
    /* @__PURE__ */ (0, import_jsx_runtime163.jsx)("thead", { className: "bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-10", children: /* @__PURE__ */ (0, import_jsx_runtime163.jsxs)("tr", { children: [
      /* @__PURE__ */ (0, import_jsx_runtime163.jsx)(
        "th",
        {
          onClick: () => handleSort("id"),
          className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",
          children: /* @__PURE__ */ (0, import_jsx_runtime163.jsxs)("div", { className: "flex items-center gap-1", children: [
            "ID",
            sortBy === "id" && /* @__PURE__ */ (0, import_jsx_runtime163.jsx)("span", { className: "text-xs", children: sortOrder === "desc" ? "\u2193" : "\u2191" })
          ] })
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime163.jsx)(
        "th",
        {
          onClick: () => handleSort("name"),
          className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",
          children: /* @__PURE__ */ (0, import_jsx_runtime163.jsxs)("div", { className: "flex items-center gap-1", children: [
            "Name",
            sortBy === "name" && /* @__PURE__ */ (0, import_jsx_runtime163.jsx)("span", { className: "text-xs", children: sortOrder === "desc" ? "\u2193" : "\u2191" })
          ] })
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime163.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Address" }),
      /* @__PURE__ */ (0, import_jsx_runtime163.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Contact" }),
      /* @__PURE__ */ (0, import_jsx_runtime163.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Status" }),
      /* @__PURE__ */ (0, import_jsx_runtime163.jsx)(
        "th",
        {
          onClick: () => handleSort("createdAt"),
          className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",
          children: /* @__PURE__ */ (0, import_jsx_runtime163.jsxs)("div", { className: "flex items-center gap-1", children: [
            "Created",
            sortBy === "createdAt" && /* @__PURE__ */ (0, import_jsx_runtime163.jsx)("span", { className: "text-xs", children: sortOrder === "desc" ? "\u2193" : "\u2191" })
          ] })
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime163.jsx)("th", { className: "px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Actions" })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime163.jsx)("tbody", { className: "bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700", children: outlets.map((outlet) => /* @__PURE__ */ (0, import_jsx_runtime163.jsxs)("tr", { className: "hover:bg-gray-50 dark:hover:bg-gray-800", children: [
      /* @__PURE__ */ (0, import_jsx_runtime163.jsx)("td", { className: "px-6 py-4 whitespace-nowrap", children: /* @__PURE__ */ (0, import_jsx_runtime163.jsxs)("div", { className: "text-sm font-medium text-gray-900 dark:text-white", children: [
        "#",
        outlet.id
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime163.jsx)("td", { className: "px-6 py-4 whitespace-nowrap", children: /* @__PURE__ */ (0, import_jsx_runtime163.jsx)("div", { className: "text-sm", children: /* @__PURE__ */ (0, import_jsx_runtime163.jsx)("div", { className: "font-medium text-gray-900 dark:text-white", children: outlet.name }) }) }),
      /* @__PURE__ */ (0, import_jsx_runtime163.jsx)("td", { className: "px-6 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime163.jsx)("div", { className: "text-sm text-gray-900 dark:text-white", children: outlet.address || "N/A" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime163.jsx)("td", { className: "px-6 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime163.jsx)("div", { className: "text-sm text-gray-900 dark:text-white", children: outlet.phone || "N/A" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime163.jsx)("td", { className: "px-6 py-4 whitespace-nowrap", children: getStatusBadge(outlet.isActive) }),
      /* @__PURE__ */ (0, import_jsx_runtime163.jsx)("td", { className: "px-6 py-4 whitespace-nowrap", children: /* @__PURE__ */ (0, import_jsx_runtime163.jsx)("div", { className: "text-sm text-gray-900 dark:text-white", children: formatDate11(outlet.createdAt) }) }),
      /* @__PURE__ */ (0, import_jsx_runtime163.jsx)("td", { className: "px-6 py-4 whitespace-nowrap text-right text-sm font-medium", children: /* @__PURE__ */ (0, import_jsx_runtime163.jsxs)(DropdownMenu, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime163.jsx)(DropdownMenuTrigger, { children: /* @__PURE__ */ (0, import_jsx_runtime163.jsx)(
          Button,
          {
            variant: "ghost",
            size: "sm",
            className: "h-8 w-8 p-0",
            onClick: () => setOpenDropdownId(outlet.id),
            children: /* @__PURE__ */ (0, import_jsx_runtime163.jsx)(import_lucide_react83.MoreVertical, { className: "h-4 w-4" })
          }
        ) }),
        /* @__PURE__ */ (0, import_jsx_runtime163.jsxs)(
          DropdownMenuContent,
          {
            align: "end",
            open: openDropdownId === outlet.id,
            onOpenChange: (open) => setOpenDropdownId(open ? outlet.id : null),
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime163.jsxs)(DropdownMenuItem, { onClick: () => {
                onOutletAction("view", outlet.id);
                setOpenDropdownId(null);
              }, children: [
                /* @__PURE__ */ (0, import_jsx_runtime163.jsx)(import_lucide_react83.Eye, { className: "h-4 w-4 mr-2" }),
                "View Details"
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime163.jsxs)(DropdownMenuItem, { onClick: () => {
                onOutletAction("edit", outlet.id);
                setOpenDropdownId(null);
              }, children: [
                /* @__PURE__ */ (0, import_jsx_runtime163.jsx)(import_lucide_react83.Edit, { className: "h-4 w-4 mr-2" }),
                "Edit Outlet"
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime163.jsx)(DropdownMenuSeparator, {}),
              /* @__PURE__ */ (0, import_jsx_runtime163.jsxs)(DropdownMenuItem, { onClick: () => {
                onOutletAction(outlet.isActive ? "disable" : "enable", outlet.id);
                setOpenDropdownId(null);
              }, children: [
                outlet.isActive ? /* @__PURE__ */ (0, import_jsx_runtime163.jsx)(import_lucide_react83.XCircle, { className: "h-4 w-4 mr-2" }) : /* @__PURE__ */ (0, import_jsx_runtime163.jsx)(import_lucide_react83.CheckCircle, { className: "h-4 w-4 mr-2" }),
                outlet.isActive ? "Disable Outlet" : "Enable Outlet"
              ] })
            ]
          }
        )
      ] }) })
    ] }, outlet.id)) })
  ] }) }) });
}

// src/components/features/Outlets/components/OutletSearch.tsx
var import_lucide_react84 = require("lucide-react");
var import_jsx_runtime164 = require("react/jsx-runtime");
function OutletSearch({ value, onChange, onClear }) {
  return /* @__PURE__ */ (0, import_jsx_runtime164.jsx)(Card2, { className: "shadow-sm border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ (0, import_jsx_runtime164.jsx)(CardContent2, { className: "pt-6 space-y-4", children: /* @__PURE__ */ (0, import_jsx_runtime164.jsx)("div", { className: "flex justify-between items-end gap-4", children: /* @__PURE__ */ (0, import_jsx_runtime164.jsxs)("div", { className: "space-y-2 flex-1", children: [
    /* @__PURE__ */ (0, import_jsx_runtime164.jsx)("label", { className: "text-sm font-medium text-gray-700 dark:text-gray-300", children: "Search Outlets" }),
    /* @__PURE__ */ (0, import_jsx_runtime164.jsxs)("div", { className: "relative", children: [
      /* @__PURE__ */ (0, import_jsx_runtime164.jsx)("div", { className: "absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none", children: /* @__PURE__ */ (0, import_jsx_runtime164.jsx)(import_lucide_react84.Search, { className: "h-4 w-4 text-gray-400" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime164.jsx)(
        Input2,
        {
          type: "text",
          placeholder: "Search by outlet name...",
          value,
          onChange: (e) => onChange(e.target.value),
          className: "pl-10 pr-10"
        }
      ),
      value && /* @__PURE__ */ (0, import_jsx_runtime164.jsx)(
        Button,
        {
          variant: "ghost",
          size: "icon",
          onClick: onClear,
          className: "absolute inset-y-0 right-0 pr-3 flex items-center h-full w-auto",
          children: /* @__PURE__ */ (0, import_jsx_runtime164.jsx)(import_lucide_react84.X, { className: "h-4 w-4 text-gray-400 hover:text-gray-600" })
        }
      )
    ] })
  ] }) }) }) });
}

// src/components/features/Outlets/components/OutletPagination.tsx
var import_ui110 = require("@rentalshop/ui");
var import_jsx_runtime165 = require("react/jsx-runtime");
function OutletPagination({
  currentPage,
  totalPages,
  total,
  limit,
  onPageChange
}) {
  return /* @__PURE__ */ (0, import_jsx_runtime165.jsx)(
    import_ui110.Pagination,
    {
      currentPage,
      totalPages,
      total,
      limit,
      onPageChange
    }
  );
}

// src/components/features/Outlets/Outlets.tsx
var import_lucide_react85 = require("lucide-react");
var import_jsx_runtime166 = require("react/jsx-runtime");
var Outlets = ({
  data,
  filters = {},
  onSearchChange = () => {
  },
  onOutletAction = () => {
  },
  onPageChange = () => {
  },
  onSort = () => {
  },
  currentUser,
  className = ""
}) => {
  const outlets = data?.outlets || [];
  const totalOutlets = data?.total || 0;
  const currentPage = data?.page || 1;
  const totalPages = data?.totalPages || 1;
  const limit = data?.limit || 25;
  const memoizedOnSearchChange = import_react83.default.useCallback(onSearchChange, [onSearchChange]);
  const memoizedOnOutletAction = import_react83.default.useCallback(onOutletAction, [onOutletAction]);
  const memoizedOnPageChange = import_react83.default.useCallback(onPageChange, [onPageChange]);
  const memoizedOnSort = import_react83.default.useCallback(onSort, [onSort]);
  return /* @__PURE__ */ (0, import_jsx_runtime166.jsxs)("div", { className: `flex flex-col h-full ${className}`, children: [
    /* @__PURE__ */ (0, import_jsx_runtime166.jsx)("div", { className: "flex-shrink-0 mb-4", children: /* @__PURE__ */ (0, import_jsx_runtime166.jsx)(
      OutletSearch,
      {
        value: filters.q || "",
        onChange: memoizedOnSearchChange,
        onClear: () => memoizedOnSearchChange("")
      }
    ) }),
    /* @__PURE__ */ (0, import_jsx_runtime166.jsx)("div", { className: "flex-1 min-h-0", children: outlets.length > 0 ? /* @__PURE__ */ (0, import_jsx_runtime166.jsx)(
      OutletTable,
      {
        outlets,
        onOutletAction: memoizedOnOutletAction,
        sortBy: filters.sortBy || "createdAt",
        sortOrder: filters.sortOrder || "desc",
        onSort: memoizedOnSort
      }
    ) : /* @__PURE__ */ (0, import_jsx_runtime166.jsx)(
      import_ui111.EmptyState,
      {
        icon: import_lucide_react85.Building2,
        title: "No outlets found",
        description: filters.q ? "Try adjusting your search" : "Get started by adding your first outlet"
      }
    ) }),
    outlets.length > 0 && totalOutlets > limit && /* @__PURE__ */ (0, import_jsx_runtime166.jsx)("div", { className: "flex-shrink-0 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime166.jsx)(
      import_ui111.Pagination,
      {
        currentPage,
        totalPages,
        total: totalOutlets,
        limit,
        onPageChange: memoizedOnPageChange,
        itemName: "outlets"
      }
    ) })
  ] });
};

// src/components/features/Categories/Categories.tsx
var import_react89 = __toESM(require("react"));
var import_ui120 = require("@rentalshop/ui");

// src/components/features/Categories/components/CategoryHeader.tsx
var import_ui112 = require("@rentalshop/ui");
var import_lucide_react86 = require("lucide-react");
var import_hooks12 = require("@rentalshop/hooks");
var import_jsx_runtime167 = require("react/jsx-runtime");
var CategoryHeader = ({
  onAddCategory
}) => {
  const { canManageCategories } = (0, import_hooks12.useUserRole)();
  return /* @__PURE__ */ (0, import_jsx_runtime167.jsxs)("div", { className: "flex items-center justify-between", children: [
    /* @__PURE__ */ (0, import_jsx_runtime167.jsxs)("div", { children: [
      /* @__PURE__ */ (0, import_jsx_runtime167.jsx)("h1", { className: "text-3xl font-bold tracking-tight", children: "Product Categories" }),
      /* @__PURE__ */ (0, import_jsx_runtime167.jsx)("p", { className: "text-muted-foreground", children: "Manage your product categories for better organization" })
    ] }),
    canManageCategories && /* @__PURE__ */ (0, import_jsx_runtime167.jsxs)(import_ui112.Button, { onClick: onAddCategory, className: "flex items-center space-x-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime167.jsx)(import_lucide_react86.Plus, { className: "h-4 w-4" }),
      /* @__PURE__ */ (0, import_jsx_runtime167.jsx)("span", { children: "Add Category" })
    ] })
  ] });
};

// src/components/features/Categories/components/CategoryActions.tsx
var import_react86 = require("react");
var import_hooks13 = require("@rentalshop/hooks");

// src/components/features/Categories/components/AddCategoryDialog.tsx
var import_react85 = require("react");

// src/components/features/Categories/components/CategoryFormContent.tsx
var import_react84 = require("react");
var import_lucide_react87 = require("lucide-react");
var import_jsx_runtime168 = require("react/jsx-runtime");
var CategoryFormContent = ({
  category,
  onSave,
  onCancel,
  mode,
  isSubmitting: externalIsSubmitting
}) => {
  const [formData, setFormData] = (0, import_react84.useState)({
    name: "",
    description: ""
  });
  const [errors, setErrors] = (0, import_react84.useState)({});
  const [isSubmitting, setIsSubmitting] = (0, import_react84.useState)(false);
  const submitting = externalIsSubmitting !== void 0 ? externalIsSubmitting : isSubmitting;
  (0, import_react84.useEffect)(() => {
    if (category && mode === "edit") {
      setFormData({
        name: category.name || "",
        description: category.description || ""
      });
    }
  }, [category, mode]);
  const handleInputChange = (field, value) => {
    setFormData((prev) => ({ ...prev, [field]: value }));
    if (errors[field]) {
      setErrors((prev) => ({ ...prev, [field]: "" }));
    }
  };
  const validateForm = () => {
    const newErrors = {};
    if (!formData.name.trim()) {
      newErrors.name = "Category name is required";
    } else if (formData.name.trim().length < 2) {
      newErrors.name = "Category name must be at least 2 characters";
    } else if (formData.name.trim().length > 50) {
      newErrors.name = "Category name must be less than 50 characters";
    }
    if (formData.description && formData.description.trim().length > 200) {
      newErrors.description = "Description must be less than 200 characters";
    }
    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };
  const handleSubmit = async (e) => {
    e.preventDefault();
    if (!validateForm()) {
      return;
    }
    if (externalIsSubmitting === void 0) {
      setIsSubmitting(true);
    }
    try {
      const categoryData = {
        name: formData.name.trim(),
        description: formData.description.trim() || void 0
      };
      await onSave(categoryData);
    } catch (error2) {
      console.error("Error saving category:", error2);
    } finally {
      if (externalIsSubmitting === void 0) {
        setIsSubmitting(false);
      }
    }
  };
  const handleCancel = () => {
    if (submitting)
      return;
    onCancel();
  };
  return /* @__PURE__ */ (0, import_jsx_runtime168.jsxs)("form", { onSubmit: handleSubmit, className: "space-y-4", children: [
    /* @__PURE__ */ (0, import_jsx_runtime168.jsxs)("div", { children: [
      /* @__PURE__ */ (0, import_jsx_runtime168.jsx)(Label2, { htmlFor: "name", children: "Category Name *" }),
      /* @__PURE__ */ (0, import_jsx_runtime168.jsx)(
        Input2,
        {
          id: "name",
          value: formData.name,
          onChange: (e) => handleInputChange("name", e.target.value),
          placeholder: "Enter category name",
          className: errors.name ? "border-red-500" : "",
          disabled: submitting,
          required: true
        }
      ),
      errors.name && /* @__PURE__ */ (0, import_jsx_runtime168.jsx)("p", { className: "text-sm text-red-500 mt-1", children: errors.name })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime168.jsxs)("div", { children: [
      /* @__PURE__ */ (0, import_jsx_runtime168.jsx)(Label2, { htmlFor: "description", children: "Description" }),
      /* @__PURE__ */ (0, import_jsx_runtime168.jsx)(
        Textarea,
        {
          id: "description",
          value: formData.description,
          onChange: (e) => handleInputChange("description", e.target.value),
          placeholder: "Enter category description (optional)",
          rows: 3,
          className: errors.description ? "border-red-500" : "",
          disabled: submitting
        }
      ),
      errors.description && /* @__PURE__ */ (0, import_jsx_runtime168.jsx)("p", { className: "text-sm text-red-500 mt-1", children: errors.description }),
      /* @__PURE__ */ (0, import_jsx_runtime168.jsxs)("p", { className: "text-xs text-gray-500 mt-1", children: [
        formData.description.length,
        "/200 characters"
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime168.jsxs)("div", { className: "flex items-center justify-end gap-3 pt-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime168.jsx)(
        Button,
        {
          type: "button",
          variant: "outline",
          onClick: handleCancel,
          disabled: submitting,
          children: "Cancel"
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime168.jsx)(
        Button,
        {
          type: "submit",
          disabled: submitting,
          children: submitting ? /* @__PURE__ */ (0, import_jsx_runtime168.jsxs)(import_jsx_runtime168.Fragment, { children: [
            /* @__PURE__ */ (0, import_jsx_runtime168.jsx)(import_lucide_react87.Loader2, { className: "h-4 w-4 mr-2 animate-spin" }),
            "Saving..."
          ] }) : /* @__PURE__ */ (0, import_jsx_runtime168.jsxs)(import_jsx_runtime168.Fragment, { children: [
            /* @__PURE__ */ (0, import_jsx_runtime168.jsx)(import_lucide_react87.Save, { className: "h-4 w-4 mr-2" }),
            mode === "create" ? "Create Category" : "Update Category"
          ] })
        }
      )
    ] })
  ] });
};

// src/components/features/Categories/components/AddCategoryDialog.tsx
var import_jsx_runtime169 = require("react/jsx-runtime");
var AddCategoryDialog = ({
  open,
  onOpenChange,
  onCategoryCreated,
  onError
}) => {
  const [isSubmitting, setIsSubmitting] = (0, import_react85.useState)(false);
  const handleSave = async (categoryData) => {
    try {
      setIsSubmitting(true);
      if (onCategoryCreated) {
        await onCategoryCreated(categoryData);
      }
      onOpenChange(false);
    } catch (error2) {
      console.error("\u274C AddCategoryDialog: Error occurred:", error2);
      if (onError) {
        onError(error2 instanceof Error ? error2.message : "Failed to create category");
      }
    } finally {
      setIsSubmitting(false);
    }
  };
  const handleCancel = () => {
    if (isSubmitting)
      return;
    onOpenChange(false);
  };
  return /* @__PURE__ */ (0, import_jsx_runtime169.jsx)(Dialog, { open, onOpenChange, children: /* @__PURE__ */ (0, import_jsx_runtime169.jsxs)(DialogContent, { className: "sm:max-w-[600px]", children: [
    /* @__PURE__ */ (0, import_jsx_runtime169.jsx)(DialogHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime169.jsx)(DialogTitle, { children: "Add New Category" }) }),
    /* @__PURE__ */ (0, import_jsx_runtime169.jsx)(
      CategoryFormContent,
      {
        category: null,
        onSave: handleSave,
        onCancel: handleCancel,
        mode: "create",
        isSubmitting
      }
    )
  ] }) });
};

// src/components/features/Categories/components/CategoryActions.tsx
var import_jsx_runtime170 = require("react/jsx-runtime");
var CategoryActions = ({
  onAddCategory,
  onImportCategories,
  onExportCategories,
  onBulkEdit,
  onCategoryCreated,
  onError
}) => {
  const [isAddDialogOpen, setIsAddDialogOpen] = (0, import_react86.useState)(false);
  const { canManageCategories } = (0, import_hooks13.useUserRole)();
  const allActions = [
    {
      id: "add-category",
      label: "Add Category",
      description: "Create a new product category",
      icon: "\u2795",
      variant: "default",
      onClick: () => setIsAddDialogOpen(true),
      roles: canManageCategories ? ["ALL"] : []
      // Use permission check
    },
    {
      id: "import-categories",
      label: "Import Categories",
      description: "Import from CSV/Excel",
      icon: "\u{1F4E5}",
      variant: "secondary",
      onClick: onImportCategories,
      roles: canManageCategories ? ["ALL"] : []
      // Use permission check
    },
    {
      id: "export-categories",
      label: "Export Categories",
      description: "Export to CSV/Excel",
      icon: "\u{1F4E4}",
      variant: "outline",
      onClick: onExportCategories,
      roles: ["ALL"]
      // All roles can export
    },
    {
      id: "bulk-edit",
      label: "Bulk Edit",
      description: "Edit multiple categories",
      icon: "\u270F\uFE0F",
      variant: "outline",
      onClick: onBulkEdit,
      roles: canManageCategories ? ["ALL"] : []
      // Use permission check
    }
  ];
  const actions = allActions.filter(
    (action) => !action.roles || action.roles.length > 0
  ).map(({ roles, ...action }) => action);
  return /* @__PURE__ */ (0, import_jsx_runtime170.jsxs)(import_jsx_runtime170.Fragment, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime170.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime170.jsx)(CardContent2, { className: "p-4", children: /* @__PURE__ */ (0, import_jsx_runtime170.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3", children: actions.map((action) => /* @__PURE__ */ (0, import_jsx_runtime170.jsx)(
      Button,
      {
        variant: action.variant,
        className: "h-auto p-3 flex flex-col items-start space-y-2 text-left",
        onClick: action.onClick,
        children: /* @__PURE__ */ (0, import_jsx_runtime170.jsxs)("div", { className: "flex items-center space-x-2 w-full", children: [
          /* @__PURE__ */ (0, import_jsx_runtime170.jsx)("span", { className: "text-lg", children: action.icon }),
          /* @__PURE__ */ (0, import_jsx_runtime170.jsxs)("div", { className: "flex-1", children: [
            /* @__PURE__ */ (0, import_jsx_runtime170.jsx)("div", { className: "font-medium text-sm", children: action.label }),
            /* @__PURE__ */ (0, import_jsx_runtime170.jsx)("div", { className: "text-xs opacity-80", children: action.description })
          ] })
        ] })
      },
      action.id
    )) }) }) }),
    /* @__PURE__ */ (0, import_jsx_runtime170.jsx)(
      AddCategoryDialog,
      {
        open: isAddDialogOpen,
        onOpenChange: setIsAddDialogOpen,
        onCategoryCreated,
        onError
      }
    )
  ] });
};

// src/components/features/Categories/components/CategoryCard.tsx
var import_lucide_react88 = require("lucide-react");
var import_jsx_runtime171 = require("react/jsx-runtime");
var CategoryCard = ({
  category,
  onView,
  onEdit
}) => {
  const handleView = () => {
    onView(category);
  };
  const handleEdit = () => {
    onEdit(category);
  };
  return /* @__PURE__ */ (0, import_jsx_runtime171.jsxs)(Card2, { className: "h-full hover:shadow-md transition-shadow", children: [
    /* @__PURE__ */ (0, import_jsx_runtime171.jsx)(CardHeader2, { className: "pb-3", children: /* @__PURE__ */ (0, import_jsx_runtime171.jsxs)("div", { className: "flex items-start justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime171.jsxs)("div", { className: "flex items-center space-x-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime171.jsx)("div", { className: "p-2 bg-primary/10 rounded-lg", children: /* @__PURE__ */ (0, import_jsx_runtime171.jsx)(import_lucide_react88.Tag, { className: "h-4 w-4 text-primary" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime171.jsxs)("div", { className: "flex-1 min-w-0", children: [
          /* @__PURE__ */ (0, import_jsx_runtime171.jsx)(CardTitle2, { className: "text-lg font-semibold truncate", children: category.name }),
          /* @__PURE__ */ (0, import_jsx_runtime171.jsx)("div", { className: "flex items-center space-x-2 mt-1", children: /* @__PURE__ */ (0, import_jsx_runtime171.jsx)(
            Badge,
            {
              variant: category.isActive ? "default" : "secondary",
              className: "text-xs",
              children: category.isActive ? "Active" : "Inactive"
            }
          ) })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime171.jsxs)("div", { className: "flex items-center space-x-1", children: [
        /* @__PURE__ */ (0, import_jsx_runtime171.jsxs)(
          Button,
          {
            variant: "outline",
            size: "sm",
            onClick: handleView,
            className: "h-8 px-3",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime171.jsx)(import_lucide_react88.Eye, { className: "h-4 w-4 mr-1" }),
              "View"
            ]
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime171.jsxs)(
          Button,
          {
            variant: "outline",
            size: "sm",
            onClick: handleEdit,
            className: "h-8 px-3 text-blue-600 hover:text-blue-700 hover:bg-blue-50 border-blue-200 hover:border-blue-300",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime171.jsx)(import_lucide_react88.Edit, { className: "h-4 w-4 mr-1" }),
              "Edit"
            ]
          }
        )
      ] })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime171.jsxs)(CardContent2, { className: "pt-0", children: [
      category.description ? /* @__PURE__ */ (0, import_jsx_runtime171.jsx)("p", { className: "text-sm text-muted-foreground line-clamp-2 mb-3", children: category.description }) : /* @__PURE__ */ (0, import_jsx_runtime171.jsx)("p", { className: "text-sm text-muted-foreground mb-3 italic", children: "No description provided" }),
      /* @__PURE__ */ (0, import_jsx_runtime171.jsxs)("div", { className: "flex items-center justify-between text-xs text-muted-foreground", children: [
        /* @__PURE__ */ (0, import_jsx_runtime171.jsxs)("div", { className: "flex items-center space-x-1", children: [
          /* @__PURE__ */ (0, import_jsx_runtime171.jsx)(import_lucide_react88.Calendar, { className: "h-3 w-3" }),
          /* @__PURE__ */ (0, import_jsx_runtime171.jsxs)("span", { children: [
            "Created ",
            new Date(category.createdAt).toLocaleDateString()
          ] })
        ] }),
        category.updatedAt && category.updatedAt !== category.createdAt && /* @__PURE__ */ (0, import_jsx_runtime171.jsxs)("span", { className: "text-xs", children: [
          "Updated ",
          new Date(category.updatedAt).toLocaleDateString()
        ] })
      ] })
    ] })
  ] });
};

// src/components/features/Categories/components/CategoryGrid.tsx
var import_jsx_runtime172 = require("react/jsx-runtime");
var CategoryGrid = ({
  categories,
  onViewCategory,
  onEditCategory,
  sortField,
  sortOrder,
  onSortChange
}) => {
  if (categories.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime172.jsx)("div", { className: "bg-white rounded-lg border p-6", children: /* @__PURE__ */ (0, import_jsx_runtime172.jsxs)("div", { className: "text-center py-12", children: [
      /* @__PURE__ */ (0, import_jsx_runtime172.jsx)("div", { className: "mx-auto w-24 h-24 bg-muted rounded-full flex items-center justify-center mb-4", children: /* @__PURE__ */ (0, import_jsx_runtime172.jsx)(
        "svg",
        {
          className: "w-12 h-12 text-muted-foreground",
          fill: "none",
          stroke: "currentColor",
          viewBox: "0 0 24 24",
          xmlns: "http://www.w3.org/2000/svg",
          children: /* @__PURE__ */ (0, import_jsx_runtime172.jsx)(
            "path",
            {
              strokeLinecap: "round",
              strokeLinejoin: "round",
              strokeWidth: 2,
              d: "M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"
            }
          )
        }
      ) }),
      /* @__PURE__ */ (0, import_jsx_runtime172.jsx)("h3", { className: "text-lg font-medium text-muted-foreground mb-2", children: "No categories found" }),
      /* @__PURE__ */ (0, import_jsx_runtime172.jsx)("p", { className: "text-muted-foreground mb-4", children: "Get started by creating your first product category" })
    ] }) });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime172.jsx)("div", { className: "bg-white rounded-lg border p-6", children: /* @__PURE__ */ (0, import_jsx_runtime172.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6", children: categories.map((category) => /* @__PURE__ */ (0, import_jsx_runtime172.jsx)(
    CategoryCard,
    {
      category,
      onView: onViewCategory,
      onEdit: onEditCategory
    },
    category.id
  )) }) });
};

// src/components/features/Categories/components/CategoryTable.tsx
var import_react87 = __toESM(require("react"));
var import_lucide_react89 = require("lucide-react");
var import_jsx_runtime173 = require("react/jsx-runtime");
function CategoryTable({
  categories,
  onCategoryAction,
  sortBy = "name",
  sortOrder = "asc",
  onSort
}) {
  const [openDropdownId, setOpenDropdownId] = import_react87.default.useState(null);
  if (categories.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime173.jsx)(Card2, { className: "shadow-sm border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ (0, import_jsx_runtime173.jsx)(CardContent2, { className: "text-center py-12", children: /* @__PURE__ */ (0, import_jsx_runtime173.jsxs)("div", { className: "text-gray-500 dark:text-gray-400", children: [
      /* @__PURE__ */ (0, import_jsx_runtime173.jsx)(import_lucide_react89.FolderOpen, { className: "w-16 h-16 mx-auto mb-4 text-gray-400" }),
      /* @__PURE__ */ (0, import_jsx_runtime173.jsx)("h3", { className: "text-lg font-medium mb-2", children: "No categories found" }),
      /* @__PURE__ */ (0, import_jsx_runtime173.jsx)("p", { className: "text-sm", children: "Try adjusting your search or add categories to get started." })
    ] }) }) });
  }
  const formatDate11 = (dateString) => {
    if (!dateString)
      return "N/A";
    const date2 = typeof dateString === "string" ? new Date(dateString) : dateString;
    return date2.toLocaleDateString("en-US", {
      year: "numeric",
      month: "short",
      day: "numeric"
    });
  };
  const getStatusBadge = (isActive) => {
    return isActive ? /* @__PURE__ */ (0, import_jsx_runtime173.jsx)(Badge, { className: "bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200", children: "Active" }) : /* @__PURE__ */ (0, import_jsx_runtime173.jsx)(Badge, { className: "bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200", children: "Inactive" });
  };
  const handleSort = (column) => {
    if (onSort) {
      onSort(column);
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime173.jsx)(Card2, { className: "shadow-sm border border-gray-200 dark:border-gray-700 flex flex-col h-full", children: /* @__PURE__ */ (0, import_jsx_runtime173.jsx)("div", { className: "flex-1 overflow-auto", children: /* @__PURE__ */ (0, import_jsx_runtime173.jsxs)("table", { className: "w-full", children: [
    /* @__PURE__ */ (0, import_jsx_runtime173.jsx)("thead", { className: "bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-10", children: /* @__PURE__ */ (0, import_jsx_runtime173.jsxs)("tr", { children: [
      /* @__PURE__ */ (0, import_jsx_runtime173.jsx)(
        "th",
        {
          onClick: () => handleSort("id"),
          className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",
          children: /* @__PURE__ */ (0, import_jsx_runtime173.jsxs)("div", { className: "flex items-center gap-1", children: [
            "ID",
            sortBy === "id" && /* @__PURE__ */ (0, import_jsx_runtime173.jsx)("span", { className: "text-xs", children: sortOrder === "desc" ? "\u2193" : "\u2191" })
          ] })
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime173.jsx)(
        "th",
        {
          onClick: () => handleSort("name"),
          className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",
          children: /* @__PURE__ */ (0, import_jsx_runtime173.jsxs)("div", { className: "flex items-center gap-1", children: [
            "Name",
            sortBy === "name" && /* @__PURE__ */ (0, import_jsx_runtime173.jsx)("span", { className: "text-xs", children: sortOrder === "desc" ? "\u2193" : "\u2191" })
          ] })
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime173.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Description" }),
      /* @__PURE__ */ (0, import_jsx_runtime173.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Status" }),
      /* @__PURE__ */ (0, import_jsx_runtime173.jsx)(
        "th",
        {
          onClick: () => handleSort("createdAt"),
          className: "px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",
          children: /* @__PURE__ */ (0, import_jsx_runtime173.jsxs)("div", { className: "flex items-center gap-1", children: [
            "Created",
            sortBy === "createdAt" && /* @__PURE__ */ (0, import_jsx_runtime173.jsx)("span", { className: "text-xs", children: sortOrder === "desc" ? "\u2193" : "\u2191" })
          ] })
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime173.jsx)("th", { className: "px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider", children: "Actions" })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime173.jsx)("tbody", { className: "bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700", children: categories.map((category) => /* @__PURE__ */ (0, import_jsx_runtime173.jsxs)(
      "tr",
      {
        className: "hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",
        children: [
          /* @__PURE__ */ (0, import_jsx_runtime173.jsxs)("td", { className: "px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100", children: [
            "#",
            category.id
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime173.jsx)("td", { className: "px-6 py-4 whitespace-nowrap", children: /* @__PURE__ */ (0, import_jsx_runtime173.jsx)("div", { className: "text-sm font-medium text-gray-900 dark:text-gray-100", children: category.name }) }),
          /* @__PURE__ */ (0, import_jsx_runtime173.jsx)("td", { className: "px-6 py-4 text-sm text-gray-500 dark:text-gray-400", children: /* @__PURE__ */ (0, import_jsx_runtime173.jsx)("div", { className: "max-w-xs truncate", children: category.description || "N/A" }) }),
          /* @__PURE__ */ (0, import_jsx_runtime173.jsx)("td", { className: "px-6 py-4 whitespace-nowrap", children: getStatusBadge(category.isActive) }),
          /* @__PURE__ */ (0, import_jsx_runtime173.jsx)("td", { className: "px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400", children: formatDate11(category.createdAt) }),
          /* @__PURE__ */ (0, import_jsx_runtime173.jsx)("td", { className: "px-6 py-4 whitespace-nowrap text-right text-sm font-medium", children: /* @__PURE__ */ (0, import_jsx_runtime173.jsxs)(DropdownMenu, { children: [
            /* @__PURE__ */ (0, import_jsx_runtime173.jsx)(DropdownMenuTrigger, { asChild: true, children: /* @__PURE__ */ (0, import_jsx_runtime173.jsx)(
              Button,
              {
                variant: "ghost",
                size: "sm",
                className: "h-8 w-8 p-0",
                onClick: () => setOpenDropdownId(category.id),
                children: /* @__PURE__ */ (0, import_jsx_runtime173.jsx)(import_lucide_react89.MoreVertical, { className: "h-4 w-4" })
              }
            ) }),
            /* @__PURE__ */ (0, import_jsx_runtime173.jsxs)(
              DropdownMenuContent,
              {
                align: "end",
                open: openDropdownId === category.id,
                onOpenChange: (open) => setOpenDropdownId(open ? category.id : null),
                children: [
                  /* @__PURE__ */ (0, import_jsx_runtime173.jsxs)(
                    DropdownMenuItem,
                    {
                      onClick: () => {
                        onCategoryAction("view", category.id);
                        setOpenDropdownId(null);
                      },
                      className: "cursor-pointer",
                      children: [
                        /* @__PURE__ */ (0, import_jsx_runtime173.jsx)(import_lucide_react89.Eye, { className: "mr-2 h-4 w-4" }),
                        "View Details"
                      ]
                    }
                  ),
                  /* @__PURE__ */ (0, import_jsx_runtime173.jsxs)(
                    DropdownMenuItem,
                    {
                      onClick: () => {
                        onCategoryAction("edit", category.id);
                        setOpenDropdownId(null);
                      },
                      className: "cursor-pointer",
                      children: [
                        /* @__PURE__ */ (0, import_jsx_runtime173.jsx)(import_lucide_react89.Edit, { className: "mr-2 h-4 w-4" }),
                        "Edit Category"
                      ]
                    }
                  ),
                  /* @__PURE__ */ (0, import_jsx_runtime173.jsx)(DropdownMenuSeparator, {}),
                  /* @__PURE__ */ (0, import_jsx_runtime173.jsx)(
                    DropdownMenuItem,
                    {
                      onClick: () => {
                        onCategoryAction(category.isActive ? "deactivate" : "activate", category.id);
                        setOpenDropdownId(null);
                      },
                      className: "cursor-pointer",
                      children: category.isActive ? /* @__PURE__ */ (0, import_jsx_runtime173.jsxs)(import_jsx_runtime173.Fragment, { children: [
                        /* @__PURE__ */ (0, import_jsx_runtime173.jsx)(import_lucide_react89.XCircle, { className: "mr-2 h-4 w-4" }),
                        "Deactivate"
                      ] }) : /* @__PURE__ */ (0, import_jsx_runtime173.jsxs)(import_jsx_runtime173.Fragment, { children: [
                        /* @__PURE__ */ (0, import_jsx_runtime173.jsx)(import_lucide_react89.CheckCircle, { className: "mr-2 h-4 w-4" }),
                        "Activate"
                      ] })
                    }
                  ),
                  /* @__PURE__ */ (0, import_jsx_runtime173.jsx)(DropdownMenuSeparator, {}),
                  /* @__PURE__ */ (0, import_jsx_runtime173.jsxs)(
                    DropdownMenuItem,
                    {
                      onClick: () => {
                        onCategoryAction("delete", category.id);
                        setOpenDropdownId(null);
                      },
                      className: "cursor-pointer text-red-600 dark:text-red-400",
                      children: [
                        /* @__PURE__ */ (0, import_jsx_runtime173.jsx)(import_lucide_react89.Trash2, { className: "mr-2 h-4 w-4" }),
                        "Delete"
                      ]
                    }
                  )
                ]
              }
            )
          ] }) })
        ]
      },
      category.id
    )) })
  ] }) }) });
}

// src/components/features/Categories/components/CategoryForm.tsx
var import_jsx_runtime174 = require("react/jsx-runtime");
var CategoryForm = ({
  category,
  onSave,
  onCancel,
  mode
}) => {
  return /* @__PURE__ */ (0, import_jsx_runtime174.jsx)(Dialog, { open: true, onOpenChange: onCancel, children: /* @__PURE__ */ (0, import_jsx_runtime174.jsxs)(DialogContent, { className: "sm:max-w-[600px]", children: [
    /* @__PURE__ */ (0, import_jsx_runtime174.jsx)(DialogHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime174.jsx)(DialogTitle, { children: mode === "create" ? "Add New Category" : "Edit Category" }) }),
    /* @__PURE__ */ (0, import_jsx_runtime174.jsx)(
      CategoryFormContent,
      {
        category,
        onSave,
        onCancel,
        mode
      }
    )
  ] }) });
};

// src/components/features/Categories/components/CategoryView.tsx
var import_react88 = require("react");
var import_jsx_runtime175 = require("react/jsx-runtime");
var CategoryView = ({
  category,
  onClose,
  onEdit,
  onDelete
}) => {
  const [showDeleteConfirm, setShowDeleteConfirm] = (0, import_react88.useState)(false);
  if (!category)
    return null;
  const handleEdit = () => {
    onEdit(category);
    onClose();
  };
  const handleDelete = () => {
    setShowDeleteConfirm(true);
  };
  const handleConfirmDelete = () => {
    onDelete(category);
    setShowDeleteConfirm(false);
    onClose();
  };
  const handleCancelDelete = () => {
    setShowDeleteConfirm(false);
  };
  return /* @__PURE__ */ (0, import_jsx_runtime175.jsxs)(import_jsx_runtime175.Fragment, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime175.jsx)(Dialog, { open: !!category, onOpenChange: onClose, children: /* @__PURE__ */ (0, import_jsx_runtime175.jsxs)(DialogContent, { className: "sm:max-w-[600px]", children: [
      /* @__PURE__ */ (0, import_jsx_runtime175.jsx)(DialogHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime175.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime175.jsx)(DialogTitle, { className: "text-xl font-semibold", children: "Category Details" }),
        /* @__PURE__ */ (0, import_jsx_runtime175.jsx)(DialogDescription, { className: "text-sm text-gray-600 mt-1", children: "View category information and details" })
      ] }) }),
      category && /* @__PURE__ */ (0, import_jsx_runtime175.jsxs)("div", { className: "mt-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime175.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
          /* @__PURE__ */ (0, import_jsx_runtime175.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime175.jsx)(Label2, { className: "text-sm font-medium text-gray-700", children: "Category Name" }),
            /* @__PURE__ */ (0, import_jsx_runtime175.jsx)("div", { className: "mt-1 p-3 bg-gray-50 rounded-md border", children: /* @__PURE__ */ (0, import_jsx_runtime175.jsx)("p", { className: "text-gray-900 font-medium", children: category.name }) })
          ] }),
          category.description && /* @__PURE__ */ (0, import_jsx_runtime175.jsxs)("div", { className: "md:col-span-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime175.jsx)(Label2, { className: "text-sm font-medium text-gray-700", children: "Description" }),
            /* @__PURE__ */ (0, import_jsx_runtime175.jsx)("div", { className: "mt-1 p-3 bg-gray-50 rounded-md border", children: /* @__PURE__ */ (0, import_jsx_runtime175.jsx)("p", { className: "text-gray-900 whitespace-pre-wrap", children: category.description }) })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime175.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime175.jsx)(Label2, { className: "text-sm font-medium text-gray-700", children: "Created" }),
            /* @__PURE__ */ (0, import_jsx_runtime175.jsx)("div", { className: "mt-1 p-3 bg-gray-50 rounded-md border", children: /* @__PURE__ */ (0, import_jsx_runtime175.jsx)("p", { className: "text-gray-900", children: category.createdAt ? new Date(category.createdAt).toLocaleDateString("en-US", {
              year: "numeric",
              month: "long",
              day: "numeric"
            }) : "Unknown" }) })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime175.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime175.jsx)(Label2, { className: "text-sm font-medium text-gray-700", children: "Last Updated" }),
            /* @__PURE__ */ (0, import_jsx_runtime175.jsx)("div", { className: "mt-1 p-3 bg-gray-50 rounded-md border", children: /* @__PURE__ */ (0, import_jsx_runtime175.jsx)("p", { className: "text-gray-900", children: category.updatedAt && category.updatedAt !== category.createdAt ? new Date(category.updatedAt).toLocaleDateString("en-US", {
              year: "numeric",
              month: "long",
              day: "numeric"
            }) : "Never updated" }) })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime175.jsxs)("div", { className: "flex items-center justify-end gap-3 pt-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime175.jsx)(
            Button,
            {
              type: "button",
              variant: "outline",
              onClick: onClose,
              children: "Close"
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime175.jsx)(
            Button,
            {
              type: "button",
              onClick: handleEdit,
              children: "Edit Category"
            }
          )
        ] })
      ] })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime175.jsx)(Dialog, { open: showDeleteConfirm, onOpenChange: setShowDeleteConfirm, children: /* @__PURE__ */ (0, import_jsx_runtime175.jsxs)(DialogContent, { className: "sm:max-w-[600px]", children: [
      /* @__PURE__ */ (0, import_jsx_runtime175.jsx)(DialogHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime175.jsx)(DialogTitle, { children: "Delete Category" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime175.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime175.jsxs)("p", { className: "text-gray-600", children: [
          "Are you sure you want to delete the category ",
          /* @__PURE__ */ (0, import_jsx_runtime175.jsxs)("strong", { children: [
            '"',
            category?.name,
            '"'
          ] }),
          "?"
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime175.jsx)("p", { className: "text-sm text-gray-500", children: "This action cannot be undone. All products in this category will be affected." }),
        /* @__PURE__ */ (0, import_jsx_runtime175.jsxs)("div", { className: "flex items-center justify-end gap-3 pt-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime175.jsx)(
            Button,
            {
              type: "button",
              variant: "outline",
              onClick: handleCancelDelete,
              children: "Cancel"
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime175.jsx)(
            Button,
            {
              type: "button",
              variant: "destructive",
              onClick: handleConfirmDelete,
              children: "Delete Category"
            }
          )
        ] })
      ] })
    ] }) })
  ] });
};

// src/components/features/Categories/components/CategoryFilters.tsx
var import_ui119 = require("@rentalshop/ui");
var import_lucide_react90 = require("lucide-react");
var import_jsx_runtime176 = require("react/jsx-runtime");
var CategoryFilters = ({
  filters,
  onFiltersChange,
  onSearchChange,
  onClearFilters,
  onSortChange,
  currentSort
}) => {
  const handleSortToggle = (field) => {
    if (!onSortChange)
      return;
    const newOrder = currentSort?.field === field && currentSort?.order === "asc" ? "desc" : "asc";
    onSortChange(field, newOrder);
  };
  return /* @__PURE__ */ (0, import_jsx_runtime176.jsx)(import_ui119.Card, { className: "bg-white", children: /* @__PURE__ */ (0, import_jsx_runtime176.jsx)(import_ui119.CardContent, { className: "p-4", children: /* @__PURE__ */ (0, import_jsx_runtime176.jsxs)("div", { className: "flex items-center space-x-4", children: [
    /* @__PURE__ */ (0, import_jsx_runtime176.jsxs)("div", { className: "flex-1 relative", children: [
      /* @__PURE__ */ (0, import_jsx_runtime176.jsx)(import_lucide_react90.Search, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground" }),
      /* @__PURE__ */ (0, import_jsx_runtime176.jsx)(
        import_ui119.Input,
        {
          type: "text",
          placeholder: "Search categories...",
          value: filters.search || "",
          onChange: (e) => onSearchChange(e.target.value),
          className: "pl-10"
        }
      )
    ] }),
    filters.search && /* @__PURE__ */ (0, import_jsx_runtime176.jsx)(
      import_ui119.Button,
      {
        onClick: onClearFilters,
        variant: "ghost",
        size: "sm",
        children: "Clear"
      }
    )
  ] }) }) });
};

// src/components/features/Categories/components/CategorySearch.tsx
var import_lucide_react91 = require("lucide-react");
var import_jsx_runtime177 = require("react/jsx-runtime");
function CategorySearch({ value, onChange, onClear }) {
  return /* @__PURE__ */ (0, import_jsx_runtime177.jsx)(Card2, { className: "shadow-sm border-gray-200 dark:border-gray-700", children: /* @__PURE__ */ (0, import_jsx_runtime177.jsx)(CardContent2, { className: "pt-6 space-y-4", children: /* @__PURE__ */ (0, import_jsx_runtime177.jsx)("div", { className: "flex justify-between items-end gap-4", children: /* @__PURE__ */ (0, import_jsx_runtime177.jsxs)("div", { className: "space-y-2 flex-1", children: [
    /* @__PURE__ */ (0, import_jsx_runtime177.jsx)("label", { className: "text-sm font-medium text-gray-700 dark:text-gray-300", children: "Search Categories" }),
    /* @__PURE__ */ (0, import_jsx_runtime177.jsxs)("div", { className: "relative", children: [
      /* @__PURE__ */ (0, import_jsx_runtime177.jsx)("div", { className: "absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none", children: /* @__PURE__ */ (0, import_jsx_runtime177.jsx)(import_lucide_react91.Search, { className: "h-4 w-4 text-gray-400" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime177.jsx)(
        Input2,
        {
          type: "text",
          placeholder: "Search by category name...",
          value,
          onChange: (e) => onChange(e.target.value),
          className: "pl-10 pr-10"
        }
      ),
      value && /* @__PURE__ */ (0, import_jsx_runtime177.jsx)(
        Button,
        {
          onClick: onClear,
          variant: "ghost",
          size: "icon",
          className: "absolute inset-y-0 right-0 h-full w-10",
          children: /* @__PURE__ */ (0, import_jsx_runtime177.jsx)(import_lucide_react91.X, { className: "h-4 w-4 text-gray-400 hover:text-gray-600" })
        }
      )
    ] })
  ] }) }) }) });
}

// src/components/features/Categories/components/CategoriesLoading.tsx
var import_jsx_runtime178 = require("react/jsx-runtime");
function CategoriesLoading() {
  return /* @__PURE__ */ (0, import_jsx_runtime178.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime178.jsx)(StatsSkeleton, {}),
    /* @__PURE__ */ (0, import_jsx_runtime178.jsx)(SearchSkeleton, {}),
    /* @__PURE__ */ (0, import_jsx_runtime178.jsx)(TableSkeleton, { rows: 8, columns: 4 }),
    /* @__PURE__ */ (0, import_jsx_runtime178.jsx)(PaginationSkeleton, {})
  ] });
}
function CategoryDetailLoading() {
  return /* @__PURE__ */ (0, import_jsx_runtime178.jsx)("div", { className: "space-y-6", children: /* @__PURE__ */ (0, import_jsx_runtime178.jsxs)("div", { className: "animate-pulse", children: [
    /* @__PURE__ */ (0, import_jsx_runtime178.jsx)("div", { className: "h-8 bg-gray-200 rounded w-1/4 mb-4" }),
    /* @__PURE__ */ (0, import_jsx_runtime178.jsx)("div", { className: "h-4 bg-gray-200 rounded w-1/2 mb-2" }),
    /* @__PURE__ */ (0, import_jsx_runtime178.jsx)("div", { className: "h-4 bg-gray-200 rounded w-3/4 mb-2" }),
    /* @__PURE__ */ (0, import_jsx_runtime178.jsx)("div", { className: "h-4 bg-gray-200 rounded w-2/3" })
  ] }) });
}

// src/components/features/Categories/Categories.tsx
var import_lucide_react92 = require("lucide-react");
var import_jsx_runtime179 = require("react/jsx-runtime");
var Categories = ({
  data,
  filters = {},
  onSearchChange = () => {
  },
  onCategoryAction = () => {
  },
  onPageChange = () => {
  },
  onSort = () => {
  },
  currentUser,
  className = ""
}) => {
  const categories = data?.categories || [];
  const totalCategories = data?.total || 0;
  const currentPage = data?.currentPage || 1;
  const totalPages = data?.totalPages || 1;
  const limit = data?.limit || 25;
  const memoizedOnSearchChange = import_react89.default.useCallback(onSearchChange, [onSearchChange]);
  const memoizedOnCategoryAction = import_react89.default.useCallback(onCategoryAction, [onCategoryAction]);
  const memoizedOnPageChange = import_react89.default.useCallback(onPageChange, [onPageChange]);
  const memoizedOnSort = import_react89.default.useCallback(onSort, [onSort]);
  return /* @__PURE__ */ (0, import_jsx_runtime179.jsxs)("div", { className: `flex flex-col h-full ${className}`, children: [
    /* @__PURE__ */ (0, import_jsx_runtime179.jsx)("div", { className: "flex-shrink-0 mb-4", children: /* @__PURE__ */ (0, import_jsx_runtime179.jsx)(
      CategorySearch,
      {
        value: filters.q || "",
        onChange: memoizedOnSearchChange,
        onClear: () => memoizedOnSearchChange("")
      }
    ) }),
    /* @__PURE__ */ (0, import_jsx_runtime179.jsx)("div", { className: "flex-1 min-h-0", children: categories.length > 0 ? /* @__PURE__ */ (0, import_jsx_runtime179.jsx)(
      CategoryTable,
      {
        categories,
        onCategoryAction: memoizedOnCategoryAction,
        sortBy: filters.sortBy || "name",
        sortOrder: filters.sortOrder || "asc",
        onSort: memoizedOnSort
      }
    ) : /* @__PURE__ */ (0, import_jsx_runtime179.jsx)(
      import_ui120.EmptyState,
      {
        icon: import_lucide_react92.FolderOpen,
        title: "No categories found",
        description: filters.q ? "Try adjusting your search" : "Get started by adding your first category"
      }
    ) }),
    categories.length > 0 && totalCategories > limit && /* @__PURE__ */ (0, import_jsx_runtime179.jsx)("div", { className: "flex-shrink-0 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime179.jsx)(
      import_ui120.Pagination,
      {
        currentPage,
        totalPages,
        total: totalCategories,
        limit,
        onPageChange: memoizedOnPageChange,
        itemName: "categories"
      }
    ) })
  ] });
};

// src/components/features/Plans/components/PlanDialog.tsx
var import_ui121 = require("@rentalshop/ui");
var import_jsx_runtime180 = require("react/jsx-runtime");
var PlanDialog = ({
  open,
  onOpenChange,
  mode,
  plan,
  onSubmit,
  loading = false
}) => {
  const getDialogTitle = () => {
    switch (mode) {
      case "create":
        return "Create New Plan";
      case "edit":
        return "Edit Plan";
      case "view":
        return "Plan Details";
      default:
        return "Plan";
    }
  };
  const getDialogDescription = () => {
    switch (mode) {
      case "create":
        return "Create a new subscription plan for merchants";
      case "edit":
        return "Update the plan information and settings";
      case "view":
        return "View plan details and configuration";
      default:
        return "";
    }
  };
  const handleSubmit = async (data) => {
    try {
      await onSubmit(data);
      onOpenChange(false);
    } catch (error2) {
      console.error("Error submitting plan:", error2);
    }
  };
  const handleCancel = () => {
    onOpenChange(false);
  };
  return /* @__PURE__ */ (0, import_jsx_runtime180.jsx)(import_ui121.Dialog, { open, onOpenChange, children: /* @__PURE__ */ (0, import_jsx_runtime180.jsxs)(import_ui121.DialogContent, { className: "max-w-4xl max-h-[90vh] overflow-y-auto", children: [
    /* @__PURE__ */ (0, import_jsx_runtime180.jsxs)(import_ui121.DialogHeader, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime180.jsx)(import_ui121.DialogTitle, { children: getDialogTitle() }),
      /* @__PURE__ */ (0, import_jsx_runtime180.jsx)(import_ui121.DialogDescription, { children: getDialogDescription() })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime180.jsx)(
      PlanForm,
      {
        initialData: plan,
        onSubmit: handleSubmit,
        onCancel: handleCancel,
        loading,
        mode,
        hideHeader: true,
        title: getDialogTitle(),
        submitText: mode === "create" ? "Create Plan" : mode === "edit" ? "Update Plan" : "Save Changes"
      }
    )
  ] }) });
};

// src/components/features/Plans/components/PlanActions.tsx
var import_ui122 = require("@rentalshop/ui");
var import_lucide_react93 = require("lucide-react");
var import_jsx_runtime181 = require("react/jsx-runtime");
var PlanActions = ({
  plan,
  onView,
  onEdit,
  onDelete,
  onToggleStatus,
  onTogglePopular,
  onDuplicate,
  onArchive
}) => {
  return /* @__PURE__ */ (0, import_jsx_runtime181.jsxs)("div", { className: "flex items-center justify-end gap-2", children: [
    /* @__PURE__ */ (0, import_jsx_runtime181.jsx)(
      import_ui122.Button,
      {
        variant: "ghost",
        size: "sm",
        onClick: () => onView(plan),
        className: "h-8 w-8 p-0",
        title: "View plan details",
        children: /* @__PURE__ */ (0, import_jsx_runtime181.jsx)(import_lucide_react93.Eye, { className: "w-4 h-4" })
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime181.jsx)(
      import_ui122.Button,
      {
        variant: "ghost",
        size: "sm",
        onClick: () => onEdit(plan),
        className: "h-8 w-8 p-0",
        title: "Edit plan",
        children: /* @__PURE__ */ (0, import_jsx_runtime181.jsx)(import_lucide_react93.Edit, { className: "w-4 h-4" })
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime181.jsxs)(import_ui122.DropdownMenu, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime181.jsx)(import_ui122.DropdownMenuTrigger, { asChild: true, children: /* @__PURE__ */ (0, import_jsx_runtime181.jsx)(
        import_ui122.Button,
        {
          variant: "ghost",
          size: "sm",
          className: "h-8 w-8 p-0",
          title: "More actions",
          children: /* @__PURE__ */ (0, import_jsx_runtime181.jsx)(import_lucide_react93.MoreHorizontal, { className: "w-4 h-4" })
        }
      ) }),
      /* @__PURE__ */ (0, import_jsx_runtime181.jsxs)(import_ui122.DropdownMenuContent, { align: "end", className: "w-48", children: [
        /* @__PURE__ */ (0, import_jsx_runtime181.jsxs)(import_ui122.DropdownMenuItem, { onClick: () => onToggleStatus(plan), children: [
          /* @__PURE__ */ (0, import_jsx_runtime181.jsx)(import_lucide_react93.Settings, { className: "w-4 h-4 mr-2" }),
          plan.isActive ? "Deactivate" : "Activate"
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime181.jsxs)(import_ui122.DropdownMenuItem, { onClick: () => onTogglePopular(plan), children: [
          /* @__PURE__ */ (0, import_jsx_runtime181.jsx)(import_lucide_react93.Star, { className: "w-4 h-4 mr-2" }),
          plan.isPopular ? "Remove Popular" : "Mark Popular"
        ] }),
        onDuplicate && /* @__PURE__ */ (0, import_jsx_runtime181.jsxs)(import_ui122.DropdownMenuItem, { onClick: () => onDuplicate(plan), children: [
          /* @__PURE__ */ (0, import_jsx_runtime181.jsx)(import_lucide_react93.Copy, { className: "w-4 h-4 mr-2" }),
          "Duplicate Plan"
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime181.jsx)(import_ui122.DropdownMenuSeparator, {}),
        onArchive && /* @__PURE__ */ (0, import_jsx_runtime181.jsxs)(import_ui122.DropdownMenuItem, { onClick: () => onArchive(plan), children: [
          /* @__PURE__ */ (0, import_jsx_runtime181.jsx)(import_lucide_react93.Archive, { className: "w-4 h-4 mr-2" }),
          "Archive Plan"
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime181.jsxs)(
          import_ui122.DropdownMenuItem,
          {
            onClick: () => onDelete(plan),
            className: "text-red-600 focus:text-red-600",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime181.jsx)(import_lucide_react93.Trash2, { className: "w-4 h-4 mr-2" }),
              "Delete Plan"
            ]
          }
        )
      ] })
    ] })
  ] });
};

// src/components/features/Plans/components/PlanSelection.tsx
var import_react90 = require("react");
var import_ui123 = require("@rentalshop/ui");
var import_lucide_react94 = require("lucide-react");
var import_constants13 = require("@rentalshop/constants");
var import_utils38 = require("@rentalshop/utils");
var import_jsx_runtime182 = require("react/jsx-runtime");
var PlanSelection = ({
  plans,
  selectedPlanId,
  selectedBillingCycle = "monthly",
  onPlanSelect,
  loading = false,
  disabled = false
}) => {
  const [selectedPlan, setSelectedPlan] = (0, import_react90.useState)(selectedPlanId);
  const [selectedCycle, setSelectedCycle] = (0, import_react90.useState)(selectedBillingCycle);
  (0, import_react90.useEffect)(() => {
    if (selectedPlanId) {
      setSelectedPlan(selectedPlanId);
    }
  }, [selectedPlanId]);
  (0, import_react90.useEffect)(() => {
    if (selectedBillingCycle) {
      setSelectedCycle(selectedBillingCycle);
    }
  }, [selectedBillingCycle]);
  const handlePlanSelect = (planId) => {
    setSelectedPlan(planId);
    onPlanSelect(planId, selectedCycle);
  };
  const handleBillingCycleSelect = (cycle) => {
    setSelectedCycle(cycle);
    if (selectedPlan) {
      onPlanSelect(selectedPlan, cycle);
    }
  };
  const formatCurrency20 = (price, currency) => {
    return new Intl.NumberFormat("en-US", {
      style: "currency",
      currency: currency || "USD"
    }).format(price);
  };
  const getLimitText = (limit) => {
    return limit === -1 ? "Unlimited" : limit.toString();
  };
  const getPlanCardVariant = (plan) => {
    if (selectedPlan === plan.id)
      return "default";
    if (plan.isPopular)
      return "bordered";
    return "bordered";
  };
  const getBillingCyclePrice = (plan, cycle) => {
    const cycleOption = import_constants13.BILLING_CYCLES.find((option) => option.value === cycle);
    if (!cycleOption)
      return plan.price;
    const totalPrice = plan.price * cycleOption.months;
    const discount = (0, import_utils38.getBillingCycleDiscount)(cycle);
    const discountAmount = totalPrice * (discount / 100);
    return totalPrice - discountAmount;
  };
  const getBillingCycleMonthlyPrice = (plan, cycle) => {
    const totalPrice = getBillingCyclePrice(plan, cycle);
    const cycleOption = import_constants13.BILLING_CYCLES.find((option) => option.value === cycle);
    return cycleOption ? totalPrice / cycleOption.months : plan.price;
  };
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime182.jsx)("div", { className: "space-y-4", children: /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)("div", { className: "animate-pulse", children: [
      /* @__PURE__ */ (0, import_jsx_runtime182.jsx)("div", { className: "h-8 bg-bg-tertiary rounded w-1/4 mb-4" }),
      /* @__PURE__ */ (0, import_jsx_runtime182.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-6", children: [...Array(3)].map((_, i) => /* @__PURE__ */ (0, import_jsx_runtime182.jsx)("div", { className: "h-96 bg-bg-tertiary rounded" }, i)) })
    ] }) });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)("div", { className: "space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime182.jsx)("h3", { className: "text-lg font-medium text-text-primary mb-2", children: "Select Billing Cycle" }),
        /* @__PURE__ */ (0, import_jsx_runtime182.jsx)("p", { className: "text-text-secondary", children: "Choose how often you'd like to be billed" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime182.jsx)(
        import_ui123.RadioGroup,
        {
          value: selectedCycle,
          onValueChange: handleBillingCycleSelect,
          className: "grid grid-cols-1 md:grid-cols-4 gap-4",
          children: import_constants13.BILLING_CYCLES.map((cycle) => /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime182.jsx)(
              import_ui123.RadioGroupItem,
              {
                value: cycle.value,
                id: cycle.value,
                className: "peer sr-only",
                disabled
              }
            ),
            /* @__PURE__ */ (0, import_jsx_runtime182.jsx)(
              import_ui123.Label,
              {
                htmlFor: cycle.value,
                className: "flex flex-col items-center justify-between rounded-md border-2 border-border bg-bg-card p-4 hover:bg-bg-secondary cursor-pointer peer-data-[state=checked]:border-action-primary peer-data-[state=checked]:bg-action-primary/5 [&:has([data-state=checked])]:border-action-primary",
                children: /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)("div", { className: "text-center", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime182.jsx)("div", { className: "font-medium text-text-primary", children: cycle.label }),
                  /* @__PURE__ */ (0, import_jsx_runtime182.jsx)("div", { className: "text-sm text-text-secondary", children: cycle.description }),
                  (0, import_utils38.getBillingCycleDiscount)(cycle.value) > 0 && /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)(import_ui123.Badge, { variant: "default", className: "mt-2", children: [
                    (0, import_utils38.getBillingCycleDiscount)(cycle.value),
                    "% OFF"
                  ] })
                ] })
              }
            )
          ] }, cycle.value))
        }
      )
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)("div", { className: "space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime182.jsx)("h3", { className: "text-lg font-medium text-text-primary mb-2", children: "Select Your Plan" }),
        /* @__PURE__ */ (0, import_jsx_runtime182.jsx)("p", { className: "text-text-secondary", children: "Choose the plan that best fits your business needs" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime182.jsx)("div", { className: "grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4", children: plans.map((plan) => /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)(
        import_ui123.Card,
        {
          className: `cursor-pointer transition-all duration-200 hover:shadow-lg ${selectedPlan === plan.id ? "ring-2 ring-action-primary" : ""} ${plan.isPopular ? "ring-2 ring-action-primary" : ""}`,
          onClick: () => !disabled && handlePlanSelect(plan.id),
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime182.jsx)(import_ui123.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)("div", { className: "text-center", children: [
              plan.isPopular && /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)("div", { className: "inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-action-primary text-white mb-3", children: [
                /* @__PURE__ */ (0, import_jsx_runtime182.jsx)(import_lucide_react94.Star, { className: "w-3 h-3 mr-1" }),
                "Most Popular"
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime182.jsx)(import_ui123.CardTitle, { children: plan.name }),
              /* @__PURE__ */ (0, import_jsx_runtime182.jsx)("p", { className: "text-text-secondary text-sm mt-2", children: plan.description })
            ] }) }),
            /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)(import_ui123.CardContent, { children: [
              /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)("div", { className: "text-center mb-6", children: [
                /* @__PURE__ */ (0, import_jsx_runtime182.jsx)("div", { className: "text-4xl font-bold text-text-primary", children: formatCurrency20(getBillingCyclePrice(plan, selectedCycle), plan.currency) }),
                /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)("div", { className: "text-lg text-text-secondary", children: [
                  "per ",
                  (0, import_utils38.formatBillingCycle)(selectedCycle).toLowerCase()
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)("div", { className: "text-sm text-text-tertiary mt-1", children: [
                  formatCurrency20(getBillingCycleMonthlyPrice(plan, selectedCycle), plan.currency),
                  "/month"
                ] }),
                (0, import_utils38.getBillingCycleDiscount)(selectedCycle) > 0 && /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)("div", { className: "text-sm text-action-success mt-1", children: [
                  (0, import_utils38.getBillingCycleDiscount)(selectedCycle),
                  "% discount applied"
                ] }),
                plan.trialDays > 0 && /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)("div", { className: "text-sm text-action-primary mt-1", children: [
                  plan.trialDays,
                  "-day free trial"
                ] })
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)("div", { className: "space-y-3 mb-6", children: [
                /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)("span", { className: "text-text-secondary flex items-center gap-2", children: [
                    /* @__PURE__ */ (0, import_jsx_runtime182.jsx)(import_lucide_react94.Package, { className: "w-4 h-4" }),
                    "Outlets"
                  ] }),
                  /* @__PURE__ */ (0, import_jsx_runtime182.jsx)("span", { className: "font-medium", children: getLimitText(plan.limits.outlets) })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)("span", { className: "text-text-secondary flex items-center gap-2", children: [
                    /* @__PURE__ */ (0, import_jsx_runtime182.jsx)(import_lucide_react94.Users, { className: "w-4 h-4" }),
                    "Users"
                  ] }),
                  /* @__PURE__ */ (0, import_jsx_runtime182.jsx)("span", { className: "font-medium", children: getLimitText(plan.limits.users) })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)("span", { className: "text-text-secondary flex items-center gap-2", children: [
                    /* @__PURE__ */ (0, import_jsx_runtime182.jsx)(import_lucide_react94.CreditCard, { className: "w-4 h-4" }),
                    "Products"
                  ] }),
                  /* @__PURE__ */ (0, import_jsx_runtime182.jsx)("span", { className: "font-medium", children: getLimitText(plan.limits.products) })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)("div", { className: "flex items-center justify-between text-sm", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)("span", { className: "text-text-secondary flex items-center gap-2", children: [
                    /* @__PURE__ */ (0, import_jsx_runtime182.jsx)(import_lucide_react94.Users, { className: "w-4 h-4" }),
                    "Customers"
                  ] }),
                  /* @__PURE__ */ (0, import_jsx_runtime182.jsx)("span", { className: "font-medium", children: getLimitText(plan.limits.customers) })
                ] })
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)("div", { className: "space-y-2 mb-6", children: [
                plan.features.slice(0, 4).map((feature, index) => /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)("div", { className: "flex items-center gap-2 text-sm", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime182.jsx)(import_lucide_react94.CheckCircle, { className: "w-4 h-4 text-action-success flex-shrink-0" }),
                  /* @__PURE__ */ (0, import_jsx_runtime182.jsx)("span", { className: "text-text-secondary", children: feature })
                ] }, index)),
                plan.features.length > 4 && /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)("div", { className: "text-sm text-text-tertiary", children: [
                  "+",
                  plan.features.length - 4,
                  " more features"
                ] })
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime182.jsx)("div", { className: "text-center", children: selectedPlan === plan.id ? /* @__PURE__ */ (0, import_jsx_runtime182.jsxs)("div", { className: "inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-action-success text-white", children: [
                /* @__PURE__ */ (0, import_jsx_runtime182.jsx)(import_lucide_react94.CheckCircle, { className: "w-3 h-3 mr-1" }),
                "Selected"
              ] }) : /* @__PURE__ */ (0, import_jsx_runtime182.jsx)(
                import_ui123.Button,
                {
                  variant: "outline",
                  className: "w-full",
                  disabled,
                  children: "Select Plan"
                }
              ) })
            ] })
          ]
        },
        plan.id
      )) })
    ] })
  ] });
};

// src/components/features/Plans/components/PlanCard.tsx
var import_ui124 = require("@rentalshop/ui");
var import_lucide_react95 = require("lucide-react");
var import_jsx_runtime183 = require("react/jsx-runtime");
var PlanCard = ({
  plan,
  onView,
  onEdit,
  onToggleStatus,
  showActions = true,
  variant = "default"
}) => {
  const formatCurrency20 = (price, currency) => {
    return new Intl.NumberFormat("en-US", {
      style: "currency",
      currency: currency || "USD"
    }).format(price);
  };
  const getBillingCycleText = (cycle) => {
    return cycle === "monthly" ? "/month" : "/year";
  };
  const getLimitText = (limit) => {
    return limit === -1 ? "Unlimited" : limit.toString();
  };
  const formatDate11 = (date2) => {
    const dateObj = typeof date2 === "string" ? new Date(date2) : date2;
    return dateObj.toLocaleDateString("en-US", {
      year: "numeric",
      month: "short",
      day: "numeric"
    });
  };
  if (variant === "compact") {
    return /* @__PURE__ */ (0, import_jsx_runtime183.jsx)(import_ui124.Card, { className: "hover:shadow-md transition-shadow", children: /* @__PURE__ */ (0, import_jsx_runtime183.jsx)(import_ui124.CardContent, { className: "p-4", children: /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime183.jsx)("div", { className: "flex items-center gap-3", children: /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)("div", { className: "flex items-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime183.jsx)(import_lucide_react95.Package, { className: "w-4 h-4 text-text-tertiary" }),
        /* @__PURE__ */ (0, import_jsx_runtime183.jsx)("span", { className: "font-medium text-text-primary", children: plan.name }),
        plan.isPopular && /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)(import_ui124.Badge, { variant: "default", className: "text-xs", children: [
          /* @__PURE__ */ (0, import_jsx_runtime183.jsx)(import_lucide_react95.Star, { className: "w-3 h-3 mr-1" }),
          "Popular"
        ] })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime183.jsx)("div", { className: "text-right", children: /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)("div", { className: "font-medium text-text-primary", children: [
        formatCurrency20(plan.price, plan.currency),
        /* @__PURE__ */ (0, import_jsx_runtime183.jsx)("span", { className: "text-sm text-text-secondary font-normal", children: getBillingCycleText(plan.billingCycle) })
      ] }) })
    ] }) }) });
  }
  if (variant === "detailed") {
    return /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)(import_ui124.Card, { className: "hover:shadow-md transition-shadow", children: [
      /* @__PURE__ */ (0, import_jsx_runtime183.jsx)(import_ui124.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)("div", { className: "flex items-center justify-between", children: [
        /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)(import_ui124.CardTitle, { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime183.jsx)(import_lucide_react95.Package, { className: "w-5 h-5" }),
          plan.name,
          plan.isPopular && /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)(import_ui124.Badge, { variant: "default", className: "text-xs", children: [
            /* @__PURE__ */ (0, import_jsx_runtime183.jsx)(import_lucide_react95.Star, { className: "w-3 h-3 mr-1" }),
            "Popular"
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)("div", { className: "text-right", children: [
          /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)("div", { className: "text-2xl font-bold text-action-primary", children: [
            formatCurrency20(plan.price, plan.currency),
            /* @__PURE__ */ (0, import_jsx_runtime183.jsx)("span", { className: "text-sm text-text-secondary font-normal", children: getBillingCycleText(plan.billingCycle) })
          ] }),
          plan.trialDays > 0 && /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)("div", { className: "text-xs text-action-primary", children: [
            plan.trialDays,
            "-day trial"
          ] })
        ] })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)(import_ui124.CardContent, { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime183.jsx)("p", { className: "text-text-secondary", children: plan.description }),
        /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)("div", { className: "grid grid-cols-2 gap-4 text-sm", children: [
          /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime183.jsx)(import_lucide_react95.Package, { className: "w-4 h-4 text-text-tertiary" }),
            /* @__PURE__ */ (0, import_jsx_runtime183.jsx)("span", { className: "text-text-secondary", children: "Outlets:" }),
            /* @__PURE__ */ (0, import_jsx_runtime183.jsx)("span", { className: "font-medium", children: getLimitText(plan.limits.outlets) })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime183.jsx)(import_lucide_react95.Users, { className: "w-4 h-4 text-text-tertiary" }),
            /* @__PURE__ */ (0, import_jsx_runtime183.jsx)("span", { className: "text-text-secondary", children: "Users:" }),
            /* @__PURE__ */ (0, import_jsx_runtime183.jsx)("span", { className: "font-medium", children: getLimitText(plan.limits.users) })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime183.jsx)(import_lucide_react95.CreditCard, { className: "w-4 h-4 text-text-tertiary" }),
            /* @__PURE__ */ (0, import_jsx_runtime183.jsx)("span", { className: "text-text-secondary", children: "Products:" }),
            /* @__PURE__ */ (0, import_jsx_runtime183.jsx)("span", { className: "font-medium", children: getLimitText(plan.limits.products) })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime183.jsx)(import_lucide_react95.Users, { className: "w-4 h-4 text-text-tertiary" }),
            /* @__PURE__ */ (0, import_jsx_runtime183.jsx)("span", { className: "text-text-secondary", children: "Customers:" }),
            /* @__PURE__ */ (0, import_jsx_runtime183.jsx)("span", { className: "font-medium", children: getLimitText(plan.limits.customers) })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)("div", { className: "text-sm text-text-secondary", children: [
          /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)("div", { className: "font-medium mb-1", children: [
            "Features (",
            plan.features.length,
            "):"
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)("div", { className: "text-xs text-text-tertiary", children: [
            plan.features.slice(0, 3).join(", "),
            plan.features.length > 3 && "..."
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)("div", { className: "flex items-center justify-between text-xs text-text-tertiary", children: [
          /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)("span", { children: [
            "Created: ",
            formatDate11(plan.createdAt)
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)("span", { children: [
            "Sort Order: ",
            plan.sortOrder
          ] })
        ] }),
        showActions && /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)("div", { className: "flex items-center justify-end gap-2 pt-2 border-t border-border", children: [
          onView && /* @__PURE__ */ (0, import_jsx_runtime183.jsx)(
            import_ui124.Button,
            {
              variant: "ghost",
              size: "sm",
              onClick: () => onView(plan),
              className: "h-8 w-8 p-0",
              children: /* @__PURE__ */ (0, import_jsx_runtime183.jsx)(import_lucide_react95.Eye, { className: "w-4 h-4" })
            }
          ),
          onEdit && /* @__PURE__ */ (0, import_jsx_runtime183.jsx)(
            import_ui124.Button,
            {
              variant: "ghost",
              size: "sm",
              onClick: () => onEdit(plan),
              className: "h-8 w-8 p-0",
              children: /* @__PURE__ */ (0, import_jsx_runtime183.jsx)(import_lucide_react95.Edit, { className: "w-4 h-4" })
            }
          ),
          onToggleStatus && /* @__PURE__ */ (0, import_jsx_runtime183.jsx)(
            import_ui124.Button,
            {
              variant: "ghost",
              size: "sm",
              onClick: () => onToggleStatus(plan),
              className: "h-8 w-8 p-0",
              children: /* @__PURE__ */ (0, import_jsx_runtime183.jsx)(import_lucide_react95.Settings, { className: "w-4 h-4" })
            }
          )
        ] })
      ] })
    ] });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)(import_ui124.Card, { className: "hover:shadow-md transition-shadow", children: [
    /* @__PURE__ */ (0, import_jsx_runtime183.jsx)(import_ui124.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)(import_ui124.CardTitle, { className: "flex items-center gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime183.jsx)(import_lucide_react95.Package, { className: "w-5 h-5" }),
        plan.name,
        plan.isPopular && /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)(import_ui124.Badge, { variant: "default", className: "text-xs", children: [
          /* @__PURE__ */ (0, import_jsx_runtime183.jsx)(import_lucide_react95.Star, { className: "w-3 h-3 mr-1" }),
          "Popular"
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)("div", { className: "text-right", children: [
        /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)("div", { className: "text-xl font-bold text-action-primary", children: [
          formatCurrency20(plan.price, plan.currency),
          /* @__PURE__ */ (0, import_jsx_runtime183.jsx)("span", { className: "text-sm text-text-secondary font-normal", children: getBillingCycleText(plan.billingCycle) })
        ] }),
        plan.trialDays > 0 && /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)("div", { className: "text-xs text-action-primary", children: [
          plan.trialDays,
          "-day trial"
        ] })
      ] })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)(import_ui124.CardContent, { className: "space-y-3", children: [
      /* @__PURE__ */ (0, import_jsx_runtime183.jsx)("p", { className: "text-sm text-text-secondary line-clamp-2", children: plan.description }),
      /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)("div", { className: "grid grid-cols-2 gap-2 text-xs", children: [
        /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)("div", { className: "flex items-center gap-1", children: [
          /* @__PURE__ */ (0, import_jsx_runtime183.jsx)(import_lucide_react95.Package, { className: "w-3 h-3 text-text-tertiary" }),
          /* @__PURE__ */ (0, import_jsx_runtime183.jsx)("span", { className: "text-text-secondary", children: "Outlets:" }),
          /* @__PURE__ */ (0, import_jsx_runtime183.jsx)("span", { className: "font-medium", children: getLimitText(plan.maxOutlets) })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)("div", { className: "flex items-center gap-1", children: [
          /* @__PURE__ */ (0, import_jsx_runtime183.jsx)(import_lucide_react95.Users, { className: "w-3 h-3 text-text-tertiary" }),
          /* @__PURE__ */ (0, import_jsx_runtime183.jsx)("span", { className: "text-text-secondary", children: "Users:" }),
          /* @__PURE__ */ (0, import_jsx_runtime183.jsx)("span", { className: "font-medium", children: getLimitText(plan.maxUsers) })
        ] })
      ] }),
      showActions && /* @__PURE__ */ (0, import_jsx_runtime183.jsxs)("div", { className: "flex items-center justify-end gap-2 pt-2 border-t border-border", children: [
        onView && /* @__PURE__ */ (0, import_jsx_runtime183.jsx)(
          import_ui124.Button,
          {
            variant: "ghost",
            size: "sm",
            onClick: () => onView(plan),
            className: "h-8 w-8 p-0",
            children: /* @__PURE__ */ (0, import_jsx_runtime183.jsx)(import_lucide_react95.Eye, { className: "w-4 h-4" })
          }
        ),
        onEdit && /* @__PURE__ */ (0, import_jsx_runtime183.jsx)(
          import_ui124.Button,
          {
            variant: "ghost",
            size: "sm",
            onClick: () => onEdit(plan),
            className: "h-8 w-8 p-0",
            children: /* @__PURE__ */ (0, import_jsx_runtime183.jsx)(import_lucide_react95.Edit, { className: "w-4 h-4" })
          }
        ),
        onToggleStatus && /* @__PURE__ */ (0, import_jsx_runtime183.jsx)(
          import_ui124.Button,
          {
            variant: "ghost",
            size: "sm",
            onClick: () => onToggleStatus(plan),
            className: "h-8 w-8 p-0",
            children: /* @__PURE__ */ (0, import_jsx_runtime183.jsx)(import_lucide_react95.Settings, { className: "w-4 h-4" })
          }
        )
      ] })
    ] })
  ] });
};

// src/components/features/Plans/components/PlanTable.tsx
var import_react91 = require("react");
var import_ui125 = require("@rentalshop/ui");
var import_lucide_react96 = require("lucide-react");
var import_jsx_runtime184 = require("react/jsx-runtime");
var PlanTable = ({
  plans,
  onView,
  onEdit,
  onDelete,
  onToggleStatus,
  sortBy = "sortOrder",
  sortOrder = "asc",
  onSort,
  loading = false
}) => {
  const [openMenuId, setOpenMenuId] = (0, import_react91.useState)(null);
  const formatCurrency20 = (price, currency) => {
    return new Intl.NumberFormat("en-US", {
      style: "currency",
      currency: currency || "USD"
    }).format(price);
  };
  const getLimitText = (limit) => {
    if (limit === void 0 || limit === null)
      return "N/A";
    return limit === -1 ? "Unlimited" : limit.toString();
  };
  const formatDate11 = (date2) => {
    const dateObj = typeof date2 === "string" ? new Date(date2) : date2;
    return dateObj.toLocaleDateString("en-US", {
      year: "numeric",
      month: "short",
      day: "numeric"
    });
  };
  const handleSort = (field) => {
    if (onSort) {
      onSort(field);
    }
  };
  const getSortIcon = (field) => {
    if (sortBy !== field)
      return null;
    return sortOrder === "asc" ? /* @__PURE__ */ (0, import_jsx_runtime184.jsx)(import_lucide_react96.ChevronUp, { className: "w-4 h-4" }) : /* @__PURE__ */ (0, import_jsx_runtime184.jsx)(import_lucide_react96.ChevronDown, { className: "w-4 h-4" });
  };
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime184.jsx)(import_ui125.Card, { className: "shadow-sm border-border", children: /* @__PURE__ */ (0, import_jsx_runtime184.jsx)(import_ui125.CardContent, { className: "p-0", children: /* @__PURE__ */ (0, import_jsx_runtime184.jsx)("div", { className: "animate-pulse space-y-4 p-6", children: [...Array(3)].map((_, i) => /* @__PURE__ */ (0, import_jsx_runtime184.jsx)("div", { className: "h-16 bg-bg-tertiary rounded" }, i)) }) }) });
  }
  if (plans.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime184.jsx)(import_ui125.Card, { className: "shadow-sm border-border", children: /* @__PURE__ */ (0, import_jsx_runtime184.jsx)(import_ui125.CardContent, { className: "text-center py-12", children: /* @__PURE__ */ (0, import_jsx_runtime184.jsxs)("div", { className: "text-text-tertiary", children: [
      /* @__PURE__ */ (0, import_jsx_runtime184.jsx)("div", { className: "text-4xl mb-4", children: "\u{1F4CB}" }),
      /* @__PURE__ */ (0, import_jsx_runtime184.jsx)("h3", { className: "text-lg font-medium mb-2", children: "No plans found" }),
      /* @__PURE__ */ (0, import_jsx_runtime184.jsx)("p", { className: "text-sm", children: "Get started by creating your first subscription plan." })
    ] }) }) });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime184.jsx)(import_ui125.Card, { className: "shadow-sm border-border flex flex-col h-full", children: /* @__PURE__ */ (0, import_jsx_runtime184.jsx)(import_ui125.CardContent, { className: "p-0 flex-1 overflow-hidden", children: /* @__PURE__ */ (0, import_jsx_runtime184.jsx)("div", { className: "flex-1 overflow-auto h-full", children: /* @__PURE__ */ (0, import_jsx_runtime184.jsxs)("table", { className: "w-full", children: [
    /* @__PURE__ */ (0, import_jsx_runtime184.jsx)("thead", { className: "bg-bg-secondary border-b border-border sticky top-0 z-10", children: /* @__PURE__ */ (0, import_jsx_runtime184.jsxs)("tr", { children: [
      /* @__PURE__ */ (0, import_jsx_runtime184.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Plan Name" }),
      /* @__PURE__ */ (0, import_jsx_runtime184.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Price & Billing" }),
      /* @__PURE__ */ (0, import_jsx_runtime184.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Limits" }),
      /* @__PURE__ */ (0, import_jsx_runtime184.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Status" }),
      /* @__PURE__ */ (0, import_jsx_runtime184.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Created At" }),
      /* @__PURE__ */ (0, import_jsx_runtime184.jsx)("th", { className: "px-6 py-3 text-right text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Actions" })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime184.jsx)("tbody", { className: "bg-bg-card divide-y divide-border", children: plans.map((plan) => /* @__PURE__ */ (0, import_jsx_runtime184.jsxs)("tr", { className: "hover:bg-bg-secondary transition-colors", children: [
      /* @__PURE__ */ (0, import_jsx_runtime184.jsx)("td", { className: "px-6 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime184.jsxs)("div", { className: "flex items-center gap-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime184.jsx)("div", { className: "flex-shrink-0 w-10 h-10 rounded-full bg-gradient-to-br from-action-primary to-brand-primary flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime184.jsx)(import_lucide_react96.Package, { className: "w-5 h-5 text-white" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime184.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime184.jsxs)("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime184.jsx)("div", { className: "text-sm font-medium text-text-primary", children: plan.name }),
            plan.isPopular && /* @__PURE__ */ (0, import_jsx_runtime184.jsxs)(import_ui125.Badge, { className: "bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200", children: [
              /* @__PURE__ */ (0, import_jsx_runtime184.jsx)(import_lucide_react96.Star, { className: "w-3 h-3 mr-1" }),
              "Popular"
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime184.jsx)("div", { className: "text-sm text-text-tertiary mt-1", children: plan.description })
        ] })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime184.jsx)("td", { className: "px-6 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime184.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime184.jsxs)("div", { className: "text-sm font-medium text-text-primary", children: [
          formatCurrency20(plan.basePrice, plan.currency),
          /* @__PURE__ */ (0, import_jsx_runtime184.jsx)("span", { className: "text-sm text-text-secondary font-normal", children: "/month" })
        ] }),
        plan.trialDays > 0 && /* @__PURE__ */ (0, import_jsx_runtime184.jsxs)("div", { className: "text-xs text-action-primary mt-1", children: [
          plan.trialDays,
          "-day trial"
        ] })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime184.jsxs)("td", { className: "px-6 py-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime184.jsxs)("div", { className: "text-sm text-text-primary", children: [
          getLimitText(plan.limits.outlets),
          " outlets"
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime184.jsxs)("div", { className: "text-sm text-text-secondary", children: [
          getLimitText(plan.limits.users),
          " users"
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime184.jsx)("td", { className: "px-6 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime184.jsx)(
        import_ui125.StatusBadge,
        {
          status: plan.isActive ? "active" : "inactive"
        }
      ) }),
      /* @__PURE__ */ (0, import_jsx_runtime184.jsx)("td", { className: "px-6 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime184.jsx)("div", { className: "text-sm text-text-primary", children: formatDate11(plan.createdAt) }) }),
      /* @__PURE__ */ (0, import_jsx_runtime184.jsx)("td", { className: "px-6 py-4 text-right", children: /* @__PURE__ */ (0, import_jsx_runtime184.jsxs)(import_ui125.DropdownMenu, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime184.jsx)(import_ui125.DropdownMenuTrigger, { asChild: true, children: /* @__PURE__ */ (0, import_jsx_runtime184.jsx)(
          import_ui125.Button,
          {
            variant: "ghost",
            size: "sm",
            onClick: () => setOpenMenuId(openMenuId === plan.id ? null : plan.id),
            children: /* @__PURE__ */ (0, import_jsx_runtime184.jsx)(import_lucide_react96.MoreVertical, { className: "h-4 w-4" })
          }
        ) }),
        /* @__PURE__ */ (0, import_jsx_runtime184.jsxs)(
          import_ui125.DropdownMenuContent,
          {
            align: "end",
            open: openMenuId === plan.id,
            onOpenChange: (open) => setOpenMenuId(open ? plan.id : null),
            children: [
              onView && /* @__PURE__ */ (0, import_jsx_runtime184.jsxs)(
                import_ui125.DropdownMenuItem,
                {
                  onClick: () => {
                    onView(plan);
                    setOpenMenuId(null);
                  },
                  children: [
                    /* @__PURE__ */ (0, import_jsx_runtime184.jsx)(import_lucide_react96.Eye, { className: "h-4 w-4 mr-2" }),
                    "View Details"
                  ]
                }
              ),
              onEdit && /* @__PURE__ */ (0, import_jsx_runtime184.jsxs)(
                import_ui125.DropdownMenuItem,
                {
                  onClick: () => {
                    onEdit(plan);
                    setOpenMenuId(null);
                  },
                  children: [
                    /* @__PURE__ */ (0, import_jsx_runtime184.jsx)(import_lucide_react96.Edit, { className: "h-4 w-4 mr-2" }),
                    "Edit Plan"
                  ]
                }
              ),
              onToggleStatus && /* @__PURE__ */ (0, import_jsx_runtime184.jsxs)(
                import_ui125.DropdownMenuItem,
                {
                  onClick: () => {
                    onToggleStatus(plan);
                    setOpenMenuId(null);
                  },
                  children: [
                    /* @__PURE__ */ (0, import_jsx_runtime184.jsx)(import_lucide_react96.Settings, { className: "h-4 w-4 mr-2" }),
                    plan.isActive ? "Deactivate" : "Activate"
                  ]
                }
              ),
              onDelete && /* @__PURE__ */ (0, import_jsx_runtime184.jsxs)(import_jsx_runtime184.Fragment, { children: [
                /* @__PURE__ */ (0, import_jsx_runtime184.jsx)(import_ui125.DropdownMenuSeparator, {}),
                /* @__PURE__ */ (0, import_jsx_runtime184.jsxs)(
                  import_ui125.DropdownMenuItem,
                  {
                    onClick: () => {
                      onDelete(plan);
                      setOpenMenuId(null);
                    },
                    className: "text-action-danger focus:text-action-danger",
                    children: [
                      /* @__PURE__ */ (0, import_jsx_runtime184.jsx)(import_lucide_react96.Trash2, { className: "h-4 w-4 mr-2" }),
                      "Delete Plan"
                    ]
                  }
                )
              ] })
            ]
          }
        )
      ] }) })
    ] }, plan.id)) })
  ] }) }) }) });
};

// src/components/features/Plans/components/PlanFilters.tsx
var import_ui126 = require("@rentalshop/ui");
var import_lucide_react97 = require("lucide-react");
var import_jsx_runtime185 = require("react/jsx-runtime");
var PlanFilters = ({
  searchTerm,
  statusFilter,
  onSearchChange,
  onStatusFilterChange,
  onClearFilters,
  showClearButton = true
}) => {
  const hasActiveFilters = searchTerm || statusFilter !== "all";
  return /* @__PURE__ */ (0, import_jsx_runtime185.jsx)(import_ui126.Card, { className: "mb-6", children: /* @__PURE__ */ (0, import_jsx_runtime185.jsx)(import_ui126.CardContent, { className: "pt-6", children: /* @__PURE__ */ (0, import_jsx_runtime185.jsxs)("div", { className: "flex flex-col sm:flex-row gap-4", children: [
    /* @__PURE__ */ (0, import_jsx_runtime185.jsx)("div", { className: "flex-1", children: /* @__PURE__ */ (0, import_jsx_runtime185.jsxs)("div", { className: "relative", children: [
      /* @__PURE__ */ (0, import_jsx_runtime185.jsx)(import_lucide_react97.Search, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary w-4 h-4" }),
      /* @__PURE__ */ (0, import_jsx_runtime185.jsx)(
        import_ui126.Input,
        {
          placeholder: "Search plans...",
          value: searchTerm,
          onChange: (e) => onSearchChange(e.target.value),
          className: "pl-10"
        }
      )
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime185.jsxs)(import_ui126.Select, { value: statusFilter, onValueChange: onStatusFilterChange, children: [
      /* @__PURE__ */ (0, import_jsx_runtime185.jsx)(import_ui126.SelectTrigger, { className: "w-full sm:w-48", children: /* @__PURE__ */ (0, import_jsx_runtime185.jsx)(import_ui126.SelectValue, { placeholder: "Filter by status" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime185.jsxs)(import_ui126.SelectContent, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime185.jsx)(import_ui126.SelectItem, { value: "all", children: "All Plans" }),
        /* @__PURE__ */ (0, import_jsx_runtime185.jsx)(import_ui126.SelectItem, { value: "active", children: "Active Only" }),
        /* @__PURE__ */ (0, import_jsx_runtime185.jsx)(import_ui126.SelectItem, { value: "inactive", children: "Inactive Only" })
      ] })
    ] }),
    showClearButton && hasActiveFilters && onClearFilters && /* @__PURE__ */ (0, import_jsx_runtime185.jsxs)(
      import_ui126.Button,
      {
        variant: "outline",
        onClick: onClearFilters,
        className: "w-full sm:w-auto",
        children: [
          /* @__PURE__ */ (0, import_jsx_runtime185.jsx)(import_lucide_react97.X, { className: "w-4 h-4 mr-2" }),
          "Clear Filters"
        ]
      }
    )
  ] }) }) });
};

// src/components/features/Plans/components/PlanStats.tsx
var import_ui127 = require("@rentalshop/ui");
var import_jsx_runtime186 = require("react/jsx-runtime");
var PlanStats = ({
  totalPlans,
  activePlans,
  featuredPlans,
  plansWithTrial,
  className = ""
}) => {
  return /* @__PURE__ */ (0, import_jsx_runtime186.jsxs)("div", { className: `grid grid-cols-1 md:grid-cols-4 gap-6 ${className}`, children: [
    /* @__PURE__ */ (0, import_jsx_runtime186.jsx)(import_ui127.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime186.jsx)(import_ui127.CardContent, { className: "pt-6", children: /* @__PURE__ */ (0, import_jsx_runtime186.jsxs)("div", { className: "text-center", children: [
      /* @__PURE__ */ (0, import_jsx_runtime186.jsx)("div", { className: "text-2xl font-bold text-action-primary", children: totalPlans }),
      /* @__PURE__ */ (0, import_jsx_runtime186.jsx)("div", { className: "text-sm text-text-secondary", children: "Total Plans" })
    ] }) }) }),
    /* @__PURE__ */ (0, import_jsx_runtime186.jsx)(import_ui127.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime186.jsx)(import_ui127.CardContent, { className: "pt-6", children: /* @__PURE__ */ (0, import_jsx_runtime186.jsxs)("div", { className: "text-center", children: [
      /* @__PURE__ */ (0, import_jsx_runtime186.jsx)("div", { className: "text-2xl font-bold text-action-success", children: activePlans }),
      /* @__PURE__ */ (0, import_jsx_runtime186.jsx)("div", { className: "text-sm text-text-secondary", children: "Active Plans" })
    ] }) }) }),
    /* @__PURE__ */ (0, import_jsx_runtime186.jsx)(import_ui127.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime186.jsx)(import_ui127.CardContent, { className: "pt-6", children: /* @__PURE__ */ (0, import_jsx_runtime186.jsxs)("div", { className: "text-center", children: [
      /* @__PURE__ */ (0, import_jsx_runtime186.jsx)("div", { className: "text-2xl font-bold text-brand-secondary", children: featuredPlans }),
      /* @__PURE__ */ (0, import_jsx_runtime186.jsx)("div", { className: "text-sm text-text-secondary", children: "Featured Plans" })
    ] }) }) }),
    /* @__PURE__ */ (0, import_jsx_runtime186.jsx)(import_ui127.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime186.jsx)(import_ui127.CardContent, { className: "pt-6", children: /* @__PURE__ */ (0, import_jsx_runtime186.jsxs)("div", { className: "text-center", children: [
      /* @__PURE__ */ (0, import_jsx_runtime186.jsx)("div", { className: "text-2xl font-bold text-action-primary", children: plansWithTrial }),
      /* @__PURE__ */ (0, import_jsx_runtime186.jsx)("div", { className: "text-sm text-text-secondary", children: "Plans with Trial" })
    ] }) }) })
  ] });
};

// src/components/features/Plans/components/PlanDetailModal.tsx
var import_lucide_react98 = require("lucide-react");
var import_utils39 = require("@rentalshop/utils");
var import_jsx_runtime187 = require("react/jsx-runtime");
var BILLING_CYCLES4 = [
  { value: "monthly", label: "Monthly", months: 1, discount: 0 },
  { value: "quarterly", label: "Quarterly", months: 3, discount: 5 },
  { value: "semi_annual", label: "Semi-Annual", months: 6, discount: 10 },
  { value: "annual", label: "Annual", months: 12, discount: 20 }
];
var getBillingCycleDiscount3 = (cycle) => {
  const billingCycle = BILLING_CYCLES4.find((bc) => bc.value === cycle);
  return billingCycle?.discount || 0;
};
var calculateDiscountedPrice4 = (basePrice, cycle) => {
  const discount = getBillingCycleDiscount3(cycle);
  const billingCycle = BILLING_CYCLES4.find((bc) => bc.value === cycle);
  const months = billingCycle?.months || 1;
  const totalBeforeDiscount = basePrice * months;
  const discountAmount = totalBeforeDiscount * discount / 100;
  return totalBeforeDiscount - discountAmount;
};
var calculateSavings2 = (basePrice, cycle) => {
  const discount = getBillingCycleDiscount3(cycle);
  const billingCycle = BILLING_CYCLES4.find((bc) => bc.value === cycle);
  const months = billingCycle?.months || 1;
  const totalBeforeDiscount = basePrice * months;
  return totalBeforeDiscount * discount / 100;
};
var PlanDetailModal = ({
  plan,
  open,
  onOpenChange,
  onSubscribe
}) => {
  if (!plan)
    return null;
  const handleSubscribe = (billingCycle) => {
    onSubscribe(plan.id, billingCycle);
  };
  return /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)("div", { className: `fixed inset-0 z-50 flex items-center justify-center ${open ? "block" : "hidden"}`, children: [
    /* @__PURE__ */ (0, import_jsx_runtime187.jsx)(
      "div",
      {
        className: "absolute inset-0 bg-black/50 backdrop-blur-sm",
        onClick: () => onOpenChange(false)
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)("div", { className: "relative w-full max-w-4xl mx-4 bg-white rounded-lg shadow-xl max-h-[90vh] overflow-y-auto", children: [
      /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)("div", { className: "flex items-center justify-between p-6 border-b", children: [
        /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)("div", { className: "flex items-center gap-3", children: [
          /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)("h2", { className: "text-2xl font-bold text-gray-900", children: [
            plan.name,
            " Plan"
          ] }),
          plan.isPopular && /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)(Badge, { variant: "default", className: "bg-yellow-100 text-yellow-800 border-yellow-200", children: [
            /* @__PURE__ */ (0, import_jsx_runtime187.jsx)(import_lucide_react98.Star, { className: "w-3 h-3 mr-1" }),
            "Popular"
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime187.jsx)(
          Button,
          {
            variant: "ghost",
            size: "sm",
            onClick: () => onOpenChange(false),
            className: "h-8 w-8 p-0",
            children: /* @__PURE__ */ (0, import_jsx_runtime187.jsx)(import_lucide_react98.X, { className: "w-4 h-4" })
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)("div", { className: "p-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime187.jsx)("p", { className: "text-gray-600 mb-6", children: plan.description }),
        /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)("div", { className: "mb-8", children: [
          /* @__PURE__ */ (0, import_jsx_runtime187.jsx)("h3", { className: "text-lg font-semibold text-gray-900 mb-4", children: "Choose Your Billing Cycle" }),
          /* @__PURE__ */ (0, import_jsx_runtime187.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4", children: BILLING_CYCLES4.map((cycle) => {
            const discountedPrice = calculateDiscountedPrice4(plan.price, cycle.value);
            const savings = calculateSavings2(plan.price, cycle.value);
            const isSelected = plan.billingCycle === cycle.value;
            return /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)(
              Card2,
              {
                className: `cursor-pointer transition-all duration-200 hover:shadow-md ${isSelected ? "ring-2 ring-blue-500 bg-blue-50" : "hover:bg-gray-50"}`,
                onClick: () => handleSubscribe(cycle.value),
                children: [
                  /* @__PURE__ */ (0, import_jsx_runtime187.jsx)(CardHeader2, { className: "pb-3", children: /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)("div", { className: "flex items-center justify-between", children: [
                    /* @__PURE__ */ (0, import_jsx_runtime187.jsx)(CardTitle2, { className: "text-base font-semibold", children: cycle.label }),
                    isSelected && /* @__PURE__ */ (0, import_jsx_runtime187.jsx)(import_lucide_react98.Check, { className: "w-5 h-5 text-blue-500" })
                  ] }) }),
                  /* @__PURE__ */ (0, import_jsx_runtime187.jsx)(CardContent2, { className: "pt-0", children: /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)("div", { className: "space-y-2", children: [
                    /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)("div", { className: "text-2xl font-bold text-gray-900", children: [
                      (0, import_utils39.formatCurrency)(plan.price, plan.currency),
                      "/month"
                    ] }),
                    cycle.discount > 0 && /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)("div", { className: "text-sm text-green-600 font-medium", children: [
                      cycle.discount,
                      "% discount"
                    ] }),
                    /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)("div", { className: "text-sm text-gray-600", children: [
                      "Total: ",
                      (0, import_utils39.formatCurrency)(discountedPrice, plan.currency)
                    ] }),
                    savings > 0 && /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)("div", { className: "text-xs text-green-600", children: [
                      "Save: ",
                      (0, import_utils39.formatCurrency)(savings, plan.currency)
                    ] }),
                    /* @__PURE__ */ (0, import_jsx_runtime187.jsx)(
                      Button,
                      {
                        variant: isSelected ? "default" : "outline",
                        size: "sm",
                        className: "w-full mt-3",
                        onClick: (e) => {
                          e.stopPropagation();
                          handleSubscribe(cycle.value);
                        },
                        children: isSelected ? "Selected" : "Select"
                      }
                    )
                  ] }) })
                ]
              },
              cycle.value
            );
          }) })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)("div", { className: "mb-8", children: [
          /* @__PURE__ */ (0, import_jsx_runtime187.jsx)("h3", { className: "text-lg font-semibold text-gray-900 mb-4", children: "Plan Features" }),
          /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
            /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime187.jsx)("h4", { className: "font-medium text-gray-900 mb-3", children: "Limits" }),
              /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)("ul", { className: "space-y-2 text-sm text-gray-600", children: [
                /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)("li", { className: "flex items-center gap-2", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime187.jsx)(import_lucide_react98.Check, { className: "w-4 h-4 text-green-500" }),
                  plan.limits.outlets === -1 ? "Unlimited" : plan.limits.outlets,
                  " outlets"
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)("li", { className: "flex items-center gap-2", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime187.jsx)(import_lucide_react98.Check, { className: "w-4 h-4 text-green-500" }),
                  plan.limits.users === -1 ? "Unlimited" : plan.limits.users,
                  " users"
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)("li", { className: "flex items-center gap-2", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime187.jsx)(import_lucide_react98.Check, { className: "w-4 h-4 text-green-500" }),
                  plan.limits.products === -1 ? "Unlimited" : plan.limits.products,
                  " products"
                ] })
              ] })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime187.jsx)("h4", { className: "font-medium text-gray-900 mb-3", children: "Features" }),
              /* @__PURE__ */ (0, import_jsx_runtime187.jsx)("ul", { className: "space-y-2 text-sm text-gray-600", children: plan.features.map((feature, index) => /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)("li", { className: "flex items-center gap-2", children: [
                /* @__PURE__ */ (0, import_jsx_runtime187.jsx)(import_lucide_react98.Check, { className: "w-4 h-4 text-green-500" }),
                feature
              ] }, index)) })
            ] })
          ] })
        ] }),
        plan.trialDays > 0 && /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)("div", { className: "bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6", children: [
          /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime187.jsx)(import_lucide_react98.Check, { className: "w-5 h-5 text-blue-500" }),
            /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)("span", { className: "font-medium text-blue-900", children: [
              plan.trialDays,
              "-day free trial included"
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)("p", { className: "text-sm text-blue-700 mt-1", children: [
            "Start your ",
            plan.trialDays,
            "-day free trial today. No credit card required."
          ] })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)("div", { className: "flex items-center justify-end gap-3 p-6 border-t bg-gray-50", children: [
        /* @__PURE__ */ (0, import_jsx_runtime187.jsx)(
          Button,
          {
            variant: "outline",
            onClick: () => onOpenChange(false),
            children: "Cancel"
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime187.jsxs)(
          Button,
          {
            onClick: () => handleSubscribe(plan.billingCycle),
            className: "bg-blue-600 hover:bg-blue-700",
            children: [
              "Subscribe to ",
              plan.name,
              " Plan"
            ]
          }
        )
      ] })
    ] })
  ] });
};

// src/components/features/BillingCycles/components/BillingCycleTable.tsx
var import_ui128 = require("@rentalshop/ui");
var import_lucide_react99 = require("lucide-react");
var import_jsx_runtime188 = require("react/jsx-runtime");
var BillingCycleTable = ({
  billingCycles,
  onView,
  onEdit,
  onToggleStatus,
  sortBy = "sortOrder",
  sortOrder = "asc",
  onSort,
  loading = false
}) => {
  const formatDate11 = (date2) => {
    return new Date(date2).toLocaleDateString("en-US", {
      year: "numeric",
      month: "short",
      day: "numeric"
    });
  };
  const handleSort = (field) => {
    if (onSort) {
      onSort(field);
    }
  };
  const getSortIcon = (field) => {
    if (sortBy !== field)
      return null;
    return sortOrder === "asc" ? /* @__PURE__ */ (0, import_jsx_runtime188.jsx)(import_lucide_react99.ChevronUp, { className: "w-4 h-4" }) : /* @__PURE__ */ (0, import_jsx_runtime188.jsx)(import_lucide_react99.ChevronDown, { className: "w-4 h-4" });
  };
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime188.jsx)(import_ui128.Card, { className: "shadow-sm border-border", children: /* @__PURE__ */ (0, import_jsx_runtime188.jsx)(import_ui128.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime188.jsx)("div", { className: "animate-pulse space-y-4", children: [...Array(3)].map((_, i) => /* @__PURE__ */ (0, import_jsx_runtime188.jsx)("div", { className: "h-16 bg-bg-tertiary rounded" }, i)) }) }) });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime188.jsx)(import_ui128.Card, { className: "shadow-sm border-border flex flex-col h-full", children: /* @__PURE__ */ (0, import_jsx_runtime188.jsx)(import_ui128.CardContent, { className: "p-0 flex-1 overflow-hidden", children: /* @__PURE__ */ (0, import_jsx_runtime188.jsxs)("div", { className: "flex-1 overflow-auto h-full", children: [
    /* @__PURE__ */ (0, import_jsx_runtime188.jsxs)("table", { className: "w-full", children: [
      /* @__PURE__ */ (0, import_jsx_runtime188.jsx)("thead", { className: "bg-bg-secondary border-b border-border sticky top-0 z-10", children: /* @__PURE__ */ (0, import_jsx_runtime188.jsxs)("tr", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime188.jsx)(
          "th",
          {
            className: "text-left py-3 px-4 font-medium text-text-primary cursor-pointer hover:bg-bg-secondary",
            onClick: () => handleSort("name"),
            children: /* @__PURE__ */ (0, import_jsx_runtime188.jsxs)("div", { className: "flex items-center gap-2", children: [
              "Name",
              getSortIcon("name")
            ] })
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime188.jsx)(
          "th",
          {
            className: "text-left py-3 px-4 font-medium text-text-primary cursor-pointer hover:bg-bg-secondary",
            onClick: () => handleSort("value"),
            children: /* @__PURE__ */ (0, import_jsx_runtime188.jsxs)("div", { className: "flex items-center gap-2", children: [
              "Value",
              getSortIcon("value")
            ] })
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime188.jsx)(
          "th",
          {
            className: "text-left py-3 px-4 font-medium text-text-primary cursor-pointer hover:bg-bg-secondary",
            onClick: () => handleSort("months"),
            children: /* @__PURE__ */ (0, import_jsx_runtime188.jsxs)("div", { className: "flex items-center gap-2", children: [
              "Months",
              getSortIcon("months")
            ] })
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime188.jsx)(
          "th",
          {
            className: "text-left py-3 px-4 font-medium text-text-primary cursor-pointer hover:bg-bg-secondary",
            onClick: () => handleSort("discount"),
            children: /* @__PURE__ */ (0, import_jsx_runtime188.jsxs)("div", { className: "flex items-center gap-2", children: [
              "Discount",
              getSortIcon("discount")
            ] })
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime188.jsx)("th", { className: "text-left py-3 px-4 font-medium text-text-primary", children: "Description" }),
        /* @__PURE__ */ (0, import_jsx_runtime188.jsx)("th", { className: "text-left py-3 px-4 font-medium text-text-primary", children: "Status" }),
        /* @__PURE__ */ (0, import_jsx_runtime188.jsx)(
          "th",
          {
            className: "text-left py-3 px-4 font-medium text-text-primary cursor-pointer hover:bg-bg-secondary",
            onClick: () => handleSort("createdAt"),
            children: /* @__PURE__ */ (0, import_jsx_runtime188.jsxs)("div", { className: "flex items-center gap-2", children: [
              "Created",
              getSortIcon("createdAt")
            ] })
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime188.jsx)("th", { className: "text-right py-3 px-4 font-medium text-text-primary", children: "Actions" })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime188.jsx)("tbody", { children: billingCycles.map((cycle) => /* @__PURE__ */ (0, import_jsx_runtime188.jsxs)("tr", { className: "border-b border-border hover:bg-bg-secondary", children: [
        /* @__PURE__ */ (0, import_jsx_runtime188.jsx)("td", { className: "py-4 px-4", children: /* @__PURE__ */ (0, import_jsx_runtime188.jsx)("div", { className: "font-medium text-text-primary", children: cycle.name }) }),
        /* @__PURE__ */ (0, import_jsx_runtime188.jsx)("td", { className: "py-4 px-4", children: /* @__PURE__ */ (0, import_jsx_runtime188.jsx)(import_ui128.Badge, { variant: "outline", className: "font-mono", children: cycle.value }) }),
        /* @__PURE__ */ (0, import_jsx_runtime188.jsx)("td", { className: "py-4 px-4", children: /* @__PURE__ */ (0, import_jsx_runtime188.jsxs)("div", { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime188.jsx)(import_lucide_react99.Calendar, { className: "w-4 h-4 text-text-tertiary" }),
          /* @__PURE__ */ (0, import_jsx_runtime188.jsx)("span", { className: "font-medium", children: cycle.months }),
          /* @__PURE__ */ (0, import_jsx_runtime188.jsx)("span", { className: "text-sm text-text-secondary", children: cycle.months === 1 ? "month" : "months" })
        ] }) }),
        /* @__PURE__ */ (0, import_jsx_runtime188.jsx)("td", { className: "py-4 px-4", children: /* @__PURE__ */ (0, import_jsx_runtime188.jsx)("div", { className: "flex items-center gap-2", children: cycle.discount > 0 ? /* @__PURE__ */ (0, import_jsx_runtime188.jsxs)(import_ui128.Badge, { variant: "default", className: "bg-green-100 text-green-800 border-green-200", children: [
          cycle.discount,
          "%"
        ] }) : /* @__PURE__ */ (0, import_jsx_runtime188.jsx)("span", { className: "text-text-tertiary", children: "No discount" }) }) }),
        /* @__PURE__ */ (0, import_jsx_runtime188.jsx)("td", { className: "py-4 px-4", children: /* @__PURE__ */ (0, import_jsx_runtime188.jsx)("div", { className: "text-sm text-text-secondary max-w-xs truncate", children: cycle.description || "No description" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime188.jsx)("td", { className: "py-4 px-4", children: /* @__PURE__ */ (0, import_jsx_runtime188.jsx)("div", { className: "flex items-center gap-2", children: /* @__PURE__ */ (0, import_jsx_runtime188.jsx)(
          import_ui128.StatusBadge,
          {
            status: cycle.isActive ? "active" : "inactive"
          }
        ) }) }),
        /* @__PURE__ */ (0, import_jsx_runtime188.jsx)("td", { className: "py-4 px-4 text-sm text-text-secondary", children: formatDate11(cycle.createdAt) }),
        /* @__PURE__ */ (0, import_jsx_runtime188.jsx)("td", { className: "py-4 px-4", children: /* @__PURE__ */ (0, import_jsx_runtime188.jsxs)("div", { className: "flex items-center justify-end gap-2", children: [
          onView && /* @__PURE__ */ (0, import_jsx_runtime188.jsx)(
            import_ui128.Button,
            {
              variant: "ghost",
              size: "sm",
              onClick: () => onView(cycle),
              className: "h-8 w-8 p-0",
              title: "View billing cycle",
              children: /* @__PURE__ */ (0, import_jsx_runtime188.jsx)(import_lucide_react99.Eye, { className: "w-4 h-4" })
            }
          ),
          onEdit && /* @__PURE__ */ (0, import_jsx_runtime188.jsx)(
            import_ui128.Button,
            {
              variant: "ghost",
              size: "sm",
              onClick: () => onEdit(cycle),
              className: "h-8 w-8 p-0",
              title: "Edit billing cycle",
              children: /* @__PURE__ */ (0, import_jsx_runtime188.jsx)(import_lucide_react99.Edit, { className: "w-4 h-4" })
            }
          )
        ] }) })
      ] }, cycle.id)) })
    ] }),
    billingCycles.length === 0 && /* @__PURE__ */ (0, import_jsx_runtime188.jsxs)("div", { className: "text-center py-12", children: [
      /* @__PURE__ */ (0, import_jsx_runtime188.jsx)(import_lucide_react99.Calendar, { className: "w-12 h-12 text-text-tertiary mx-auto mb-4" }),
      /* @__PURE__ */ (0, import_jsx_runtime188.jsx)("h3", { className: "text-lg font-medium text-text-primary mb-2", children: "No billing cycles found" }),
      /* @__PURE__ */ (0, import_jsx_runtime188.jsx)("p", { className: "text-text-secondary", children: "Get started by creating your first billing cycle" })
    ] })
  ] }) }) });
};

// src/components/features/BillingCycles/components/BillingCycleForm.tsx
var import_react92 = require("react");
var import_ui129 = require("@rentalshop/ui");
var import_jsx_runtime189 = require("react/jsx-runtime");
var BillingCycleForm = ({
  initialData = {},
  onSubmit,
  onCancel,
  loading = false
}) => {
  const [formData, setFormData] = (0, import_react92.useState)({
    name: initialData.name || "",
    value: initialData.value || "",
    months: initialData.months || 1,
    discount: initialData.discount || 0,
    description: initialData.description || "",
    isActive: initialData.isActive !== void 0 ? initialData.isActive : true,
    sortOrder: initialData.sortOrder || 0
  });
  const [errors, setErrors] = (0, import_react92.useState)({});
  (0, import_react92.useEffect)(() => {
    if (initialData) {
      setFormData({
        name: initialData.name || "",
        value: initialData.value || "",
        months: initialData.months || 1,
        discount: initialData.discount || 0,
        description: initialData.description || "",
        isActive: initialData.isActive !== void 0 ? initialData.isActive : true,
        sortOrder: initialData.sortOrder || 0
      });
    }
  }, [initialData]);
  const validateForm = () => {
    const newErrors = {};
    if (!formData.name.trim()) {
      newErrors.name = "Name is required";
    }
    if (!formData.value.trim()) {
      newErrors.value = "Value is required";
    } else if (!/^[a-z_]+$/.test(formData.value)) {
      newErrors.value = "Value must contain only lowercase letters and underscores";
    }
    if (formData.months < 1) {
      newErrors.months = "Months must be at least 1";
    }
    if (formData.discount < 0 || formData.discount > 100) {
      newErrors.discount = "Discount must be between 0 and 100";
    }
    if (formData.sortOrder < 0) {
      newErrors.sortOrder = "Sort order must be non-negative";
    }
    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };
  const handleSubmit = (e) => {
    e.preventDefault();
    if (validateForm()) {
      onSubmit(formData);
    }
  };
  const handleInputChange = (field, value) => {
    setFormData((prev) => ({
      ...prev,
      [field]: value
    }));
    if (errors[field]) {
      setErrors((prev) => ({
        ...prev,
        [field]: ""
      }));
    }
  };
  const handleNumberInputChange = (field, value) => {
    const numValue = value === "" ? 0 : parseInt(value, 10);
    if (!isNaN(numValue)) {
      handleInputChange(field, numValue);
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime189.jsxs)("form", { onSubmit: handleSubmit, className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime189.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime189.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime189.jsx)(import_ui129.Label, { htmlFor: "name", children: "Name *" }),
        /* @__PURE__ */ (0, import_jsx_runtime189.jsx)(
          import_ui129.Input,
          {
            id: "name",
            type: "text",
            value: formData.name,
            onChange: (e) => handleInputChange("name", e.target.value),
            placeholder: "e.g., Monthly, Quarterly",
            className: errors.name ? "border-red-500" : ""
          }
        ),
        errors.name && /* @__PURE__ */ (0, import_jsx_runtime189.jsx)("p", { className: "text-sm text-red-500", children: errors.name })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime189.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime189.jsx)(import_ui129.Label, { htmlFor: "value", children: "Value *" }),
        /* @__PURE__ */ (0, import_jsx_runtime189.jsx)(
          import_ui129.Input,
          {
            id: "value",
            type: "text",
            value: formData.value,
            onChange: (e) => handleInputChange("value", e.target.value),
            placeholder: "e.g., monthly, quarterly",
            className: errors.value ? "border-red-500" : ""
          }
        ),
        errors.value && /* @__PURE__ */ (0, import_jsx_runtime189.jsx)("p", { className: "text-sm text-red-500", children: errors.value }),
        /* @__PURE__ */ (0, import_jsx_runtime189.jsx)("p", { className: "text-xs text-text-tertiary", children: "Use lowercase letters and underscores only" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime189.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime189.jsx)(import_ui129.Label, { htmlFor: "months", children: "Months *" }),
        /* @__PURE__ */ (0, import_jsx_runtime189.jsx)(
          import_ui129.Input,
          {
            id: "months",
            type: "number",
            value: formData.months,
            onChange: (e) => handleNumberInputChange("months", e.target.value),
            placeholder: "1",
            min: "1",
            className: errors.months ? "border-red-500" : ""
          }
        ),
        errors.months && /* @__PURE__ */ (0, import_jsx_runtime189.jsx)("p", { className: "text-sm text-red-500", children: errors.months })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime189.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime189.jsx)(import_ui129.Label, { htmlFor: "discount", children: "Discount (%)" }),
        /* @__PURE__ */ (0, import_jsx_runtime189.jsx)(
          import_ui129.Input,
          {
            id: "discount",
            type: "number",
            value: formData.discount,
            onChange: (e) => handleNumberInputChange("discount", e.target.value),
            placeholder: "0",
            min: "0",
            max: "100",
            step: "0.1",
            className: errors.discount ? "border-red-500" : ""
          }
        ),
        errors.discount && /* @__PURE__ */ (0, import_jsx_runtime189.jsx)("p", { className: "text-sm text-red-500", children: errors.discount }),
        /* @__PURE__ */ (0, import_jsx_runtime189.jsx)("p", { className: "text-xs text-text-tertiary", children: "Percentage discount for this billing cycle (0-100)" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime189.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime189.jsx)(import_ui129.Label, { htmlFor: "sortOrder", children: "Sort Order" }),
        /* @__PURE__ */ (0, import_jsx_runtime189.jsx)(
          import_ui129.Input,
          {
            id: "sortOrder",
            type: "number",
            value: formData.sortOrder,
            onChange: (e) => handleNumberInputChange("sortOrder", e.target.value),
            placeholder: "0",
            min: "0",
            className: errors.sortOrder ? "border-red-500" : ""
          }
        ),
        errors.sortOrder && /* @__PURE__ */ (0, import_jsx_runtime189.jsx)("p", { className: "text-sm text-red-500", children: errors.sortOrder }),
        /* @__PURE__ */ (0, import_jsx_runtime189.jsx)("p", { className: "text-xs text-text-tertiary", children: "Lower numbers appear first in lists" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime189.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime189.jsx)(import_ui129.Label, { htmlFor: "isActive", children: "Active" }),
        /* @__PURE__ */ (0, import_jsx_runtime189.jsxs)("div", { className: "flex items-center space-x-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime189.jsx)(
            import_ui129.Switch,
            {
              id: "isActive",
              checked: formData.isActive,
              onCheckedChange: (checked) => handleInputChange("isActive", checked)
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime189.jsx)("span", { className: "text-sm text-text-secondary", children: formData.isActive ? "Active" : "Inactive" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime189.jsx)("p", { className: "text-xs text-text-tertiary", children: "Inactive billing cycles won't be available for selection" })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime189.jsxs)("div", { className: "space-y-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime189.jsx)(import_ui129.Label, { htmlFor: "description", children: "Description" }),
      /* @__PURE__ */ (0, import_jsx_runtime189.jsx)(
        import_ui129.Textarea,
        {
          id: "description",
          value: formData.description,
          onChange: (e) => handleInputChange("description", e.target.value),
          placeholder: "Describe this billing cycle...",
          rows: 3
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime189.jsx)("p", { className: "text-xs text-text-tertiary", children: "Optional description for this billing cycle" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime189.jsxs)("div", { className: "bg-bg-secondary p-4 rounded-lg", children: [
      /* @__PURE__ */ (0, import_jsx_runtime189.jsx)("h4", { className: "font-medium text-text-primary mb-2", children: "Preview" }),
      /* @__PURE__ */ (0, import_jsx_runtime189.jsxs)("div", { className: "space-y-2 text-sm", children: [
        /* @__PURE__ */ (0, import_jsx_runtime189.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime189.jsx)("span", { className: "text-text-secondary", children: "Name:" }),
          " ",
          formData.name || "Not set"
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime189.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime189.jsx)("span", { className: "text-text-secondary", children: "Value:" }),
          " ",
          formData.value || "Not set"
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime189.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime189.jsx)("span", { className: "text-text-secondary", children: "Duration:" }),
          " ",
          formData.months,
          " ",
          formData.months === 1 ? "month" : "months"
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime189.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime189.jsx)("span", { className: "text-text-secondary", children: "Discount:" }),
          " ",
          formData.discount,
          "%"
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime189.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime189.jsx)("span", { className: "text-text-secondary", children: "Status:" }),
          " ",
          formData.isActive ? "Active" : "Inactive"
        ] }),
        formData.description && /* @__PURE__ */ (0, import_jsx_runtime189.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime189.jsx)("span", { className: "text-text-secondary", children: "Description:" }),
          " ",
          formData.description
        ] })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime189.jsxs)("div", { className: "flex items-center justify-end gap-3 pt-6 border-t", children: [
      /* @__PURE__ */ (0, import_jsx_runtime189.jsx)(
        import_ui129.Button,
        {
          type: "button",
          variant: "outline",
          onClick: onCancel,
          disabled: loading,
          children: "Cancel"
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime189.jsx)(
        import_ui129.Button,
        {
          type: "submit",
          disabled: loading,
          children: loading ? "Saving..." : initialData.id ? "Update Billing Cycle" : "Create Billing Cycle"
        }
      )
    ] })
  ] });
};

// src/components/features/BillingCycles/components/BillingCycleDetailDialog.tsx
var import_react93 = __toESM(require("react"));
var import_ui130 = require("@rentalshop/ui");
var import_lucide_react100 = require("lucide-react");
var import_jsx_runtime190 = require("react/jsx-runtime");
var BillingCycleDetailDialog = ({
  open,
  onOpenChange,
  billingCycle,
  onToggleStatus,
  onEdit,
  onDelete,
  loading = false
}) => {
  const [isEditing, setIsEditing] = (0, import_react93.useState)(false);
  const [tempStatus, setTempStatus] = (0, import_react93.useState)(billingCycle?.isActive ?? false);
  import_react93.default.useEffect(() => {
    setTempStatus(billingCycle?.isActive ?? false);
  }, [billingCycle]);
  const handleToggleStatus = () => {
    if (billingCycle && onToggleStatus) {
      onToggleStatus(billingCycle);
    }
  };
  const handleEdit = () => {
    if (billingCycle && onEdit) {
      onEdit(billingCycle);
      onOpenChange(false);
    }
  };
  const handleDelete = () => {
    if (billingCycle && onDelete) {
      onDelete(billingCycle);
      onOpenChange(false);
    }
  };
  const handleSaveStatus = () => {
    setTempStatus(!tempStatus);
    handleToggleStatus();
    setIsEditing(false);
  };
  const handleCancelEdit = () => {
    setTempStatus(billingCycle?.isActive ?? false);
    setIsEditing(false);
  };
  const formatDate11 = (date2) => {
    return new Date(date2).toLocaleDateString("en-US", {
      year: "numeric",
      month: "long",
      day: "numeric",
      hour: "2-digit",
      minute: "2-digit"
    });
  };
  if (!billingCycle)
    return null;
  return /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_ui130.Dialog, { open, onOpenChange, children: /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)(import_ui130.DialogContent, { className: "max-w-4xl max-h-[90vh] overflow-y-auto", children: [
    /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_ui130.DialogHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_ui130.DialogTitle, { className: "text-xl font-semibold", children: "Billing Cycle Details" }),
        /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_ui130.DialogDescription, { className: "text-sm text-text-secondary mt-1", children: "View and manage billing cycle information" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)("div", { className: "flex items-center gap-2", children: [
        onEdit && /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)(
          import_ui130.Button,
          {
            variant: "outline",
            size: "sm",
            onClick: handleEdit,
            className: "flex items-center gap-2",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_lucide_react100.Edit, { className: "w-4 h-4" }),
              "Edit"
            ]
          }
        ),
        onDelete && /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)(
          import_ui130.Button,
          {
            variant: "outline",
            size: "sm",
            onClick: handleDelete,
            className: "flex items-center gap-2 text-red-600 hover:text-red-700 hover:bg-red-50",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_lucide_react100.Trash2, { className: "w-4 h-4" }),
              "Delete"
            ]
          }
        )
      ] })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)("div", { className: "mt-6 space-y-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_ui130.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)(import_ui130.CardContent, { className: "p-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)("h3", { className: "text-lg font-medium text-text-primary mb-4 flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_lucide_react100.Info, { className: "w-5 h-5 text-text-tertiary" }),
          "Basic Information"
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
          /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_ui130.Label, { className: "text-sm font-medium text-text-secondary", children: "Name" }),
            /* @__PURE__ */ (0, import_jsx_runtime190.jsx)("p", { className: "text-lg font-semibold text-text-primary mt-1", children: billingCycle.name })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_ui130.Label, { className: "text-sm font-medium text-text-secondary", children: "Value" }),
            /* @__PURE__ */ (0, import_jsx_runtime190.jsx)("div", { className: "mt-1", children: /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_ui130.Badge, { variant: "outline", className: "font-mono text-sm", children: billingCycle.value }) })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_ui130.Label, { className: "text-sm font-medium text-text-secondary", children: "Description" }),
            /* @__PURE__ */ (0, import_jsx_runtime190.jsx)("p", { className: "text-text-primary mt-1", children: billingCycle.description || "No description provided" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_ui130.Label, { className: "text-sm font-medium text-text-secondary", children: "Sort Order" }),
            /* @__PURE__ */ (0, import_jsx_runtime190.jsx)("p", { className: "text-text-primary mt-1", children: billingCycle.sortOrder })
          ] })
        ] })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_ui130.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)(import_ui130.CardContent, { className: "p-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)("h3", { className: "text-lg font-medium text-text-primary mb-4 flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_lucide_react100.DollarSign, { className: "w-5 h-5 text-text-tertiary" }),
          "Billing Details"
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
          /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_ui130.Label, { className: "text-sm font-medium text-text-secondary", children: "Billing Period" }),
            /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)("div", { className: "flex items-center gap-2 mt-1", children: [
              /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_lucide_react100.Calendar, { className: "w-4 h-4 text-text-tertiary" }),
              /* @__PURE__ */ (0, import_jsx_runtime190.jsx)("span", { className: "text-lg font-semibold text-text-primary", children: billingCycle.months }),
              /* @__PURE__ */ (0, import_jsx_runtime190.jsx)("span", { className: "text-text-secondary", children: billingCycle.months === 1 ? "month" : "months" })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_ui130.Label, { className: "text-sm font-medium text-text-secondary", children: "Discount" }),
            /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)("div", { className: "flex items-center gap-2 mt-1", children: [
              /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_lucide_react100.Percent, { className: "w-4 h-4 text-text-tertiary" }),
              billingCycle.discount > 0 ? /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)(import_ui130.Badge, { variant: "default", className: "bg-green-100 text-green-800 border-green-200", children: [
                billingCycle.discount,
                "% off"
              ] }) : /* @__PURE__ */ (0, import_jsx_runtime190.jsx)("span", { className: "text-text-tertiary", children: "No discount" })
            ] })
          ] })
        ] })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_ui130.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)(import_ui130.CardContent, { className: "p-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)("h3", { className: "text-lg font-medium text-text-primary mb-4 flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_lucide_react100.Clock, { className: "w-5 h-5 text-text-tertiary" }),
          "Status Management"
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime190.jsx)("div", { className: "space-y-4", children: /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)("div", { className: "flex items-center justify-between", children: [
          /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_ui130.Label, { className: "text-sm font-medium text-text-secondary", children: "Current Status" }),
            /* @__PURE__ */ (0, import_jsx_runtime190.jsx)("div", { className: "mt-1", children: /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_ui130.StatusBadge, { status: billingCycle.isActive ? "active" : "inactive" }) })
          ] }),
          onToggleStatus && /* @__PURE__ */ (0, import_jsx_runtime190.jsx)("div", { className: "flex items-center gap-4", children: isEditing ? /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)(import_jsx_runtime190.Fragment, { children: [
            /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)("div", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(
                import_ui130.Switch,
                {
                  checked: tempStatus,
                  onCheckedChange: setTempStatus,
                  disabled: loading
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_ui130.Label, { className: "text-sm", children: tempStatus ? "Active" : "Inactive" })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)("div", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)(
                import_ui130.Button,
                {
                  size: "sm",
                  onClick: handleSaveStatus,
                  disabled: loading,
                  className: "flex items-center gap-2",
                  children: [
                    /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_lucide_react100.Save, { className: "w-4 h-4" }),
                    "Save"
                  ]
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(
                import_ui130.Button,
                {
                  variant: "outline",
                  size: "sm",
                  onClick: handleCancelEdit,
                  disabled: loading,
                  children: /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_lucide_react100.X, { className: "w-4 h-4" })
                }
              )
            ] })
          ] }) : /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(
            import_ui130.Button,
            {
              variant: "outline",
              size: "sm",
              onClick: () => setIsEditing(true),
              disabled: loading,
              children: "Change Status"
            }
          ) })
        ] }) })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_ui130.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)(import_ui130.CardContent, { className: "p-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)("h3", { className: "text-lg font-medium text-text-primary mb-4 flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_lucide_react100.Clock, { className: "w-5 h-5 text-text-tertiary" }),
          "Timestamps"
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
          /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_ui130.Label, { className: "text-sm font-medium text-text-secondary", children: "Created" }),
            /* @__PURE__ */ (0, import_jsx_runtime190.jsx)("p", { className: "text-text-primary mt-1", children: formatDate11(billingCycle.createdAt) })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime190.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime190.jsx)(import_ui130.Label, { className: "text-sm font-medium text-text-secondary", children: "Last Updated" }),
            /* @__PURE__ */ (0, import_jsx_runtime190.jsx)("p", { className: "text-text-primary mt-1", children: formatDate11(billingCycle.updatedAt) })
          ] })
        ] })
      ] }) })
    ] })
  ] }) });
};

// src/components/features/Payments/components/PaymentForm.tsx
var import_react94 = __toESM(require("react"));
var import_ui131 = require("@rentalshop/ui");
var import_utils40 = require("@rentalshop/utils");
var import_lucide_react101 = require("lucide-react");
var import_jsx_runtime191 = require("react/jsx-runtime");
var PAYMENT_METHODS2 = [
  { value: "STRIPE", label: "Stripe" },
  { value: "PAYPAL", label: "PayPal" },
  { value: "BANK_TRANSFER", label: "Bank Transfer" },
  { value: "CREDIT_CARD", label: "Credit Card" },
  { value: "CASH", label: "Cash" }
];
var PaymentForm = ({
  onSubmit,
  onCancel,
  loading = false,
  merchants = [],
  plans = [],
  planVariants = [],
  // ✅ REQUIRED: Plan variants
  mode = "create",
  // ✅ NEW: Default to create mode
  existingPayment
  // ✅ NEW: Existing payment data for edit mode
}) => {
  const [formData, setFormData] = (0, import_react94.useState)(() => {
    if (mode === "edit" && existingPayment) {
      return {
        merchantId: existingPayment.merchantId,
        planId: existingPayment.planId,
        planVariantId: existingPayment.planVariantId,
        amount: existingPayment.amount,
        currency: existingPayment.currency,
        method: existingPayment.method,
        description: existingPayment.description,
        extendSubscription: existingPayment.extendSubscription,
        monthsToExtend: existingPayment.monthsToExtend,
        invoiceNumber: existingPayment.invoiceNumber,
        transactionId: existingPayment.transactionId,
        startDate: existingPayment.startDate,
        endDate: existingPayment.endDate
      };
    }
    const today = (/* @__PURE__ */ new Date()).toISOString().split("T")[0];
    const nextMonth = /* @__PURE__ */ new Date();
    nextMonth.setMonth(nextMonth.getMonth() + 1);
    const nextMonthStr = nextMonth.toISOString().split("T")[0];
    return {
      merchantId: 0,
      planId: 0,
      planVariantId: 0,
      amount: 0,
      currency: "USD",
      method: "STRIPE",
      description: "",
      extendSubscription: false,
      startDate: today,
      endDate: nextMonthStr
    };
  });
  const [selectedPlan, setSelectedPlan] = (0, import_react94.useState)(null);
  const [selectedPlanVariant, setSelectedPlanVariant] = (0, import_react94.useState)(null);
  const [isSearchingMerchants, setIsSearchingMerchants] = (0, import_react94.useState)(false);
  const searchMerchants = import_react94.default.useCallback(async (query) => {
    console.log("\u{1F50D} PaymentForm: searchMerchants called with query:", query);
    if (!query.trim()) {
      console.log("\u{1F50D} PaymentForm: Empty query, returning empty array");
      return [];
    }
    setIsSearchingMerchants(true);
    console.log("\u{1F50D} PaymentForm: Starting API call for query:", query);
    try {
      const response = await import_utils40.merchantsApi.searchMerchants({
        q: query,
        limit: 20,
        sortBy: "name",
        sortOrder: "asc"
      });
      console.log("\u{1F50D} PaymentForm: API response:", response);
      if (response.success && response.data) {
        const results = response.data.merchants.map((merchant) => {
          const descriptionParts = [];
          if (merchant.phone)
            descriptionParts.push(`${merchant.phone}`);
          if (merchant.email)
            descriptionParts.push(`${merchant.email}`);
          const addressParts = [];
          if (merchant.address)
            addressParts.push(merchant.address);
          if (merchant.city)
            addressParts.push(merchant.city);
          if (merchant.state)
            addressParts.push(merchant.state);
          if (merchant.zipCode)
            addressParts.push(merchant.zipCode);
          if (merchant.country)
            addressParts.push(merchant.country);
          if (addressParts.length > 0) {
            descriptionParts.push(`${addressParts.join(", ")}`);
          }
          if (merchant.businessType)
            descriptionParts.push(`Business: ${merchant.businessType}`);
          if (merchant.website)
            descriptionParts.push(`Website: ${merchant.website}`);
          return {
            value: merchant.id.toString(),
            label: merchant.name,
            description: descriptionParts.join("\n") || "No contact info",
            type: "default"
          };
        });
        console.log("\u{1F50D} PaymentForm: Returning results:", results);
        return results;
      }
      console.log("\u{1F50D} PaymentForm: No success or data, returning empty array");
      return [];
    } catch (error2) {
      console.error("\u{1F50D} PaymentForm: Error searching merchants:", error2);
      return [];
    } finally {
      setIsSearchingMerchants(false);
      console.log("\u{1F50D} PaymentForm: Search completed for query:", query);
    }
  }, []);
  (0, import_react94.useEffect)(() => {
    if (mode === "edit" && existingPayment && plans.length > 0 && planVariants.length > 0) {
      const plan = plans.find((p) => p.id === existingPayment.planId);
      const planVariant = planVariants.find((v) => v.id === existingPayment.planVariantId);
      if (plan)
        setSelectedPlan(plan);
      if (planVariant)
        setSelectedPlanVariant(planVariant);
    }
  }, [mode, existingPayment, plans, planVariants]);
  (0, import_react94.useEffect)(() => {
    if (selectedPlan && selectedPlanVariant) {
      const totalAmount = selectedPlanVariant.price;
      const currency = selectedPlan.currency;
      setFormData((prev) => ({
        ...prev,
        amount: Math.round(totalAmount * 100) / 100,
        // Round to 2 decimal places
        currency
      }));
    }
  }, [selectedPlan, selectedPlanVariant]);
  const handleInputChange = (field, value) => {
    setFormData((prev) => ({ ...prev, [field]: value }));
    if (field === "startDate" && selectedPlanVariant && value) {
      const startDate = new Date(value);
      const endDate = new Date(startDate);
      endDate.setMonth(endDate.getMonth() + selectedPlanVariant.duration);
      const endDateStr = endDate.toISOString().split("T")[0];
      setFormData((prev) => ({ ...prev, endDate: endDateStr }));
    }
  };
  const handlePlanChange = (planId) => {
    const plan = plans.find((p) => p.id === planId);
    setSelectedPlan(plan || null);
    setSelectedPlanVariant(null);
    handleInputChange("planId", planId);
    handleInputChange("planVariantId", 0);
  };
  const handlePlanVariantChange = (planVariantId) => {
    const planVariant = planVariants.find((v) => v.id === planVariantId);
    setSelectedPlanVariant(planVariant || null);
    handleInputChange("planVariantId", planVariantId);
    if (planVariant && formData.startDate) {
      const startDate = new Date(formData.startDate);
      const endDate = new Date(startDate);
      endDate.setMonth(endDate.getMonth() + planVariant.duration);
      const endDateStr = endDate.toISOString().split("T")[0];
      handleInputChange("endDate", endDateStr);
    }
  };
  const handleSubmit = (e) => {
    e.preventDefault();
    if (formData.extendSubscription && !formData.monthsToExtend) {
      alert("Please specify months to extend when extending subscription");
      return;
    }
    if (formData.startDate && formData.endDate) {
      const startDate = new Date(formData.startDate);
      const endDate = new Date(formData.endDate);
      if (endDate <= startDate) {
        alert("End date must be after start date");
        return;
      }
    }
    onSubmit(formData);
  };
  const isFormValid = formData.merchantId && formData.planId && formData.planVariantId > 0 && formData.amount > 0 && formData.startDate && formData.endDate;
  return /* @__PURE__ */ (0, import_jsx_runtime191.jsxs)(import_ui131.Card, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(import_ui131.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime191.jsxs)(import_ui131.CardTitle, { className: "flex items-center gap-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(import_lucide_react101.DollarSign, { className: "w-5 h-5" }),
      mode === "edit" ? "Edit Payment" : "Create Manual Payment"
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(import_ui131.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime191.jsxs)("form", { onSubmit: handleSubmit, className: "space-y-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime191.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(import_ui131.Label, { htmlFor: "merchant", children: "Merchant *" }),
        /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(
          import_ui131.SearchableSelect,
          {
            value: formData.merchantId,
            onChange: (merchantId) => handleInputChange("merchantId", merchantId),
            onSearch: searchMerchants,
            placeholder: "Search merchants...",
            searchPlaceholder: "Type to search merchants...",
            emptyText: "No merchants found. Try a different search term.",
            displayMode: "input"
          }
        ),
        isSearchingMerchants && /* @__PURE__ */ (0, import_jsx_runtime191.jsx)("p", { className: "text-sm text-blue-500", children: "Searching merchants..." }),
        process.env.NODE_ENV === "development" && /* @__PURE__ */ (0, import_jsx_runtime191.jsx)("p", { className: "text-xs text-gray-400", children: "Debug: Using API search for merchants" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime191.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(import_ui131.Label, { htmlFor: "plan", children: "Plan *" }),
        /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(
          import_ui131.SearchableSelect,
          {
            value: formData.planId,
            onChange: (planId) => handlePlanChange(planId),
            options: plans.map((plan) => ({
              value: plan.id.toString(),
              label: `${plan.name} - $${plan.price} ${plan.currency}`,
              description: `Base price: $${plan.price}`,
              type: "default"
            })),
            placeholder: "Search plans...",
            searchPlaceholder: "Type to search plans...",
            emptyText: "No plans found. Please add plans first.",
            displayMode: "input"
          }
        ),
        plans.length === 0 && /* @__PURE__ */ (0, import_jsx_runtime191.jsx)("p", { className: "text-sm text-red-500", children: "No plans available. Please add plans first." }),
        process.env.NODE_ENV === "development" && /* @__PURE__ */ (0, import_jsx_runtime191.jsxs)("p", { className: "text-xs text-gray-400", children: [
          "Debug: ",
          plans.length,
          " plans loaded"
        ] })
      ] }),
      selectedPlan && /* @__PURE__ */ (0, import_jsx_runtime191.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(import_ui131.Label, { htmlFor: "planVariant", children: "Plan Variant *" }),
        /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(
          import_ui131.SearchableSelect,
          {
            value: formData.planVariantId,
            onChange: (planVariantId) => handlePlanVariantChange(planVariantId),
            options: planVariants.filter((variant) => variant.planId === selectedPlan.id && variant.isActive).map((variant) => ({
              value: variant.id.toString(),
              label: `${variant.name} (${variant.duration} months) - $${variant.price} ${selectedPlan.currency}`,
              description: variant.discount > 0 ? `Save $${variant.savings} with ${variant.discount}% discount` : `Standard pricing`,
              type: "default"
            })),
            placeholder: "Search plan variants...",
            searchPlaceholder: "Type to search plan variants...",
            emptyText: "No plan variants found for this plan.",
            displayMode: "input"
          }
        ),
        planVariants.length === 0 ? /* @__PURE__ */ (0, import_jsx_runtime191.jsx)("p", { className: "text-sm text-red-500", children: "No plan variants available for this plan. Please add plan variants first." }) : /* @__PURE__ */ (0, import_jsx_runtime191.jsx)("p", { className: "text-sm text-gray-500", children: "Select a specific plan variant for precise pricing and duration." }),
        process.env.NODE_ENV === "development" && /* @__PURE__ */ (0, import_jsx_runtime191.jsxs)("p", { className: "text-xs text-gray-400", children: [
          "Debug: ",
          planVariants.length,
          " plan variants loaded, ",
          planVariants.filter((v) => v.planId === selectedPlan.id && v.isActive).length,
          " for selected plan"
        ] })
      ] }),
      formData.amount > 0 && /* @__PURE__ */ (0, import_jsx_runtime191.jsxs)("div", { className: "p-4 bg-blue-50 rounded-lg", children: [
        /* @__PURE__ */ (0, import_jsx_runtime191.jsxs)("div", { className: "flex items-center justify-between", children: [
          /* @__PURE__ */ (0, import_jsx_runtime191.jsx)("span", { className: "font-medium", children: "Total Amount:" }),
          /* @__PURE__ */ (0, import_jsx_runtime191.jsxs)("span", { className: "text-xl font-bold text-blue-600", children: [
            "$",
            formData.amount,
            " ",
            formData.currency
          ] })
        ] }),
        selectedPlan && selectedPlanVariant && /* @__PURE__ */ (0, import_jsx_runtime191.jsxs)("div", { className: "text-sm text-gray-600 mt-1", children: [
          selectedPlan.name,
          " - ",
          selectedPlanVariant.name,
          " (",
          selectedPlanVariant.duration,
          " months)",
          selectedPlanVariant.discount > 0 && /* @__PURE__ */ (0, import_jsx_runtime191.jsxs)("span", { className: "text-green-600 ml-2", children: [
            "(Save $",
            selectedPlanVariant.savings,
            " with ",
            selectedPlanVariant.discount,
            "% discount)"
          ] })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime191.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(import_ui131.Label, { htmlFor: "method", children: "Payment Method *" }),
        /* @__PURE__ */ (0, import_jsx_runtime191.jsxs)(
          import_ui131.Select,
          {
            value: formData.method,
            onValueChange: (value) => handleInputChange("method", value),
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(import_ui131.SelectTrigger, { children: /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(import_ui131.SelectValue, { placeholder: "Select payment method" }) }),
              /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(import_ui131.SelectContent, { children: PAYMENT_METHODS2.map((method) => /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(import_ui131.SelectItem, { value: method.value, children: /* @__PURE__ */ (0, import_jsx_runtime191.jsxs)("div", { className: "flex items-center gap-2", children: [
                /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(import_lucide_react101.CreditCard, { className: "w-4 h-4" }),
                method.label
              ] }) }, method.value)) })
            ]
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime191.jsxs)("div", { className: "flex items-center justify-between", children: [
        /* @__PURE__ */ (0, import_jsx_runtime191.jsxs)("div", { className: "space-y-1", children: [
          /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(import_ui131.Label, { htmlFor: "extendSubscription", children: "Extend Existing Subscription" }),
          /* @__PURE__ */ (0, import_jsx_runtime191.jsx)("p", { className: "text-sm text-gray-600", children: "Check this to extend the merchant's current subscription instead of creating a new one" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(
          import_ui131.Switch,
          {
            checked: formData.extendSubscription,
            onCheckedChange: (checked) => handleInputChange("extendSubscription", checked)
          }
        )
      ] }),
      formData.extendSubscription && /* @__PURE__ */ (0, import_jsx_runtime191.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(import_ui131.Label, { htmlFor: "monthsToExtend", children: "Months to Extend *" }),
        /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(
          import_ui131.Input,
          {
            type: "number",
            min: "1",
            max: "60",
            value: formData.monthsToExtend || "",
            onChange: (e) => handleInputChange("monthsToExtend", parseInt(e.target.value)),
            placeholder: "Enter number of months"
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime191.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime191.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(import_ui131.Label, { htmlFor: "invoiceNumber", children: "Invoice Number (Optional)" }),
          /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(
            import_ui131.Input,
            {
              value: formData.invoiceNumber || "",
              onChange: (e) => handleInputChange("invoiceNumber", e.target.value),
              placeholder: "e.g., INV-2024-001"
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime191.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(import_ui131.Label, { htmlFor: "transactionId", children: "Transaction ID (Optional)" }),
          /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(
            import_ui131.Input,
            {
              value: formData.transactionId || "",
              onChange: (e) => handleInputChange("transactionId", e.target.value),
              placeholder: "e.g., txn_123456789"
            }
          )
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime191.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime191.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(import_ui131.Label, { htmlFor: "startDate", children: "Start Date *" }),
          /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(
            import_ui131.Input,
            {
              type: "date",
              value: formData.startDate || "",
              onChange: (e) => handleInputChange("startDate", e.target.value),
              required: true
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime191.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(import_ui131.Label, { htmlFor: "endDate", children: "End Date *" }),
          /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(
            import_ui131.Input,
            {
              type: "date",
              value: formData.endDate || "",
              onChange: (e) => handleInputChange("endDate", e.target.value),
              required: true
            }
          )
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime191.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(import_ui131.Label, { htmlFor: "description", children: "Description" }),
        /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(
          import_ui131.Textarea,
          {
            value: formData.description,
            onChange: (e) => handleInputChange("description", e.target.value),
            placeholder: "Payment description or notes...",
            rows: 3
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime191.jsxs)("div", { className: "flex items-center justify-end gap-3 pt-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(
          import_ui131.Button,
          {
            type: "button",
            variant: "outline",
            onClick: onCancel,
            disabled: loading,
            children: "Cancel"
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime191.jsx)(
          import_ui131.Button,
          {
            type: "submit",
            disabled: !isFormValid || loading,
            className: "min-w-[120px]",
            children: loading ? mode === "edit" ? "Updating..." : "Creating..." : mode === "edit" ? "Update Payment" : "Create Payment"
          }
        )
      ] })
    ] }) })
  ] });
};

// src/components/features/Payments/components/PaymentDetailDialog.tsx
var import_lucide_react102 = require("lucide-react");
var import_jsx_runtime192 = require("react/jsx-runtime");
var PaymentDetailDialog = ({
  open,
  onOpenChange,
  payment,
  onProcessPayment,
  onRefundPayment,
  onDownloadReceipt
}) => {
  if (!payment)
    return null;
  const getStatusBadge = (status) => {
    const statusConfig = {
      "completed": { color: "bg-action-success/10 text-action-success", icon: import_lucide_react102.CheckCircle, text: "Completed" },
      "pending": { color: "bg-action-warning/10 text-action-warning", icon: import_lucide_react102.Clock, text: "Pending" },
      "failed": { color: "bg-action-danger/10 text-action-danger", icon: import_lucide_react102.XCircle, text: "Failed" },
      "refunded": { color: "bg-text-tertiary/10 text-text-tertiary", icon: import_lucide_react102.AlertCircle, text: "Refunded" }
    };
    const config = statusConfig[status];
    const Icon2 = config.icon;
    return /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("span", { className: `inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color}`, children: [
      /* @__PURE__ */ (0, import_jsx_runtime192.jsx)(Icon2, { className: "w-3 h-3 mr-1" }),
      config.text
    ] });
  };
  const getPaymentMethodIcon = (method) => {
    const methodConfig = {
      "credit_card": import_lucide_react102.CreditCard,
      "bank_transfer": import_lucide_react102.DollarSign,
      "paypal": import_lucide_react102.DollarSign,
      "stripe": import_lucide_react102.CreditCard
    };
    const Icon2 = methodConfig[method] || import_lucide_react102.CreditCard;
    return /* @__PURE__ */ (0, import_jsx_runtime192.jsx)(Icon2, { className: "w-4 h-4" });
  };
  const getPaymentMethodText = (method) => {
    const methodConfig = {
      "credit_card": "Credit Card",
      "bank_transfer": "Bank Transfer",
      "paypal": "PayPal",
      "stripe": "Stripe"
    };
    return methodConfig[method] || method;
  };
  const formatDate11 = (date2) => {
    return new Date(date2).toLocaleDateString("en-US", {
      year: "numeric",
      month: "long",
      day: "numeric",
      hour: "2-digit",
      minute: "2-digit"
    });
  };
  const formatCurrency20 = (amount, currency = "USD") => {
    return new Intl.NumberFormat("en-US", {
      style: "currency",
      currency
    }).format(amount);
  };
  return /* @__PURE__ */ (0, import_jsx_runtime192.jsx)(Dialog, { open, onOpenChange, children: /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)(DialogContent, { className: "max-w-4xl max-h-[90vh] overflow-y-auto", children: [
    /* @__PURE__ */ (0, import_jsx_runtime192.jsx)(DialogHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime192.jsx)(DialogTitle, { className: "text-xl font-semibold", children: "Payment Details" }),
        /* @__PURE__ */ (0, import_jsx_runtime192.jsx)(DialogDescription, { className: "text-sm text-text-secondary mt-1", children: "View payment information and transaction details" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("div", { className: "flex items-center gap-2", children: onDownloadReceipt && /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)(
        Button,
        {
          variant: "outline",
          size: "sm",
          onClick: () => onDownloadReceipt(payment.id),
          className: "flex items-center gap-2",
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime192.jsx)(import_lucide_react102.Download, { className: "w-4 h-4" }),
            "Receipt"
          ]
        }
      ) })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "mt-6 space-y-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime192.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)(CardContent2, { className: "p-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("h3", { className: "text-lg font-medium text-gray-900 mb-4 flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "w-2 h-2 bg-blue-500 rounded-full" }),
          "Payment Overview"
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
          /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "space-y-4", children: [
            /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm font-medium text-gray-600", children: "Payment ID:" }),
              /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("span", { className: "text-sm text-gray-900", children: [
                "#",
                payment.id
              ] })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm font-medium text-gray-600", children: "Status:" }),
              getStatusBadge(payment.status)
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm font-medium text-gray-600", children: "Amount:" }),
              /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-lg font-bold text-gray-900", children: formatCurrency20(payment.amount, payment.currency) })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm font-medium text-gray-600", children: "Method:" }),
              /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "flex items-center gap-2", children: [
                getPaymentMethodIcon(payment.method),
                /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm text-gray-900", children: getPaymentMethodText(payment.method) })
              ] })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "space-y-4", children: [
            /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm font-medium text-gray-600", children: "Created:" }),
              /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm text-gray-900", children: formatDate11(payment.createdAt) })
            ] }),
            payment.processedAt && /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm font-medium text-gray-600", children: "Processed:" }),
              /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm text-gray-900", children: formatDate11(payment.processedAt) })
            ] }),
            payment.updatedAt && /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm font-medium text-gray-600", children: "Updated:" }),
              /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm text-gray-900", children: formatDate11(payment.updatedAt) })
            ] }),
            payment.transactionId && /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm font-medium text-gray-600", children: "Transaction ID:" }),
              /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm text-gray-900 font-mono", children: payment.transactionId })
            ] })
          ] })
        ] })
      ] }) }),
      payment.subscription?.merchant && /* @__PURE__ */ (0, import_jsx_runtime192.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)(CardContent2, { className: "p-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("h3", { className: "text-lg font-medium text-gray-900 mb-4 flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime192.jsx)(import_lucide_react102.Building, { className: "w-5 h-5" }),
          "Merchant Information"
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
          /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "space-y-4", children: [
            /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm font-medium text-gray-600", children: "Merchant Name:" }),
              /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm text-gray-900", children: payment.subscription.merchant.name })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm font-medium text-gray-600", children: "Email:" }),
              /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm text-gray-900", children: payment.subscription.merchant.email })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("div", { className: "space-y-4", children: /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "flex items-center justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm font-medium text-gray-600", children: "Merchant ID:" }),
            /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("span", { className: "text-sm text-gray-900", children: [
              "#",
              payment.subscription.merchant.id
            ] })
          ] }) })
        ] })
      ] }) }),
      payment.subscription?.plan && /* @__PURE__ */ (0, import_jsx_runtime192.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)(CardContent2, { className: "p-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("h3", { className: "text-lg font-medium text-gray-900 mb-4 flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime192.jsx)(import_lucide_react102.Package, { className: "w-5 h-5" }),
          "Subscription Details"
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
          /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "space-y-4", children: [
            /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm font-medium text-gray-600", children: "Plan:" }),
              /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm text-gray-900", children: payment.subscription.plan.name })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm font-medium text-gray-600", children: "Plan Price:" }),
              /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm text-gray-900", children: formatCurrency20(payment.subscription.plan.price, payment.subscription.plan.currency) })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "space-y-4", children: [
            /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm font-medium text-gray-600", children: "Plan Variant:" }),
              /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm text-gray-900", children: payment.subscription.planVariant?.name || "N/A" })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "flex items-center justify-between", children: [
              /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm font-medium text-gray-600", children: "Subscription Status:" }),
              /* @__PURE__ */ (0, import_jsx_runtime192.jsx)(Badge, { variant: "outline", className: "text-xs", children: payment.subscription.status })
            ] })
          ] })
        ] })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime192.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)(CardContent2, { className: "p-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("h3", { className: "text-lg font-medium text-gray-900 mb-4 flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime192.jsx)(import_lucide_react102.FileText, { className: "w-5 h-5" }),
          "Additional Information"
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "space-y-4", children: [
          payment.invoiceNumber && /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "flex items-center justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm font-medium text-gray-600", children: "Invoice Number:" }),
            /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm text-gray-900 font-mono", children: payment.invoiceNumber })
          ] }),
          payment.description && /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "flex items-start justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm font-medium text-gray-600", children: "Description:" }),
            /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm text-gray-900 max-w-xs text-right", children: payment.description })
          ] }),
          payment.failureReason && /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "flex items-start justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm font-medium text-red-600", children: "Failure Reason:" }),
            /* @__PURE__ */ (0, import_jsx_runtime192.jsx)("span", { className: "text-sm text-red-600 max-w-xs text-right", children: payment.failureReason })
          ] })
        ] })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)("div", { className: "flex items-center justify-end gap-3 pt-4 border-t", children: [
        payment.status === "pending" && onProcessPayment && /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)(
          Button,
          {
            onClick: () => onProcessPayment(payment.id),
            className: "flex items-center gap-2",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime192.jsx)(import_lucide_react102.CheckCircle, { className: "w-4 h-4" }),
              "Process Payment"
            ]
          }
        ),
        payment.status === "completed" && onRefundPayment && /* @__PURE__ */ (0, import_jsx_runtime192.jsxs)(
          Button,
          {
            variant: "outline",
            onClick: () => onRefundPayment(payment.id),
            className: "flex items-center gap-2 text-red-600 hover:text-red-700",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime192.jsx)(import_lucide_react102.RotateCcw, { className: "w-4 h-4" }),
              "Refund Payment"
            ]
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime192.jsx)(
          Button,
          {
            variant: "outline",
            onClick: () => onOpenChange(false),
            children: "Close"
          }
        )
      ] })
    ] })
  ] }) });
};

// src/components/features/Payments/components/PaymentTable.tsx
var import_react95 = require("react");
var import_lucide_react103 = require("lucide-react");
var import_jsx_runtime193 = require("react/jsx-runtime");
function PaymentTable({
  payments,
  onView,
  onDownloadReceipt,
  onRefund,
  loading = false
}) {
  const [openMenuId, setOpenMenuId] = (0, import_react95.useState)(null);
  const formatCurrency20 = (amount, currency = "USD") => {
    return new Intl.NumberFormat("en-US", {
      style: "currency",
      currency
    }).format(amount);
  };
  const formatDate11 = (date2) => {
    return new Date(date2).toLocaleDateString("en-US", {
      year: "numeric",
      month: "short",
      day: "numeric"
    });
  };
  const getStatusBadge = (status) => {
    const statusMap = {
      "completed": "active",
      "pending": "warning",
      "failed": "danger",
      "refunded": "inactive"
    };
    return /* @__PURE__ */ (0, import_jsx_runtime193.jsx)(StatusBadge, { status: statusMap[status.toLowerCase()] || "inactive" });
  };
  const getPaymentMethodText = (method) => {
    const methodConfig = {
      "credit_card": "Credit Card",
      "bank_transfer": "Bank Transfer",
      "paypal": "PayPal",
      "stripe": "Stripe"
    };
    return methodConfig[method.toLowerCase()] || method;
  };
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime193.jsx)(Card2, { className: "shadow-sm border-border", children: /* @__PURE__ */ (0, import_jsx_runtime193.jsx)(CardContent2, { className: "p-0", children: /* @__PURE__ */ (0, import_jsx_runtime193.jsx)("div", { className: "animate-pulse space-y-4 p-6", children: [...Array(3)].map((_, i) => /* @__PURE__ */ (0, import_jsx_runtime193.jsx)("div", { className: "h-16 bg-bg-tertiary rounded" }, i)) }) }) });
  }
  if (payments.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime193.jsx)(Card2, { className: "shadow-sm border-border", children: /* @__PURE__ */ (0, import_jsx_runtime193.jsx)(CardContent2, { className: "text-center py-12", children: /* @__PURE__ */ (0, import_jsx_runtime193.jsxs)("div", { className: "text-text-tertiary", children: [
      /* @__PURE__ */ (0, import_jsx_runtime193.jsx)("div", { className: "text-4xl mb-4", children: "\u{1F4B3}" }),
      /* @__PURE__ */ (0, import_jsx_runtime193.jsx)("h3", { className: "text-lg font-medium mb-2", children: "No payments found" }),
      /* @__PURE__ */ (0, import_jsx_runtime193.jsx)("p", { className: "text-sm", children: "Try adjusting your search or filter criteria." })
    ] }) }) });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime193.jsx)(Card2, { className: "shadow-sm border-border flex flex-col h-full", children: /* @__PURE__ */ (0, import_jsx_runtime193.jsx)(CardContent2, { className: "p-0 flex-1 overflow-hidden", children: /* @__PURE__ */ (0, import_jsx_runtime193.jsx)("div", { className: "flex-1 overflow-auto h-full", children: /* @__PURE__ */ (0, import_jsx_runtime193.jsxs)("table", { className: "w-full", children: [
    /* @__PURE__ */ (0, import_jsx_runtime193.jsx)("thead", { className: "bg-bg-secondary border-b border-border sticky top-0 z-10", children: /* @__PURE__ */ (0, import_jsx_runtime193.jsxs)("tr", { children: [
      /* @__PURE__ */ (0, import_jsx_runtime193.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Merchant" }),
      /* @__PURE__ */ (0, import_jsx_runtime193.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Plan" }),
      /* @__PURE__ */ (0, import_jsx_runtime193.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Amount" }),
      /* @__PURE__ */ (0, import_jsx_runtime193.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Method" }),
      /* @__PURE__ */ (0, import_jsx_runtime193.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Status" }),
      /* @__PURE__ */ (0, import_jsx_runtime193.jsx)("th", { className: "px-6 py-3 text-left text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Date" }),
      /* @__PURE__ */ (0, import_jsx_runtime193.jsx)("th", { className: "px-6 py-3 text-right text-xs font-medium text-text-secondary uppercase tracking-wider", children: "Actions" })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime193.jsx)("tbody", { className: "bg-bg-card divide-y divide-border", children: payments.map((payment) => /* @__PURE__ */ (0, import_jsx_runtime193.jsxs)("tr", { className: "hover:bg-bg-secondary transition-colors", children: [
      /* @__PURE__ */ (0, import_jsx_runtime193.jsx)("td", { className: "px-6 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime193.jsxs)("div", { className: "flex items-center gap-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime193.jsx)("div", { className: "flex-shrink-0 w-10 h-10 rounded-full bg-gradient-to-br from-action-primary to-brand-primary flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime193.jsx)(import_lucide_react103.CreditCard, { className: "w-5 h-5 text-white" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime193.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime193.jsx)("div", { className: "text-sm font-medium text-text-primary", children: payment.subscription?.merchant?.name || "Unknown Merchant" }),
          payment.invoiceNumber && /* @__PURE__ */ (0, import_jsx_runtime193.jsxs)("div", { className: "text-xs text-text-tertiary", children: [
            "INV: ",
            payment.invoiceNumber
          ] })
        ] })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime193.jsx)("td", { className: "px-6 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime193.jsx)("div", { className: "text-sm text-text-primary", children: payment.subscription?.plan?.name || "Unknown Plan" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime193.jsx)("td", { className: "px-6 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime193.jsx)("div", { className: "text-sm font-medium text-text-primary", children: formatCurrency20(payment.amount, payment.currency) }) }),
      /* @__PURE__ */ (0, import_jsx_runtime193.jsx)("td", { className: "px-6 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime193.jsx)("div", { className: "text-sm text-text-primary", children: getPaymentMethodText(payment.method) }) }),
      /* @__PURE__ */ (0, import_jsx_runtime193.jsx)("td", { className: "px-6 py-4", children: getStatusBadge(payment.status) }),
      /* @__PURE__ */ (0, import_jsx_runtime193.jsx)("td", { className: "px-6 py-4", children: /* @__PURE__ */ (0, import_jsx_runtime193.jsx)("div", { className: "text-sm text-text-primary", children: formatDate11(payment.createdAt) }) }),
      /* @__PURE__ */ (0, import_jsx_runtime193.jsx)("td", { className: "px-6 py-4 text-right", children: /* @__PURE__ */ (0, import_jsx_runtime193.jsxs)(DropdownMenu, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime193.jsx)(DropdownMenuTrigger, { asChild: true, children: /* @__PURE__ */ (0, import_jsx_runtime193.jsx)(
          Button,
          {
            variant: "ghost",
            size: "sm",
            onClick: () => setOpenMenuId(openMenuId === payment.id ? null : payment.id),
            children: /* @__PURE__ */ (0, import_jsx_runtime193.jsx)(import_lucide_react103.MoreVertical, { className: "h-4 w-4" })
          }
        ) }),
        /* @__PURE__ */ (0, import_jsx_runtime193.jsxs)(
          DropdownMenuContent,
          {
            align: "end",
            open: openMenuId === payment.id,
            onOpenChange: (open) => setOpenMenuId(open ? payment.id : null),
            children: [
              onView && /* @__PURE__ */ (0, import_jsx_runtime193.jsxs)(
                DropdownMenuItem,
                {
                  onClick: () => {
                    onView(payment);
                    setOpenMenuId(null);
                  },
                  children: [
                    /* @__PURE__ */ (0, import_jsx_runtime193.jsx)(import_lucide_react103.Eye, { className: "h-4 w-4 mr-2" }),
                    "View Details"
                  ]
                }
              ),
              onDownloadReceipt && /* @__PURE__ */ (0, import_jsx_runtime193.jsxs)(
                DropdownMenuItem,
                {
                  onClick: () => {
                    onDownloadReceipt(payment);
                    setOpenMenuId(null);
                  },
                  children: [
                    /* @__PURE__ */ (0, import_jsx_runtime193.jsx)(import_lucide_react103.Download, { className: "h-4 w-4 mr-2" }),
                    "Download Receipt"
                  ]
                }
              ),
              onRefund && payment.status === "completed" && /* @__PURE__ */ (0, import_jsx_runtime193.jsxs)(import_jsx_runtime193.Fragment, { children: [
                /* @__PURE__ */ (0, import_jsx_runtime193.jsx)(DropdownMenuSeparator, {}),
                /* @__PURE__ */ (0, import_jsx_runtime193.jsxs)(
                  DropdownMenuItem,
                  {
                    onClick: () => {
                      onRefund(payment);
                      setOpenMenuId(null);
                    },
                    className: "text-action-danger focus:text-action-danger",
                    children: [
                      /* @__PURE__ */ (0, import_jsx_runtime193.jsx)(import_lucide_react103.RefreshCcw, { className: "h-4 w-4 mr-2" }),
                      "Refund Payment"
                    ]
                  }
                )
              ] })
            ]
          }
        )
      ] }) })
    ] }, payment.id)) })
  ] }) }) }) });
}

// src/components/features/Admin/components/StatsOverview.tsx
var import_jsx_runtime194 = require("react/jsx-runtime");
function StatsOverview({ stats, className = "" }) {
  return /* @__PURE__ */ (0, import_jsx_runtime194.jsx)("div", { className: `grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 ${className}`, children: stats.map((stat, index) => {
    const Icon2 = stat.icon;
    return /* @__PURE__ */ (0, import_jsx_runtime194.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime194.jsx)(CardContent2, { className: "p-6", children: /* @__PURE__ */ (0, import_jsx_runtime194.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime194.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime194.jsx)("p", { className: "text-sm font-medium text-text-secondary mb-2", children: stat.label }),
        /* @__PURE__ */ (0, import_jsx_runtime194.jsx)("p", { className: `text-2xl font-bold ${stat.color} mb-1`, children: stat.value }),
        stat.trend && /* @__PURE__ */ (0, import_jsx_runtime194.jsxs)("div", { className: `flex items-center gap-1 text-sm ${stat.trend.isPositive ? "text-green-600" : "text-red-600"}`, children: [
          /* @__PURE__ */ (0, import_jsx_runtime194.jsx)("span", { children: stat.trend.isPositive ? "\u2197" : "\u2198" }),
          /* @__PURE__ */ (0, import_jsx_runtime194.jsxs)("span", { children: [
            Math.abs(stat.trend.value),
            "%"
          ] })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime194.jsx)("div", { className: `p-3 rounded-full ${stat.bgColor}`, children: /* @__PURE__ */ (0, import_jsx_runtime194.jsx)(Icon2, { className: `h-6 w-6 ${stat.color}` }) })
    ] }) }) }, index);
  }) });
}

// src/components/features/Admin/components/SearchAndFilters.tsx
var import_lucide_react104 = require("lucide-react");
var import_jsx_runtime195 = require("react/jsx-runtime");
function SearchAndFilters({
  searchTerm,
  onSearchChange,
  searchPlaceholder = "Search...",
  filters = [],
  className = ""
}) {
  return /* @__PURE__ */ (0, import_jsx_runtime195.jsx)(Card2, { className, children: /* @__PURE__ */ (0, import_jsx_runtime195.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime195.jsxs)("div", { className: "flex flex-col sm:flex-row gap-4", children: [
    /* @__PURE__ */ (0, import_jsx_runtime195.jsx)("div", { className: "flex-1", children: /* @__PURE__ */ (0, import_jsx_runtime195.jsxs)("div", { className: "relative", children: [
      /* @__PURE__ */ (0, import_jsx_runtime195.jsx)(import_lucide_react104.Search, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary w-4 h-4" }),
      /* @__PURE__ */ (0, import_jsx_runtime195.jsx)(
        Input2,
        {
          type: "text",
          placeholder: searchPlaceholder,
          value: searchTerm,
          onChange: (e) => onSearchChange(e.target.value),
          className: "w-full pl-10 pr-4 py-2 border border-border rounded-lg focus:ring-2 focus:ring-action-primary focus:border-transparent"
        }
      )
    ] }) }),
    filters.length > 0 && /* @__PURE__ */ (0, import_jsx_runtime195.jsx)("div", { className: "flex gap-2", children: filters.map((filter, index) => /* @__PURE__ */ (0, import_jsx_runtime195.jsx)(
      "select",
      {
        value: filter.value,
        onChange: (e) => filter.onChange(e.target.value),
        className: "px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-action-primary focus:border-transparent",
        children: filter.options.map((option) => /* @__PURE__ */ (0, import_jsx_runtime195.jsx)("option", { value: option.value, children: option.label }, option.value))
      },
      index
    )) })
  ] }) }) });
}

// src/components/features/Admin/components/StatusBadge.tsx
var import_jsx_runtime196 = require("react/jsx-runtime");
function AdminStatusBadge({ status, type = "default", className = "" }) {
  const getStatusConfig = () => {
    switch (type) {
      case "role":
        return {
          "ADMIN": { color: "bg-red-100 text-red-800", text: "Admin" },
          "MERCHANT": { color: "bg-blue-100 text-blue-800", text: "Merchant" },
          "OUTLET_ADMIN": { color: "bg-green-100 text-green-800", text: "Outlet Admin" },
          "OUTLET_STAFF": { color: "bg-gray-100 text-gray-800", text: "Outlet Staff" }
        };
      case "user":
        return {
          "ACTIVE": { color: "bg-green-100 text-green-800", text: "Active" },
          "INACTIVE": { color: "bg-gray-100 text-gray-800", text: "Inactive" },
          "PENDING": { color: "bg-yellow-100 text-yellow-800", text: "Pending" },
          "SUSPENDED": { color: "bg-red-100 text-red-800", text: "Suspended" }
        };
      case "system":
        return {
          "HEALTHY": { color: "bg-green-100 text-green-800", text: "Healthy" },
          "WARNING": { color: "bg-yellow-100 text-yellow-800", text: "Warning" },
          "ERROR": { color: "bg-red-100 text-red-800", text: "Error" },
          "MAINTENANCE": { color: "bg-blue-100 text-blue-800", text: "Maintenance" }
        };
      case "audit":
        return {
          "SUCCESS": { color: "bg-green-100 text-green-800", text: "Success" },
          "FAILED": { color: "bg-red-100 text-red-800", text: "Failed" },
          "WARNING": { color: "bg-yellow-100 text-yellow-800", text: "Warning" },
          "LOW": { color: "bg-gray-100 text-gray-800", text: "Low" },
          "MEDIUM": { color: "bg-blue-100 text-blue-800", text: "Medium" },
          "HIGH": { color: "bg-orange-100 text-orange-800", text: "High" },
          "CRITICAL": { color: "bg-red-100 text-red-800", text: "Critical" }
        };
      default:
        return {
          "SUCCESS": { color: "bg-green-100 text-green-800", text: "Success" },
          "ERROR": { color: "bg-red-100 text-red-800", text: "Error" },
          "WARNING": { color: "bg-yellow-100 text-yellow-800", text: "Warning" },
          "INFO": { color: "bg-blue-100 text-blue-800", text: "Info" }
        };
    }
  };
  const config = getStatusConfig()[status];
  if (!config) {
    return /* @__PURE__ */ (0, import_jsx_runtime196.jsx)("span", { className: `inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 ${className}`, children: status });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime196.jsx)("span", { className: `inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.color} ${className}`, children: config.text });
}

// src/components/features/Admin/components/ActionButton.tsx
var import_jsx_runtime197 = require("react/jsx-runtime");
function ActionButton({
  icon: Icon2,
  label,
  onClick,
  variant = "outline",
  size = "sm",
  disabled = false,
  className = ""
}) {
  return /* @__PURE__ */ (0, import_jsx_runtime197.jsxs)(
    Button,
    {
      variant,
      size,
      onClick,
      disabled,
      className,
      children: [
        /* @__PURE__ */ (0, import_jsx_runtime197.jsx)(Icon2, { className: "w-4 h-4 mr-2" }),
        label
      ]
    }
  );
}

// src/components/features/Admin/components/EmptyState.tsx
var import_jsx_runtime198 = require("react/jsx-runtime");
function EmptyState7({
  icon: Icon2,
  title,
  description,
  actionLabel,
  onAction,
  className = ""
}) {
  return /* @__PURE__ */ (0, import_jsx_runtime198.jsx)(Card2, { className, children: /* @__PURE__ */ (0, import_jsx_runtime198.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime198.jsxs)("div", { className: "text-center py-12", children: [
    /* @__PURE__ */ (0, import_jsx_runtime198.jsx)(Icon2, { className: "w-12 h-12 text-text-tertiary mx-auto mb-4" }),
    /* @__PURE__ */ (0, import_jsx_runtime198.jsx)("h3", { className: "text-lg font-medium text-text-secondary mb-2", children: title }),
    /* @__PURE__ */ (0, import_jsx_runtime198.jsx)("p", { className: "text-text-tertiary mb-4", children: description }),
    actionLabel && onAction && /* @__PURE__ */ (0, import_jsx_runtime198.jsx)(Button, { onClick: onAction, children: actionLabel })
  ] }) }) });
}

// src/components/features/Admin/components/DataTable.tsx
var import_jsx_runtime199 = require("react/jsx-runtime");
function DataTable({
  data,
  columns,
  loading = false,
  onRowClick,
  className = ""
}) {
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime199.jsx)(Card2, { className, children: /* @__PURE__ */ (0, import_jsx_runtime199.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime199.jsxs)("div", { className: "animate-pulse", children: [
      /* @__PURE__ */ (0, import_jsx_runtime199.jsx)("div", { className: "h-12 bg-bg-tertiary rounded mb-4" }),
      [...Array(5)].map((_, i) => /* @__PURE__ */ (0, import_jsx_runtime199.jsx)("div", { className: "h-16 bg-bg-tertiary rounded mb-2" }, i))
    ] }) }) });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime199.jsx)(Card2, { className, children: /* @__PURE__ */ (0, import_jsx_runtime199.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime199.jsx)("div", { className: "overflow-x-auto", children: /* @__PURE__ */ (0, import_jsx_runtime199.jsxs)("table", { className: "w-full", children: [
    /* @__PURE__ */ (0, import_jsx_runtime199.jsx)("thead", { children: /* @__PURE__ */ (0, import_jsx_runtime199.jsx)("tr", { className: "border-b border-border", children: columns.map((column) => /* @__PURE__ */ (0, import_jsx_runtime199.jsx)(
      "th",
      {
        className: `text-left py-3 px-4 font-medium text-text-secondary ${column.className || ""}`,
        children: column.label
      },
      column.key
    )) }) }),
    /* @__PURE__ */ (0, import_jsx_runtime199.jsx)("tbody", { children: data.map((row, index) => /* @__PURE__ */ (0, import_jsx_runtime199.jsx)(
      "tr",
      {
        className: `border-b border-border hover:bg-bg-secondary transition-colors ${onRowClick ? "cursor-pointer" : ""}`,
        onClick: () => onRowClick?.(row),
        children: columns.map((column) => /* @__PURE__ */ (0, import_jsx_runtime199.jsx)("td", { className: "py-3 px-4", children: column.render ? column.render(row[column.key], row) : row[column.key] }, column.key))
      },
      index
    )) })
  ] }) }) }) });
}

// src/components/layout/PageWrapper.tsx
var import_jsx_runtime200 = require("react/jsx-runtime");
var maxWidthClasses = {
  sm: "max-w-sm",
  md: "max-w-md",
  lg: "max-w-lg",
  xl: "max-w-xl",
  "2xl": "max-w-2xl",
  "7xl": "max-w-7xl",
  full: "max-w-full"
};
var paddingClasses = {
  none: "",
  sm: "px-4 py-4",
  md: "px-6 py-6",
  lg: "px-8 py-8",
  xl: "px-10 py-10"
};
var spacingClasses = {
  none: "",
  sm: "space-y-4",
  md: "space-y-6",
  lg: "space-y-8",
  xl: "space-y-10"
};
function PageWrapper4({
  children,
  className,
  container = true,
  maxWidth = "7xl",
  padding = "sm",
  spacing = "sm"
}) {
  return /* @__PURE__ */ (0, import_jsx_runtime200.jsx)("div", { className: cn2(
    // Base container
    container && "mx-auto",
    // Max width
    maxWidth !== "full" && maxWidthClasses[maxWidth],
    // Padding
    padding !== "none" && paddingClasses[padding],
    // Spacing between children
    spacing !== "none" && spacingClasses[spacing],
    // Custom classes
    className
  ), children });
}
function PageHeader({
  children,
  className
}) {
  return /* @__PURE__ */ (0, import_jsx_runtime200.jsx)("div", { className: cn2("mb-4", className), children });
}
function PageTitle({
  children,
  className,
  subtitle
}) {
  return /* @__PURE__ */ (0, import_jsx_runtime200.jsxs)("div", { className: cn2("mb-2", className), children: [
    /* @__PURE__ */ (0, import_jsx_runtime200.jsx)("h1", { className: "text-3xl font-bold text-gray-900", children }),
    subtitle && /* @__PURE__ */ (0, import_jsx_runtime200.jsx)("p", { className: "text-gray-600 mt-1", children: subtitle })
  ] });
}
function PageContent4({
  children,
  className
}) {
  return /* @__PURE__ */ (0, import_jsx_runtime200.jsx)("div", { className: cn2("space-y-4", className), children });
}
function PageSection({
  children,
  className,
  title
}) {
  return /* @__PURE__ */ (0, import_jsx_runtime200.jsxs)("section", { className: cn2("space-y-4", className), children: [
    title && /* @__PURE__ */ (0, import_jsx_runtime200.jsx)("h2", { className: "text-xl font-semibold text-gray-900", children: title }),
    children
  ] });
}

// src/components/features/Admin/components/AdminPageHeader.tsx
var import_jsx_runtime201 = require("react/jsx-runtime");
function AdminPageHeader({
  title,
  subtitle,
  actionLabel,
  actionIcon: ActionIcon,
  onAction,
  className = ""
}) {
  return /* @__PURE__ */ (0, import_jsx_runtime201.jsx)(PageHeader, { className, children: /* @__PURE__ */ (0, import_jsx_runtime201.jsxs)("div", { className: "flex justify-between items-start", children: [
    /* @__PURE__ */ (0, import_jsx_runtime201.jsx)("div", { children: /* @__PURE__ */ (0, import_jsx_runtime201.jsx)(PageTitle, { subtitle, children: title }) }),
    actionLabel && onAction && ActionIcon && /* @__PURE__ */ (0, import_jsx_runtime201.jsxs)(Button, { onClick: onAction, children: [
      /* @__PURE__ */ (0, import_jsx_runtime201.jsx)(ActionIcon, { className: "w-4 h-4 mr-2" }),
      actionLabel
    ] })
  ] }) });
}

// src/components/features/Admin/components/SettingsNavigation.tsx
var import_jsx_runtime202 = require("react/jsx-runtime");
function SettingsNavigation({
  tabs,
  activeTab,
  onTabChange,
  className = ""
}) {
  return /* @__PURE__ */ (0, import_jsx_runtime202.jsxs)(Card2, { className, children: [
    /* @__PURE__ */ (0, import_jsx_runtime202.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime202.jsx)(CardTitle2, { children: "Settings Categories" }) }),
    /* @__PURE__ */ (0, import_jsx_runtime202.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime202.jsx)("nav", { className: "space-y-2", children: tabs.map((tab) => {
      const Icon2 = tab.icon;
      return /* @__PURE__ */ (0, import_jsx_runtime202.jsxs)(
        Button,
        {
          variant: "ghost",
          onClick: () => onTabChange(tab.id),
          className: `w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left transition-colors justify-start h-auto ${activeTab === tab.id ? "bg-action-primary text-text-inverted" : "text-text-secondary hover:text-text-primary hover:bg-bg-secondary"}`,
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime202.jsx)(Icon2, { className: "w-4 h-4" }),
            tab.label
          ]
        },
        tab.id
      );
    }) }) })
  ] });
}

// src/components/features/Admin/components/SettingsForm.tsx
var import_jsx_runtime203 = require("react/jsx-runtime");
function SettingsForm({
  title,
  fields,
  values,
  onChange,
  onSave,
  onReset,
  saving = false,
  className = ""
}) {
  const renderField = (field) => {
    const commonProps = {
      value: values[field.name] || "",
      onChange: (e) => onChange(field.name, e.target.value),
      placeholder: field.placeholder,
      required: field.required,
      min: field.min,
      max: field.max
    };
    switch (field.type) {
      case "textarea":
        return /* @__PURE__ */ (0, import_jsx_runtime203.jsx)(
          Textarea,
          {
            ...commonProps,
            rows: field.rows || 3,
            onChange: (e) => onChange(field.name, e.target.value)
          }
        );
      case "select":
        return /* @__PURE__ */ (0, import_jsx_runtime203.jsx)(
          Select2,
          {
            value: values[field.name] || "",
            onValueChange: (value) => onChange(field.name, value),
            children: field.options?.map((option) => /* @__PURE__ */ (0, import_jsx_runtime203.jsx)("option", { value: option.value, children: option.label }, option.value))
          }
        );
      case "switch":
        return /* @__PURE__ */ (0, import_jsx_runtime203.jsxs)("div", { className: "flex items-center justify-between", children: [
          /* @__PURE__ */ (0, import_jsx_runtime203.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime203.jsx)("label", { className: "text-sm font-medium text-text-secondary", children: field.label }),
            field.description && /* @__PURE__ */ (0, import_jsx_runtime203.jsx)("p", { className: "text-xs text-text-tertiary", children: field.description })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime203.jsx)(
            Switch,
            {
              checked: values[field.name] || false,
              onCheckedChange: (checked) => onChange(field.name, checked)
            }
          )
        ] });
      default:
        return /* @__PURE__ */ (0, import_jsx_runtime203.jsx)(Input2, { ...commonProps, type: field.type });
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime203.jsxs)(Card2, { className, children: [
    /* @__PURE__ */ (0, import_jsx_runtime203.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime203.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime203.jsx)(CardTitle2, { children: title }),
      /* @__PURE__ */ (0, import_jsx_runtime203.jsxs)("div", { className: "flex gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime203.jsx)(Button, { variant: "outline", onClick: onReset, children: "Reset" }),
        /* @__PURE__ */ (0, import_jsx_runtime203.jsx)(Button, { onClick: onSave, disabled: saving, children: saving ? "Saving..." : "Save" })
      ] })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime203.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime203.jsx)("div", { className: "space-y-6", children: fields.map((field) => /* @__PURE__ */ (0, import_jsx_runtime203.jsxs)("div", { children: [
      field.type !== "switch" && /* @__PURE__ */ (0, import_jsx_runtime203.jsxs)("label", { className: "block text-sm font-medium text-text-secondary mb-2", children: [
        field.label,
        field.required && /* @__PURE__ */ (0, import_jsx_runtime203.jsx)("span", { className: "text-red-500 ml-1", children: "*" })
      ] }),
      renderField(field),
      field.description && field.type !== "switch" && /* @__PURE__ */ (0, import_jsx_runtime203.jsx)("p", { className: "text-xs text-text-tertiary mt-1", children: field.description })
    ] }, field.name)) }) })
  ] });
}

// src/components/features/Admin/components/SystemStatus.tsx
var import_jsx_runtime204 = require("react/jsx-runtime");
function SystemStatus({ statusItems, className = "" }) {
  const getStatusColor11 = (status) => {
    switch (status) {
      case "healthy":
        return "text-green-600";
      case "warning":
        return "text-yellow-600";
      case "error":
        return "text-red-600";
      default:
        return "text-blue-600";
    }
  };
  const getStatusBgColor = (status) => {
    switch (status) {
      case "healthy":
        return "bg-green-100";
      case "warning":
        return "bg-yellow-100";
      case "error":
        return "bg-red-100";
      default:
        return "bg-blue-100";
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime204.jsx)("div", { className: `grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 ${className}`, children: statusItems.map((item, index) => {
    const Icon2 = item.icon;
    const statusColor = item.status ? getStatusColor11(item.status) : item.color;
    const statusBgColor = item.status ? getStatusBgColor(item.status) : item.bgColor;
    return /* @__PURE__ */ (0, import_jsx_runtime204.jsx)(Card2, { children: /* @__PURE__ */ (0, import_jsx_runtime204.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime204.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime204.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime204.jsx)("p", { className: "text-sm font-medium text-text-secondary", children: item.label }),
        /* @__PURE__ */ (0, import_jsx_runtime204.jsx)("p", { className: `text-2xl font-bold ${statusColor}`, children: item.value })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime204.jsx)("div", { className: `p-3 rounded-full ${statusBgColor}`, children: /* @__PURE__ */ (0, import_jsx_runtime204.jsx)(Icon2, { className: `h-6 w-6 ${statusColor}` }) })
    ] }) }) }, index);
  }) });
}

// src/components/features/Admin/components/SettingsLayout.tsx
var import_jsx_runtime205 = require("react/jsx-runtime");
function SettingsLayout({
  title,
  subtitle,
  tabs,
  activeTab,
  onTabChange,
  statusItems,
  children,
  onSave,
  onReset,
  saving = false,
  className = ""
}) {
  return /* @__PURE__ */ (0, import_jsx_runtime205.jsxs)(PageWrapper4, { className, children: [
    /* @__PURE__ */ (0, import_jsx_runtime205.jsx)(
      AdminPageHeader,
      {
        title,
        subtitle,
        actionLabel: "Save Changes",
        onAction: onSave
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime205.jsxs)(PageContent4, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime205.jsx)(
        SystemStatus,
        {
          statusItems,
          className: "mb-8"
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime205.jsxs)("div", { className: "grid grid-cols-1 lg:grid-cols-4 gap-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime205.jsx)("div", { className: "lg:col-span-1", children: /* @__PURE__ */ (0, import_jsx_runtime205.jsx)(
          SettingsNavigation,
          {
            tabs,
            activeTab,
            onTabChange
          }
        ) }),
        /* @__PURE__ */ (0, import_jsx_runtime205.jsx)("div", { className: "lg:col-span-3", children })
      ] })
    ] })
  ] });
}

// src/components/features/Admin/components/SettingsFields.tsx
var import_lucide_react105 = require("lucide-react");
var settingsTabs = [
  { id: "general", label: "General", icon: import_lucide_react105.Globe },
  { id: "security", label: "Security", icon: import_lucide_react105.Shield },
  { id: "email", label: "Email", icon: import_lucide_react105.Mail },
  { id: "notifications", label: "Notifications", icon: import_lucide_react105.Bell },
  { id: "system", label: "System", icon: import_lucide_react105.Server }
];
var generalSettingsFields = [
  {
    type: "text",
    name: "siteName",
    label: "Site Name",
    placeholder: "Enter site name",
    required: true
  },
  {
    type: "select",
    name: "defaultLanguage",
    label: "Default Language",
    options: [
      { value: "en", label: "English" },
      { value: "es", label: "Spanish" },
      { value: "fr", label: "French" },
      { value: "de", label: "German" }
    ]
  },
  {
    type: "textarea",
    name: "siteDescription",
    label: "Site Description",
    placeholder: "Enter site description",
    rows: 3
  },
  {
    type: "select",
    name: "timezone",
    label: "Timezone",
    options: [
      { value: "UTC", label: "UTC" },
      { value: "America/New_York", label: "Eastern Time" },
      { value: "America/Chicago", label: "Central Time" },
      { value: "America/Denver", label: "Mountain Time" },
      { value: "America/Los_Angeles", label: "Pacific Time" }
    ]
  },
  {
    type: "select",
    name: "dateFormat",
    label: "Date Format",
    options: [
      { value: "MM/DD/YYYY", label: "MM/DD/YYYY" },
      { value: "DD/MM/YYYY", label: "DD/MM/YYYY" },
      { value: "YYYY-MM-DD", label: "YYYY-MM-DD" }
    ]
  },
  {
    type: "select",
    name: "currency",
    label: "Currency",
    options: [
      { value: "USD", label: "USD" },
      { value: "EUR", label: "EUR" },
      { value: "GBP", label: "GBP" },
      { value: "CAD", label: "CAD" }
    ]
  }
];
var securitySettingsFields = [
  {
    type: "number",
    name: "sessionTimeout",
    label: "Session Timeout (minutes)",
    min: 5,
    max: 480,
    description: "How long users stay logged in before being required to log in again"
  },
  {
    type: "number",
    name: "maxLoginAttempts",
    label: "Max Login Attempts",
    min: 3,
    max: 10,
    description: "Number of failed login attempts before account lockout"
  },
  {
    type: "number",
    name: "passwordMinLength",
    label: "Password Minimum Length",
    min: 6,
    max: 20,
    description: "Minimum number of characters required for passwords"
  },
  {
    type: "switch",
    name: "requireTwoFactor",
    label: "Require Two-Factor Authentication",
    description: "Force all users to enable 2FA"
  },
  {
    type: "switch",
    name: "allowRegistration",
    label: "Allow User Registration",
    description: "Allow new users to register accounts"
  }
];
var emailSettingsFields = [
  {
    type: "text",
    name: "smtpHost",
    label: "SMTP Host",
    placeholder: "smtp.gmail.com"
  },
  {
    type: "number",
    name: "smtpPort",
    label: "SMTP Port",
    placeholder: "587",
    min: 1,
    max: 65535
  },
  {
    type: "email",
    name: "smtpUsername",
    label: "SMTP Username",
    placeholder: "your-email@gmail.com"
  },
  {
    type: "password",
    name: "smtpPassword",
    label: "SMTP Password",
    placeholder: "Your email password"
  },
  {
    type: "email",
    name: "fromEmail",
    label: "From Email",
    placeholder: "noreply@yourdomain.com"
  },
  {
    type: "text",
    name: "fromName",
    label: "From Name",
    placeholder: "Your Company Name"
  }
];
var notificationSettingsFields = [
  {
    type: "switch",
    name: "emailNotifications",
    label: "Email Notifications",
    description: "Send email notifications for system events"
  },
  {
    type: "switch",
    name: "systemAlerts",
    label: "System Alerts",
    description: "Show system alerts in the admin dashboard"
  },
  {
    type: "switch",
    name: "maintenanceMode",
    label: "Maintenance Mode",
    description: "Put the system in maintenance mode"
  }
];
var systemSettingsFields = [
  {
    type: "number",
    name: "maxFileSize",
    label: "Max File Size (MB)",
    min: 1,
    max: 100,
    description: "Maximum file size allowed for uploads"
  },
  {
    type: "select",
    name: "backupFrequency",
    label: "Backup Frequency",
    options: [
      { value: "hourly", label: "Hourly" },
      { value: "daily", label: "Daily" },
      { value: "weekly", label: "Weekly" },
      { value: "monthly", label: "Monthly" }
    ]
  },
  {
    type: "number",
    name: "logRetentionDays",
    label: "Log Retention (days)",
    min: 7,
    max: 365,
    description: "How long to keep system logs"
  },
  {
    type: "text",
    name: "allowedFileTypes",
    label: "Allowed File Types",
    placeholder: "jpg, jpeg, png, pdf, doc, docx",
    description: "Comma-separated list of allowed file extensions"
  }
];

// src/components/features/Admin/components/SecurityCard.tsx
var import_jsx_runtime206 = require("react/jsx-runtime");
function SecurityCard({
  title,
  description,
  icon: Icon2,
  status,
  actionLabel,
  onAction,
  className = ""
}) {
  const getStatusConfig = () => {
    switch (status) {
      case "secure":
        return {
          color: "text-green-600",
          bgColor: "bg-green-100",
          borderColor: "border-green-200"
        };
      case "warning":
        return {
          color: "text-yellow-600",
          bgColor: "bg-yellow-100",
          borderColor: "border-yellow-200"
        };
      case "critical":
        return {
          color: "text-red-600",
          bgColor: "bg-red-100",
          borderColor: "border-red-200"
        };
    }
  };
  const config = getStatusConfig();
  return /* @__PURE__ */ (0, import_jsx_runtime206.jsxs)(Card2, { className: `${className} ${config.borderColor} border-2`, children: [
    /* @__PURE__ */ (0, import_jsx_runtime206.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime206.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime206.jsxs)("div", { className: "flex items-center gap-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime206.jsx)("div", { className: `p-2 rounded-full ${config.bgColor}`, children: /* @__PURE__ */ (0, import_jsx_runtime206.jsx)(Icon2, { className: `w-5 h-5 ${config.color}` }) }),
        /* @__PURE__ */ (0, import_jsx_runtime206.jsx)(CardTitle2, { className: "text-lg", children: title })
      ] }),
      actionLabel && onAction && /* @__PURE__ */ (0, import_jsx_runtime206.jsx)(Button, { variant: "outline", size: "sm", onClick: onAction, children: actionLabel })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime206.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime206.jsx)("p", { className: "text-sm text-text-secondary", children: description }) })
  ] });
}

// src/components/features/Admin/components/MetricCard.tsx
var import_jsx_runtime207 = require("react/jsx-runtime");
function MetricCard({
  title,
  value,
  change,
  icon: Icon2,
  color,
  bgColor,
  className = ""
}) {
  return /* @__PURE__ */ (0, import_jsx_runtime207.jsx)(Card2, { className, children: /* @__PURE__ */ (0, import_jsx_runtime207.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime207.jsxs)("div", { className: "flex items-center justify-between", children: [
    /* @__PURE__ */ (0, import_jsx_runtime207.jsxs)("div", { children: [
      /* @__PURE__ */ (0, import_jsx_runtime207.jsx)("p", { className: "text-sm font-medium text-text-secondary", children: title }),
      /* @__PURE__ */ (0, import_jsx_runtime207.jsx)("p", { className: `text-2xl font-bold ${color}`, children: value }),
      change && /* @__PURE__ */ (0, import_jsx_runtime207.jsxs)("div", { className: `flex items-center gap-1 text-sm mt-1 ${change.isPositive ? "text-green-600" : "text-red-600"}`, children: [
        /* @__PURE__ */ (0, import_jsx_runtime207.jsx)("span", { children: change.isPositive ? "\u2197" : "\u2198" }),
        /* @__PURE__ */ (0, import_jsx_runtime207.jsxs)("span", { children: [
          Math.abs(change.value),
          "%"
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime207.jsxs)("span", { className: "text-text-tertiary", children: [
          "vs ",
          change.period
        ] })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime207.jsx)("div", { className: `p-3 rounded-full ${bgColor}`, children: /* @__PURE__ */ (0, import_jsx_runtime207.jsx)(Icon2, { className: `h-6 w-6 ${color}` }) })
  ] }) }) });
}

// src/components/features/Admin/components/ActivityFeed.tsx
var import_lucide_react106 = require("lucide-react");
var import_jsx_runtime208 = require("react/jsx-runtime");
function ActivityFeed({
  title,
  activities,
  maxItems = 10,
  className = ""
}) {
  const getTypeColor6 = (type) => {
    switch (type) {
      case "success":
        return "text-green-600 bg-green-100";
      case "warning":
        return "text-yellow-600 bg-yellow-100";
      case "error":
        return "text-red-600 bg-red-100";
      case "info":
        return "text-blue-600 bg-blue-100";
      default:
        return "text-gray-600 bg-gray-100";
    }
  };
  const getDefaultIcon = (action, type) => {
    const actionLower = action.toLowerCase();
    if (actionLower.includes("create") || actionLower.includes("add")) {
      return import_lucide_react106.Building2;
    } else if (actionLower.includes("update") || actionLower.includes("edit")) {
      return import_lucide_react106.Settings;
    } else if (actionLower.includes("delete") || actionLower.includes("remove")) {
      return import_lucide_react106.AlertCircle;
    } else if (actionLower.includes("login") || actionLower.includes("auth")) {
      return import_lucide_react106.User;
    } else if (actionLower.includes("payment") || actionLower.includes("billing")) {
      return import_lucide_react106.CreditCard;
    } else if (actionLower.includes("order") || actionLower.includes("purchase")) {
      return import_lucide_react106.ShoppingCart;
    } else if (actionLower.includes("backup") || actionLower.includes("system")) {
      return import_lucide_react106.Database;
    } else if (actionLower.includes("error") || actionLower.includes("fail")) {
      return import_lucide_react106.AlertCircle;
    } else if (actionLower.includes("success") || actionLower.includes("complete")) {
      return import_lucide_react106.CheckCircle;
    }
    switch (type) {
      case "success":
        return import_lucide_react106.CheckCircle;
      case "warning":
        return import_lucide_react106.AlertCircle;
      case "error":
        return import_lucide_react106.AlertCircle;
      case "info":
      default:
        return import_lucide_react106.Info;
    }
  };
  const displayActivities = activities.slice(0, maxItems);
  return /* @__PURE__ */ (0, import_jsx_runtime208.jsxs)(Card2, { className, children: [
    /* @__PURE__ */ (0, import_jsx_runtime208.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime208.jsx)(CardTitle2, { children: title }) }),
    /* @__PURE__ */ (0, import_jsx_runtime208.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime208.jsx)("div", { className: "space-y-4", children: displayActivities.map((activity) => {
      const Icon2 = activity.icon || getDefaultIcon(activity.action, activity.type);
      return /* @__PURE__ */ (0, import_jsx_runtime208.jsxs)("div", { className: "flex items-start gap-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime208.jsx)("div", { className: `p-2 rounded-full ${getTypeColor6(activity.type)}`, children: /* @__PURE__ */ (0, import_jsx_runtime208.jsx)(Icon2, { className: "w-4 h-4" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime208.jsxs)("div", { className: "flex-1 min-w-0", children: [
          /* @__PURE__ */ (0, import_jsx_runtime208.jsxs)("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime208.jsx)("span", { className: "text-sm font-medium text-text-primary", children: activity.user }),
            /* @__PURE__ */ (0, import_jsx_runtime208.jsx)("span", { className: "text-sm text-text-secondary", children: activity.action })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime208.jsx)("p", { className: "text-sm text-text-secondary mt-1", children: activity.description }),
          /* @__PURE__ */ (0, import_jsx_runtime208.jsx)("p", { className: "text-xs text-text-tertiary mt-1", children: activity.timestamp })
        ] })
      ] }, activity.id);
    }) }) })
  ] });
}

// src/components/features/Admin/components/QuickActions.tsx
var import_jsx_runtime209 = require("react/jsx-runtime");
function QuickActions({
  title,
  actions,
  className = ""
}) {
  return /* @__PURE__ */ (0, import_jsx_runtime209.jsxs)(Card2, { className, children: [
    /* @__PURE__ */ (0, import_jsx_runtime209.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime209.jsx)(CardTitle2, { children: title }) }),
    /* @__PURE__ */ (0, import_jsx_runtime209.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime209.jsx)("div", { className: "grid grid-cols-1 sm:grid-cols-2 gap-3", children: actions.map((action) => {
      const Icon2 = action.icon;
      return /* @__PURE__ */ (0, import_jsx_runtime209.jsxs)(
        Button,
        {
          variant: action.variant || "outline",
          onClick: action.onClick,
          className: "h-auto p-4 flex flex-col items-start gap-2",
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime209.jsxs)("div", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime209.jsx)(Icon2, { className: "w-4 h-4" }),
              /* @__PURE__ */ (0, import_jsx_runtime209.jsx)("span", { className: "font-medium", children: action.label })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime209.jsx)("span", { className: "text-xs text-text-tertiary text-left", children: action.description })
          ]
        },
        action.id
      );
    }) }) })
  ] });
}

// src/components/features/Admin/components/SystemHealth.tsx
var import_jsx_runtime210 = require("react/jsx-runtime");
function SystemHealth({
  title,
  metrics,
  className = ""
}) {
  const getStatusColor11 = (status) => {
    switch (status) {
      case "healthy":
        return "bg-green-500";
      case "warning":
        return "bg-yellow-500";
      case "critical":
        return "bg-red-500";
      default:
        return "bg-gray-500";
    }
  };
  const getStatusText = (status) => {
    switch (status) {
      case "healthy":
        return "Healthy";
      case "warning":
        return "Warning";
      case "critical":
        return "Critical";
      default:
        return "Unknown";
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime210.jsxs)(Card2, { className, children: [
    /* @__PURE__ */ (0, import_jsx_runtime210.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime210.jsx)(CardTitle2, { children: title }) }),
    /* @__PURE__ */ (0, import_jsx_runtime210.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime210.jsx)("div", { className: "space-y-4", children: metrics.map((metric, index) => {
      const Icon2 = metric.icon;
      const percentage = metric.value / metric.max * 100;
      return /* @__PURE__ */ (0, import_jsx_runtime210.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime210.jsxs)("div", { className: "flex items-center justify-between", children: [
          /* @__PURE__ */ (0, import_jsx_runtime210.jsxs)("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime210.jsx)(Icon2, { className: "w-4 h-4 text-text-tertiary" }),
            /* @__PURE__ */ (0, import_jsx_runtime210.jsx)("span", { className: "text-sm font-medium text-text-primary", children: metric.name })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime210.jsxs)("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime210.jsxs)("span", { className: "text-sm text-text-secondary", children: [
              metric.value,
              " / ",
              metric.max,
              " ",
              metric.unit
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime210.jsx)("span", { className: `text-xs px-2 py-1 rounded-full text-white ${getStatusColor11(metric.status)}`, children: getStatusText(metric.status) })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime210.jsx)("div", { className: "w-full bg-bg-tertiary rounded-full h-2", children: /* @__PURE__ */ (0, import_jsx_runtime210.jsx)(
          "div",
          {
            className: `h-2 rounded-full ${getStatusColor11(metric.status)}`,
            style: { width: `${Math.min(percentage, 100)}%` }
          }
        ) })
      ] }, index);
    }) }) })
  ] });
}

// src/components/features/Performance/components/PerformanceMetricCard.tsx
var import_lucide_react107 = require("lucide-react");
var import_jsx_runtime211 = require("react/jsx-runtime");
var getCategoryIcon = (category) => {
  switch (category) {
    case "CPU":
      return import_lucide_react107.Cpu;
    case "MEMORY":
      return import_lucide_react107.Monitor;
    case "DISK":
      return import_lucide_react107.HardDrive;
    case "NETWORK":
      return import_lucide_react107.Wifi;
    case "DATABASE":
      return import_lucide_react107.Database;
    case "API":
      return import_lucide_react107.Globe;
    default:
      return import_lucide_react107.Activity;
  }
};
var getStatusColor4 = (status) => {
  switch (status) {
    case "HEALTHY":
      return "bg-green-100 text-green-800";
    case "WARNING":
      return "bg-yellow-100 text-yellow-800";
    case "CRITICAL":
      return "bg-red-100 text-red-800";
    default:
      return "bg-gray-100 text-gray-800";
  }
};
var getTrendIcon = (trend) => {
  switch (trend) {
    case "UP":
      return import_lucide_react107.TrendingUp;
    case "DOWN":
      return import_lucide_react107.TrendingDown;
    case "STABLE":
      return import_lucide_react107.Activity;
    default:
      return import_lucide_react107.Activity;
  }
};
var getTrendColor = (trend, change) => {
  if (trend === "UP")
    return "text-red-500";
  if (trend === "DOWN")
    return "text-green-500";
  return "text-gray-500";
};
function PerformanceMetricCard({ metric, onClick }) {
  const Icon2 = getCategoryIcon(metric.category);
  const TrendIcon = getTrendIcon(metric.trend);
  const trendColor = getTrendColor(metric.trend, metric.change);
  return /* @__PURE__ */ (0, import_jsx_runtime211.jsxs)(
    Card2,
    {
      className: `cursor-pointer transition-all hover:shadow-md ${onClick ? "hover:border-primary" : ""}`,
      onClick: () => onClick?.(metric),
      children: [
        /* @__PURE__ */ (0, import_jsx_runtime211.jsxs)(CardHeader2, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime211.jsx)(CardTitle2, { className: "text-sm font-medium text-text-secondary", children: metric.name }),
          /* @__PURE__ */ (0, import_jsx_runtime211.jsx)(Icon2, { className: "h-4 w-4 text-text-tertiary" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime211.jsxs)(CardContent2, { children: [
          /* @__PURE__ */ (0, import_jsx_runtime211.jsxs)("div", { className: "flex items-center justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime211.jsxs)("div", { className: "flex items-center space-x-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime211.jsxs)("span", { className: "text-2xl font-bold text-text-primary", children: [
                metric.value,
                metric.unit
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime211.jsxs)("div", { className: "flex items-center space-x-1", children: [
                /* @__PURE__ */ (0, import_jsx_runtime211.jsx)(TrendIcon, { className: `h-3 w-3 ${trendColor}` }),
                /* @__PURE__ */ (0, import_jsx_runtime211.jsxs)("span", { className: `text-xs ${trendColor}`, children: [
                  metric.change > 0 ? "+" : "",
                  metric.change,
                  metric.unit
                ] })
              ] })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime211.jsx)(Badge, { className: getStatusColor4(metric.status), children: metric.status })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime211.jsx)("p", { className: "text-xs text-text-tertiary mt-1", children: metric.description }),
          /* @__PURE__ */ (0, import_jsx_runtime211.jsxs)("div", { className: "mt-2 text-xs text-text-tertiary", children: [
            /* @__PURE__ */ (0, import_jsx_runtime211.jsxs)("div", { children: [
              "Warn: ",
              metric.threshold.warning,
              metric.unit
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime211.jsxs)("div", { children: [
              "Critical: ",
              metric.threshold.critical,
              metric.unit
            ] })
          ] })
        ] })
      ]
    }
  );
}
var PerformanceMetricCard_default = PerformanceMetricCard;

// src/components/features/Performance/components/PerformanceAlertCard.tsx
var import_lucide_react108 = require("lucide-react");
var import_jsx_runtime212 = require("react/jsx-runtime");
var getSeverityColor = (severity) => {
  switch (severity) {
    case "LOW":
      return "bg-blue-100 text-blue-800";
    case "MEDIUM":
      return "bg-yellow-100 text-yellow-800";
    case "HIGH":
      return "bg-orange-100 text-orange-800";
    case "CRITICAL":
      return "bg-red-100 text-red-800";
    default:
      return "bg-gray-100 text-gray-800";
  }
};
var getSeverityIcon = (severity) => {
  switch (severity) {
    case "LOW":
      return import_lucide_react108.AlertTriangle;
    case "MEDIUM":
      return import_lucide_react108.AlertTriangle;
    case "HIGH":
      return import_lucide_react108.AlertTriangle;
    case "CRITICAL":
      return import_lucide_react108.AlertTriangle;
    default:
      return import_lucide_react108.AlertTriangle;
  }
};
function PerformanceAlertCard({
  alert: alert2,
  onResolve,
  onViewDetails
}) {
  const SeverityIcon = getSeverityIcon(alert2.severity);
  return /* @__PURE__ */ (0, import_jsx_runtime212.jsxs)(Card2, { className: "border-l-4 border-l-orange-500", children: [
    /* @__PURE__ */ (0, import_jsx_runtime212.jsxs)(CardHeader2, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime212.jsxs)("div", { className: "flex items-center space-x-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime212.jsx)(SeverityIcon, { className: "h-4 w-4 text-orange-500" }),
        /* @__PURE__ */ (0, import_jsx_runtime212.jsx)(CardTitle2, { className: "text-sm font-medium text-text-primary", children: alert2.metric })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime212.jsx)(Badge, { className: getSeverityColor(alert2.severity), children: alert2.severity })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime212.jsxs)(CardContent2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime212.jsx)("p", { className: "text-sm text-text-secondary mb-3", children: alert2.message }),
      /* @__PURE__ */ (0, import_jsx_runtime212.jsxs)("div", { className: "flex items-center space-x-4 text-xs text-text-tertiary mb-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime212.jsxs)("div", { className: "flex items-center space-x-1", children: [
          /* @__PURE__ */ (0, import_jsx_runtime212.jsx)(import_lucide_react108.Clock, { className: "h-3 w-3" }),
          /* @__PURE__ */ (0, import_jsx_runtime212.jsx)("span", { children: new Date(alert2.timestamp).toLocaleString() })
        ] }),
        alert2.resolved && alert2.resolvedBy && /* @__PURE__ */ (0, import_jsx_runtime212.jsxs)("div", { className: "flex items-center space-x-1", children: [
          /* @__PURE__ */ (0, import_jsx_runtime212.jsx)(import_lucide_react108.User, { className: "h-3 w-3" }),
          /* @__PURE__ */ (0, import_jsx_runtime212.jsxs)("span", { children: [
            "Resolved by ",
            alert2.resolvedBy
          ] })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime212.jsxs)("div", { className: "flex items-center justify-between", children: [
        /* @__PURE__ */ (0, import_jsx_runtime212.jsx)("div", { className: "flex items-center space-x-2", children: alert2.resolved ? /* @__PURE__ */ (0, import_jsx_runtime212.jsxs)("div", { className: "flex items-center space-x-1 text-green-600", children: [
          /* @__PURE__ */ (0, import_jsx_runtime212.jsx)(import_lucide_react108.CheckCircle, { className: "h-4 w-4" }),
          /* @__PURE__ */ (0, import_jsx_runtime212.jsx)("span", { className: "text-sm", children: "Resolved" })
        ] }) : /* @__PURE__ */ (0, import_jsx_runtime212.jsxs)("div", { className: "flex items-center space-x-1 text-orange-600", children: [
          /* @__PURE__ */ (0, import_jsx_runtime212.jsx)(import_lucide_react108.AlertTriangle, { className: "h-4 w-4" }),
          /* @__PURE__ */ (0, import_jsx_runtime212.jsx)("span", { className: "text-sm", children: "Active" })
        ] }) }),
        /* @__PURE__ */ (0, import_jsx_runtime212.jsxs)("div", { className: "flex space-x-2", children: [
          onViewDetails && /* @__PURE__ */ (0, import_jsx_runtime212.jsx)(
            Button,
            {
              variant: "outline",
              size: "sm",
              onClick: () => onViewDetails(alert2),
              children: "View Details"
            }
          ),
          !alert2.resolved && onResolve && /* @__PURE__ */ (0, import_jsx_runtime212.jsx)(
            Button,
            {
              size: "sm",
              onClick: () => onResolve(alert2.id),
              children: "Resolve"
            }
          )
        ] })
      ] })
    ] })
  ] });
}
var PerformanceAlertCard_default = PerformanceAlertCard;

// src/components/features/Performance/components/PerformanceMetricsGrid.tsx
var import_jsx_runtime213 = require("react/jsx-runtime");
function PerformanceMetricsGrid({
  metrics,
  onMetricClick,
  loading = false
}) {
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime213.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4", children: Array.from({ length: 8 }).map((_, index) => /* @__PURE__ */ (0, import_jsx_runtime213.jsx)("div", { className: "h-32 bg-gray-200 animate-pulse rounded-lg" }, index)) });
  }
  if (metrics.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime213.jsx)("div", { className: "text-center py-8", children: /* @__PURE__ */ (0, import_jsx_runtime213.jsx)("p", { className: "text-text-tertiary", children: "No performance metrics available" }) });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime213.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4", children: metrics.map((metric) => /* @__PURE__ */ (0, import_jsx_runtime213.jsx)(
    PerformanceMetricCard,
    {
      metric,
      onClick: onMetricClick
    },
    metric.id
  )) });
}

// src/components/features/Performance/components/PerformanceAlertsList.tsx
var import_jsx_runtime214 = require("react/jsx-runtime");
function PerformanceAlertsList({
  alerts,
  onResolveAlert,
  onViewAlertDetails,
  loading = false,
  maxItems = 10
}) {
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime214.jsx)("div", { className: "space-y-4", children: Array.from({ length: 3 }).map((_, index) => /* @__PURE__ */ (0, import_jsx_runtime214.jsx)("div", { className: "h-24 bg-gray-200 animate-pulse rounded-lg" }, index)) });
  }
  const displayAlerts = alerts.slice(0, maxItems);
  const activeAlerts = displayAlerts.filter((alert2) => !alert2.resolved);
  const resolvedAlerts = displayAlerts.filter((alert2) => alert2.resolved);
  if (alerts.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime214.jsx)("div", { className: "text-center py-8", children: /* @__PURE__ */ (0, import_jsx_runtime214.jsx)("p", { className: "text-text-tertiary", children: "No performance alerts" }) });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime214.jsxs)("div", { className: "space-y-4", children: [
    activeAlerts.length > 0 && /* @__PURE__ */ (0, import_jsx_runtime214.jsxs)("div", { children: [
      /* @__PURE__ */ (0, import_jsx_runtime214.jsxs)("h3", { className: "text-sm font-medium text-text-primary mb-3", children: [
        "Active Alerts (",
        activeAlerts.length,
        ")"
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime214.jsx)("div", { className: "space-y-3", children: activeAlerts.map((alert2) => /* @__PURE__ */ (0, import_jsx_runtime214.jsx)(
        PerformanceAlertCard,
        {
          alert: alert2,
          onResolve: onResolveAlert,
          onViewDetails: onViewAlertDetails
        },
        alert2.id
      )) })
    ] }),
    resolvedAlerts.length > 0 && /* @__PURE__ */ (0, import_jsx_runtime214.jsxs)("div", { children: [
      /* @__PURE__ */ (0, import_jsx_runtime214.jsxs)("h3", { className: "text-sm font-medium text-text-primary mb-3", children: [
        "Recently Resolved (",
        resolvedAlerts.length,
        ")"
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime214.jsx)("div", { className: "space-y-3", children: resolvedAlerts.map((alert2) => /* @__PURE__ */ (0, import_jsx_runtime214.jsx)(
        PerformanceAlertCard,
        {
          alert: alert2,
          onViewDetails: onViewAlertDetails
        },
        alert2.id
      )) })
    ] })
  ] });
}

// src/components/features/Maintenance/components/MaintenanceTaskCard.tsx
var import_lucide_react109 = require("lucide-react");
var import_jsx_runtime215 = require("react/jsx-runtime");
var getTypeColor = (type) => {
  switch (type) {
    case "SCHEDULED":
      return "bg-blue-100 text-blue-800";
    case "EMERGENCY":
      return "bg-red-100 text-red-800";
    case "ROUTINE":
      return "bg-green-100 text-green-800";
    case "UPDATE":
      return "bg-purple-100 text-purple-800";
    default:
      return "bg-gray-100 text-gray-800";
  }
};
var getStatusColor5 = (status) => {
  switch (status) {
    case "PENDING":
      return "bg-yellow-100 text-yellow-800";
    case "IN_PROGRESS":
      return "bg-blue-100 text-blue-800";
    case "COMPLETED":
      return "bg-green-100 text-green-800";
    case "FAILED":
      return "bg-red-100 text-red-800";
    case "CANCELLED":
      return "bg-gray-100 text-gray-800";
    default:
      return "bg-gray-100 text-gray-800";
  }
};
var getPriorityColor = (priority) => {
  switch (priority) {
    case "LOW":
      return "bg-gray-100 text-gray-800";
    case "MEDIUM":
      return "bg-yellow-100 text-yellow-800";
    case "HIGH":
      return "bg-orange-100 text-orange-800";
    case "CRITICAL":
      return "bg-red-100 text-red-800";
    default:
      return "bg-gray-100 text-gray-800";
  }
};
var getStatusIcon = (status) => {
  switch (status) {
    case "PENDING":
      return import_lucide_react109.Clock;
    case "IN_PROGRESS":
      return import_lucide_react109.Play;
    case "COMPLETED":
      return import_lucide_react109.CheckCircle;
    case "FAILED":
      return import_lucide_react109.XCircle;
    case "CANCELLED":
      return import_lucide_react109.XCircle;
    default:
      return import_lucide_react109.Clock;
  }
};
function MaintenanceTaskCard({
  task,
  onStart,
  onComplete,
  onCancel,
  onViewDetails
}) {
  const StatusIcon = getStatusIcon(task.status);
  return /* @__PURE__ */ (0, import_jsx_runtime215.jsxs)(Card2, { className: "hover:shadow-md transition-shadow", children: [
    /* @__PURE__ */ (0, import_jsx_runtime215.jsxs)(CardHeader2, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime215.jsxs)("div", { className: "flex items-center space-x-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime215.jsx)(import_lucide_react109.Wrench, { className: "h-4 w-4 text-text-tertiary" }),
        /* @__PURE__ */ (0, import_jsx_runtime215.jsx)(CardTitle2, { className: "text-sm font-medium text-text-primary", children: task.name })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime215.jsxs)("div", { className: "flex items-center space-x-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime215.jsx)(Badge, { className: getPriorityColor(task.priority), children: task.priority }),
        /* @__PURE__ */ (0, import_jsx_runtime215.jsx)(Badge, { className: getTypeColor(task.type), children: task.type })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime215.jsxs)(CardContent2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime215.jsx)("p", { className: "text-sm text-text-secondary mb-3", children: task.description }),
      /* @__PURE__ */ (0, import_jsx_runtime215.jsxs)("div", { className: "flex items-center space-x-4 text-xs text-text-tertiary mb-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime215.jsxs)("div", { className: "flex items-center space-x-1", children: [
          /* @__PURE__ */ (0, import_jsx_runtime215.jsx)(import_lucide_react109.Calendar, { className: "h-3 w-3" }),
          /* @__PURE__ */ (0, import_jsx_runtime215.jsx)("span", { children: new Date(task.scheduledAt).toLocaleDateString() })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime215.jsxs)("div", { className: "flex items-center space-x-1", children: [
          /* @__PURE__ */ (0, import_jsx_runtime215.jsx)(import_lucide_react109.Clock, { className: "h-3 w-3" }),
          /* @__PURE__ */ (0, import_jsx_runtime215.jsx)("span", { children: task.estimatedDuration })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime215.jsxs)("div", { className: "flex items-center space-x-1", children: [
          /* @__PURE__ */ (0, import_jsx_runtime215.jsx)(import_lucide_react109.User, { className: "h-3 w-3" }),
          /* @__PURE__ */ (0, import_jsx_runtime215.jsx)("span", { children: task.createdBy })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime215.jsxs)("div", { className: "flex items-center justify-between mb-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime215.jsxs)("div", { className: "flex items-center space-x-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime215.jsx)(StatusIcon, { className: "h-4 w-4 text-text-tertiary" }),
          /* @__PURE__ */ (0, import_jsx_runtime215.jsx)(Badge, { className: getStatusColor5(task.status), children: task.status.replace("_", " ") })
        ] }),
        task.actualDuration && /* @__PURE__ */ (0, import_jsx_runtime215.jsxs)("span", { className: "text-xs text-text-tertiary", children: [
          "Actual: ",
          task.actualDuration
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime215.jsxs)("div", { className: "mb-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime215.jsx)("p", { className: "text-xs text-text-tertiary mb-1", children: "Affected Services:" }),
        /* @__PURE__ */ (0, import_jsx_runtime215.jsx)("div", { className: "flex flex-wrap gap-1", children: task.affectedServices.map((service, index) => /* @__PURE__ */ (0, import_jsx_runtime215.jsx)("span", { className: "text-xs bg-bg-secondary px-2 py-1 rounded", children: service }, index)) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime215.jsxs)("div", { className: "flex items-center justify-between", children: [
        /* @__PURE__ */ (0, import_jsx_runtime215.jsx)("div", { className: "flex space-x-2", children: onViewDetails && /* @__PURE__ */ (0, import_jsx_runtime215.jsx)(
          Button,
          {
            variant: "outline",
            size: "sm",
            onClick: () => onViewDetails(task),
            children: "View Details"
          }
        ) }),
        /* @__PURE__ */ (0, import_jsx_runtime215.jsxs)("div", { className: "flex space-x-2", children: [
          task.status === "PENDING" && onStart && /* @__PURE__ */ (0, import_jsx_runtime215.jsxs)(
            Button,
            {
              size: "sm",
              onClick: () => onStart(task.id),
              className: "flex items-center space-x-1",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime215.jsx)(import_lucide_react109.Play, { className: "h-3 w-3" }),
                /* @__PURE__ */ (0, import_jsx_runtime215.jsx)("span", { children: "Start" })
              ]
            }
          ),
          task.status === "IN_PROGRESS" && onComplete && /* @__PURE__ */ (0, import_jsx_runtime215.jsxs)(
            Button,
            {
              size: "sm",
              onClick: () => onComplete(task.id),
              className: "flex items-center space-x-1",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime215.jsx)(import_lucide_react109.CheckCircle, { className: "h-3 w-3" }),
                /* @__PURE__ */ (0, import_jsx_runtime215.jsx)("span", { children: "Complete" })
              ]
            }
          ),
          (task.status === "PENDING" || task.status === "IN_PROGRESS") && onCancel && /* @__PURE__ */ (0, import_jsx_runtime215.jsxs)(
            Button,
            {
              variant: "outline",
              size: "sm",
              onClick: () => onCancel(task.id),
              className: "flex items-center space-x-1",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime215.jsx)(import_lucide_react109.XCircle, { className: "h-3 w-3" }),
                /* @__PURE__ */ (0, import_jsx_runtime215.jsx)("span", { children: "Cancel" })
              ]
            }
          )
        ] })
      ] })
    ] })
  ] });
}
var MaintenanceTaskCard_default = MaintenanceTaskCard;

// src/components/features/Maintenance/components/MaintenanceModeToggle.tsx
var import_lucide_react110 = require("lucide-react");
var import_jsx_runtime216 = require("react/jsx-runtime");
function MaintenanceModeToggle({
  isActive,
  onToggle,
  loading = false
}) {
  return /* @__PURE__ */ (0, import_jsx_runtime216.jsxs)(Card2, { className: "border-l-4 border-l-orange-500", children: [
    /* @__PURE__ */ (0, import_jsx_runtime216.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime216.jsxs)(CardTitle2, { className: "flex items-center gap-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime216.jsx)(import_lucide_react110.Shield, { className: "w-5 h-5" }),
      "Maintenance Mode Status"
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime216.jsxs)(CardContent2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime216.jsxs)("div", { className: "flex items-center justify-between", children: [
        /* @__PURE__ */ (0, import_jsx_runtime216.jsxs)("div", { className: "flex items-center gap-3", children: [
          /* @__PURE__ */ (0, import_jsx_runtime216.jsx)("div", { className: `w-3 h-3 rounded-full ${isActive ? "bg-red-500" : "bg-green-500"}` }),
          /* @__PURE__ */ (0, import_jsx_runtime216.jsx)("span", { className: "text-sm font-medium", children: isActive ? "Maintenance Mode Active" : "System Normal" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime216.jsxs)(
          Button,
          {
            variant: isActive ? "default" : "outline",
            onClick: onToggle,
            disabled: loading,
            className: "flex items-center gap-2",
            children: [
              isActive ? /* @__PURE__ */ (0, import_jsx_runtime216.jsx)(import_lucide_react110.Eye, { className: "w-4 h-4" }) : /* @__PURE__ */ (0, import_jsx_runtime216.jsx)(import_lucide_react110.EyeOff, { className: "w-4 h-4" }),
              isActive ? "Disable" : "Enable",
              " Maintenance Mode"
            ]
          }
        )
      ] }),
      isActive && /* @__PURE__ */ (0, import_jsx_runtime216.jsx)("div", { className: "mt-3 p-3 bg-orange-50 border border-orange-200 rounded-lg", children: /* @__PURE__ */ (0, import_jsx_runtime216.jsxs)("p", { className: "text-sm text-orange-800", children: [
        /* @__PURE__ */ (0, import_jsx_runtime216.jsx)("strong", { children: "Warning:" }),
        " Maintenance mode is currently active. Users may experience limited access to the system."
      ] }) })
    ] })
  ] });
}

// src/components/features/Maintenance/components/MaintenanceTasksGrid.tsx
var import_jsx_runtime217 = require("react/jsx-runtime");
function MaintenanceTasksGrid({
  tasks,
  onStartTask,
  onCompleteTask,
  onCancelTask,
  onViewTaskDetails,
  loading = false
}) {
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime217.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4", children: Array.from({ length: 6 }).map((_, index) => /* @__PURE__ */ (0, import_jsx_runtime217.jsx)("div", { className: "h-64 bg-gray-200 animate-pulse rounded-lg" }, index)) });
  }
  if (tasks.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime217.jsx)("div", { className: "text-center py-8", children: /* @__PURE__ */ (0, import_jsx_runtime217.jsx)("p", { className: "text-text-tertiary", children: "No maintenance tasks found" }) });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime217.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4", children: tasks.map((task) => /* @__PURE__ */ (0, import_jsx_runtime217.jsx)(
    MaintenanceTaskCard,
    {
      task,
      onStart: onStartTask,
      onComplete: onCompleteTask,
      onCancel: onCancelTask,
      onViewDetails: onViewTaskDetails
    },
    task.id
  )) });
}

// src/components/features/Maintenance/components/MaintenanceWindowCard.tsx
var import_lucide_react111 = require("lucide-react");
var import_jsx_runtime218 = require("react/jsx-runtime");
var getStatusColor6 = (status) => {
  switch (status) {
    case "ACTIVE":
      return "bg-green-100 text-green-800";
    case "SCHEDULED":
      return "bg-blue-100 text-blue-800";
    case "COMPLETED":
      return "bg-gray-100 text-gray-800";
    case "CANCELLED":
      return "bg-red-100 text-red-800";
    default:
      return "bg-gray-100 text-gray-800";
  }
};
var getStatusIcon2 = (status) => {
  switch (status) {
    case "ACTIVE":
      return import_lucide_react111.Clock;
    case "SCHEDULED":
      return import_lucide_react111.Calendar;
    case "COMPLETED":
      return import_lucide_react111.Calendar;
    case "CANCELLED":
      return import_lucide_react111.Calendar;
    default:
      return import_lucide_react111.Calendar;
  }
};
function MaintenanceWindowCard({
  window: window2,
  onEdit,
  onCancel,
  onViewDetails
}) {
  const StatusIcon = getStatusIcon2(window2.status);
  const startDate = new Date(window2.startTime);
  const endDate = new Date(window2.endTime);
  const duration = Math.round((endDate.getTime() - startDate.getTime()) / (1e3 * 60 * 60));
  return /* @__PURE__ */ (0, import_jsx_runtime218.jsxs)(Card2, { className: "hover:shadow-md transition-shadow", children: [
    /* @__PURE__ */ (0, import_jsx_runtime218.jsxs)(CardHeader2, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime218.jsxs)("div", { className: "flex items-center space-x-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime218.jsx)(StatusIcon, { className: "h-4 w-4 text-text-tertiary" }),
        /* @__PURE__ */ (0, import_jsx_runtime218.jsx)(CardTitle2, { className: "text-sm font-medium text-text-primary", children: window2.name })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime218.jsx)(Badge, { className: getStatusColor6(window2.status), children: window2.status })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime218.jsxs)(CardContent2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime218.jsx)("p", { className: "text-sm text-text-secondary mb-3", children: window2.description }),
      /* @__PURE__ */ (0, import_jsx_runtime218.jsxs)("div", { className: "space-y-2 mb-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime218.jsxs)("div", { className: "flex items-center justify-between text-xs", children: [
          /* @__PURE__ */ (0, import_jsx_runtime218.jsx)("span", { className: "text-text-tertiary", children: "Start Time:" }),
          /* @__PURE__ */ (0, import_jsx_runtime218.jsx)("span", { className: "text-text-primary", children: startDate.toLocaleString() })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime218.jsxs)("div", { className: "flex items-center justify-between text-xs", children: [
          /* @__PURE__ */ (0, import_jsx_runtime218.jsx)("span", { className: "text-text-tertiary", children: "End Time:" }),
          /* @__PURE__ */ (0, import_jsx_runtime218.jsx)("span", { className: "text-text-primary", children: endDate.toLocaleString() })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime218.jsxs)("div", { className: "flex items-center justify-between text-xs", children: [
          /* @__PURE__ */ (0, import_jsx_runtime218.jsx)("span", { className: "text-text-tertiary", children: "Duration:" }),
          /* @__PURE__ */ (0, import_jsx_runtime218.jsxs)("span", { className: "text-text-primary", children: [
            duration,
            " hours"
          ] })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime218.jsxs)("div", { className: "mb-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime218.jsx)("p", { className: "text-xs text-text-tertiary mb-1", children: "Affected Services:" }),
        /* @__PURE__ */ (0, import_jsx_runtime218.jsx)("div", { className: "flex flex-wrap gap-1", children: window2.affectedServices.map((service, index) => /* @__PURE__ */ (0, import_jsx_runtime218.jsx)("span", { className: "text-xs bg-bg-secondary px-2 py-1 rounded", children: service }, index)) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime218.jsxs)("div", { className: "mb-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime218.jsx)("p", { className: "text-xs text-text-tertiary mb-1", children: "Notifications:" }),
        /* @__PURE__ */ (0, import_jsx_runtime218.jsxs)("div", { className: "flex items-center space-x-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime218.jsxs)("div", { className: "flex items-center space-x-1", children: [
            window2.notifications.users ? /* @__PURE__ */ (0, import_jsx_runtime218.jsx)(import_lucide_react111.Bell, { className: "h-3 w-3 text-green-500" }) : /* @__PURE__ */ (0, import_jsx_runtime218.jsx)(import_lucide_react111.BellOff, { className: "h-3 w-3 text-gray-400" }),
            /* @__PURE__ */ (0, import_jsx_runtime218.jsx)("span", { className: "text-xs", children: "Users" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime218.jsxs)("div", { className: "flex items-center space-x-1", children: [
            window2.notifications.admins ? /* @__PURE__ */ (0, import_jsx_runtime218.jsx)(import_lucide_react111.Bell, { className: "h-3 w-3 text-green-500" }) : /* @__PURE__ */ (0, import_jsx_runtime218.jsx)(import_lucide_react111.BellOff, { className: "h-3 w-3 text-gray-400" }),
            /* @__PURE__ */ (0, import_jsx_runtime218.jsx)("span", { className: "text-xs", children: "Admins" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime218.jsxs)("div", { className: "flex items-center space-x-1", children: [
            window2.notifications.customers ? /* @__PURE__ */ (0, import_jsx_runtime218.jsx)(import_lucide_react111.Bell, { className: "h-3 w-3 text-green-500" }) : /* @__PURE__ */ (0, import_jsx_runtime218.jsx)(import_lucide_react111.BellOff, { className: "h-3 w-3 text-gray-400" }),
            /* @__PURE__ */ (0, import_jsx_runtime218.jsx)("span", { className: "text-xs", children: "Customers" })
          ] })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime218.jsxs)("div", { className: "flex items-center justify-between", children: [
        /* @__PURE__ */ (0, import_jsx_runtime218.jsx)("div", { className: "flex space-x-2", children: onViewDetails && /* @__PURE__ */ (0, import_jsx_runtime218.jsx)(
          Button,
          {
            variant: "outline",
            size: "sm",
            onClick: () => onViewDetails(window2),
            children: "View Details"
          }
        ) }),
        /* @__PURE__ */ (0, import_jsx_runtime218.jsxs)("div", { className: "flex space-x-2", children: [
          window2.status === "SCHEDULED" && onEdit && /* @__PURE__ */ (0, import_jsx_runtime218.jsx)(
            Button,
            {
              size: "sm",
              onClick: () => onEdit(window2),
              children: "Edit"
            }
          ),
          (window2.status === "SCHEDULED" || window2.status === "ACTIVE") && onCancel && /* @__PURE__ */ (0, import_jsx_runtime218.jsx)(
            Button,
            {
              variant: "outline",
              size: "sm",
              onClick: () => onCancel(window2.id),
              children: "Cancel"
            }
          )
        ] })
      ] })
    ] })
  ] });
}

// src/components/features/Backup/components/BackupCard.tsx
var import_lucide_react112 = require("lucide-react");
var import_jsx_runtime219 = require("react/jsx-runtime");
var getTypeColor2 = (type) => {
  switch (type) {
    case "FULL":
      return "bg-blue-100 text-blue-800";
    case "INCREMENTAL":
      return "bg-green-100 text-green-800";
    case "DIFFERENTIAL":
      return "bg-purple-100 text-purple-800";
    default:
      return "bg-gray-100 text-gray-800";
  }
};
var getStatusColor7 = (status) => {
  switch (status) {
    case "COMPLETED":
      return "bg-green-100 text-green-800";
    case "IN_PROGRESS":
      return "bg-blue-100 text-blue-800";
    case "FAILED":
      return "bg-red-100 text-red-800";
    case "SCHEDULED":
      return "bg-yellow-100 text-yellow-800";
    default:
      return "bg-gray-100 text-gray-800";
  }
};
var getStatusIcon3 = (status) => {
  switch (status) {
    case "COMPLETED":
      return import_lucide_react112.CheckCircle;
    case "IN_PROGRESS":
      return import_lucide_react112.Clock;
    case "FAILED":
      return import_lucide_react112.XCircle;
    case "SCHEDULED":
      return import_lucide_react112.AlertTriangle;
    default:
      return import_lucide_react112.Clock;
  }
};
var getLocationIcon = (location) => {
  switch (location) {
    case "CLOUD":
      return import_lucide_react112.Cloud;
    case "LOCAL":
      return import_lucide_react112.HardDrive;
    case "BOTH":
      return import_lucide_react112.Archive;
    default:
      return import_lucide_react112.Database;
  }
};
function BackupCard({
  backup,
  onDownload,
  onRestore,
  onDelete,
  onViewDetails
}) {
  const StatusIcon = getStatusIcon3(backup.status);
  const LocationIcon = getLocationIcon(backup.location);
  return /* @__PURE__ */ (0, import_jsx_runtime219.jsxs)(Card2, { className: "hover:shadow-md transition-shadow", children: [
    /* @__PURE__ */ (0, import_jsx_runtime219.jsxs)(CardHeader2, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime219.jsxs)("div", { className: "flex items-center space-x-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime219.jsx)(import_lucide_react112.Database, { className: "h-4 w-4 text-text-tertiary" }),
        /* @__PURE__ */ (0, import_jsx_runtime219.jsx)(CardTitle2, { className: "text-sm font-medium text-text-primary", children: backup.name })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime219.jsxs)("div", { className: "flex items-center space-x-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime219.jsx)(Badge, { className: getTypeColor2(backup.type), children: backup.type }),
        /* @__PURE__ */ (0, import_jsx_runtime219.jsx)(Badge, { className: getStatusColor7(backup.status), children: backup.status })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime219.jsxs)(CardContent2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime219.jsx)("p", { className: "text-sm text-text-secondary mb-3", children: backup.description }),
      /* @__PURE__ */ (0, import_jsx_runtime219.jsxs)("div", { className: "space-y-2 mb-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime219.jsxs)("div", { className: "flex items-center justify-between text-xs", children: [
          /* @__PURE__ */ (0, import_jsx_runtime219.jsx)("span", { className: "text-text-tertiary", children: "Size:" }),
          /* @__PURE__ */ (0, import_jsx_runtime219.jsx)("span", { className: "text-text-primary", children: backup.size })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime219.jsxs)("div", { className: "flex items-center justify-between text-xs", children: [
          /* @__PURE__ */ (0, import_jsx_runtime219.jsx)("span", { className: "text-text-tertiary", children: "Created:" }),
          /* @__PURE__ */ (0, import_jsx_runtime219.jsx)("span", { className: "text-text-primary", children: new Date(backup.createdAt).toLocaleDateString() })
        ] }),
        backup.completedAt && /* @__PURE__ */ (0, import_jsx_runtime219.jsxs)("div", { className: "flex items-center justify-between text-xs", children: [
          /* @__PURE__ */ (0, import_jsx_runtime219.jsx)("span", { className: "text-text-tertiary", children: "Completed:" }),
          /* @__PURE__ */ (0, import_jsx_runtime219.jsx)("span", { className: "text-text-primary", children: new Date(backup.completedAt).toLocaleDateString() })
        ] }),
        backup.duration && /* @__PURE__ */ (0, import_jsx_runtime219.jsxs)("div", { className: "flex items-center justify-between text-xs", children: [
          /* @__PURE__ */ (0, import_jsx_runtime219.jsx)("span", { className: "text-text-tertiary", children: "Duration:" }),
          /* @__PURE__ */ (0, import_jsx_runtime219.jsx)("span", { className: "text-text-primary", children: backup.duration })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime219.jsxs)("div", { className: "flex items-center justify-between mb-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime219.jsxs)("div", { className: "flex items-center space-x-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime219.jsx)(StatusIcon, { className: "h-4 w-4 text-text-tertiary" }),
          /* @__PURE__ */ (0, import_jsx_runtime219.jsx)("span", { className: "text-xs text-text-tertiary", children: backup.status.replace("_", " ") })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime219.jsxs)("div", { className: "flex items-center space-x-1", children: [
          /* @__PURE__ */ (0, import_jsx_runtime219.jsx)(LocationIcon, { className: "h-3 w-3 text-text-tertiary" }),
          /* @__PURE__ */ (0, import_jsx_runtime219.jsx)("span", { className: "text-xs text-text-tertiary", children: backup.location })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime219.jsx)("div", { className: "flex items-center justify-between text-xs text-text-tertiary mb-3", children: /* @__PURE__ */ (0, import_jsx_runtime219.jsxs)("div", { className: "flex items-center space-x-1", children: [
        /* @__PURE__ */ (0, import_jsx_runtime219.jsx)(import_lucide_react112.User, { className: "h-3 w-3" }),
        /* @__PURE__ */ (0, import_jsx_runtime219.jsx)("span", { children: backup.createdBy })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime219.jsxs)("div", { className: "flex items-center justify-between", children: [
        /* @__PURE__ */ (0, import_jsx_runtime219.jsx)("div", { className: "flex space-x-2", children: onViewDetails && /* @__PURE__ */ (0, import_jsx_runtime219.jsx)(
          Button,
          {
            variant: "outline",
            size: "sm",
            onClick: () => onViewDetails(backup),
            children: "View Details"
          }
        ) }),
        /* @__PURE__ */ (0, import_jsx_runtime219.jsxs)("div", { className: "flex space-x-2", children: [
          backup.status === "COMPLETED" && onDownload && /* @__PURE__ */ (0, import_jsx_runtime219.jsxs)(
            Button,
            {
              variant: "outline",
              size: "sm",
              onClick: () => onDownload(backup.id),
              className: "flex items-center space-x-1",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime219.jsx)(import_lucide_react112.Download, { className: "h-3 w-3" }),
                /* @__PURE__ */ (0, import_jsx_runtime219.jsx)("span", { children: "Download" })
              ]
            }
          ),
          backup.status === "COMPLETED" && onRestore && /* @__PURE__ */ (0, import_jsx_runtime219.jsxs)(
            Button,
            {
              size: "sm",
              onClick: () => onRestore(backup.id),
              className: "flex items-center space-x-1",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime219.jsx)(import_lucide_react112.Play, { className: "h-3 w-3" }),
                /* @__PURE__ */ (0, import_jsx_runtime219.jsx)("span", { children: "Restore" })
              ]
            }
          ),
          onDelete && /* @__PURE__ */ (0, import_jsx_runtime219.jsxs)(
            Button,
            {
              variant: "outline",
              size: "sm",
              onClick: () => onDelete(backup.id),
              className: "flex items-center space-x-1",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime219.jsx)(import_lucide_react112.Trash2, { className: "h-3 w-3" }),
                /* @__PURE__ */ (0, import_jsx_runtime219.jsx)("span", { children: "Delete" })
              ]
            }
          )
        ] })
      ] })
    ] })
  ] });
}
var BackupCard_default = BackupCard;

// src/components/features/Backup/components/BackupScheduleCard.tsx
var import_lucide_react113 = require("lucide-react");
var import_jsx_runtime220 = require("react/jsx-runtime");
var getFrequencyColor = (frequency) => {
  switch (frequency) {
    case "HOURLY":
      return "bg-green-100 text-green-800";
    case "DAILY":
      return "bg-blue-100 text-blue-800";
    case "WEEKLY":
      return "bg-purple-100 text-purple-800";
    case "MONTHLY":
      return "bg-orange-100 text-orange-800";
    default:
      return "bg-gray-100 text-gray-800";
  }
};
var getStatusColor8 = (status) => {
  switch (status) {
    case "ACTIVE":
      return "bg-green-100 text-green-800";
    case "PAUSED":
      return "bg-yellow-100 text-yellow-800";
    case "DISABLED":
      return "bg-red-100 text-red-800";
    default:
      return "bg-gray-100 text-gray-800";
  }
};
var getTypeColor3 = (type) => {
  switch (type) {
    case "FULL":
      return "bg-blue-100 text-blue-800";
    case "INCREMENTAL":
      return "bg-green-100 text-green-800";
    case "DIFFERENTIAL":
      return "bg-purple-100 text-purple-800";
    default:
      return "bg-gray-100 text-gray-800";
  }
};
var getStatusIcon4 = (status) => {
  switch (status) {
    case "ACTIVE":
      return import_lucide_react113.CheckCircle;
    case "PAUSED":
      return import_lucide_react113.Pause;
    case "DISABLED":
      return import_lucide_react113.XCircle;
    default:
      return import_lucide_react113.AlertTriangle;
  }
};
function BackupScheduleCard({
  schedule,
  onPause,
  onResume,
  onEdit,
  onDelete,
  onViewDetails
}) {
  const StatusIcon = getStatusIcon4(schedule.status);
  const nextRunDate = new Date(schedule.nextRun);
  const lastRunDate = schedule.lastRun ? new Date(schedule.lastRun) : null;
  return /* @__PURE__ */ (0, import_jsx_runtime220.jsxs)(Card2, { className: "hover:shadow-md transition-shadow", children: [
    /* @__PURE__ */ (0, import_jsx_runtime220.jsxs)(CardHeader2, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime220.jsxs)("div", { className: "flex items-center space-x-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime220.jsx)(import_lucide_react113.Clock, { className: "h-4 w-4 text-text-tertiary" }),
        /* @__PURE__ */ (0, import_jsx_runtime220.jsx)(CardTitle2, { className: "text-sm font-medium text-text-primary", children: schedule.name })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime220.jsxs)("div", { className: "flex items-center space-x-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime220.jsx)(Badge, { className: getFrequencyColor(schedule.frequency), children: schedule.frequency }),
        /* @__PURE__ */ (0, import_jsx_runtime220.jsx)(Badge, { className: getTypeColor3(schedule.type), children: schedule.type })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime220.jsxs)(CardContent2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime220.jsxs)("div", { className: "space-y-2 mb-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime220.jsxs)("div", { className: "flex items-center justify-between text-xs", children: [
          /* @__PURE__ */ (0, import_jsx_runtime220.jsx)("span", { className: "text-text-tertiary", children: "Next Run:" }),
          /* @__PURE__ */ (0, import_jsx_runtime220.jsx)("span", { className: "text-text-primary", children: nextRunDate.toLocaleString() })
        ] }),
        lastRunDate && /* @__PURE__ */ (0, import_jsx_runtime220.jsxs)("div", { className: "flex items-center justify-between text-xs", children: [
          /* @__PURE__ */ (0, import_jsx_runtime220.jsx)("span", { className: "text-text-tertiary", children: "Last Run:" }),
          /* @__PURE__ */ (0, import_jsx_runtime220.jsx)("span", { className: "text-text-primary", children: lastRunDate.toLocaleString() })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime220.jsxs)("div", { className: "flex items-center justify-between text-xs", children: [
          /* @__PURE__ */ (0, import_jsx_runtime220.jsx)("span", { className: "text-text-tertiary", children: "Retention:" }),
          /* @__PURE__ */ (0, import_jsx_runtime220.jsxs)("span", { className: "text-text-primary", children: [
            schedule.retention,
            " days"
          ] })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime220.jsx)("div", { className: "flex items-center justify-between mb-3", children: /* @__PURE__ */ (0, import_jsx_runtime220.jsxs)("div", { className: "flex items-center space-x-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime220.jsx)(StatusIcon, { className: "h-4 w-4 text-text-tertiary" }),
        /* @__PURE__ */ (0, import_jsx_runtime220.jsx)(Badge, { className: getStatusColor8(schedule.status), children: schedule.status })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime220.jsxs)("div", { className: "flex items-center justify-between", children: [
        /* @__PURE__ */ (0, import_jsx_runtime220.jsx)("div", { className: "flex space-x-2", children: onViewDetails && /* @__PURE__ */ (0, import_jsx_runtime220.jsx)(
          Button,
          {
            variant: "outline",
            size: "sm",
            onClick: () => onViewDetails(schedule),
            children: "View Details"
          }
        ) }),
        /* @__PURE__ */ (0, import_jsx_runtime220.jsxs)("div", { className: "flex space-x-2", children: [
          schedule.status === "ACTIVE" && onPause && /* @__PURE__ */ (0, import_jsx_runtime220.jsxs)(
            Button,
            {
              variant: "outline",
              size: "sm",
              onClick: () => onPause(schedule.id),
              className: "flex items-center space-x-1",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime220.jsx)(import_lucide_react113.Pause, { className: "h-3 w-3" }),
                /* @__PURE__ */ (0, import_jsx_runtime220.jsx)("span", { children: "Pause" })
              ]
            }
          ),
          schedule.status === "PAUSED" && onResume && /* @__PURE__ */ (0, import_jsx_runtime220.jsxs)(
            Button,
            {
              size: "sm",
              onClick: () => onResume(schedule.id),
              className: "flex items-center space-x-1",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime220.jsx)(import_lucide_react113.Play, { className: "h-3 w-3" }),
                /* @__PURE__ */ (0, import_jsx_runtime220.jsx)("span", { children: "Resume" })
              ]
            }
          ),
          onEdit && /* @__PURE__ */ (0, import_jsx_runtime220.jsxs)(
            Button,
            {
              variant: "outline",
              size: "sm",
              onClick: () => onEdit(schedule),
              className: "flex items-center space-x-1",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime220.jsx)(import_lucide_react113.Settings, { className: "h-3 w-3" }),
                /* @__PURE__ */ (0, import_jsx_runtime220.jsx)("span", { children: "Edit" })
              ]
            }
          ),
          onDelete && /* @__PURE__ */ (0, import_jsx_runtime220.jsx)(
            Button,
            {
              variant: "outline",
              size: "sm",
              onClick: () => onDelete(schedule.id),
              children: "Delete"
            }
          )
        ] })
      ] })
    ] })
  ] });
}
var BackupScheduleCard_default = BackupScheduleCard;

// src/components/features/Backup/components/BackupGrid.tsx
var import_jsx_runtime221 = require("react/jsx-runtime");
function BackupGrid({
  backups,
  onDownloadBackup,
  onRestoreBackup,
  onDeleteBackup,
  onViewBackupDetails,
  loading = false
}) {
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime221.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4", children: Array.from({ length: 6 }).map((_, index) => /* @__PURE__ */ (0, import_jsx_runtime221.jsx)("div", { className: "h-80 bg-gray-200 animate-pulse rounded-lg" }, index)) });
  }
  if (backups.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime221.jsx)("div", { className: "text-center py-8", children: /* @__PURE__ */ (0, import_jsx_runtime221.jsx)("p", { className: "text-text-tertiary", children: "No backups found" }) });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime221.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4", children: backups.map((backup) => /* @__PURE__ */ (0, import_jsx_runtime221.jsx)(
    BackupCard,
    {
      backup,
      onDownload: onDownloadBackup,
      onRestore: onRestoreBackup,
      onDelete: onDeleteBackup,
      onViewDetails: onViewBackupDetails
    },
    backup.id
  )) });
}

// src/components/features/Backup/components/BackupSchedulesGrid.tsx
var import_jsx_runtime222 = require("react/jsx-runtime");
function BackupSchedulesGrid({
  schedules,
  onPauseSchedule,
  onResumeSchedule,
  onEditSchedule,
  onDeleteSchedule,
  onViewScheduleDetails,
  loading = false
}) {
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime222.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4", children: Array.from({ length: 4 }).map((_, index) => /* @__PURE__ */ (0, import_jsx_runtime222.jsx)("div", { className: "h-64 bg-gray-200 animate-pulse rounded-lg" }, index)) });
  }
  if (schedules.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime222.jsx)("div", { className: "text-center py-8", children: /* @__PURE__ */ (0, import_jsx_runtime222.jsx)("p", { className: "text-text-tertiary", children: "No backup schedules found" }) });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime222.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4", children: schedules.map((schedule) => /* @__PURE__ */ (0, import_jsx_runtime222.jsx)(
    BackupScheduleCard,
    {
      schedule,
      onPause: onPauseSchedule,
      onResume: onResumeSchedule,
      onEdit: onEditSchedule,
      onDelete: onDeleteSchedule,
      onViewDetails: onViewScheduleDetails
    },
    schedule.id
  )) });
}

// src/components/features/ApiManagement/components/ApiKeyCard.tsx
var import_react96 = require("react");
var import_lucide_react114 = require("lucide-react");
var import_jsx_runtime223 = require("react/jsx-runtime");
var getTypeColor4 = (type) => {
  switch (type) {
    case "READ":
      return "bg-blue-100 text-blue-800";
    case "WRITE":
      return "bg-green-100 text-green-800";
    case "ADMIN":
      return "bg-red-100 text-red-800";
    case "WEBHOOK":
      return "bg-purple-100 text-purple-800";
    default:
      return "bg-gray-100 text-gray-800";
  }
};
var getStatusColor9 = (status) => {
  switch (status) {
    case "ACTIVE":
      return "bg-green-100 text-green-800";
    case "INACTIVE":
      return "bg-yellow-100 text-yellow-800";
    case "EXPIRED":
      return "bg-red-100 text-red-800";
    case "REVOKED":
      return "bg-gray-100 text-gray-800";
    default:
      return "bg-gray-100 text-gray-800";
  }
};
function ApiKeyCard({
  apiKey,
  onCopy,
  onRevoke,
  onDelete,
  onViewDetails
}) {
  const [showKey, setShowKey] = (0, import_react96.useState)(false);
  const toggleKeyVisibility = () => {
    setShowKey(!showKey);
  };
  const handleCopy = () => {
    if (onCopy) {
      onCopy(apiKey.key);
    } else {
      navigator.clipboard.writeText(apiKey.key);
    }
  };
  const usagePercentage = apiKey.usage.requests / apiKey.usage.limit * 100;
  return /* @__PURE__ */ (0, import_jsx_runtime223.jsxs)(Card2, { className: "hover:shadow-md transition-shadow", children: [
    /* @__PURE__ */ (0, import_jsx_runtime223.jsxs)(CardHeader2, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime223.jsxs)("div", { className: "flex items-center space-x-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime223.jsx)(import_lucide_react114.Key, { className: "h-4 w-4 text-text-tertiary" }),
        /* @__PURE__ */ (0, import_jsx_runtime223.jsx)(CardTitle2, { className: "text-sm font-medium text-text-primary", children: apiKey.name })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime223.jsxs)("div", { className: "flex items-center space-x-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime223.jsx)(Badge, { className: getTypeColor4(apiKey.type), children: apiKey.type }),
        /* @__PURE__ */ (0, import_jsx_runtime223.jsx)(Badge, { className: getStatusColor9(apiKey.status), children: apiKey.status })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime223.jsxs)(CardContent2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime223.jsx)("p", { className: "text-sm text-text-secondary mb-3", children: apiKey.description }),
      /* @__PURE__ */ (0, import_jsx_runtime223.jsx)("div", { className: "mb-3", children: /* @__PURE__ */ (0, import_jsx_runtime223.jsxs)("div", { className: "flex items-center space-x-2 mb-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime223.jsx)("code", { className: "text-xs bg-bg-secondary px-2 py-1 rounded font-mono flex-1", children: showKey ? apiKey.key : "\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022" }),
        /* @__PURE__ */ (0, import_jsx_runtime223.jsx)(
          Button,
          {
            variant: "ghost",
            size: "sm",
            onClick: toggleKeyVisibility,
            className: "h-6 w-6 p-0",
            children: showKey ? /* @__PURE__ */ (0, import_jsx_runtime223.jsx)(import_lucide_react114.EyeOff, { className: "w-3 h-3" }) : /* @__PURE__ */ (0, import_jsx_runtime223.jsx)(import_lucide_react114.Eye, { className: "w-3 h-3" })
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime223.jsx)(
          Button,
          {
            variant: "ghost",
            size: "sm",
            onClick: handleCopy,
            className: "h-6 w-6 p-0",
            children: /* @__PURE__ */ (0, import_jsx_runtime223.jsx)(import_lucide_react114.Copy, { className: "w-3 h-3" })
          }
        )
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime223.jsxs)("div", { className: "space-y-2 mb-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime223.jsxs)("div", { className: "flex items-center justify-between text-xs", children: [
          /* @__PURE__ */ (0, import_jsx_runtime223.jsx)("span", { className: "text-text-tertiary", children: "Usage:" }),
          /* @__PURE__ */ (0, import_jsx_runtime223.jsxs)("span", { className: "text-text-primary", children: [
            apiKey.usage.requests.toLocaleString(),
            " / ",
            apiKey.usage.limit.toLocaleString()
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime223.jsx)("div", { className: "w-full bg-gray-200 rounded-full h-2", children: /* @__PURE__ */ (0, import_jsx_runtime223.jsx)(
          "div",
          {
            className: `h-2 rounded-full ${usagePercentage > 90 ? "bg-red-500" : usagePercentage > 75 ? "bg-yellow-500" : "bg-green-500"}`,
            style: { width: `${Math.min(usagePercentage, 100)}%` }
          }
        ) }),
        /* @__PURE__ */ (0, import_jsx_runtime223.jsxs)("div", { className: "flex items-center justify-between text-xs", children: [
          /* @__PURE__ */ (0, import_jsx_runtime223.jsx)("span", { className: "text-text-tertiary", children: "Created:" }),
          /* @__PURE__ */ (0, import_jsx_runtime223.jsx)("span", { className: "text-text-primary", children: new Date(apiKey.createdAt).toLocaleDateString() })
        ] }),
        apiKey.lastUsed && /* @__PURE__ */ (0, import_jsx_runtime223.jsxs)("div", { className: "flex items-center justify-between text-xs", children: [
          /* @__PURE__ */ (0, import_jsx_runtime223.jsx)("span", { className: "text-text-tertiary", children: "Last Used:" }),
          /* @__PURE__ */ (0, import_jsx_runtime223.jsx)("span", { className: "text-text-primary", children: new Date(apiKey.lastUsed).toLocaleDateString() })
        ] }),
        apiKey.expiresAt && /* @__PURE__ */ (0, import_jsx_runtime223.jsxs)("div", { className: "flex items-center justify-between text-xs", children: [
          /* @__PURE__ */ (0, import_jsx_runtime223.jsx)("span", { className: "text-text-tertiary", children: "Expires:" }),
          /* @__PURE__ */ (0, import_jsx_runtime223.jsx)("span", { className: "text-text-primary", children: new Date(apiKey.expiresAt).toLocaleDateString() })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime223.jsxs)("div", { className: "mb-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime223.jsx)("p", { className: "text-xs text-text-tertiary mb-1", children: "Permissions:" }),
        /* @__PURE__ */ (0, import_jsx_runtime223.jsx)("div", { className: "flex flex-wrap gap-1", children: apiKey.permissions.map((permission, index) => /* @__PURE__ */ (0, import_jsx_runtime223.jsx)("span", { className: "text-xs bg-bg-secondary px-2 py-1 rounded", children: permission }, index)) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime223.jsx)("div", { className: "flex items-center justify-between text-xs text-text-tertiary mb-3", children: /* @__PURE__ */ (0, import_jsx_runtime223.jsxs)("div", { className: "flex items-center space-x-1", children: [
        /* @__PURE__ */ (0, import_jsx_runtime223.jsx)(import_lucide_react114.User, { className: "h-3 w-3" }),
        /* @__PURE__ */ (0, import_jsx_runtime223.jsx)("span", { children: apiKey.createdBy })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime223.jsxs)("div", { className: "flex items-center justify-between", children: [
        /* @__PURE__ */ (0, import_jsx_runtime223.jsx)("div", { className: "flex space-x-2", children: onViewDetails && /* @__PURE__ */ (0, import_jsx_runtime223.jsx)(
          Button,
          {
            variant: "outline",
            size: "sm",
            onClick: () => onViewDetails(apiKey),
            children: "View Details"
          }
        ) }),
        /* @__PURE__ */ (0, import_jsx_runtime223.jsxs)("div", { className: "flex space-x-2", children: [
          apiKey.status === "ACTIVE" && onRevoke && /* @__PURE__ */ (0, import_jsx_runtime223.jsxs)(
            Button,
            {
              variant: "outline",
              size: "sm",
              onClick: () => onRevoke(apiKey.id),
              className: "flex items-center space-x-1",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime223.jsx)(import_lucide_react114.XCircle, { className: "h-3 w-3" }),
                /* @__PURE__ */ (0, import_jsx_runtime223.jsx)("span", { children: "Revoke" })
              ]
            }
          ),
          onDelete && /* @__PURE__ */ (0, import_jsx_runtime223.jsxs)(
            Button,
            {
              variant: "outline",
              size: "sm",
              onClick: () => onDelete(apiKey.id),
              className: "flex items-center space-x-1",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime223.jsx)(import_lucide_react114.Trash2, { className: "h-3 w-3" }),
                /* @__PURE__ */ (0, import_jsx_runtime223.jsx)("span", { children: "Delete" })
              ]
            }
          )
        ] })
      ] })
    ] })
  ] });
}
var ApiKeyCard_default = ApiKeyCard;

// src/components/features/ApiManagement/components/ApiEndpointCard.tsx
var import_lucide_react115 = require("lucide-react");
var import_jsx_runtime224 = require("react/jsx-runtime");
var getMethodColor = (method) => {
  switch (method) {
    case "GET":
      return "bg-green-100 text-green-800";
    case "POST":
      return "bg-blue-100 text-blue-800";
    case "PUT":
      return "bg-yellow-100 text-yellow-800";
    case "DELETE":
      return "bg-red-100 text-red-800";
    case "PATCH":
      return "bg-purple-100 text-purple-800";
    default:
      return "bg-gray-100 text-gray-800";
  }
};
var getStatusColor10 = (status) => {
  switch (status) {
    case "ACTIVE":
      return "bg-green-100 text-green-800";
    case "DEPRECATED":
      return "bg-yellow-100 text-yellow-800";
    case "MAINTENANCE":
      return "bg-red-100 text-red-800";
    default:
      return "bg-gray-100 text-gray-800";
  }
};
function ApiEndpointCard({
  endpoint,
  onEdit,
  onViewDetails
}) {
  return /* @__PURE__ */ (0, import_jsx_runtime224.jsxs)(Card2, { className: "hover:shadow-md transition-shadow", children: [
    /* @__PURE__ */ (0, import_jsx_runtime224.jsxs)(CardHeader2, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime224.jsxs)("div", { className: "flex items-center space-x-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime224.jsx)(import_lucide_react115.Globe, { className: "h-4 w-4 text-text-tertiary" }),
        /* @__PURE__ */ (0, import_jsx_runtime224.jsx)(CardTitle2, { className: "text-sm font-medium text-text-primary font-mono", children: endpoint.path })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime224.jsxs)("div", { className: "flex items-center space-x-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime224.jsx)(Badge, { className: getMethodColor(endpoint.method), children: endpoint.method }),
        /* @__PURE__ */ (0, import_jsx_runtime224.jsx)(Badge, { className: getStatusColor10(endpoint.status), children: endpoint.status })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime224.jsxs)(CardContent2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime224.jsx)("p", { className: "text-sm text-text-secondary mb-3", children: endpoint.description }),
      /* @__PURE__ */ (0, import_jsx_runtime224.jsxs)("div", { className: "space-y-2 mb-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime224.jsxs)("div", { className: "flex items-center justify-between text-xs", children: [
          /* @__PURE__ */ (0, import_jsx_runtime224.jsx)("span", { className: "text-text-tertiary", children: "Version:" }),
          /* @__PURE__ */ (0, import_jsx_runtime224.jsx)("span", { className: "text-text-primary", children: endpoint.version })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime224.jsxs)("div", { className: "flex items-center justify-between text-xs", children: [
          /* @__PURE__ */ (0, import_jsx_runtime224.jsx)("span", { className: "text-text-tertiary", children: "Rate Limit:" }),
          /* @__PURE__ */ (0, import_jsx_runtime224.jsxs)("span", { className: "text-text-primary", children: [
            endpoint.rateLimit.requests,
            " requests per ",
            endpoint.rateLimit.window
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime224.jsxs)("div", { className: "flex items-center justify-between text-xs", children: [
          /* @__PURE__ */ (0, import_jsx_runtime224.jsx)("span", { className: "text-text-tertiary", children: "Last Modified:" }),
          /* @__PURE__ */ (0, import_jsx_runtime224.jsx)("span", { className: "text-text-primary", children: new Date(endpoint.lastModified).toLocaleDateString() })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime224.jsx)("div", { className: "flex items-center justify-between text-xs text-text-tertiary mb-3", children: /* @__PURE__ */ (0, import_jsx_runtime224.jsxs)("div", { className: "flex items-center space-x-1", children: [
        /* @__PURE__ */ (0, import_jsx_runtime224.jsx)(import_lucide_react115.User, { className: "h-3 w-3" }),
        /* @__PURE__ */ (0, import_jsx_runtime224.jsxs)("span", { children: [
          "Modified by ",
          endpoint.modifiedBy
        ] })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime224.jsxs)("div", { className: "flex items-center justify-between", children: [
        /* @__PURE__ */ (0, import_jsx_runtime224.jsx)("div", { className: "flex space-x-2", children: onViewDetails && /* @__PURE__ */ (0, import_jsx_runtime224.jsx)(
          Button,
          {
            variant: "outline",
            size: "sm",
            onClick: () => onViewDetails(endpoint),
            children: "View Details"
          }
        ) }),
        /* @__PURE__ */ (0, import_jsx_runtime224.jsx)("div", { className: "flex space-x-2", children: onEdit && /* @__PURE__ */ (0, import_jsx_runtime224.jsxs)(
          Button,
          {
            size: "sm",
            onClick: () => onEdit(endpoint),
            className: "flex items-center space-x-1",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime224.jsx)(import_lucide_react115.Settings, { className: "h-3 w-3" }),
              /* @__PURE__ */ (0, import_jsx_runtime224.jsx)("span", { children: "Edit" })
            ]
          }
        ) })
      ] })
    ] })
  ] });
}
var ApiEndpointCard_default = ApiEndpointCard;

// src/components/features/ApiManagement/components/ApiKeysGrid.tsx
var import_jsx_runtime225 = require("react/jsx-runtime");
function ApiKeysGrid({
  apiKeys,
  onCopyKey,
  onRevokeKey,
  onDeleteKey,
  onViewKeyDetails,
  loading = false
}) {
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime225.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4", children: Array.from({ length: 6 }).map((_, index) => /* @__PURE__ */ (0, import_jsx_runtime225.jsx)("div", { className: "h-80 bg-gray-200 animate-pulse rounded-lg" }, index)) });
  }
  if (apiKeys.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime225.jsx)("div", { className: "text-center py-8", children: /* @__PURE__ */ (0, import_jsx_runtime225.jsx)("p", { className: "text-text-tertiary", children: "No API keys found" }) });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime225.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4", children: apiKeys.map((apiKey) => /* @__PURE__ */ (0, import_jsx_runtime225.jsx)(
    ApiKeyCard,
    {
      apiKey,
      onCopy: onCopyKey,
      onRevoke: onRevokeKey,
      onDelete: onDeleteKey,
      onViewDetails: onViewKeyDetails
    },
    apiKey.id
  )) });
}

// src/components/features/ApiManagement/components/ApiEndpointsGrid.tsx
var import_jsx_runtime226 = require("react/jsx-runtime");
function ApiEndpointsGrid({
  endpoints,
  onEditEndpoint,
  onViewEndpointDetails,
  loading = false
}) {
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime226.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4", children: Array.from({ length: 6 }).map((_, index) => /* @__PURE__ */ (0, import_jsx_runtime226.jsx)("div", { className: "h-64 bg-gray-200 animate-pulse rounded-lg" }, index)) });
  }
  if (endpoints.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime226.jsx)("div", { className: "text-center py-8", children: /* @__PURE__ */ (0, import_jsx_runtime226.jsx)("p", { className: "text-text-tertiary", children: "No API endpoints found" }) });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime226.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4", children: endpoints.map((endpoint) => /* @__PURE__ */ (0, import_jsx_runtime226.jsx)(
    ApiEndpointCard,
    {
      endpoint,
      onEdit: onEditEndpoint,
      onViewDetails: onViewEndpointDetails
    },
    endpoint.id
  )) });
}

// src/components/features/SystemLogs/components/LogEntryCard.tsx
var import_lucide_react116 = require("lucide-react");
var import_jsx_runtime227 = require("react/jsx-runtime");
var getLevelColor = (level) => {
  switch (level) {
    case "DEBUG":
      return "bg-gray-100 text-gray-800";
    case "INFO":
      return "bg-blue-100 text-blue-800";
    case "WARN":
      return "bg-yellow-100 text-yellow-800";
    case "ERROR":
      return "bg-red-100 text-red-800";
    case "FATAL":
      return "bg-red-200 text-red-900";
    default:
      return "bg-gray-100 text-gray-800";
  }
};
var getSourceColor = (source) => {
  switch (source) {
    case "API":
      return "bg-blue-100 text-blue-800";
    case "DATABASE":
      return "bg-green-100 text-green-800";
    case "AUTH":
      return "bg-purple-100 text-purple-800";
    case "PAYMENT":
      return "bg-orange-100 text-orange-800";
    case "SYSTEM":
      return "bg-gray-100 text-gray-800";
    case "CLIENT":
      return "bg-cyan-100 text-cyan-800";
    default:
      return "bg-gray-100 text-gray-800";
  }
};
var getLevelIcon = (level) => {
  switch (level) {
    case "DEBUG":
      return import_lucide_react116.Info;
    case "INFO":
      return import_lucide_react116.CheckCircle;
    case "WARN":
      return import_lucide_react116.AlertTriangle;
    case "ERROR":
      return import_lucide_react116.XCircle;
    case "FATAL":
      return import_lucide_react116.AlertCircle;
    default:
      return import_lucide_react116.Info;
  }
};
function LogEntryCard({
  log,
  onViewDetails,
  showFullDetails = false
}) {
  const LevelIcon = getLevelIcon(log.level);
  const logDate = new Date(log.timestamp);
  return /* @__PURE__ */ (0, import_jsx_runtime227.jsxs)(Card2, { className: "hover:shadow-md transition-shadow", children: [
    /* @__PURE__ */ (0, import_jsx_runtime227.jsxs)(CardHeader2, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime227.jsxs)("div", { className: "flex items-center space-x-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime227.jsx)(LevelIcon, { className: "h-4 w-4 text-text-tertiary" }),
        /* @__PURE__ */ (0, import_jsx_runtime227.jsx)(CardTitle2, { className: "text-sm font-medium text-text-primary", children: log.message })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime227.jsxs)("div", { className: "flex items-center space-x-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime227.jsx)(Badge, { className: getLevelColor(log.level), children: log.level }),
        /* @__PURE__ */ (0, import_jsx_runtime227.jsx)(Badge, { className: getSourceColor(log.source), children: log.source })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime227.jsxs)(CardContent2, { children: [
      log.details && /* @__PURE__ */ (0, import_jsx_runtime227.jsx)("p", { className: "text-sm text-text-secondary mb-3", children: log.details }),
      /* @__PURE__ */ (0, import_jsx_runtime227.jsxs)("div", { className: "space-y-2 mb-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime227.jsxs)("div", { className: "flex items-center justify-between text-xs", children: [
          /* @__PURE__ */ (0, import_jsx_runtime227.jsx)("span", { className: "text-text-tertiary", children: "Timestamp:" }),
          /* @__PURE__ */ (0, import_jsx_runtime227.jsx)("span", { className: "text-text-primary font-mono", children: logDate.toLocaleString() })
        ] }),
        log.userId && /* @__PURE__ */ (0, import_jsx_runtime227.jsxs)("div", { className: "flex items-center justify-between text-xs", children: [
          /* @__PURE__ */ (0, import_jsx_runtime227.jsx)("span", { className: "text-text-tertiary", children: "User ID:" }),
          /* @__PURE__ */ (0, import_jsx_runtime227.jsx)("span", { className: "text-text-primary", children: log.userId })
        ] }),
        log.requestId && /* @__PURE__ */ (0, import_jsx_runtime227.jsxs)("div", { className: "flex items-center justify-between text-xs", children: [
          /* @__PURE__ */ (0, import_jsx_runtime227.jsx)("span", { className: "text-text-tertiary", children: "Request ID:" }),
          /* @__PURE__ */ (0, import_jsx_runtime227.jsx)("span", { className: "text-text-primary font-mono", children: log.requestId })
        ] }),
        log.ipAddress && /* @__PURE__ */ (0, import_jsx_runtime227.jsxs)("div", { className: "flex items-center justify-between text-xs", children: [
          /* @__PURE__ */ (0, import_jsx_runtime227.jsx)("span", { className: "text-text-tertiary", children: "IP Address:" }),
          /* @__PURE__ */ (0, import_jsx_runtime227.jsx)("span", { className: "text-text-primary font-mono", children: log.ipAddress })
        ] })
      ] }),
      showFullDetails && log.stackTrace && /* @__PURE__ */ (0, import_jsx_runtime227.jsxs)("div", { className: "mb-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime227.jsx)("p", { className: "text-xs text-text-tertiary mb-1", children: "Stack Trace:" }),
        /* @__PURE__ */ (0, import_jsx_runtime227.jsx)("pre", { className: "text-xs text-text-primary bg-bg-secondary p-2 rounded overflow-auto max-h-32", children: log.stackTrace })
      ] }),
      showFullDetails && log.metadata && /* @__PURE__ */ (0, import_jsx_runtime227.jsxs)("div", { className: "mb-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime227.jsx)("p", { className: "text-xs text-text-tertiary mb-1", children: "Metadata:" }),
        /* @__PURE__ */ (0, import_jsx_runtime227.jsx)("pre", { className: "text-xs text-text-primary bg-bg-secondary p-2 rounded overflow-auto max-h-32", children: JSON.stringify(log.metadata, null, 2) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime227.jsxs)("div", { className: "flex items-center justify-between", children: [
        /* @__PURE__ */ (0, import_jsx_runtime227.jsxs)("div", { className: "flex items-center space-x-4 text-xs text-text-tertiary", children: [
          log.userId && /* @__PURE__ */ (0, import_jsx_runtime227.jsxs)("div", { className: "flex items-center space-x-1", children: [
            /* @__PURE__ */ (0, import_jsx_runtime227.jsx)(import_lucide_react116.User, { className: "h-3 w-3" }),
            /* @__PURE__ */ (0, import_jsx_runtime227.jsx)("span", { children: log.userId })
          ] }),
          log.ipAddress && /* @__PURE__ */ (0, import_jsx_runtime227.jsxs)("div", { className: "flex items-center space-x-1", children: [
            /* @__PURE__ */ (0, import_jsx_runtime227.jsx)(import_lucide_react116.Globe, { className: "h-3 w-3" }),
            /* @__PURE__ */ (0, import_jsx_runtime227.jsx)("span", { children: log.ipAddress })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime227.jsx)("div", { className: "flex space-x-2", children: onViewDetails && /* @__PURE__ */ (0, import_jsx_runtime227.jsxs)(
          Button,
          {
            variant: "outline",
            size: "sm",
            onClick: () => onViewDetails(log),
            className: "flex items-center space-x-1",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime227.jsx)(import_lucide_react116.Eye, { className: "h-3 w-3" }),
              /* @__PURE__ */ (0, import_jsx_runtime227.jsx)("span", { children: "View Details" })
            ]
          }
        ) })
      ] })
    ] })
  ] });
}
var LogEntryCard_default = LogEntryCard;

// src/components/features/SystemLogs/components/LogsList.tsx
var import_jsx_runtime228 = require("react/jsx-runtime");
function LogsList({
  logs,
  onViewLogDetails,
  loading = false,
  maxItems = 50,
  showFullDetails = false
}) {
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime228.jsx)("div", { className: "space-y-4", children: Array.from({ length: 5 }).map((_, index) => /* @__PURE__ */ (0, import_jsx_runtime228.jsx)("div", { className: "h-32 bg-gray-200 animate-pulse rounded-lg" }, index)) });
  }
  const displayLogs = logs.slice(0, maxItems);
  if (logs.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime228.jsx)("div", { className: "text-center py-8", children: /* @__PURE__ */ (0, import_jsx_runtime228.jsx)("p", { className: "text-text-tertiary", children: "No logs found" }) });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime228.jsxs)("div", { className: "space-y-4", children: [
    displayLogs.map((log) => /* @__PURE__ */ (0, import_jsx_runtime228.jsx)(
      LogEntryCard,
      {
        log,
        onViewDetails: onViewLogDetails,
        showFullDetails
      },
      log.id
    )),
    logs.length > maxItems && /* @__PURE__ */ (0, import_jsx_runtime228.jsx)("div", { className: "text-center py-4", children: /* @__PURE__ */ (0, import_jsx_runtime228.jsxs)("p", { className: "text-sm text-text-tertiary", children: [
      "Showing ",
      maxItems,
      " of ",
      logs.length,
      " logs"
    ] }) })
  ] });
}

// src/components/features/SystemLogs/components/LogFilters.tsx
var import_lucide_react117 = require("lucide-react");
var import_jsx_runtime229 = require("react/jsx-runtime");
var levelOptions = [
  { value: "all", label: "All Levels" },
  { value: "DEBUG", label: "Debug" },
  { value: "INFO", label: "Info" },
  { value: "WARN", label: "Warning" },
  { value: "ERROR", label: "Error" },
  { value: "FATAL", label: "Fatal" }
];
var sourceOptions = [
  { value: "all", label: "All Sources" },
  { value: "API", label: "API" },
  { value: "DATABASE", label: "Database" },
  { value: "AUTH", label: "Authentication" },
  { value: "PAYMENT", label: "Payment" },
  { value: "SYSTEM", label: "System" },
  { value: "CLIENT", label: "Client" }
];
var dateOptions = [
  { value: "all", label: "All Time" },
  { value: "today", label: "Today" },
  { value: "yesterday", label: "Yesterday" },
  { value: "week", label: "This Week" },
  { value: "month", label: "This Month" }
];
function LogFilters({
  searchTerm,
  onSearchChange,
  levelFilter,
  onLevelFilterChange,
  sourceFilter,
  onSourceFilterChange,
  dateFilter,
  onDateFilterChange,
  onRefresh,
  onExport,
  loading = false
}) {
  return /* @__PURE__ */ (0, import_jsx_runtime229.jsxs)(Card2, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime229.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime229.jsxs)(CardTitle2, { className: "flex items-center gap-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime229.jsx)(import_lucide_react117.Filter, { className: "w-4 h-4" }),
      "Log Filters"
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime229.jsxs)(CardContent2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime229.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime229.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime229.jsx)("label", { className: "text-sm font-medium text-text-secondary mb-1 block", children: "Search" }),
          /* @__PURE__ */ (0, import_jsx_runtime229.jsxs)("div", { className: "relative", children: [
            /* @__PURE__ */ (0, import_jsx_runtime229.jsx)(import_lucide_react117.Search, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-text-tertiary" }),
            /* @__PURE__ */ (0, import_jsx_runtime229.jsx)(
              Input2,
              {
                placeholder: "Search logs...",
                value: searchTerm,
                onChange: (e) => onSearchChange(e.target.value),
                className: "pl-10"
              }
            )
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime229.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime229.jsx)("label", { className: "text-sm font-medium text-text-secondary mb-1 block", children: "Level" }),
          /* @__PURE__ */ (0, import_jsx_runtime229.jsx)(Select2, { value: levelFilter, onValueChange: onLevelFilterChange, children: levelOptions.map((option) => /* @__PURE__ */ (0, import_jsx_runtime229.jsx)("option", { value: option.value, children: option.label }, option.value)) })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime229.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime229.jsx)("label", { className: "text-sm font-medium text-text-secondary mb-1 block", children: "Source" }),
          /* @__PURE__ */ (0, import_jsx_runtime229.jsx)(Select2, { value: sourceFilter, onValueChange: onSourceFilterChange, children: sourceOptions.map((option) => /* @__PURE__ */ (0, import_jsx_runtime229.jsx)("option", { value: option.value, children: option.label }, option.value)) })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime229.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime229.jsx)("label", { className: "text-sm font-medium text-text-secondary mb-1 block", children: "Date Range" }),
          /* @__PURE__ */ (0, import_jsx_runtime229.jsx)(Select2, { value: dateFilter, onValueChange: onDateFilterChange, children: dateOptions.map((option) => /* @__PURE__ */ (0, import_jsx_runtime229.jsx)("option", { value: option.value, children: option.label }, option.value)) })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime229.jsxs)("div", { className: "flex items-center justify-between", children: [
        /* @__PURE__ */ (0, import_jsx_runtime229.jsx)("div", { className: "flex items-center space-x-2", children: onRefresh && /* @__PURE__ */ (0, import_jsx_runtime229.jsxs)(
          Button,
          {
            variant: "outline",
            size: "sm",
            onClick: onRefresh,
            disabled: loading,
            className: "flex items-center space-x-1",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime229.jsx)(import_lucide_react117.RefreshCw, { className: `h-3 w-3 ${loading ? "animate-spin" : ""}` }),
              /* @__PURE__ */ (0, import_jsx_runtime229.jsx)("span", { children: "Refresh" })
            ]
          }
        ) }),
        /* @__PURE__ */ (0, import_jsx_runtime229.jsx)("div", { className: "flex items-center space-x-2", children: onExport && /* @__PURE__ */ (0, import_jsx_runtime229.jsxs)(
          Button,
          {
            variant: "outline",
            size: "sm",
            onClick: onExport,
            className: "flex items-center space-x-1",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime229.jsx)(import_lucide_react117.Download, { className: "h-3 w-3" }),
              /* @__PURE__ */ (0, import_jsx_runtime229.jsx)("span", { children: "Export" })
            ]
          }
        ) })
      ] })
    ] })
  ] });
}

// src/components/features/Security/components/SecurityEventCard.tsx
var import_lucide_react118 = require("lucide-react");
var import_jsx_runtime230 = require("react/jsx-runtime");
var getTypeColor5 = (type) => {
  switch (type) {
    case "LOGIN_ATTEMPT":
      return "bg-blue-100 text-blue-800";
    case "FAILED_LOGIN":
      return "bg-yellow-100 text-yellow-800";
    case "SUSPICIOUS_ACTIVITY":
      return "bg-orange-100 text-orange-800";
    case "DATA_BREACH":
      return "bg-red-100 text-red-800";
    case "UNAUTHORIZED_ACCESS":
      return "bg-red-200 text-red-900";
    default:
      return "bg-gray-100 text-gray-800";
  }
};
var getSeverityColor2 = (severity) => {
  switch (severity) {
    case "LOW":
      return "bg-green-100 text-green-800";
    case "MEDIUM":
      return "bg-yellow-100 text-yellow-800";
    case "HIGH":
      return "bg-orange-100 text-orange-800";
    case "CRITICAL":
      return "bg-red-100 text-red-800";
    default:
      return "bg-gray-100 text-gray-800";
  }
};
var getSeverityIcon2 = (severity) => {
  switch (severity) {
    case "LOW":
      return import_lucide_react118.Info;
    case "MEDIUM":
      return import_lucide_react118.AlertTriangle;
    case "HIGH":
      return import_lucide_react118.AlertTriangle;
    case "CRITICAL":
      return import_lucide_react118.XCircle;
    default:
      return import_lucide_react118.Info;
  }
};
var getTypeIcon = (type) => {
  switch (type) {
    case "LOGIN_ATTEMPT":
      return import_lucide_react118.CheckCircle;
    case "FAILED_LOGIN":
      return import_lucide_react118.XCircle;
    case "SUSPICIOUS_ACTIVITY":
      return import_lucide_react118.AlertTriangle;
    case "DATA_BREACH":
      return import_lucide_react118.XCircle;
    case "UNAUTHORIZED_ACCESS":
      return import_lucide_react118.XCircle;
    default:
      return import_lucide_react118.Shield;
  }
};
function SecurityEventCard({
  event,
  onViewDetails,
  onResolve,
  showFullDetails = false
}) {
  const SeverityIcon = getSeverityIcon2(event.severity);
  const TypeIcon = getTypeIcon(event.type);
  const eventDate = new Date(event.timestamp);
  return /* @__PURE__ */ (0, import_jsx_runtime230.jsxs)(Card2, { className: `hover:shadow-md transition-shadow ${event.severity === "CRITICAL" ? "border-l-4 border-l-red-500" : ""}`, children: [
    /* @__PURE__ */ (0, import_jsx_runtime230.jsxs)(CardHeader2, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime230.jsxs)("div", { className: "flex items-center space-x-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime230.jsx)(TypeIcon, { className: "h-4 w-4 text-text-tertiary" }),
        /* @__PURE__ */ (0, import_jsx_runtime230.jsx)(CardTitle2, { className: "text-sm font-medium text-text-primary", children: event.description })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime230.jsxs)("div", { className: "flex items-center space-x-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime230.jsx)(Badge, { className: getTypeColor5(event.type), children: event.type.replace("_", " ") }),
        /* @__PURE__ */ (0, import_jsx_runtime230.jsx)(Badge, { className: getSeverityColor2(event.severity), children: event.severity })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime230.jsxs)(CardContent2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime230.jsx)("p", { className: "text-sm text-text-secondary mb-3", children: event.details }),
      /* @__PURE__ */ (0, import_jsx_runtime230.jsxs)("div", { className: "space-y-2 mb-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime230.jsxs)("div", { className: "flex items-center justify-between text-xs", children: [
          /* @__PURE__ */ (0, import_jsx_runtime230.jsx)("span", { className: "text-text-tertiary", children: "Timestamp:" }),
          /* @__PURE__ */ (0, import_jsx_runtime230.jsx)("span", { className: "text-text-primary font-mono", children: eventDate.toLocaleString() })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime230.jsxs)("div", { className: "flex items-center justify-between text-xs", children: [
          /* @__PURE__ */ (0, import_jsx_runtime230.jsx)("span", { className: "text-text-tertiary", children: "Source:" }),
          /* @__PURE__ */ (0, import_jsx_runtime230.jsx)("span", { className: "text-text-primary", children: event.source })
        ] }),
        event.userId && /* @__PURE__ */ (0, import_jsx_runtime230.jsxs)("div", { className: "flex items-center justify-between text-xs", children: [
          /* @__PURE__ */ (0, import_jsx_runtime230.jsx)("span", { className: "text-text-tertiary", children: "User ID:" }),
          /* @__PURE__ */ (0, import_jsx_runtime230.jsx)("span", { className: "text-text-primary", children: event.userId })
        ] }),
        event.ipAddress && /* @__PURE__ */ (0, import_jsx_runtime230.jsxs)("div", { className: "flex items-center justify-between text-xs", children: [
          /* @__PURE__ */ (0, import_jsx_runtime230.jsx)("span", { className: "text-text-tertiary", children: "IP Address:" }),
          /* @__PURE__ */ (0, import_jsx_runtime230.jsx)("span", { className: "text-text-primary font-mono", children: event.ipAddress })
        ] })
      ] }),
      showFullDetails && event.userAgent && /* @__PURE__ */ (0, import_jsx_runtime230.jsxs)("div", { className: "mb-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime230.jsx)("p", { className: "text-xs text-text-tertiary mb-1", children: "User Agent:" }),
        /* @__PURE__ */ (0, import_jsx_runtime230.jsx)("p", { className: "text-xs text-text-primary break-all", children: event.userAgent })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime230.jsxs)("div", { className: "flex items-center justify-between mb-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime230.jsxs)("div", { className: "flex items-center space-x-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime230.jsx)(SeverityIcon, { className: "h-4 w-4 text-text-tertiary" }),
          event.resolved ? /* @__PURE__ */ (0, import_jsx_runtime230.jsxs)("div", { className: "flex items-center space-x-1 text-green-600", children: [
            /* @__PURE__ */ (0, import_jsx_runtime230.jsx)(import_lucide_react118.CheckCircle, { className: "h-3 w-3" }),
            /* @__PURE__ */ (0, import_jsx_runtime230.jsx)("span", { className: "text-xs", children: "Resolved" })
          ] }) : /* @__PURE__ */ (0, import_jsx_runtime230.jsxs)("div", { className: "flex items-center space-x-1 text-orange-600", children: [
            /* @__PURE__ */ (0, import_jsx_runtime230.jsx)(import_lucide_react118.AlertTriangle, { className: "h-3 w-3" }),
            /* @__PURE__ */ (0, import_jsx_runtime230.jsx)("span", { className: "text-xs", children: "Active" })
          ] })
        ] }),
        event.resolved && event.resolvedAt && /* @__PURE__ */ (0, import_jsx_runtime230.jsxs)("span", { className: "text-xs text-text-tertiary", children: [
          "Resolved: ",
          new Date(event.resolvedAt).toLocaleDateString()
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime230.jsxs)("div", { className: "flex items-center justify-between", children: [
        /* @__PURE__ */ (0, import_jsx_runtime230.jsxs)("div", { className: "flex items-center space-x-4 text-xs text-text-tertiary", children: [
          event.userId && /* @__PURE__ */ (0, import_jsx_runtime230.jsxs)("div", { className: "flex items-center space-x-1", children: [
            /* @__PURE__ */ (0, import_jsx_runtime230.jsx)(import_lucide_react118.User, { className: "h-3 w-3" }),
            /* @__PURE__ */ (0, import_jsx_runtime230.jsx)("span", { children: event.userId })
          ] }),
          event.ipAddress && /* @__PURE__ */ (0, import_jsx_runtime230.jsxs)("div", { className: "flex items-center space-x-1", children: [
            /* @__PURE__ */ (0, import_jsx_runtime230.jsx)(import_lucide_react118.Globe, { className: "h-3 w-3" }),
            /* @__PURE__ */ (0, import_jsx_runtime230.jsx)("span", { children: event.ipAddress })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime230.jsxs)("div", { className: "flex space-x-2", children: [
          onViewDetails && /* @__PURE__ */ (0, import_jsx_runtime230.jsxs)(
            Button,
            {
              variant: "outline",
              size: "sm",
              onClick: () => onViewDetails(event),
              className: "flex items-center space-x-1",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime230.jsx)(import_lucide_react118.Eye, { className: "h-3 w-3" }),
                /* @__PURE__ */ (0, import_jsx_runtime230.jsx)("span", { children: "View Details" })
              ]
            }
          ),
          !event.resolved && onResolve && /* @__PURE__ */ (0, import_jsx_runtime230.jsxs)(
            Button,
            {
              size: "sm",
              onClick: () => onResolve(event.id),
              className: "flex items-center space-x-1",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime230.jsx)(import_lucide_react118.CheckCircle, { className: "h-3 w-3" }),
                /* @__PURE__ */ (0, import_jsx_runtime230.jsx)("span", { children: "Resolve" })
              ]
            }
          )
        ] })
      ] })
    ] })
  ] });
}
var SecurityEventCard_default = SecurityEventCard;

// src/components/features/Security/components/SecurityEventsList.tsx
var import_jsx_runtime231 = require("react/jsx-runtime");
function SecurityEventsList({
  events,
  onViewEventDetails,
  onResolveEvent,
  loading = false,
  maxItems = 20,
  showFullDetails = false
}) {
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime231.jsx)("div", { className: "space-y-4", children: Array.from({ length: 5 }).map((_, index) => /* @__PURE__ */ (0, import_jsx_runtime231.jsx)("div", { className: "h-40 bg-gray-200 animate-pulse rounded-lg" }, index)) });
  }
  const displayEvents = events.slice(0, maxItems);
  const activeEvents = displayEvents.filter((event) => !event.resolved);
  const resolvedEvents = displayEvents.filter((event) => event.resolved);
  if (events.length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime231.jsx)("div", { className: "text-center py-8", children: /* @__PURE__ */ (0, import_jsx_runtime231.jsx)("p", { className: "text-text-tertiary", children: "No security events found" }) });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime231.jsxs)("div", { className: "space-y-6", children: [
    activeEvents.length > 0 && /* @__PURE__ */ (0, import_jsx_runtime231.jsxs)("div", { children: [
      /* @__PURE__ */ (0, import_jsx_runtime231.jsxs)("h3", { className: "text-sm font-medium text-text-primary mb-3", children: [
        "Active Security Events (",
        activeEvents.length,
        ")"
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime231.jsx)("div", { className: "space-y-4", children: activeEvents.map((event) => /* @__PURE__ */ (0, import_jsx_runtime231.jsx)(
        SecurityEventCard,
        {
          event,
          onViewDetails: onViewEventDetails,
          onResolve: onResolveEvent,
          showFullDetails
        },
        event.id
      )) })
    ] }),
    resolvedEvents.length > 0 && /* @__PURE__ */ (0, import_jsx_runtime231.jsxs)("div", { children: [
      /* @__PURE__ */ (0, import_jsx_runtime231.jsxs)("h3", { className: "text-sm font-medium text-text-primary mb-3", children: [
        "Recently Resolved (",
        resolvedEvents.length,
        ")"
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime231.jsx)("div", { className: "space-y-4", children: resolvedEvents.map((event) => /* @__PURE__ */ (0, import_jsx_runtime231.jsx)(
        SecurityEventCard,
        {
          event,
          onViewDetails: onViewEventDetails,
          showFullDetails
        },
        event.id
      )) })
    ] }),
    events.length > maxItems && /* @__PURE__ */ (0, import_jsx_runtime231.jsx)("div", { className: "text-center py-4", children: /* @__PURE__ */ (0, import_jsx_runtime231.jsxs)("p", { className: "text-sm text-text-tertiary", children: [
      "Showing ",
      maxItems,
      " of ",
      events.length,
      " security events"
    ] }) })
  ] });
}

// src/components/features/Security/components/SecurityMetricsCard.tsx
var import_lucide_react119 = require("lucide-react");
var import_jsx_runtime232 = require("react/jsx-runtime");
function SecurityMetricsCard({ metrics }) {
  return /* @__PURE__ */ (0, import_jsx_runtime232.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4", children: metrics.map((metric, index) => {
    const Icon2 = metric.icon;
    const ChangeIcon = metric.change?.isPositive ? import_lucide_react119.TrendingUp : import_lucide_react119.TrendingDown;
    return /* @__PURE__ */ (0, import_jsx_runtime232.jsxs)(Card2, { className: "hover:shadow-md transition-shadow", children: [
      /* @__PURE__ */ (0, import_jsx_runtime232.jsxs)(CardHeader2, { className: "flex flex-row items-center justify-between space-y-0 pb-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime232.jsx)(CardTitle2, { className: "text-sm font-medium text-text-secondary", children: metric.title }),
        /* @__PURE__ */ (0, import_jsx_runtime232.jsx)("div", { className: `p-2 rounded-lg ${metric.bgColor}`, children: /* @__PURE__ */ (0, import_jsx_runtime232.jsx)(Icon2, { className: `h-4 w-4 ${metric.color}` }) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime232.jsxs)(CardContent2, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime232.jsxs)("div", { className: "flex items-center justify-between", children: [
          /* @__PURE__ */ (0, import_jsx_runtime232.jsx)("div", { className: "text-2xl font-bold text-text-primary", children: metric.value }),
          metric.change && /* @__PURE__ */ (0, import_jsx_runtime232.jsxs)("div", { className: "flex items-center space-x-1", children: [
            /* @__PURE__ */ (0, import_jsx_runtime232.jsx)(ChangeIcon, { className: `h-3 w-3 ${metric.change.isPositive ? "text-green-500" : "text-red-500"}` }),
            /* @__PURE__ */ (0, import_jsx_runtime232.jsxs)("span", { className: `text-xs ${metric.change.isPositive ? "text-green-500" : "text-red-500"}`, children: [
              metric.change.isPositive ? "+" : "",
              metric.change.value,
              "%"
            ] })
          ] })
        ] }),
        metric.change && /* @__PURE__ */ (0, import_jsx_runtime232.jsx)("p", { className: "text-xs text-text-tertiary mt-1", children: metric.change.period })
      ] })
    ] }, index);
  }) });
}

// src/components/features/AuditLogs/AuditLogViewer.tsx
var import_react98 = require("react");
var import_ui134 = require("@rentalshop/ui");

// src/components/features/AuditLogs/AuditLogDetail.tsx
var import_react97 = __toESM(require("react"));
var import_ui133 = require("@rentalshop/ui");
var import_lucide_react120 = require("lucide-react");
var import_jsx_runtime233 = require("react/jsx-runtime");
function SeverityBadge({ severity }) {
  const getSeverityStyle = (severity2) => {
    switch (severity2) {
      case "CRITICAL":
        return "bg-red-100 text-red-800 border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800";
      case "ERROR":
        return "bg-red-100 text-red-800 border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800";
      case "WARNING":
        return "bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/20 dark:text-yellow-400 dark:border-yellow-800";
      case "INFO":
        return "bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/20 dark:text-blue-400 dark:border-blue-800";
      default:
        return "bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900/20 dark:text-gray-400 dark:border-gray-800";
    }
  };
  const getSeverityIcon3 = (severity2) => {
    switch (severity2) {
      case "CRITICAL":
        return /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_lucide_react120.XCircle, { className: "w-3 h-3" });
      case "ERROR":
        return /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_lucide_react120.XCircle, { className: "w-3 h-3" });
      case "WARNING":
        return /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_lucide_react120.AlertTriangle, { className: "w-3 h-3" });
      case "INFO":
        return /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_lucide_react120.Info, { className: "w-3 h-3" });
      default:
        return /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_lucide_react120.Info, { className: "w-3 h-3" });
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)(import_ui133.Badge, { className: `inline-flex items-center gap-1 ${getSeverityStyle(severity)}`, children: [
    getSeverityIcon3(severity),
    severity
  ] });
}
function ActionBadge({ action }) {
  const getActionStyle = (action2) => {
    switch (action2) {
      case "CREATE":
        return "bg-green-100 text-green-800 border-green-200 dark:bg-green-900/20 dark:text-green-400 dark:border-green-800";
      case "UPDATE":
        return "bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/20 dark:text-blue-400 dark:border-blue-800";
      case "DELETE":
        return "bg-red-100 text-red-800 border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800";
      case "LOGIN":
        return "bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/20 dark:text-purple-400 dark:border-purple-800";
      case "LOGOUT":
        return "bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900/20 dark:text-gray-400 dark:border-gray-800";
      case "VIEW":
        return "bg-indigo-100 text-indigo-800 border-indigo-200 dark:bg-indigo-900/20 dark:text-indigo-400 dark:border-indigo-800";
      default:
        return "bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900/20 dark:text-gray-400 dark:border-gray-800";
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_ui133.Badge, { className: getActionStyle(action), children: action });
}
function JsonViewer({ data, title }) {
  const [isExpanded, setIsExpanded] = import_react97.default.useState(false);
  if (!data) {
    return /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)(import_ui133.Card, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_ui133.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_ui133.CardTitle, { className: "text-sm", children: title }) }),
      /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_ui133.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("p", { className: "text-text-secondary text-sm", children: "No data available" }) })
    ] });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)(import_ui133.Card, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_ui133.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)(import_ui133.CardTitle, { className: "text-sm flex items-center justify-between", children: [
      title,
      /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)(
        import_ui133.Button,
        {
          variant: "ghost",
          size: "sm",
          onClick: () => setIsExpanded(!isExpanded),
          children: [
            isExpanded ? /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_lucide_react120.EyeOff, { className: "w-4 h-4" }) : /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_lucide_react120.Eye, { className: "w-4 h-4" }),
            isExpanded ? "Collapse" : "Expand"
          ]
        }
      )
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_ui133.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("pre", { className: `text-xs font-mono bg-bg-secondary p-3 rounded-lg overflow-auto ${isExpanded ? "max-h-96" : "max-h-32"}`, children: JSON.stringify(data, null, 2) }) })
  ] });
}
function ChangesViewer({ changes }) {
  if (!changes || Object.keys(changes).length === 0) {
    return /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)(import_ui133.Card, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_ui133.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_ui133.CardTitle, { className: "text-sm", children: "Changes" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_ui133.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("p", { className: "text-text-secondary text-sm", children: "No changes detected" }) })
    ] });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)(import_ui133.Card, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_ui133.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)(import_ui133.CardTitle, { className: "text-sm", children: [
      "Changes (",
      Object.keys(changes).length,
      " fields)"
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_ui133.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "space-y-3", children: Object.entries(changes).map(([field, change]) => /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("div", { className: "border rounded-lg p-3", children: [
      /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "font-medium text-sm mb-2", children: field }),
      /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-xs text-text-secondary mb-1", children: "Old Value" }),
          /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-xs font-mono bg-red-50 dark:bg-red-900/20 p-2 rounded", children: change.old === null ? "null" : JSON.stringify(change.old) })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-xs text-text-secondary mb-1", children: "New Value" }),
          /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-xs font-mono bg-green-50 dark:bg-green-900/20 p-2 rounded", children: change.new === null ? "null" : JSON.stringify(change.new) })
        ] })
      ] })
    ] }, field)) }) })
  ] });
}
function AuditLogDetail({ log, isOpen, onClose }) {
  const [activeTab, setActiveTab] = (0, import_react97.useState)("overview");
  if (!log)
    return null;
  const formatDate11 = (dateString) => {
    return new Date(dateString).toLocaleString("en-US", {
      year: "numeric",
      month: "long",
      day: "numeric",
      hour: "2-digit",
      minute: "2-digit",
      second: "2-digit",
      timeZoneName: "short"
    });
  };
  const getCategoryIcon2 = (category) => {
    switch (category) {
      case "SECURITY":
        return /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_lucide_react120.AlertTriangle, { className: "w-4 h-4" });
      case "BUSINESS":
        return /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_lucide_react120.Activity, { className: "w-4 h-4" });
      case "SYSTEM":
        return /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_lucide_react120.Monitor, { className: "w-4 h-4" });
      case "COMPLIANCE":
        return /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_lucide_react120.CheckCircle, { className: "w-4 h-4" });
      default:
        return /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_lucide_react120.Info, { className: "w-4 h-4" });
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_ui133.Dialog, { open: isOpen, onOpenChange: onClose, children: /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)(import_ui133.DialogContent, { className: "max-w-4xl max-h-[90vh] overflow-y-auto", children: [
    /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_ui133.DialogHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_ui133.DialogTitle, { children: "Audit Log Details" }) }),
    /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("div", { className: "space-y-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_ui133.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)(import_ui133.CardContent, { className: "p-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("div", { className: "flex items-center gap-3 mb-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(ActionBadge, { action: log.action }),
          /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(SeverityBadge, { severity: log.severity }),
          /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)(import_ui133.Badge, { variant: "outline", className: "flex items-center gap-1", children: [
            getCategoryIcon2(log.category),
            log.category
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("h3", { className: "text-lg font-semibold", children: [
            log.entityType,
            ": ",
            log.entityName || log.entityId
          ] }),
          log.description && /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("p", { className: "text-text-secondary", children: log.description })
        ] })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("div", { className: "flex space-x-2 border-b", children: [
          /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(
            import_ui133.Button,
            {
              variant: activeTab === "overview" ? "default" : "ghost",
              onClick: () => setActiveTab("overview"),
              size: "sm",
              children: "Overview"
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(
            import_ui133.Button,
            {
              variant: activeTab === "changes" ? "default" : "ghost",
              onClick: () => setActiveTab("changes"),
              size: "sm",
              children: "Changes"
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(
            import_ui133.Button,
            {
              variant: activeTab === "context" ? "default" : "ghost",
              onClick: () => setActiveTab("context"),
              size: "sm",
              children: "Context"
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(
            import_ui133.Button,
            {
              variant: activeTab === "raw" ? "default" : "ghost",
              onClick: () => setActiveTab("raw"),
              size: "sm",
              children: "Raw Data"
            }
          )
        ] }),
        activeTab === "overview" && /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("div", { className: "space-y-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
            /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)(import_ui133.Card, { children: [
              /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_ui133.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)(import_ui133.CardTitle, { className: "text-sm flex items-center gap-2", children: [
                /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_lucide_react120.User, { className: "w-4 h-4" }),
                "User Information"
              ] }) }),
              /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_ui133.CardContent, { className: "space-y-2", children: log.user ? /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)(import_jsx_runtime233.Fragment, { children: [
                /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("div", { children: [
                  /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-xs text-text-secondary", children: "Name" }),
                  /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-sm font-medium", children: log.user.name })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("div", { children: [
                  /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-xs text-text-secondary", children: "Email" }),
                  /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-sm", children: log.user.email })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("div", { children: [
                  /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-xs text-text-secondary", children: "Role" }),
                  /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-sm", children: log.user.role })
                ] })
              ] }) : /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("p", { className: "text-text-secondary text-sm", children: "No user information available" }) })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)(import_ui133.Card, { children: [
              /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_ui133.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)(import_ui133.CardTitle, { className: "text-sm flex items-center gap-2", children: [
                /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_lucide_react120.Calendar, { className: "w-4 h-4" }),
                "Event Information"
              ] }) }),
              /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)(import_ui133.CardContent, { className: "space-y-2", children: [
                /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("div", { children: [
                  /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-xs text-text-secondary", children: "Timestamp" }),
                  /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-sm", children: formatDate11(log.createdAt) })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("div", { children: [
                  /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-xs text-text-secondary", children: "Action" }),
                  /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-sm", children: log.action })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("div", { children: [
                  /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-xs text-text-secondary", children: "Entity Type" }),
                  /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-sm", children: log.entityType })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("div", { children: [
                  /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-xs text-text-secondary", children: "Entity ID" }),
                  /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-sm font-mono", children: log.entityId })
                ] })
              ] })
            ] })
          ] }),
          log.merchant && /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)(import_ui133.Card, { children: [
            /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_ui133.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_ui133.CardTitle, { className: "text-sm", children: "Merchant Context" }) }),
            /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_ui133.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("div", { className: "space-y-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("div", { children: [
                /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-xs text-text-secondary", children: "Merchant Name" }),
                /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-sm font-medium", children: log.merchant.name })
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("div", { children: [
                /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-xs text-text-secondary", children: "Merchant ID" }),
                /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-sm font-mono", children: log.merchant.id })
              ] })
            ] }) })
          ] }),
          log.outlet && /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)(import_ui133.Card, { children: [
            /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_ui133.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_ui133.CardTitle, { className: "text-sm", children: "Outlet Context" }) }),
            /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_ui133.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("div", { className: "space-y-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("div", { children: [
                /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-xs text-text-secondary", children: "Outlet Name" }),
                /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-sm font-medium", children: log.outlet.name })
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("div", { children: [
                /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-xs text-text-secondary", children: "Outlet ID" }),
                /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-sm font-mono", children: log.outlet.id })
              ] })
            ] }) })
          ] })
        ] }),
        activeTab === "changes" && /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "space-y-4", children: /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(ChangesViewer, { changes: log.changes }) }),
        activeTab === "context" && /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "space-y-4", children: /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)(import_ui133.Card, { children: [
            /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_ui133.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)(import_ui133.CardTitle, { className: "text-sm flex items-center gap-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_lucide_react120.MapPin, { className: "w-4 h-4" }),
              "Network Information"
            ] }) }),
            /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)(import_ui133.CardContent, { className: "space-y-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("div", { children: [
                /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-xs text-text-secondary", children: "IP Address" }),
                /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-sm font-mono", children: log.ipAddress || "Unknown" })
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("div", { children: [
                /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-xs text-text-secondary", children: "Session ID" }),
                /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-sm font-mono", children: log.sessionId || "Unknown" })
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("div", { children: [
                /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-xs text-text-secondary", children: "Request ID" }),
                /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-sm font-mono", children: log.requestId || "Unknown" })
              ] })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)(import_ui133.Card, { children: [
            /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_ui133.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)(import_ui133.CardTitle, { className: "text-sm flex items-center gap-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_lucide_react120.Monitor, { className: "w-4 h-4" }),
              "User Agent"
            ] }) }),
            /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(import_ui133.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime233.jsx)("div", { className: "text-xs font-mono bg-bg-secondary p-2 rounded break-all", children: log.userAgent || "Unknown" }) })
          ] })
        ] }) }),
        activeTab === "raw" && /* @__PURE__ */ (0, import_jsx_runtime233.jsxs)("div", { className: "space-y-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(JsonViewer, { data: log.oldValues, title: "Old Values" }),
          /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(JsonViewer, { data: log.newValues, title: "New Values" }),
          /* @__PURE__ */ (0, import_jsx_runtime233.jsx)(JsonViewer, { data: log.metadata, title: "Metadata" })
        ] })
      ] })
    ] })
  ] }) });
}

// src/components/features/AuditLogs/AuditLogViewer.tsx
var import_lucide_react121 = require("lucide-react");
var import_jsx_runtime234 = require("react/jsx-runtime");
function SeverityBadge2({ severity }) {
  const getSeverityStyle = (severity2) => {
    switch (severity2) {
      case "CRITICAL":
        return "bg-red-100 text-red-800 border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800";
      case "ERROR":
        return "bg-red-100 text-red-800 border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800";
      case "WARNING":
        return "bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/20 dark:text-yellow-400 dark:border-yellow-800";
      case "INFO":
        return "bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/20 dark:text-blue-400 dark:border-blue-800";
      default:
        return "bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900/20 dark:text-gray-400 dark:border-gray-800";
    }
  };
  const getSeverityIcon3 = (severity2) => {
    switch (severity2) {
      case "CRITICAL":
        return /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_lucide_react121.XCircle, { className: "w-3 h-3" });
      case "ERROR":
        return /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_lucide_react121.XCircle, { className: "w-3 h-3" });
      case "WARNING":
        return /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_lucide_react121.AlertTriangle, { className: "w-3 h-3" });
      case "INFO":
        return /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_lucide_react121.Info, { className: "w-3 h-3" });
      default:
        return /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_lucide_react121.Info, { className: "w-3 h-3" });
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)(import_ui134.Badge, { className: `inline-flex items-center gap-1 ${getSeverityStyle(severity)}`, children: [
    getSeverityIcon3(severity),
    severity
  ] });
}
function ActionBadge2({ action }) {
  const getActionStyle = (action2) => {
    switch (action2) {
      case "CREATE":
        return "bg-green-100 text-green-800 border-green-200 dark:bg-green-900/20 dark:text-green-400 dark:border-green-800";
      case "UPDATE":
        return "bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/20 dark:text-blue-400 dark:border-blue-800";
      case "DELETE":
        return "bg-red-100 text-red-800 border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800";
      case "LOGIN":
        return "bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/20 dark:text-purple-400 dark:border-purple-800";
      case "LOGOUT":
        return "bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900/20 dark:text-gray-400 dark:border-gray-800";
      case "VIEW":
        return "bg-indigo-100 text-indigo-800 border-indigo-200 dark:bg-indigo-900/20 dark:text-indigo-400 dark:border-indigo-800";
      default:
        return "bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900/20 dark:text-gray-400 dark:border-gray-800";
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.Badge, { className: getActionStyle(action), children: action });
}
function AuditLogRow({ log, onViewDetails }) {
  const formatDate11 = (dateString) => {
    return new Date(dateString).toLocaleString("en-US", {
      month: "short",
      day: "numeric",
      hour: "2-digit",
      minute: "2-digit"
    });
  };
  return /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.Card, { className: "mb-2 hover:shadow-sm transition-shadow", children: /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.CardContent, { className: "p-3", children: /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { className: "flex items-center justify-between", children: [
    /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { className: "flex items-center gap-3 flex-1 min-w-0", children: [
      /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(ActionBadge2, { action: log.action }),
      /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(SeverityBadge2, { severity: log.severity }),
      /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { className: "flex-1 min-w-0", children: [
        /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { className: "flex items-center gap-2 text-sm", children: [
          /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("span", { className: "font-medium text-text-primary truncate", children: [
            log.entityType,
            ": ",
            log.entityName || log.entityId
          ] }),
          log.user && /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("span", { className: "text-text-tertiary text-xs", children: [
            "by ",
            log.user.name
          ] })
        ] }),
        log.description && /* @__PURE__ */ (0, import_jsx_runtime234.jsx)("p", { className: "text-text-secondary text-xs truncate mt-1", children: log.description })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime234.jsx)("div", { className: "text-xs text-text-tertiary whitespace-nowrap", children: formatDate11(log.createdAt) })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)(
      import_ui134.Button,
      {
        variant: "outline",
        size: "sm",
        onClick: () => onViewDetails(log),
        className: "ml-3 flex-shrink-0",
        children: [
          /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_lucide_react121.Eye, { className: "w-4 h-4 mr-2" }),
          "View Details"
        ]
      }
    )
  ] }) }) });
}
function AuditLogFilter({ filter, onFilterChange, onReset }) {
  const handleInputChange = (field, value) => {
    onFilterChange({
      ...filter,
      [field]: value === "all" || value === "" ? void 0 : value
    });
  };
  return /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)(import_ui134.Card, { className: "mb-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)(import_ui134.CardTitle, { className: "flex items-center gap-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_lucide_react121.Filter, { className: "w-5 h-5" }),
      "Filter Audit Logs"
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)(import_ui134.CardContent, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime234.jsx)("label", { className: "text-sm font-medium", children: "Action" }),
          /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)(
            import_ui134.Select,
            {
              value: filter.action || "all",
              onValueChange: (value) => handleInputChange("action", value),
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectTrigger, { children: /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectValue, { placeholder: "All actions" }) }),
                /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)(import_ui134.SelectContent, { children: [
                  /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectItem, { value: "all", children: "All actions" }),
                  /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectItem, { value: "CREATE", children: "CREATE" }),
                  /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectItem, { value: "UPDATE", children: "UPDATE" }),
                  /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectItem, { value: "DELETE", children: "DELETE" }),
                  /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectItem, { value: "LOGIN", children: "LOGIN" }),
                  /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectItem, { value: "LOGOUT", children: "LOGOUT" }),
                  /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectItem, { value: "VIEW", children: "VIEW" })
                ] })
              ]
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime234.jsx)("label", { className: "text-sm font-medium", children: "Entity Type" }),
          /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)(
            import_ui134.Select,
            {
              value: filter.entityType || "all",
              onValueChange: (value) => handleInputChange("entityType", value),
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectTrigger, { children: /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectValue, { placeholder: "All entities" }) }),
                /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)(import_ui134.SelectContent, { children: [
                  /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectItem, { value: "all", children: "All entities" }),
                  /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectItem, { value: "User", children: "User" }),
                  /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectItem, { value: "Product", children: "Product" }),
                  /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectItem, { value: "Order", children: "Order" }),
                  /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectItem, { value: "Customer", children: "Customer" }),
                  /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectItem, { value: "Setting", children: "Setting" }),
                  /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectItem, { value: "Merchant", children: "Merchant" }),
                  /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectItem, { value: "Outlet", children: "Outlet" })
                ] })
              ]
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime234.jsx)("label", { className: "text-sm font-medium", children: "Severity" }),
          /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)(
            import_ui134.Select,
            {
              value: filter.severity || "all",
              onValueChange: (value) => handleInputChange("severity", value),
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectTrigger, { children: /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectValue, { placeholder: "All severities" }) }),
                /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)(import_ui134.SelectContent, { children: [
                  /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectItem, { value: "all", children: "All severities" }),
                  /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectItem, { value: "INFO", children: "INFO" }),
                  /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectItem, { value: "WARNING", children: "WARNING" }),
                  /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectItem, { value: "ERROR", children: "ERROR" }),
                  /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectItem, { value: "CRITICAL", children: "CRITICAL" })
                ] })
              ]
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime234.jsx)("label", { className: "text-sm font-medium", children: "Category" }),
          /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)(
            import_ui134.Select,
            {
              value: filter.category || "all",
              onValueChange: (value) => handleInputChange("category", value),
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectTrigger, { children: /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectValue, { placeholder: "All categories" }) }),
                /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)(import_ui134.SelectContent, { children: [
                  /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectItem, { value: "all", children: "All categories" }),
                  /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectItem, { value: "GENERAL", children: "GENERAL" }),
                  /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectItem, { value: "SECURITY", children: "SECURITY" }),
                  /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectItem, { value: "BUSINESS", children: "BUSINESS" }),
                  /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectItem, { value: "SYSTEM", children: "SYSTEM" }),
                  /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.SelectItem, { value: "COMPLIANCE", children: "COMPLIANCE" })
                ] })
              ]
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime234.jsx)("label", { className: "text-sm font-medium", children: "Start Date" }),
          /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(
            import_ui134.Input,
            {
              type: "datetime-local",
              value: filter.startDate || "",
              onChange: (e) => handleInputChange("startDate", e.target.value)
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime234.jsx)("label", { className: "text-sm font-medium", children: "End Date" }),
          /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(
            import_ui134.Input,
            {
              type: "datetime-local",
              value: filter.endDate || "",
              onChange: (e) => handleInputChange("endDate", e.target.value)
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime234.jsx)("label", { className: "text-sm font-medium", children: "Entity ID" }),
          /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(
            import_ui134.Input,
            {
              placeholder: "Enter entity ID",
              value: filter.entityId || "",
              onChange: (e) => handleInputChange("entityId", e.target.value)
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { className: "space-y-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime234.jsx)("label", { className: "text-sm font-medium", children: "User ID" }),
          /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(
            import_ui134.Input,
            {
              placeholder: "Enter user ID",
              value: filter.userId || "",
              onChange: (e) => handleInputChange("userId", e.target.value)
            }
          )
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { className: "flex items-center justify-between mt-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.Button, { variant: "outline", onClick: onReset, children: "Reset Filters" }),
        /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { className: "text-sm text-text-secondary", children: [
          "Showing ",
          filter?.limit || 50,
          " results per page"
        ] })
      ] })
    ] })
  ] });
}
function AuditLogViewer({
  className = "",
  logs = [],
  stats = null,
  loading = false,
  filter = { limit: 50, offset: 0 },
  pagination = { total: 0, limit: 50, offset: 0, hasMore: false },
  onFilterChange = () => {
  },
  onFilterReset = () => {
  },
  onLoadMore = () => {
  },
  onRefresh = () => {
  },
  onViewDetails = () => {
  }
}) {
  const [selectedLog, setSelectedLog] = (0, import_react98.useState)(null);
  const [isDetailOpen, setIsDetailOpen] = (0, import_react98.useState)(false);
  const [activeTab, setActiveTab] = (0, import_react98.useState)("logs");
  const handleViewDetails = (log) => {
    setSelectedLog(log);
    setIsDetailOpen(true);
    onViewDetails(log);
  };
  const handleCloseDetail = () => {
    setSelectedLog(null);
    setIsDetailOpen(false);
  };
  return /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { className, children: [
    /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { className: "mb-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime234.jsx)("h1", { className: "text-2xl font-bold text-text-primary mb-2", children: "Audit Logs" }),
      /* @__PURE__ */ (0, import_jsx_runtime234.jsx)("p", { className: "text-text-secondary", children: "Track all system changes, user actions, and security events." })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { className: "space-y-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { className: "flex space-x-2 border-b", children: [
        /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(
          import_ui134.Button,
          {
            variant: activeTab === "logs" ? "default" : "ghost",
            onClick: () => setActiveTab("logs"),
            children: "Audit Logs"
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(
          import_ui134.Button,
          {
            variant: activeTab === "stats" ? "default" : "ghost",
            onClick: () => setActiveTab("stats"),
            children: "Statistics"
          }
        )
      ] }),
      activeTab === "logs" && /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { className: "space-y-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(
          AuditLogFilter,
          {
            filter,
            onFilterChange,
            onReset: onFilterReset
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)(import_ui134.Card, { children: [
          /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)(import_ui134.CardTitle, { className: "flex items-center justify-between", children: [
            /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("span", { children: [
              "Audit Logs (",
              pagination?.total || 0,
              " total)"
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)(
                import_ui134.Button,
                {
                  variant: "outline",
                  size: "sm",
                  onClick: onRefresh,
                  disabled: loading,
                  children: [
                    /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_lucide_react121.RefreshCw, { className: `w-4 h-4 mr-2 ${loading ? "animate-spin" : ""}` }),
                    "Refresh"
                  ]
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)(import_ui134.Button, { variant: "outline", size: "sm", children: [
                /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_lucide_react121.Download, { className: "w-4 h-4 mr-2" }),
                "Export"
              ] })
            ] })
          ] }) }),
          /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.CardContent, { children: loading ? /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { className: "text-center py-8", children: [
            /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_lucide_react121.RefreshCw, { className: "w-6 h-6 animate-spin mx-auto mb-2" }),
            /* @__PURE__ */ (0, import_jsx_runtime234.jsx)("p", { className: "text-text-secondary", children: "Loading audit logs..." })
          ] }) : !logs || logs.length === 0 ? /* @__PURE__ */ (0, import_jsx_runtime234.jsx)("div", { className: "text-center py-8", children: /* @__PURE__ */ (0, import_jsx_runtime234.jsx)("p", { className: "text-text-secondary", children: "No audit logs found." }) }) : /* @__PURE__ */ (0, import_jsx_runtime234.jsx)("div", { className: "space-y-3", children: logs.map((log) => /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(
            AuditLogRow,
            {
              log,
              onViewDetails: handleViewDetails
            },
            log.id
          )) }) })
        ] })
      ] }),
      activeTab === "stats" && /* @__PURE__ */ (0, import_jsx_runtime234.jsx)("div", { className: "space-y-6", children: stats ? /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.CardContent, { className: "p-6", children: /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { className: "flex items-center justify-between", children: [
          /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime234.jsx)("p", { className: "text-sm font-medium text-text-secondary", children: "Total Logs" }),
            /* @__PURE__ */ (0, import_jsx_runtime234.jsx)("p", { className: "text-2xl font-bold text-text-primary", children: stats.totalLogs })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_lucide_react121.Activity, { className: "w-8 h-8 text-blue-500" })
        ] }) }) }),
        /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.CardContent, { className: "p-6", children: /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { className: "flex items-center justify-between", children: [
          /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime234.jsx)("p", { className: "text-sm font-medium text-text-secondary", children: "Recent Activity" }),
            /* @__PURE__ */ (0, import_jsx_runtime234.jsx)("p", { className: "text-2xl font-bold text-text-primary", children: stats.recentActivity }),
            /* @__PURE__ */ (0, import_jsx_runtime234.jsx)("p", { className: "text-xs text-text-tertiary", children: "Last 24 hours" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_lucide_react121.Clock, { className: "w-8 h-8 text-green-500" })
        ] }) }) }),
        /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.CardContent, { className: "p-6", children: /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { className: "flex items-center justify-between", children: [
          /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime234.jsx)("p", { className: "text-sm font-medium text-text-secondary", children: "Security Events" }),
            /* @__PURE__ */ (0, import_jsx_runtime234.jsx)("p", { className: "text-2xl font-bold text-text-primary", children: stats.logsByCategory.SECURITY || 0 })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_lucide_react121.AlertTriangle, { className: "w-8 h-8 text-red-500" })
        ] }) }) }),
        /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_ui134.CardContent, { className: "p-6", children: /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { className: "flex items-center justify-between", children: [
          /* @__PURE__ */ (0, import_jsx_runtime234.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime234.jsx)("p", { className: "text-sm font-medium text-text-secondary", children: "Business Events" }),
            /* @__PURE__ */ (0, import_jsx_runtime234.jsx)("p", { className: "text-2xl font-bold text-text-primary", children: stats.logsByCategory.BUSINESS || 0 })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(import_lucide_react121.Activity, { className: "w-8 h-8 text-purple-500" })
        ] }) }) })
      ] }) : /* @__PURE__ */ (0, import_jsx_runtime234.jsx)("div", { className: "text-center py-8", children: /* @__PURE__ */ (0, import_jsx_runtime234.jsx)("p", { className: "text-text-secondary", children: "No statistics available." }) }) })
    ] }),
    selectedLog && /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(
      AuditLogDetail,
      {
        log: selectedLog,
        isOpen: isDetailOpen,
        onClose: handleCloseDetail
      }
    )
  ] });
}
function AuditLogViewerSimple({ className = "" }) {
  return /* @__PURE__ */ (0, import_jsx_runtime234.jsx)(
    AuditLogViewer,
    {
      className,
      logs: [],
      stats: null,
      loading: false,
      filter: { limit: 50, offset: 0 },
      pagination: { total: 0, limit: 50, offset: 0, hasMore: false },
      onFilterChange: () => {
      },
      onFilterReset: () => {
      },
      onLoadMore: () => {
      },
      onRefresh: () => {
      },
      onViewDetails: () => {
      }
    }
  );
}

// src/components/features/OrderDetail/OrderDetail.tsx
var import_react99 = require("react");
var import_ui137 = require("@rentalshop/ui");
var import_lucide_react123 = require("lucide-react");
var import_ui138 = require("@rentalshop/ui");
var import_constants14 = require("@rentalshop/constants");
var import_ui139 = require("@rentalshop/ui");

// src/components/features/OrderDetail/components/CollectionReturnModal.tsx
var import_ui135 = require("@rentalshop/ui");
var import_lucide_react122 = require("lucide-react");
var import_ui136 = require("@rentalshop/ui");

// src/components/features/OrderDetail/utils.ts
var CONSTANTS = __toESM(require("@rentalshop/constants"));
var calculateCollectionTotal = (order, settingsForm) => {
  if (order.orderType === "SALE") {
    return order.totalAmount;
  }
  const remainingAmount = order.totalAmount - order.depositAmount;
  const securityDeposit = settingsForm.securityDeposit || 0;
  return remainingAmount + securityDeposit;
};
var calculateCollectionAmount = (order, settingsForm) => {
  return calculateCollectionTotal(order, settingsForm);
};
var getCollectionTitle = (order) => {
  if (order.orderType === "SALE") {
    return "Collect from customer";
  }
  switch (order.status) {
    case "RESERVED":
      return "Collect from customer";
    case "PICKUPED":
      return "No collection needed";
    case "RETURNED":
      return "No collection needed";
    default:
      return "No collection";
  }
};
var getCollectionDetails = (order, settingsForm) => {
  if (order.orderType === "SALE") {
    return {
      title: "Sale Order - What to Collect",
      description: "Collect the full sale amount",
      calculation: [
        {
          label: "Collect from customer",
          value: order.totalAmount,
          isTotal: true
        }
      ]
    };
  }
  switch (order.status) {
    case "RESERVED":
      const remainingAmount = order.totalAmount - order.depositAmount;
      const securityDeposit = settingsForm.securityDeposit || 0;
      const collectionTotal = calculateCollectionTotal(order, settingsForm);
      const hasCollateral = settingsForm.collateralType && settingsForm.collateralType.trim() !== "";
      return {
        title: "Rental Order - What to Collect",
        description: hasCollateral ? "Collect remaining amount, security deposit, and collateral" : "Collect remaining amount plus security deposit",
        calculation: [
          {
            label: "Total amount",
            value: order.totalAmount
          },
          {
            label: "Deposit paid",
            value: -order.depositAmount,
            isNegative: true
          },
          {
            label: "Security deposit",
            value: securityDeposit
          },
          ...hasCollateral ? [
            {
              label: "Collateral type",
              value: 0,
              isCollateral: true,
              collateralInfo: `${settingsForm.collateralType}${settingsForm.collateralDetails ? ` - ${settingsForm.collateralDetails}` : ""}`
            }
          ] : [],
          {
            label: "Collect from customer",
            value: collectionTotal,
            isTotal: true,
            isCollateral: hasCollateral
          }
        ]
      };
    case "PICKUPED":
      return {
        title: "No Collection Needed",
        description: "Order is already picked up",
        calculation: []
      };
    case "RETURNED":
      return {
        title: "Order Completed",
        description: "Order has been returned",
        calculation: []
      };
    default:
      return {
        title: "No Collection",
        description: "No collection required",
        calculation: []
      };
  }
};
var getReturnDetails = (order, settingsForm) => {
  if (order.orderType === "SALE") {
    return {
      title: "No Return Needed",
      description: "Sale orders do not require returns",
      calculation: []
    };
  }
  switch (order.status) {
    case "PICKUPED":
      const securityDeposit = settingsForm.securityDeposit || 0;
      const damageFee = settingsForm.damageFee || 0;
      const returnAmount = securityDeposit - damageFee;
      return {
        title: "Rental Order - What to Return",
        description: "Return security deposit minus damage fees",
        calculation: [
          {
            label: "Security deposit",
            value: securityDeposit
          },
          {
            label: "Damage fee",
            value: -damageFee,
            isNegative: true
          },
          {
            label: "Return to customer",
            value: returnAmount,
            isTotal: true,
            isReturn: true
          }
        ]
      };
    case "RETURNED":
      return {
        title: "Already Returned",
        description: "Order has already been returned",
        calculation: []
      };
    default:
      return {
        title: "No Return Needed",
        description: "No return required",
        calculation: []
      };
  }
};

// src/components/features/OrderDetail/components/CollectionReturnModal.tsx
var import_jsx_runtime235 = require("react/jsx-runtime");
var CollectionReturnModal = ({
  isOpen,
  onClose,
  order,
  settingsForm,
  mode,
  onConfirmPickup,
  onConfirmReturn
}) => {
  const isCollectionMode = mode === "collection";
  const isReturnMode = mode === "return";
  const details = isCollectionMode ? getCollectionDetails(order, settingsForm) : getReturnDetails(order, settingsForm);
  const getModalTitle = () => {
    if (isCollectionMode) {
      return "Pickup Order - Collection Details";
    }
    return "Return Order - Return Details";
  };
  const getModalIcon = () => {
    if (isCollectionMode) {
      return /* @__PURE__ */ (0, import_jsx_runtime235.jsx)(import_lucide_react122.Package, { className: "w-5 h-5 text-green-600" });
    }
    return /* @__PURE__ */ (0, import_jsx_runtime235.jsx)(import_lucide_react122.RotateCcw, { className: "w-5 h-5 text-blue-600" });
  };
  const getActionButtonText = () => {
    if (isCollectionMode) {
      return "Confirm Pickup & Collect";
    }
    return "Confirm Return & Process Refund";
  };
  const handleConfirm = async () => {
    try {
      if (isCollectionMode && onConfirmPickup) {
        await onConfirmPickup();
      } else if (isReturnMode && onConfirmReturn) {
        await onConfirmReturn();
      }
      onClose();
    } catch (error2) {
      console.error("Error in modal confirmation:", error2);
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime235.jsx)(import_ui135.Dialog, { open: isOpen, onOpenChange: onClose, children: /* @__PURE__ */ (0, import_jsx_runtime235.jsxs)(import_ui135.DialogContent, { className: "max-w-2xl", children: [
    /* @__PURE__ */ (0, import_jsx_runtime235.jsx)(import_ui135.DialogHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime235.jsxs)(import_ui135.DialogTitle, { className: "flex items-center gap-2", children: [
      getModalIcon(),
      /* @__PURE__ */ (0, import_jsx_runtime235.jsx)("span", { className: "font-semibold", children: getModalTitle() })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime235.jsxs)("div", { className: "space-y-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime235.jsxs)("div", { className: "bg-gray-50 rounded-lg p-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime235.jsxs)("div", { className: "flex items-center justify-between mb-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime235.jsxs)("span", { className: "text-sm font-medium text-gray-700", children: [
            "Order #",
            order.orderNumber
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime235.jsx)(import_ui135.Badge, { variant: order.orderType === "RENT" ? "default" : "secondary", children: order.orderType })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime235.jsxs)("div", { className: "text-sm text-gray-600", children: [
          "Customer: ",
          order.customer?.firstName,
          " ",
          order.customer?.lastName
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime235.jsxs)("div", { className: "text-sm text-gray-600", children: [
          "Status: ",
          order.status
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime235.jsx)("div", { className: "space-y-4", children: /* @__PURE__ */ (0, import_jsx_runtime235.jsxs)("div", { className: "text-center", children: [
        /* @__PURE__ */ (0, import_jsx_runtime235.jsx)("h3", { className: "text-lg font-semibold text-gray-900 mb-2", children: isCollectionMode ? "Collect from Customer" : "Return to Customer" }),
        details.calculation && details.calculation.length > 0 && /* @__PURE__ */ (0, import_jsx_runtime235.jsxs)("div", { className: "text-xl font-bold text-green-700 bg-green-50 rounded-lg p-4 border border-green-200", children: [
          /* @__PURE__ */ (0, import_jsx_runtime235.jsx)("span", { children: details.calculation.find((item) => item.isTotal)?.value !== void 0 ? (0, import_ui136.formatCurrency)(details.calculation.find((item) => item.isTotal)?.value || 0) : "0.00" }),
          settingsForm.collateralType && settingsForm.collateralType !== "Other" && settingsForm.collateralType.trim() !== "" && /* @__PURE__ */ (0, import_jsx_runtime235.jsxs)("span", { className: "ml-2 text-lg font-normal text-blue-600", children: [
            "+ ",
            settingsForm.collateralType
          ] }),
          settingsForm.collateralType === "Other" && settingsForm.collateralDetails && settingsForm.collateralDetails.trim() !== "" && /* @__PURE__ */ (0, import_jsx_runtime235.jsxs)("span", { className: "ml-2 text-lg font-normal text-blue-600", children: [
            "+ ",
            settingsForm.collateralDetails
          ] })
        ] })
      ] }) })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime235.jsxs)(import_ui135.DialogFooter, { className: "flex gap-3", children: [
      /* @__PURE__ */ (0, import_jsx_runtime235.jsx)(import_ui135.Button, { variant: "outline", onClick: onClose, children: "Close" }),
      details.calculation && details.calculation.length > 0 && /* @__PURE__ */ (0, import_jsx_runtime235.jsx)(import_ui135.Button, { onClick: handleConfirm, children: getActionButtonText() })
    ] })
  ] }) });
};

// src/components/features/OrderDetail/OrderDetail.tsx
var import_utils43 = require("@rentalshop/utils");
var import_jsx_runtime236 = require("react/jsx-runtime");
var OrderDetailSkeleton = () => {
  return /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "space-y-4", children: [
    /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("div", { className: "bg-white border border-gray-200 rounded-lg p-4", children: /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-8 w-64" }),
        /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-4 w-48" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex items-center gap-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-4 w-20" }),
          /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-6 w-16" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-6 w-24" })
      ] })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "grid grid-cols-1 lg:grid-cols-3 gap-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "lg:col-span-2 space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(import_ui137.Card, { className: "flex flex-col", children: [
          /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-5 w-5" }),
            /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-6 w-32" })
          ] }) }),
          /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(import_ui137.CardContent, { className: "space-y-4 flex-1", children: [
            /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("div", { className: "space-y-3", children: Array.from({ length: 3 }).map((_, index) => /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex justify-between", children: [
                /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-4 w-24" }),
                /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-4 w-32" })
              ] }, index)) }),
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("div", { className: "space-y-3", children: Array.from({ length: 4 }).map((_, index) => /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex justify-between", children: [
                /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-4 w-24" }),
                /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-4 w-32" })
              ] }, index)) })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("div", { className: "flex-1" })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(import_ui137.Card, { children: [
          /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-5 w-5" }),
            /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-6 w-20" })
          ] }) }),
          /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.CardContent, { children: /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("div", { className: "space-y-3", children: Array.from({ length: 3 }).map((_, index) => /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("div", { className: "p-3 bg-gray-50 rounded-lg border border-gray-100", children: /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex items-start gap-3", children: [
            /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "w-12 h-12 rounded-lg" }),
            /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex-1 space-y-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-4 w-32" }),
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-3 w-20" }),
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-3 w-24" })
            ] })
          ] }) }, index)) }) })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(import_ui137.Card, { children: [
          /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-5 w-5" }),
            /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-6 w-28" })
          ] }) }),
          /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(import_ui137.CardContent, { className: "space-y-3", children: [
            Array.from({ length: 4 }).map((_, index) => /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex justify-between text-sm", children: [
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-4 w-20" }),
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-4 w-16" })
            ] }, index)),
            /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("div", { className: "pt-2 border-t border-gray-200", children: /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex justify-between", children: [
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-5 w-24" }),
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-5 w-20" })
            ] }) })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(import_ui137.Card, { children: [
          /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-5 w-5" }),
            /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-6 w-28" })
          ] }) }),
          /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(import_ui137.CardContent, { className: "space-y-4", children: [
            /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("div", { className: "space-y-3", children: Array.from({ length: 4 }).map((_, index) => /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex justify-between", children: [
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-4 w-24" }),
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-4 w-32" })
            ] }, index)) }),
            /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-10 w-full" })
          ] })
        ] })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("div", { className: "bg-white border border-gray-200 rounded-lg p-6 mt-6", children: /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-6 w-32" }),
      /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex justify-between items-center", children: [
        /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-10 w-32" }),
        /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("div", { className: "flex gap-3", children: Array.from({ length: 4 }).map((_, index) => /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Skeleton, { className: "h-10 w-24" }, index)) })
      ] })
    ] }) })
  ] });
};
var OrderDetail = ({
  order,
  onEdit,
  onCancel,
  onStatusChange,
  onPickup,
  onReturn,
  onSaveSettings,
  loading = false,
  showActions = true
}) => {
  const { toastSuccess, toastError, toastInfo, removeToast } = (0, import_ui139.useToast)();
  const COLLATERAL_TYPES = [
    "ID Card",
    "Driver License",
    "Passport",
    "Other"
  ];
  const [settingsForm, setSettingsForm] = (0, import_react99.useState)({
    damageFee: order.damageFee || 0,
    securityDeposit: order.securityDeposit || 0,
    collateralType: order.collateralType || "Other",
    collateralDetails: order.collateralDetails || "",
    notes: order.notes || ""
  });
  const [isEditingSettings, setIsEditingSettings] = (0, import_react99.useState)(false);
  const [tempSettings, setTempSettings] = (0, import_react99.useState)(settingsForm);
  const [isSavingSettings, setIsSavingSettings] = (0, import_react99.useState)(false);
  const [isCollectionModalOpen, setIsCollectionModalOpen] = (0, import_react99.useState)(false);
  const [isReturnModalOpen, setIsReturnModalOpen] = (0, import_react99.useState)(false);
  const [isPickupLoading, setIsPickupLoading] = (0, import_react99.useState)(false);
  const [isReturnLoading, setIsReturnLoading] = (0, import_react99.useState)(false);
  const [isCancelLoading, setIsCancelLoading] = (0, import_react99.useState)(false);
  const [showCancelConfirmDialog, setShowCancelConfirmDialog] = (0, import_react99.useState)(false);
  (0, import_react99.useEffect)(() => {
    if (order) {
      const newSettings = {
        damageFee: order.damageFee || 0,
        securityDeposit: order.securityDeposit || 0,
        collateralType: order.collateralType || "Other",
        collateralDetails: order.collateralDetails || "",
        notes: order.notes || ""
      };
      setSettingsForm(newSettings);
      setTempSettings(newSettings);
    }
  }, [order]);
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(OrderDetailSkeleton, {});
  }
  const isRentOrder = order.orderType === "RENT";
  const isSaleOrder = order.orderType === "SALE";
  const currentStatus = order.status;
  const canCancel = onCancel && currentStatus !== "PICKUPED" && currentStatus !== "RETURNED" && currentStatus !== "CANCELLED";
  const canEdit = onEdit && // RENT orders: can only edit when RESERVED
  (isRentOrder && currentStatus === "RESERVED" || // SALE orders: can only edit when COMPLETED
  isSaleOrder && currentStatus === "COMPLETED");
  const canPickup = onPickup && isRentOrder && currentStatus === "RESERVED";
  const canReturn = onReturn && isRentOrder && currentStatus === "PICKUPED";
  const canPrint = true;
  const isDamageFeeEnabled = () => {
    if (isSaleOrder)
      return false;
    if (isRentOrder) {
      switch (currentStatus) {
        case "RESERVED":
          return false;
        case "PICKUPED":
        case "RETURNED":
          return true;
        default:
          return false;
      }
    }
    return false;
  };
  const isSecurityDepositEnabled = () => {
    if (isSaleOrder)
      return false;
    if (isRentOrder) {
      switch (currentStatus) {
        case "RESERVED":
        case "PICKUPED":
        case "RETURNED":
          return true;
        default:
          return false;
      }
    }
    return false;
  };
  const isCollateralTypeEnabled = () => {
    if (isSaleOrder)
      return false;
    if (isRentOrder) {
      switch (currentStatus) {
        case "RESERVED":
        case "PICKUPED":
        case "RETURNED":
          return true;
        default:
          return false;
      }
    }
    return false;
  };
  const isCollateralDetailsEnabled = () => {
    if (isSaleOrder)
      return false;
    if (isRentOrder) {
      switch (currentStatus) {
        case "RESERVED":
        case "PICKUPED":
        case "RETURNED":
          return true;
        default:
          return false;
      }
    }
    return false;
  };
  const handleSettingsChange = (updates) => {
    setTempSettings((prev) => ({ ...prev, ...updates }));
  };
  const handleSaveSettings = async () => {
    if (onSaveSettings) {
      setIsSavingSettings(true);
      toastInfo("Saving...", "Please wait while settings are being saved");
      try {
        await onSaveSettings(tempSettings);
        toastSuccess("Settings Saved", "Order settings have been updated successfully");
        setSettingsForm(tempSettings);
        setIsEditingSettings(false);
      } catch (error2) {
        toastError("Save Failed", "Failed to save settings. Please try again.");
      } finally {
        setIsSavingSettings(false);
      }
    } else {
      setSettingsForm(tempSettings);
      setIsEditingSettings(false);
    }
  };
  const handleCancelEdit = () => {
    setTempSettings(settingsForm);
    setIsEditingSettings(false);
  };
  const handlePrintOrder = () => {
    try {
      window.print();
    } catch (error2) {
      toastError("Print Error", "Failed to start printing. Please try again.");
    }
  };
  const handlePickupOrder = async () => {
    try {
      setIsPickupLoading(true);
      await import_utils43.ordersApi.pickupOrder(order.id);
      toastSuccess("Pickup Successful", "Order pickup has been processed.");
      onStatusChange && onStatusChange(order.id, "PICKUPED");
      setIsCollectionModalOpen(false);
      if (typeof window !== "undefined") {
        window.location.reload();
      }
    } catch (error2) {
      toastError("Pickup Failed", "Failed to process order pickup. Please try again.");
    } finally {
      setIsPickupLoading(false);
    }
  };
  const handleReturnOrder = async () => {
    try {
      setIsReturnLoading(true);
      await import_utils43.ordersApi.returnOrder(order.id);
      toastSuccess("Return Successful", "Order return has been processed.");
      onStatusChange && onStatusChange(order.id, "RETURNED");
      setIsReturnModalOpen(false);
      if (typeof window !== "undefined") {
        window.location.reload();
      }
    } catch (error2) {
      toastError("Return Failed", "Failed to process order return. Please try again.");
    } finally {
      setIsReturnLoading(false);
    }
  };
  const handleCancelOrderClick = () => {
    setShowCancelConfirmDialog(true);
  };
  const handleCancelOrder = async () => {
    try {
      setIsCancelLoading(true);
      await import_utils43.ordersApi.cancelOrder(order.id);
      toastSuccess("Cancellation Successful", "Order has been cancelled.");
      onStatusChange && onStatusChange(order.id, "CANCELLED");
      if (typeof window !== "undefined") {
        window.location.reload();
      }
    } catch (error2) {
      toastError("Cancellation Failed", "Failed to cancel order. Please try again.");
    } finally {
      setIsCancelLoading(false);
      setShowCancelConfirmDialog(false);
    }
  };
  const handlePickupClick = () => {
    setIsCollectionModalOpen(true);
  };
  const handleReturnClick = () => {
    setIsReturnModalOpen(true);
  };
  const handleEditOrder = () => {
    if (onEdit) {
      try {
        onEdit(order);
      } catch (error2) {
        toastError("Edit Failed", "Failed to enter edit mode. Please try again.");
      }
    }
  };
  const handleEditOrderWithSettings = () => {
    if (onEdit) {
      try {
        const enhancedOrder = {
          ...order,
          damageFee: tempSettings.damageFee,
          securityDeposit: tempSettings.securityDeposit,
          collateralType: tempSettings.collateralType,
          collateralDetails: tempSettings.collateralDetails,
          notes: tempSettings.notes
        };
        onEdit(enhancedOrder);
      } catch (error2) {
        toastError("Edit Failed", "Failed to enter edit mode. Please try again.");
      }
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "space-y-4", children: [
    /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("div", { className: "bg-white border border-gray-200 rounded-lg p-4", children: /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("h1", { className: "text-2xl font-bold text-gray-900", children: [
          "Order Details #",
          order.orderNumber
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("p", { className: "text-sm text-gray-600", children: "View and manage order information" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex items-center gap-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-sm text-gray-600", children: "Order Type:" }),
          /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(
            import_ui137.Badge,
            {
              className: order.orderType === "RENT" ? "bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200" : "bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",
              children: order.orderType
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-sm text-gray-600", children: "Status:" }),
          /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(
            import_ui137.Badge,
            {
              className: import_constants14.ORDER_STATUS_COLORS[order.status] || "bg-gray-100 text-gray-800",
              children: order.status
            }
          )
        ] })
      ] })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "grid grid-cols-1 lg:grid-cols-3 gap-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "lg:col-span-2 space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(import_ui137.Card, { className: "flex flex-col", children: [
          /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(import_ui137.CardTitle, { className: "text-lg flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_lucide_react123.Info, { className: "w-5 h-5" }),
            "Order Information"
          ] }) }),
          /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(import_ui137.CardContent, { className: "space-y-4 flex-1", children: [
            /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
              /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "space-y-3", children: [
                /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex justify-between", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-sm text-gray-600", children: "Order ID:" }),
                  /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-sm font-medium", children: order.orderNumber })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex justify-between", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-sm text-gray-600", children: "Customer Name:" }),
                  /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("span", { className: "text-sm font-medium", children: [
                    order.customer?.firstName,
                    " ",
                    order.customer?.lastName
                  ] })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex justify-between", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-sm text-gray-600", children: "Phone:" }),
                  /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-sm font-medium", children: order.customer?.phone || "N/A" })
                ] }),
                order.createdBy && /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex justify-between", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-sm text-gray-600", children: "Created By:" }),
                  /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-sm font-medium", children: order.createdBy?.firstName && order.createdBy?.lastName ? `${order.createdBy.firstName} ${order.createdBy.lastName}` : order.createdBy?.email || "Unknown" })
                ] })
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "space-y-3", children: [
                order.orderType === "RENT" && /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(import_jsx_runtime236.Fragment, { children: [
                  /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex justify-between", children: [
                    /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-sm text-gray-600", children: "Pickup Date:" }),
                    /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-sm font-medium", children: order.pickupPlanAt ? new Date(order.pickupPlanAt).toLocaleDateString() : "N/A" })
                  ] }),
                  /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex justify-between", children: [
                    /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-sm text-gray-600", children: "Return Date:" }),
                    /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-sm font-medium", children: order.returnPlanAt ? new Date(order.returnPlanAt).toLocaleDateString() : "N/A" })
                  ] })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex justify-between", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-sm text-gray-600", children: "Seller:" }),
                  /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-sm font-medium", children: order.outlet?.name || "N/A" })
                ] }),
                /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex justify-between", children: [
                  /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-sm text-gray-600", children: "Order Date:" }),
                  /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-sm font-medium", children: order.createdAt ? new Date(order.createdAt).toLocaleDateString() : "N/A" })
                ] })
              ] })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("div", { className: "flex-1" })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(import_ui137.Card, { children: [
          /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(import_ui137.CardTitle, { className: "text-lg flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_lucide_react123.Package, { className: "w-5 h-5" }),
            "Products"
          ] }) }),
          /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.CardContent, { children: order.orderItems.length === 0 ? /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "text-center py-4 text-gray-500", children: [
            /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_lucide_react123.Package, { className: "w-8 h-8 mx-auto mb-2 text-gray-300" }),
            /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("p", { className: "text-sm", children: "No products in this order" })
          ] }) : /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("div", { className: "space-y-3", children: order.orderItems.map((item, index) => /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("div", { className: "p-3 bg-gray-50 rounded-lg border border-gray-100", children: /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex items-start gap-3", children: [
            /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("div", { className: "flex-shrink-0", children: /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("div", { className: "w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center border border-gray-200", children: /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_lucide_react123.Package, { className: "w-6 h-6 text-gray-400" }) }) }),
            /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex-1 min-w-0", children: [
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("div", { className: "font-medium text-gray-900 text-sm", children: item.product?.name || "Unknown Product" }),
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("div", { className: "text-xs text-gray-500", children: item.product?.name ? `Product: ${item.product.name}` : "Unknown Product" }),
              /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "text-xs text-gray-600", children: [
                (0, import_ui138.formatCurrency)(item.unitPrice),
                " x ",
                item.quantity
              ] }),
              item.notes && /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "text-xs text-gray-500 mt-1", children: [
                "Notes: ",
                item.notes || "No notes"
              ] })
            ] })
          ] }) }, index)) }) })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "space-y-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(import_ui137.Card, { children: [
          /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(import_ui137.CardTitle, { className: "text-lg flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_lucide_react123.DollarSign, { className: "w-5 h-5" }),
            "Order Summary"
          ] }) }),
          /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(import_ui137.CardContent, { className: "space-y-3", children: [
            /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex justify-between text-sm", children: [
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-gray-600", children: "Subtotal:" }),
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "font-medium", children: (0, import_ui138.formatCurrency)(order.totalAmount || 0) })
            ] }),
            order.discountAmount > 0 && /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex justify-between text-sm text-green-600", children: [
              /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("span", { children: [
                "Discount ",
                order.discountType === "percentage" && order.discountValue ? `(${order.discountValue}%)` : "(amount)",
                ":"
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("span", { className: "font-medium", children: [
                "-",
                (0, import_ui138.formatCurrency)(order.discountAmount)
              ] })
            ] }),
            order.orderType === "RENT" && order.depositAmount > 0 && /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex justify-between text-sm", children: [
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-gray-600", children: "Deposit:" }),
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "font-medium", children: (0, import_ui138.formatCurrency)(order.depositAmount) })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex justify-between text-lg font-bold text-green-700 pt-2 border-t border-gray-200", children: [
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { children: "Grand Total:" }),
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { children: (0, import_ui138.formatCurrency)(order.totalAmount || 0) })
            ] }),
            order.orderType === "RENT" && /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex justify-between text-sm pt-2 border-t border-gray-200", children: [
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-gray-600", children: "Collection Amount:" }),
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: `font-medium ${order.status === "RESERVED" ? "text-yellow-700" : order.status === "PICKUPED" ? "text-blue-700" : "text-gray-500"}`, children: order.status === "RESERVED" ? /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("span", { className: "flex items-center gap-2", children: [
                /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { children: (0, import_ui138.formatCurrency)(calculateCollectionTotal(order, tempSettings)) }),
                tempSettings.collateralType && tempSettings.collateralType !== "Other" && /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("span", { className: "text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded", children: [
                  "+ ",
                  tempSettings.collateralType
                ] }),
                tempSettings.collateralType === "Other" && tempSettings.collateralDetails && /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("span", { className: "text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded", children: [
                  "+ ",
                  tempSettings.collateralDetails
                ] }),
                tempSettings.collateralType === "Other" && !tempSettings.collateralDetails && /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded", children: "+ Collateral" })
              ] }) : order.status === "PICKUPED" ? "Already collected" : "No collection needed" })
            ] })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(import_ui137.Card, { children: [
          /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.CardHeader, { children: /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(import_ui137.CardTitle, { className: "text-lg flex items-center gap-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_lucide_react123.Settings, { className: "w-5 h-5" }),
            "Order Settings"
          ] }) }),
          /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.CardContent, { className: "space-y-4", children: isEditingSettings ? /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(import_jsx_runtime236.Fragment, { children: [
            /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(import_ui137.Label, { htmlFor: "damageFee", className: "text-sm font-medium text-gray-700", children: [
                "Damage Fee",
                !isDamageFeeEnabled() && /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-xs text-gray-500 ml-2", children: "(Disabled for this order type/status)" })
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(
                import_ui137.Input,
                {
                  id: "damageFee",
                  type: "number",
                  min: "0",
                  step: "0.01",
                  value: tempSettings.damageFee || 0,
                  onChange: (e) => handleSettingsChange({ damageFee: parseFloat(e.target.value) || 0 }),
                  className: "mt-1",
                  placeholder: "0",
                  disabled: !isDamageFeeEnabled()
                }
              )
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(import_ui137.Label, { htmlFor: "securityDeposit", className: "text-sm font-medium text-gray-700", children: [
                "Security Deposit",
                !isSecurityDepositEnabled() && /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-xs text-gray-500 ml-2", children: "(Disabled for this order type/status)" })
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(
                import_ui137.Input,
                {
                  id: "securityDeposit",
                  type: "number",
                  min: "0",
                  step: "0.01",
                  value: tempSettings.securityDeposit || 0,
                  onChange: (e) => handleSettingsChange({ securityDeposit: parseFloat(e.target.value) || 0 }),
                  className: "mt-1",
                  placeholder: "0",
                  disabled: !isSecurityDepositEnabled()
                }
              )
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(import_ui137.Label, { htmlFor: "collateralType", className: "text-sm font-medium text-gray-700", children: [
                "Collateral Type",
                !isCollateralTypeEnabled() && /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-xs text-gray-500 ml-2", children: "(Disabled for this order type/status)" })
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(import_ui137.Select, { onValueChange: (value) => handleSettingsChange({ collateralType: value }), value: tempSettings.collateralType || "", onOpenChange: () => setIsEditingSettings(true), children: [
                /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.SelectTrigger, { className: "mt-1", children: /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.SelectValue, { placeholder: "Select collateral type" }) }),
                /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.SelectContent, { children: COLLATERAL_TYPES.map((type) => /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.SelectItem, { value: type, children: type }, type)) })
              ] })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(import_ui137.Label, { htmlFor: "collateralDetails", className: "text-sm font-medium text-gray-700", children: [
                "Collateral Details",
                !isCollateralDetailsEnabled() && /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-xs text-gray-500 ml-2", children: "(Disabled for this order type/status)" })
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(
                import_ui137.Input,
                {
                  id: "collateralDetails",
                  type: "text",
                  value: tempSettings.collateralDetails || "",
                  onChange: (e) => handleSettingsChange({ collateralDetails: e.target.value }),
                  className: "mt-1",
                  placeholder: "Enter collateral details",
                  disabled: !isCollateralDetailsEnabled()
                }
              )
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_ui137.Label, { htmlFor: "notes", className: "text-sm font-medium text-gray-700", children: "Order Notes" }),
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(
                import_ui137.Textarea,
                {
                  id: "notes",
                  value: tempSettings.notes || "",
                  onChange: (e) => handleSettingsChange({ notes: e.target.value }),
                  rows: 3,
                  className: "mt-1",
                  placeholder: "Enter order notes"
                }
              )
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex gap-2 pt-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(
                import_ui137.Button,
                {
                  onClick: handleSaveSettings,
                  disabled: loading || isSavingSettings,
                  className: "flex-1 flex items-center gap-2",
                  children: [
                    /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_lucide_react123.Save, { className: "w-4 h-4" }),
                    isSavingSettings ? "Saving..." : "Save Changes"
                  ]
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(
                import_ui137.Button,
                {
                  variant: "outline",
                  onClick: handleCancelEdit,
                  className: "flex-1",
                  children: "Cancel"
                }
              )
            ] })
          ] }) : /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(import_jsx_runtime236.Fragment, { children: [
            /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "space-y-3", children: [
              /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex justify-between", children: [
                /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-sm text-gray-600", children: "Damage Fee:" }),
                /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-sm font-medium", children: isDamageFeeEnabled() ? (0, import_ui138.formatCurrency)(settingsForm.damageFee || 0) : /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-gray-400 italic", children: "Disabled" }) })
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex justify-between", children: [
                /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-sm text-gray-600", children: "Security Deposit:" }),
                /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-sm font-medium", children: isSecurityDepositEnabled() ? (0, import_ui138.formatCurrency)(settingsForm.securityDeposit || 0) : /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-gray-400 italic", children: "Disabled" }) })
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex justify-between", children: [
                /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-sm text-gray-600", children: "Collateral Type:" }),
                /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-sm font-medium", children: isCollateralTypeEnabled() ? settingsForm.collateralType || "Not specified" : /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-gray-400 italic", children: "Disabled" }) })
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex justify-between", children: [
                /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-sm text-gray-600", children: "Collateral Details:" }),
                /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-sm font-medium", children: isCollateralDetailsEnabled() ? settingsForm.collateralDetails || "No details" : /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-gray-400 italic", children: "Disabled" }) })
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex justify-between", children: [
                /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-sm text-gray-600", children: "Notes:" }),
                /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "text-sm font-medium", children: settingsForm.notes || "No notes" })
              ] })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(
              import_ui137.Button,
              {
                variant: "outline",
                onClick: () => {
                  setIsEditingSettings(true);
                },
                className: "w-full flex items-center gap-2 mt-4",
                children: [
                  /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_lucide_react123.Edit, { className: "w-4 h-4" }),
                  "Edit Settings"
                ]
              }
            )
          ] }) })
        ] })
      ] })
    ] }),
    showActions && /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("div", { className: "bg-white border border-gray-200 rounded-lg p-6 mt-6", children: /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("h3", { className: "text-lg font-medium text-gray-900", children: "Order Actions" }),
      /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex justify-between items-center", children: [
        /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("div", { children: canCancel && /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(
          import_ui137.Button,
          {
            variant: "destructive",
            onClick: handleCancelOrderClick,
            className: "px-6",
            disabled: isCancelLoading,
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_lucide_react123.X, { className: "w-4 h-4 mr-2" }),
              isCancelLoading ? "Cancelling..." : "Cancel Order"
            ]
          }
        ) }),
        /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex gap-3", children: [
          onEdit && /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(
            import_ui137.Button,
            {
              variant: "outline",
              onClick: handleEditOrderWithSettings,
              className: "px-4",
              disabled: !canEdit,
              title: !canEdit ? isRentOrder ? "RENT orders can only be edited when status is RESERVED" : "SALE orders can only be edited when status is COMPLETED" : "Edit Order",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_lucide_react123.Edit, { className: "w-4 h-4 mr-2" }),
                "Edit Order"
              ]
            }
          ),
          canPickup && /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(
            import_ui137.Button,
            {
              variant: "default",
              onClick: handlePickupClick,
              className: "px-6",
              disabled: isPickupLoading,
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_lucide_react123.Package, { className: "w-4 h-4 mr-2" }),
                isPickupLoading ? "Picking up..." : "Pickup Order"
              ]
            }
          ),
          canReturn && /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(
            import_ui137.Button,
            {
              variant: "default",
              onClick: handleReturnClick,
              className: "px-4",
              disabled: isReturnLoading,
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_lucide_react123.RotateCcw, { className: "w-4 h-4 mr-2" }),
                isReturnLoading ? "Returning..." : "Return Order"
              ]
            }
          ),
          canPrint && /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)(
            import_ui137.Button,
            {
              variant: "outline",
              onClick: handlePrintOrder,
              className: "px-4",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_lucide_react123.Printer, { className: "w-4 h-4 mr-2" }),
                "Print Order"
              ]
            }
          )
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("div", { className: "mt-3 text-sm text-gray-600 bg-gray-50 rounded-lg p-3 border border-gray-200", children: /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { className: "flex items-start gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(import_lucide_react123.Info, { className: "w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0" }),
        /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("p", { className: "font-medium text-gray-700 mb-1", children: "Editing Rules:" }),
          /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("ul", { className: "space-y-1 text-gray-600", children: [
            /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("li", { children: [
              "\u2022 ",
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("strong", { children: "RENT orders" }),
              ": Can only be edited when status is ",
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "font-mono bg-blue-100 px-1 rounded", children: "RESERVED" })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime236.jsxs)("li", { children: [
              "\u2022 ",
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("strong", { children: "SALE orders" }),
              ": Can only be edited when status is ",
              /* @__PURE__ */ (0, import_jsx_runtime236.jsx)("span", { className: "font-mono bg-green-100 px-1 rounded", children: "COMPLETED" })
            ] })
          ] })
        ] })
      ] }) })
    ] }) }),
    /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(
      CollectionReturnModal,
      {
        isOpen: isCollectionModalOpen,
        onClose: () => setIsCollectionModalOpen(false),
        order,
        settingsForm: tempSettings,
        mode: "collection",
        onConfirmPickup: handlePickupOrder
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(
      CollectionReturnModal,
      {
        isOpen: isReturnModalOpen,
        onClose: () => setIsReturnModalOpen(false),
        order,
        settingsForm: tempSettings,
        mode: "return",
        onConfirmReturn: handleReturnOrder
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime236.jsx)(
      import_ui137.ConfirmationDialog,
      {
        open: showCancelConfirmDialog,
        onOpenChange: setShowCancelConfirmDialog,
        type: "danger",
        title: "Cancel Order",
        description: `Are you sure you want to cancel order #${order.orderNumber}? This action cannot be undone.`,
        confirmText: "Cancel Order",
        cancelText: "Keep Order",
        onConfirm: handleCancelOrder,
        onCancel: () => setShowCancelConfirmDialog(false),
        isLoading: isCancelLoading
      }
    )
  ] });
};

// src/components/features/OrderDetail/components/OrderSummary.tsx
var import_lucide_react124 = require("lucide-react");
var import_ui140 = require("@rentalshop/ui");
var import_jsx_runtime237 = require("react/jsx-runtime");
var OrderSummary = ({ order, settingsForm }) => {
  const collectionAmount = calculateCollectionAmount(order, settingsForm);
  const collectionTitle = getCollectionTitle(order);
  return /* @__PURE__ */ (0, import_jsx_runtime237.jsxs)("div", { className: "p-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime237.jsxs)("div", { className: "flex items-center gap-2 mb-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime237.jsx)(import_lucide_react124.DollarSign, { className: "w-5 h-5 text-gray-600" }),
      /* @__PURE__ */ (0, import_jsx_runtime237.jsx)("h3", { className: "text-lg font-semibold text-gray-900", children: "Order Summary" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime237.jsxs)("div", { className: "space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime237.jsxs)("div", { className: "flex justify-between items-center py-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime237.jsx)("span", { className: "text-gray-600", children: "Subtotal" }),
        /* @__PURE__ */ (0, import_jsx_runtime237.jsx)("span", { className: "font-semibold text-gray-900", children: (0, import_ui140.formatCurrency)(order.subtotal) })
      ] }),
      order.discountAmount && order.discountAmount > 0 && /* @__PURE__ */ (0, import_jsx_runtime237.jsxs)("div", { className: "flex justify-between items-center py-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime237.jsx)("span", { className: "text-gray-600", children: "Discount" }),
        /* @__PURE__ */ (0, import_jsx_runtime237.jsxs)("span", { className: "font-medium text-green-600", children: [
          "-",
          (0, import_ui140.formatCurrency)(order.discountAmount)
        ] })
      ] }),
      order.taxAmount && order.taxAmount > 0 && /* @__PURE__ */ (0, import_jsx_runtime237.jsxs)("div", { className: "flex justify-between items-center py-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime237.jsx)("span", { className: "text-gray-600", children: "Tax" }),
        /* @__PURE__ */ (0, import_jsx_runtime237.jsx)("span", { className: "font-medium text-gray-900", children: (0, import_ui140.formatCurrency)(order.taxAmount) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime237.jsxs)("div", { className: "flex justify-between items-center py-3 border-t border-gray-200", children: [
        /* @__PURE__ */ (0, import_jsx_runtime237.jsx)("span", { className: "text-lg font-semibold text-gray-900", children: "Total Amount" }),
        /* @__PURE__ */ (0, import_jsx_runtime237.jsx)("span", { className: "text-xl font-bold text-green-700", children: (0, import_ui140.formatCurrency)(order.totalAmount) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime237.jsxs)("div", { className: "flex justify-between items-center py-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime237.jsx)("span", { className: "text-gray-600", children: "Deposit" }),
        /* @__PURE__ */ (0, import_jsx_runtime237.jsx)("span", { className: "font-medium text-gray-900", children: (0, import_ui140.formatCurrency)(order.depositAmount) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime237.jsxs)("div", { className: "flex justify-between items-center py-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime237.jsx)("span", { className: "text-gray-600", children: "Remaining" }),
        /* @__PURE__ */ (0, import_jsx_runtime237.jsx)("span", { className: "font-medium text-gray-900", children: (0, import_ui140.formatCurrency)(order.totalAmount - order.depositAmount) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime237.jsxs)("div", { className: "py-3 border-t border-gray-200", children: [
        /* @__PURE__ */ (0, import_jsx_runtime237.jsxs)("div", { className: "flex justify-between items-center", children: [
          /* @__PURE__ */ (0, import_jsx_runtime237.jsx)("span", { className: "text-lg font-semibold text-gray-900", children: collectionTitle }),
          /* @__PURE__ */ (0, import_jsx_runtime237.jsx)("span", { className: `text-xl font-bold ${collectionAmount < 0 ? "text-blue-700" : collectionAmount === 0 ? "text-gray-500" : "text-yellow-700"}`, children: collectionAmount === 0 ? /* @__PURE__ */ (0, import_jsx_runtime237.jsx)("span", { className: "text-gray-500", children: "0" }) : `${(0, import_ui140.formatCurrency)(Math.abs(collectionAmount))}` })
        ] }),
        order.orderType === "RENT" && order.status === "RESERVED" && settingsForm.material && settingsForm.material.trim() !== "" && /* @__PURE__ */ (0, import_jsx_runtime237.jsxs)("div", { className: "text-sm font-medium text-gray-600 mt-1", children: [
          "v\xE0 ",
          settingsForm.material
        ] }),
        order.orderType === "RENT" && order.status === "RESERVED" && /* @__PURE__ */ (0, import_jsx_runtime237.jsx)("div", { className: "mt-2 text-xs text-gray-500", children: /* @__PURE__ */ (0, import_jsx_runtime237.jsxs)("div", { className: "flex items-center gap-1", children: [
          /* @__PURE__ */ (0, import_jsx_runtime237.jsx)("span", { children: "\u{1F4A1}" }),
          /* @__PURE__ */ (0, import_jsx_runtime237.jsxs)("span", { children: [
            (0, import_ui140.formatCurrency)(order.totalAmount),
            " Total after discount - ",
            (0, import_ui140.formatCurrency)(order.depositAmount),
            " Deposit + ",
            (0, import_ui140.formatCurrency)(settingsForm.bailAmount),
            " Bail amount"
          ] })
        ] }) }),
        order.orderType === "RENT" && order.status === "PICKUP" && /* @__PURE__ */ (0, import_jsx_runtime237.jsx)("div", { className: "mt-2 text-xs text-gray-500", children: /* @__PURE__ */ (0, import_jsx_runtime237.jsxs)("div", { className: "flex items-center gap-1", children: [
          /* @__PURE__ */ (0, import_jsx_runtime237.jsx)("span", { children: "\u{1F4A1}" }),
          /* @__PURE__ */ (0, import_jsx_runtime237.jsxs)("span", { children: [
            (0, import_ui140.formatCurrency)(settingsForm.bailAmount),
            " Bail amount - ",
            (0, import_ui140.formatCurrency)(settingsForm.damageFee),
            " Damage Fee"
          ] })
        ] }) })
      ] })
    ] })
  ] });
};

// src/components/features/Shops/components/ShopsLoading.tsx
var import_jsx_runtime238 = require("react/jsx-runtime");
function ShopsLoading() {
  return /* @__PURE__ */ (0, import_jsx_runtime238.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime238.jsx)(StatsSkeleton, {}),
    /* @__PURE__ */ (0, import_jsx_runtime238.jsx)(SearchSkeleton, {}),
    /* @__PURE__ */ (0, import_jsx_runtime238.jsx)(GridSkeleton, { items: 6 }),
    /* @__PURE__ */ (0, import_jsx_runtime238.jsx)(PaginationSkeleton, {})
  ] });
}
function ShopDetailLoading() {
  return /* @__PURE__ */ (0, import_jsx_runtime238.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime238.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime238.jsxs)("div", { className: "space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime238.jsx)("div", { className: "h-8 w-48 bg-gray-200 rounded animate-pulse" }),
        /* @__PURE__ */ (0, import_jsx_runtime238.jsx)("div", { className: "h-4 w-32 bg-gray-200 rounded animate-pulse" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime238.jsxs)("div", { className: "flex gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime238.jsx)("div", { className: "h-10 w-24 bg-gray-200 rounded animate-pulse" }),
        /* @__PURE__ */ (0, import_jsx_runtime238.jsx)("div", { className: "h-10 w-24 bg-gray-200 rounded animate-pulse" })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime238.jsxs)("div", { className: "grid grid-cols-1 lg:grid-cols-3 gap-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime238.jsx)("div", { className: "lg:col-span-1", children: /* @__PURE__ */ (0, import_jsx_runtime238.jsx)("div", { className: "aspect-video w-full bg-gray-200 rounded-lg animate-pulse" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime238.jsxs)("div", { className: "lg:col-span-2 space-y-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime238.jsxs)("div", { className: "space-y-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime238.jsx)("div", { className: "h-6 w-24 bg-gray-200 rounded animate-pulse" }),
          /* @__PURE__ */ (0, import_jsx_runtime238.jsx)("div", { className: "space-y-2", children: Array.from({ length: 5 }).map((_, i) => /* @__PURE__ */ (0, import_jsx_runtime238.jsx)("div", { className: "h-4 w-full bg-gray-200 rounded animate-pulse" }, i)) })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime238.jsxs)("div", { className: "space-y-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime238.jsx)("div", { className: "h-6 w-24 bg-gray-200 rounded animate-pulse" }),
          /* @__PURE__ */ (0, import_jsx_runtime238.jsx)("div", { className: "grid grid-cols-2 gap-4", children: Array.from({ length: 4 }).map((_, i) => /* @__PURE__ */ (0, import_jsx_runtime238.jsx)("div", { className: "h-4 w-full bg-gray-200 rounded animate-pulse" }, i)) })
        ] })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime238.jsxs)("div", { className: "space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime238.jsx)("div", { className: "h-6 w-32 bg-gray-200 rounded animate-pulse" }),
      /* @__PURE__ */ (0, import_jsx_runtime238.jsx)(GridSkeleton, { items: 4 })
    ] })
  ] });
}

// src/components/features/Shops/components/OutletsLoading.tsx
var import_jsx_runtime239 = require("react/jsx-runtime");
function OutletsLoading() {
  return /* @__PURE__ */ (0, import_jsx_runtime239.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime239.jsx)(StatsSkeleton, {}),
    /* @__PURE__ */ (0, import_jsx_runtime239.jsx)(SearchSkeleton, {}),
    /* @__PURE__ */ (0, import_jsx_runtime239.jsx)(GridSkeleton, { items: 6 }),
    /* @__PURE__ */ (0, import_jsx_runtime239.jsx)(PaginationSkeleton, {})
  ] });
}
function OutletDetailLoading() {
  return /* @__PURE__ */ (0, import_jsx_runtime239.jsx)("div", { className: "space-y-6", children: /* @__PURE__ */ (0, import_jsx_runtime239.jsxs)("div", { className: "animate-pulse", children: [
    /* @__PURE__ */ (0, import_jsx_runtime239.jsx)("div", { className: "h-8 bg-gray-200 rounded w-1/4 mb-4" }),
    /* @__PURE__ */ (0, import_jsx_runtime239.jsx)("div", { className: "h-4 bg-gray-200 rounded w-1/2 mb-2" }),
    /* @__PURE__ */ (0, import_jsx_runtime239.jsx)("div", { className: "h-4 bg-gray-200 rounded w-3/4 mb-2" }),
    /* @__PURE__ */ (0, import_jsx_runtime239.jsx)("div", { className: "h-4 bg-gray-200 rounded w-2/3" })
  ] }) });
}

// src/components/features/Settings/Settings.tsx
var import_react102 = require("react");
var import_lucide_react128 = require("lucide-react");
var import_hooks14 = require("@rentalshop/hooks");
var import_utils46 = require("@rentalshop/utils");
var import_ui149 = require("@rentalshop/ui");

// src/components/features/Settings/components/SettingsLayout.tsx
var import_react100 = require("react");
var import_ui141 = require("@rentalshop/ui");
var import_lucide_react125 = require("lucide-react");
var import_jsx_runtime240 = require("react/jsx-runtime");
var SettingsLayout2 = ({
  user,
  loading,
  children,
  menuItems: menuItems2,
  activeSection,
  onSectionChange
}) => {
  const [isMobileMenuOpen, setIsMobileMenuOpen] = (0, import_react100.useState)(false);
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime240.jsxs)(import_ui141.PageWrapper, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime240.jsxs)(import_ui141.PageHeader, { children: [
        /* @__PURE__ */ (0, import_jsx_runtime240.jsx)(import_ui141.PageTitle, { children: "Settings" }),
        /* @__PURE__ */ (0, import_jsx_runtime240.jsx)("p", { children: "Manage your account settings and preferences" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime240.jsx)("div", { className: "flex justify-center items-center py-12", children: /* @__PURE__ */ (0, import_jsx_runtime240.jsxs)("div", { className: "text-center", children: [
        /* @__PURE__ */ (0, import_jsx_runtime240.jsx)("div", { className: "animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4" }),
        /* @__PURE__ */ (0, import_jsx_runtime240.jsx)("p", { className: "text-gray-600", children: "Loading settings..." })
      ] }) })
    ] });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime240.jsxs)(import_ui141.PageWrapper, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime240.jsxs)(import_ui141.PageHeader, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime240.jsx)(import_ui141.PageTitle, { children: "Settings" }),
      /* @__PURE__ */ (0, import_jsx_runtime240.jsx)("p", { children: "Manage your account settings and preferences" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime240.jsxs)("div", { className: "flex flex-col lg:flex-row gap-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime240.jsx)("div", { className: "lg:w-64 flex-shrink-0", children: /* @__PURE__ */ (0, import_jsx_runtime240.jsx)(import_ui141.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime240.jsx)(import_ui141.CardContent, { className: "p-0", children: /* @__PURE__ */ (0, import_jsx_runtime240.jsx)("nav", { className: "space-y-1", children: menuItems2.filter((item) => {
        if (!item.roles)
          return true;
        const userRole = (user?.role || "").trim().toUpperCase();
        const hasRole = item.roles.some((role) => role.toUpperCase() === userRole);
        return hasRole;
      }).map((item) => {
        const Icon2 = item.icon;
        const isActive = activeSection === item.id;
        return /* @__PURE__ */ (0, import_jsx_runtime240.jsxs)(
          import_ui141.Button,
          {
            variant: "ghost",
            onClick: () => onSectionChange(item.id),
            className: `w-full flex items-center space-x-3 px-4 py-3 text-left transition-colors justify-start h-auto ${isActive ? "bg-blue-50 text-blue-700 border-r-2 border-blue-600" : "text-gray-700 hover:bg-gray-50"}`,
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime240.jsx)(Icon2, { className: "h-5 w-5" }),
              /* @__PURE__ */ (0, import_jsx_runtime240.jsxs)("div", { className: "flex-1 min-w-0", children: [
                /* @__PURE__ */ (0, import_jsx_runtime240.jsx)("p", { className: "font-medium", children: item.label }),
                /* @__PURE__ */ (0, import_jsx_runtime240.jsx)("p", { className: "text-xs text-gray-500 truncate", children: item.description })
              ] }),
              /* @__PURE__ */ (0, import_jsx_runtime240.jsx)(import_lucide_react125.ChevronRight, { className: "h-4 w-4" })
            ]
          },
          item.id
        );
      }) }) }) }) }),
      /* @__PURE__ */ (0, import_jsx_runtime240.jsx)("div", { className: "flex-1 min-w-0", children: /* @__PURE__ */ (0, import_jsx_runtime240.jsx)(import_ui141.PageContent, { children }) })
    ] })
  ] });
};

// src/components/features/Settings/components/ProfileSection.tsx
var import_ui142 = require("@rentalshop/ui");
var import_jsx_runtime241 = require("react/jsx-runtime");
var ProfileSection = ({
  user,
  isEditing,
  isUpdating,
  formData,
  onEdit,
  onSave,
  onCancel,
  onInputChange
}) => {
  console.log("\u{1F50D} ProfileSection render - user:", user);
  console.log("\u{1F50D} ProfileSection render - user details:", {
    "user.id": user?.id,
    "user.email": user?.email,
    "user.firstName": user?.firstName,
    "user.lastName": user?.lastName,
    "user.phone": user?.phone,
    "user.role": user?.role
  });
  return /* @__PURE__ */ (0, import_jsx_runtime241.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime241.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime241.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime241.jsx)("h2", { className: "text-2xl font-bold text-gray-900", children: "Personal Information" }),
        /* @__PURE__ */ (0, import_jsx_runtime241.jsx)("p", { className: "text-gray-600", children: "Manage your personal information and account details" })
      ] }),
      !isEditing ? /* @__PURE__ */ (0, import_jsx_runtime241.jsx)(import_ui142.Button, { onClick: onEdit, children: "Edit Profile" }) : /* @__PURE__ */ (0, import_jsx_runtime241.jsxs)("div", { className: "flex gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime241.jsx)(import_ui142.Button, { onClick: onSave, variant: "default", disabled: isUpdating, children: isUpdating ? "Saving..." : "Save Changes" }),
        /* @__PURE__ */ (0, import_jsx_runtime241.jsx)(import_ui142.Button, { onClick: onCancel, variant: "outline", disabled: isUpdating, children: "Cancel" })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime241.jsx)(import_ui142.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime241.jsx)(import_ui142.CardContent, { className: "p-6", children: /* @__PURE__ */ (0, import_jsx_runtime241.jsx)("div", { className: "space-y-8", children: /* @__PURE__ */ (0, import_jsx_runtime241.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime241.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime241.jsx)(import_ui142.Label, { htmlFor: "firstName", className: "block text-sm font-medium text-gray-700 mb-2", children: "First Name" }),
        isEditing ? /* @__PURE__ */ (0, import_jsx_runtime241.jsx)(
          import_ui142.Input,
          {
            id: "firstName",
            name: "firstName",
            type: "text",
            value: formData.firstName,
            onChange: onInputChange,
            placeholder: "Enter your first name"
          }
        ) : /* @__PURE__ */ (0, import_jsx_runtime241.jsx)("p", { className: "text-gray-900 py-2 px-3 bg-gray-50 rounded-md", children: user?.firstName || "Not provided" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime241.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime241.jsx)(import_ui142.Label, { htmlFor: "lastName", className: "block text-sm font-medium text-gray-700 mb-2", children: "Last Name" }),
        isEditing ? /* @__PURE__ */ (0, import_jsx_runtime241.jsx)(
          import_ui142.Input,
          {
            id: "lastName",
            name: "lastName",
            type: "text",
            value: formData.lastName,
            onChange: onInputChange,
            placeholder: "Enter your last name"
          }
        ) : /* @__PURE__ */ (0, import_jsx_runtime241.jsx)("p", { className: "text-gray-900 py-2 px-3 bg-gray-50 rounded-md", children: user?.lastName || "Not provided" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime241.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime241.jsx)(import_ui142.Label, { htmlFor: "email", className: "block text-sm font-medium text-gray-700 mb-2", children: "Email Address" }),
        /* @__PURE__ */ (0, import_jsx_runtime241.jsx)("div", { className: "relative", children: /* @__PURE__ */ (0, import_jsx_runtime241.jsx)(
          import_ui142.Input,
          {
            id: "email",
            name: "email",
            type: "email",
            value: user?.email || "",
            placeholder: "Email address",
            disabled: true,
            className: "bg-gray-100 text-gray-600 cursor-not-allowed"
          }
        ) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime241.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime241.jsx)(import_ui142.Label, { htmlFor: "phone", className: "block text-sm font-medium text-gray-700 mb-2", children: "Phone Number" }),
        isEditing ? /* @__PURE__ */ (0, import_jsx_runtime241.jsx)(
          import_ui142.Input,
          {
            id: "phone",
            name: "phone",
            type: "tel",
            value: formData.phone,
            onChange: onInputChange,
            placeholder: "Enter your phone number"
          }
        ) : /* @__PURE__ */ (0, import_jsx_runtime241.jsx)("p", { className: "text-gray-900 py-2 px-3 bg-gray-50 rounded-md", children: user?.phone || "Not provided" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime241.jsxs)("div", { className: "md:col-span-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime241.jsx)(import_ui142.Label, { className: "block text-sm font-medium text-gray-700 mb-2", children: "Role" }),
        /* @__PURE__ */ (0, import_jsx_runtime241.jsx)("p", { className: "text-gray-900 py-2 px-3 bg-gray-50 rounded-md", children: user?.role ? user.role.charAt(0).toUpperCase() + user.role.slice(1) : "User" })
      ] })
    ] }) }) }) })
  ] });
};

// src/components/features/Settings/components/MerchantSection.tsx
var import_react101 = require("react");
var import_ui143 = require("@rentalshop/ui");
var import_utils45 = require("@rentalshop/utils");
var import_constants15 = require("@rentalshop/constants");
var import_jsx_runtime242 = require("react/jsx-runtime");
var MerchantSection = ({
  user,
  isEditing,
  isUpdating,
  formData,
  onEdit,
  onSave,
  onCancel,
  onInputChange
}) => {
  const [merchantData, setMerchantData] = (0, import_react101.useState)(null);
  const [loadingMerchant, setLoadingMerchant] = (0, import_react101.useState)(false);
  const fetchingRef = (0, import_react101.useRef)(false);
  console.log("\u{1F50D} MerchantSection render - user:", user);
  console.log("\u{1F50D} MerchantSection render - user.merchant:", user?.merchant);
  console.log("\u{1F50D} MerchantSection render - user.merchantId:", user?.merchantId);
  console.log("\u{1F50D} MerchantSection render - user role:", user?.role);
  console.log("\u{1F50D} MerchantSection render - loadingMerchant:", loadingMerchant);
  console.log("\u{1F50D} MerchantSection render - fetchingRef.current:", fetchingRef.current);
  (0, import_react101.useEffect)(() => {
    const fetchMerchantData = async () => {
      if (user?.merchantId && !user?.merchant && !fetchingRef.current) {
        console.log("\u{1F504} Fetching merchant data for merchantId:", user.merchantId);
        fetchingRef.current = true;
        setLoadingMerchant(true);
        try {
          const result = await import_utils45.merchantsApi.getMerchantById(user.merchantId);
          console.log("\u{1F50D} Merchant API response:", result);
          if (result.success && result.data) {
            const merchantInfo = result.data.merchant || result.data;
            console.log("\u2705 Merchant data extracted:", merchantInfo);
            setMerchantData(merchantInfo);
          } else {
            console.error("\u274C Failed to fetch merchant data:", result);
          }
        } catch (error2) {
          console.error("\u{1F4A5} Error fetching merchant data:", error2);
        } finally {
          setLoadingMerchant(false);
          fetchingRef.current = false;
        }
      }
    };
    fetchMerchantData();
    return () => {
      fetchingRef.current = false;
    };
  }, [user?.merchantId, user?.merchant]);
  const merchant = user?.merchant || merchantData;
  console.log("\u{1F50D} MerchantSection - Final merchant data:", {
    "user.merchant": user?.merchant,
    "merchantData": merchantData,
    "final merchant": merchant,
    "merchant.name": merchant?.name,
    "merchant.email": merchant?.email,
    "merchant.phone": merchant?.phone,
    "merchant.businessType": merchant?.businessType
  });
  return /* @__PURE__ */ (0, import_jsx_runtime242.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime242.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime242.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime242.jsx)("h2", { className: "text-2xl font-bold text-gray-900", children: "Business Information" }),
        /* @__PURE__ */ (0, import_jsx_runtime242.jsx)("p", { className: "text-gray-600", children: "Manage your business details and settings" })
      ] }),
      !isEditing ? /* @__PURE__ */ (0, import_jsx_runtime242.jsx)("div", { className: "flex gap-2", children: /* @__PURE__ */ (0, import_jsx_runtime242.jsx)(import_ui143.Button, { onClick: onEdit, children: "Edit Business Info" }) }) : /* @__PURE__ */ (0, import_jsx_runtime242.jsxs)("div", { className: "flex gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime242.jsx)(import_ui143.Button, { onClick: onSave, variant: "default", disabled: isUpdating, children: isUpdating ? "Saving..." : "Save Changes" }),
        /* @__PURE__ */ (0, import_jsx_runtime242.jsx)(import_ui143.Button, { onClick: onCancel, variant: "outline", disabled: isUpdating, children: "Cancel" })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime242.jsx)(import_ui143.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime242.jsx)(import_ui143.CardContent, { className: "p-6", children: loadingMerchant ? /* @__PURE__ */ (0, import_jsx_runtime242.jsx)("div", { className: "text-center py-8", children: /* @__PURE__ */ (0, import_jsx_runtime242.jsx)("p", { className: "text-gray-500", children: "Loading business information..." }) }) : !merchant && !user?.merchantId ? /* @__PURE__ */ (0, import_jsx_runtime242.jsxs)("div", { className: "text-center py-8", children: [
      /* @__PURE__ */ (0, import_jsx_runtime242.jsx)("p", { className: "text-gray-500", children: "No business information available" }),
      /* @__PURE__ */ (0, import_jsx_runtime242.jsxs)("p", { className: "text-gray-400 text-sm mt-2", children: [
        "User role: ",
        user?.role || "Unknown",
        " | Has merchantId: ",
        user?.merchantId ? "Yes" : "No",
        " | Has merchant object: ",
        user?.merchant ? "Yes" : "No",
        " | Fetched merchant: ",
        merchantData ? "Yes" : "No"
      ] })
    ] }) : /* @__PURE__ */ (0, import_jsx_runtime242.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime242.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime242.jsx)(import_ui143.Label, { htmlFor: "merchantName", className: "block text-sm font-medium text-gray-700 mb-2", children: "Business Name" }),
        isEditing ? /* @__PURE__ */ (0, import_jsx_runtime242.jsx)(
          import_ui143.Input,
          {
            id: "merchantName",
            name: "name",
            type: "text",
            value: formData.name,
            onChange: onInputChange,
            placeholder: "Enter business name"
          }
        ) : /* @__PURE__ */ (0, import_jsx_runtime242.jsx)("p", { className: "text-gray-900 py-2 px-3 bg-gray-50 rounded-md", children: merchant?.name || "Not provided" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime242.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime242.jsx)(import_ui143.Label, { htmlFor: "merchantEmail", className: "block text-sm font-medium text-gray-700 mb-2", children: "Business Email" }),
        /* @__PURE__ */ (0, import_jsx_runtime242.jsx)("div", { className: "relative", children: /* @__PURE__ */ (0, import_jsx_runtime242.jsx)(
          import_ui143.Input,
          {
            id: "merchantEmail",
            name: "email",
            type: "email",
            value: merchant?.email || "",
            placeholder: "Business email address",
            disabled: true,
            className: "bg-gray-100 text-gray-600 cursor-not-allowed"
          }
        ) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime242.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime242.jsx)(import_ui143.Label, { htmlFor: "taxId", className: "block text-sm font-medium text-gray-700 mb-2", children: "Tax ID" }),
        isEditing ? /* @__PURE__ */ (0, import_jsx_runtime242.jsx)(
          import_ui143.Input,
          {
            id: "taxId",
            name: "taxId",
            type: "text",
            value: formData.taxId,
            onChange: onInputChange,
            placeholder: "Enter tax ID"
          }
        ) : /* @__PURE__ */ (0, import_jsx_runtime242.jsx)("p", { className: "text-gray-900 py-2 px-3 bg-gray-50 rounded-md", children: merchant?.taxId || "Not provided" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime242.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime242.jsx)(import_ui143.Label, { htmlFor: "merchantPhone", className: "block text-sm font-medium text-gray-700 mb-2", children: "Business Phone" }),
        isEditing ? /* @__PURE__ */ (0, import_jsx_runtime242.jsx)(
          import_ui143.Input,
          {
            id: "merchantPhone",
            name: "phone",
            type: "tel",
            value: formData.phone,
            onChange: onInputChange,
            placeholder: "Enter business phone"
          }
        ) : /* @__PURE__ */ (0, import_jsx_runtime242.jsx)("p", { className: "text-gray-900 py-2 px-3 bg-gray-50 rounded-md", children: merchant?.phone || "Not provided" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime242.jsx)("div", { className: "md:col-span-2", children: /* @__PURE__ */ (0, import_jsx_runtime242.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime242.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime242.jsx)(import_ui143.Label, { htmlFor: "businessType", className: "block text-sm font-medium text-gray-700 mb-2", children: "Business Type" }),
          /* @__PURE__ */ (0, import_jsx_runtime242.jsx)("div", { className: "relative", children: /* @__PURE__ */ (0, import_jsx_runtime242.jsx)(
            import_ui143.Input,
            {
              id: "businessType",
              name: "businessType",
              type: "text",
              value: merchant?.businessType || "Not provided",
              placeholder: "Business type",
              disabled: true,
              className: "bg-gray-100 text-gray-600 cursor-not-allowed"
            }
          ) }),
          /* @__PURE__ */ (0, import_jsx_runtime242.jsx)("p", { className: "text-xs text-gray-500 mt-1", children: merchant?.businessType ? (0, import_constants15.getBusinessTypeDescription)(merchant.businessType) : "Business type description" })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime242.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime242.jsx)(import_ui143.Label, { htmlFor: "pricingType", className: "block text-sm font-medium text-gray-700 mb-2", children: "Pricing Type" }),
          /* @__PURE__ */ (0, import_jsx_runtime242.jsx)("div", { className: "relative", children: /* @__PURE__ */ (0, import_jsx_runtime242.jsx)(
            import_ui143.Input,
            {
              id: "pricingType",
              name: "pricingType",
              type: "text",
              value: merchant?.pricingType || "Not provided",
              placeholder: "Pricing type",
              disabled: true,
              className: "bg-gray-100 text-gray-600 cursor-not-allowed"
            }
          ) }),
          /* @__PURE__ */ (0, import_jsx_runtime242.jsx)("p", { className: "text-xs text-gray-500 mt-1", children: merchant?.pricingType ? (0, import_constants15.getPricingTypeDescription)(merchant.pricingType) : "Pricing type description" })
        ] })
      ] }) }),
      /* @__PURE__ */ (0, import_jsx_runtime242.jsxs)("div", { className: "md:col-span-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime242.jsx)(import_ui143.Label, { htmlFor: "merchantAddress", className: "block text-sm font-medium text-gray-700 mb-2", children: "Business Address" }),
        isEditing ? /* @__PURE__ */ (0, import_jsx_runtime242.jsx)(
          import_ui143.Input,
          {
            id: "merchantAddress",
            name: "address",
            type: "text",
            value: formData.address,
            onChange: onInputChange,
            placeholder: "Enter business address"
          }
        ) : /* @__PURE__ */ (0, import_jsx_runtime242.jsx)("p", { className: "text-gray-900 py-2 px-3 bg-gray-50 rounded-md", children: merchant?.address || "Not provided" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime242.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime242.jsx)(import_ui143.Label, { htmlFor: "merchantCity", className: "block text-sm font-medium text-gray-700 mb-2", children: "City" }),
        isEditing ? /* @__PURE__ */ (0, import_jsx_runtime242.jsx)(
          import_ui143.Input,
          {
            id: "merchantCity",
            name: "city",
            type: "text",
            value: formData.city,
            onChange: onInputChange,
            placeholder: "Enter city"
          }
        ) : /* @__PURE__ */ (0, import_jsx_runtime242.jsx)("p", { className: "text-gray-900 py-2 px-3 bg-gray-50 rounded-md", children: merchant?.city || "Not provided" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime242.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime242.jsx)(import_ui143.Label, { htmlFor: "merchantState", className: "block text-sm font-medium text-gray-700 mb-2", children: "State" }),
        isEditing ? /* @__PURE__ */ (0, import_jsx_runtime242.jsx)(
          import_ui143.Input,
          {
            id: "merchantState",
            name: "state",
            type: "text",
            value: formData.state,
            onChange: onInputChange,
            placeholder: "Enter state"
          }
        ) : /* @__PURE__ */ (0, import_jsx_runtime242.jsx)("p", { className: "text-gray-900 py-2 px-3 bg-gray-50 rounded-md", children: merchant?.state || "Not provided" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime242.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime242.jsx)(import_ui143.Label, { htmlFor: "merchantZipCode", className: "block text-sm font-medium text-gray-700 mb-2", children: "ZIP Code" }),
        isEditing ? /* @__PURE__ */ (0, import_jsx_runtime242.jsx)(
          import_ui143.Input,
          {
            id: "merchantZipCode",
            name: "zipCode",
            type: "text",
            value: formData.zipCode,
            onChange: onInputChange,
            placeholder: "Enter ZIP code"
          }
        ) : /* @__PURE__ */ (0, import_jsx_runtime242.jsx)("p", { className: "text-gray-900 py-2 px-3 bg-gray-50 rounded-md", children: merchant?.zipCode || "Not provided" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime242.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime242.jsx)(import_ui143.Label, { htmlFor: "merchantCountry", className: "block text-sm font-medium text-gray-700 mb-2", children: "Country" }),
        isEditing ? /* @__PURE__ */ (0, import_jsx_runtime242.jsx)(
          import_ui143.Input,
          {
            id: "merchantCountry",
            name: "country",
            type: "text",
            value: formData.country,
            onChange: onInputChange,
            placeholder: "Enter country"
          }
        ) : /* @__PURE__ */ (0, import_jsx_runtime242.jsx)("p", { className: "text-gray-900 py-2 px-3 bg-gray-50 rounded-md", children: merchant?.country || "Not provided" })
      ] })
    ] }) }) })
  ] });
};

// src/components/features/Settings/components/OutletSection.tsx
var import_ui144 = require("@rentalshop/ui");
var import_jsx_runtime243 = require("react/jsx-runtime");
var OutletSection = ({
  user,
  isEditing,
  isUpdating,
  formData,
  onEdit,
  onSave,
  onCancel,
  onInputChange
}) => {
  return /* @__PURE__ */ (0, import_jsx_runtime243.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime243.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime243.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime243.jsx)("h2", { className: "text-2xl font-bold text-gray-900", children: "Outlet Information" }),
        /* @__PURE__ */ (0, import_jsx_runtime243.jsx)("p", { className: "text-gray-600", children: "Manage your outlet details and settings" })
      ] }),
      !isEditing ? /* @__PURE__ */ (0, import_jsx_runtime243.jsx)(import_ui144.Button, { onClick: onEdit, children: "Edit Outlet Info" }) : /* @__PURE__ */ (0, import_jsx_runtime243.jsxs)("div", { className: "flex gap-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime243.jsx)(import_ui144.Button, { onClick: onSave, variant: "default", disabled: isUpdating, children: isUpdating ? "Saving..." : "Save Changes" }),
        /* @__PURE__ */ (0, import_jsx_runtime243.jsx)(import_ui144.Button, { onClick: onCancel, variant: "outline", disabled: isUpdating, children: "Cancel" })
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime243.jsx)(import_ui144.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime243.jsx)(import_ui144.CardContent, { className: "p-6", children: !user?.outlet ? /* @__PURE__ */ (0, import_jsx_runtime243.jsx)("div", { className: "text-center py-8", children: /* @__PURE__ */ (0, import_jsx_runtime243.jsx)("p", { className: "text-gray-500", children: "No outlet information available" }) }) : /* @__PURE__ */ (0, import_jsx_runtime243.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime243.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime243.jsx)(import_ui144.Label, { htmlFor: "outletName", className: "block text-sm font-medium text-gray-700 mb-2", children: "Outlet Name" }),
        isEditing ? /* @__PURE__ */ (0, import_jsx_runtime243.jsx)(
          import_ui144.Input,
          {
            id: "outletName",
            name: "name",
            type: "text",
            value: formData.name,
            onChange: onInputChange,
            placeholder: "Enter outlet name"
          }
        ) : /* @__PURE__ */ (0, import_jsx_runtime243.jsx)("p", { className: "text-gray-900 py-2 px-3 bg-gray-50 rounded-md", children: user?.outlet?.name || "Not provided" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime243.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime243.jsx)(import_ui144.Label, { htmlFor: "outletPhone", className: "block text-sm font-medium text-gray-700 mb-2", children: "Outlet Phone" }),
        isEditing ? /* @__PURE__ */ (0, import_jsx_runtime243.jsx)(
          import_ui144.Input,
          {
            id: "outletPhone",
            name: "phone",
            type: "tel",
            value: formData.phone,
            onChange: onInputChange,
            placeholder: "Enter outlet phone"
          }
        ) : /* @__PURE__ */ (0, import_jsx_runtime243.jsx)("p", { className: "text-gray-900 py-2 px-3 bg-gray-50 rounded-md", children: user?.outlet?.phone || "Not provided" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime243.jsxs)("div", { className: "md:col-span-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime243.jsx)(import_ui144.Label, { htmlFor: "outletAddress", className: "block text-sm font-medium text-gray-700 mb-2", children: "Outlet Address" }),
        isEditing ? /* @__PURE__ */ (0, import_jsx_runtime243.jsx)(
          import_ui144.Input,
          {
            id: "outletAddress",
            name: "address",
            type: "text",
            value: formData.address,
            onChange: onInputChange,
            placeholder: "Enter outlet address"
          }
        ) : /* @__PURE__ */ (0, import_jsx_runtime243.jsx)("p", { className: "text-gray-900 py-2 px-3 bg-gray-50 rounded-md", children: user?.outlet?.address || "Not provided" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime243.jsxs)("div", { className: "md:col-span-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime243.jsx)(import_ui144.Label, { htmlFor: "outletDescription", className: "block text-sm font-medium text-gray-700 mb-2", children: "Description" }),
        isEditing ? /* @__PURE__ */ (0, import_jsx_runtime243.jsx)(
          import_ui144.Input,
          {
            id: "outletDescription",
            name: "description",
            type: "text",
            value: formData.description,
            onChange: onInputChange,
            placeholder: "Enter outlet description"
          }
        ) : /* @__PURE__ */ (0, import_jsx_runtime243.jsx)("p", { className: "text-gray-900 py-2 px-3 bg-gray-50 rounded-md", children: user?.outlet?.description || "Not provided" })
      ] })
    ] }) }) })
  ] });
};

// src/components/features/Settings/components/SubscriptionSection.tsx
var import_ui145 = require("@rentalshop/ui");
var import_lucide_react126 = require("lucide-react");
var import_jsx_runtime244 = require("react/jsx-runtime");
var SubscriptionSection = ({
  subscriptionData,
  subscriptionLoading,
  currentUserRole
}) => {
  if (subscriptionLoading) {
    return /* @__PURE__ */ (0, import_jsx_runtime244.jsxs)("div", { className: "space-y-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime244.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime244.jsx)("h2", { className: "text-2xl font-bold text-gray-900", children: "Subscription" }),
        /* @__PURE__ */ (0, import_jsx_runtime244.jsx)("p", { className: "text-gray-600", children: "Manage your subscription and billing information" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime244.jsx)(import_ui145.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime244.jsx)(import_ui145.CardContent, { className: "p-6", children: /* @__PURE__ */ (0, import_jsx_runtime244.jsxs)("div", { className: "flex items-center justify-center py-8", children: [
        /* @__PURE__ */ (0, import_jsx_runtime244.jsx)("div", { className: "animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600" }),
        /* @__PURE__ */ (0, import_jsx_runtime244.jsx)("span", { className: "ml-2 text-gray-600", children: "Loading subscription data..." })
      ] }) }) })
    ] });
  }
  if (subscriptionData?.hasSubscription) {
    return /* @__PURE__ */ (0, import_jsx_runtime244.jsxs)("div", { className: "space-y-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime244.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime244.jsx)("h2", { className: "text-2xl font-bold text-gray-900", children: "Subscription" }),
        /* @__PURE__ */ (0, import_jsx_runtime244.jsx)("p", { className: "text-gray-600", children: "Manage your subscription and billing information" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime244.jsx)("div", { className: "space-y-6", children: /* @__PURE__ */ (0, import_jsx_runtime244.jsx)(import_ui145.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime244.jsxs)(import_ui145.CardContent, { className: "p-6", children: [
        /* @__PURE__ */ (0, import_jsx_runtime244.jsxs)("div", { className: "flex items-center justify-between mb-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime244.jsxs)("div", { className: "flex items-center space-x-3", children: [
            /* @__PURE__ */ (0, import_jsx_runtime244.jsx)(import_lucide_react126.CreditCard, { className: "h-6 w-6 text-blue-600" }),
            /* @__PURE__ */ (0, import_jsx_runtime244.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime244.jsx)("h3", { className: "text-lg font-semibold text-gray-900", children: "Current Plan" }),
              /* @__PURE__ */ (0, import_jsx_runtime244.jsx)("p", { className: "text-sm text-gray-600", children: subscriptionData.subscription.plan?.name || "Professional Plan" })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime244.jsx)(
            import_ui145.Badge,
            {
              variant: subscriptionData.isExpired ? "destructive" : "default",
              className: subscriptionData.isExpired ? "bg-red-100 text-red-800" : subscriptionData.isExpiringSoon ? "bg-yellow-100 text-yellow-800" : "bg-green-100 text-green-800",
              children: subscriptionData.isExpired ? "Expired" : subscriptionData.isExpiringSoon ? "Expiring Soon" : "Active"
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime244.jsxs)("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime244.jsxs)("div", { className: "bg-gray-50 rounded-lg p-4", children: [
            /* @__PURE__ */ (0, import_jsx_runtime244.jsxs)("div", { className: "flex items-center space-x-2 mb-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime244.jsx)(import_lucide_react126.DollarSign, { className: "h-4 w-4 text-gray-600" }),
              /* @__PURE__ */ (0, import_jsx_runtime244.jsx)("span", { className: "text-sm font-medium text-gray-700", children: "Amount" })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime244.jsxs)("p", { className: "text-xl font-bold text-gray-900", children: [
              "$",
              subscriptionData.subscription.amount || "0.00"
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime244.jsx)("p", { className: "text-xs text-gray-600", children: subscriptionData.subscription.interval || "monthly" })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime244.jsxs)("div", { className: "bg-gray-50 rounded-lg p-4", children: [
            /* @__PURE__ */ (0, import_jsx_runtime244.jsxs)("div", { className: "flex items-center space-x-2 mb-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime244.jsx)(import_lucide_react126.Calendar, { className: "h-4 w-4 text-gray-600" }),
              /* @__PURE__ */ (0, import_jsx_runtime244.jsx)("span", { className: "text-sm font-medium text-gray-700", children: "Next Billing" })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime244.jsx)("p", { className: "text-lg font-bold text-gray-900", children: subscriptionData.subscription.currentPeriodEnd ? new Date(subscriptionData.subscription.currentPeriodEnd).toLocaleDateString("en-US", {
              month: "short",
              day: "numeric",
              year: "numeric"
            }) : "N/A" }),
            subscriptionData.daysUntilExpiry && /* @__PURE__ */ (0, import_jsx_runtime244.jsxs)("p", { className: "text-xs text-gray-600", children: [
              subscriptionData.daysUntilExpiry,
              " days remaining"
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime244.jsxs)("div", { className: "bg-gray-50 rounded-lg p-4", children: [
            /* @__PURE__ */ (0, import_jsx_runtime244.jsxs)("div", { className: "flex items-center space-x-2 mb-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime244.jsx)(import_lucide_react126.CheckCircle, { className: "h-4 w-4 text-gray-600" }),
              /* @__PURE__ */ (0, import_jsx_runtime244.jsx)("span", { className: "text-sm font-medium text-gray-700", children: "Status" })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime244.jsx)("p", { className: "text-lg font-bold text-gray-900 capitalize", children: subscriptionData.subscription.status || "Active" }),
            /* @__PURE__ */ (0, import_jsx_runtime244.jsx)("p", { className: "text-xs text-gray-600", children: subscriptionData.subscription.cancelAtPeriodEnd ? "Cancels at period end" : "Auto-renewal enabled" })
          ] })
        ] }),
        subscriptionData.isExpiringSoon && /* @__PURE__ */ (0, import_jsx_runtime244.jsx)("div", { className: "mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg", children: /* @__PURE__ */ (0, import_jsx_runtime244.jsxs)("div", { className: "flex items-center space-x-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime244.jsx)(import_lucide_react126.AlertTriangle, { className: "h-5 w-5 text-yellow-600" }),
          /* @__PURE__ */ (0, import_jsx_runtime244.jsxs)("p", { className: "text-sm text-yellow-800", children: [
            "Your subscription expires in ",
            subscriptionData.daysUntilExpiry,
            " days. Consider renewing to avoid service interruption."
          ] })
        ] }) }),
        /* @__PURE__ */ (0, import_jsx_runtime244.jsx)("div", { className: "mt-6 pt-4 border-t border-gray-200", children: /* @__PURE__ */ (0, import_jsx_runtime244.jsx)("p", { className: "text-sm text-gray-600 text-center", children: currentUserRole === "OUTLET_ADMIN" ? "Contact your merchant administrator to manage subscription settings." : "Subscription management features coming soon." }) })
      ] }) }) })
    ] });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime244.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime244.jsxs)("div", { children: [
      /* @__PURE__ */ (0, import_jsx_runtime244.jsx)("h2", { className: "text-2xl font-bold text-gray-900", children: "Subscription" }),
      /* @__PURE__ */ (0, import_jsx_runtime244.jsx)("p", { className: "text-gray-600", children: "Manage your subscription and billing information" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime244.jsx)(import_ui145.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime244.jsx)(import_ui145.CardContent, { className: "p-6", children: /* @__PURE__ */ (0, import_jsx_runtime244.jsxs)("div", { className: "text-center py-8", children: [
      /* @__PURE__ */ (0, import_jsx_runtime244.jsx)(import_lucide_react126.CreditCard, { className: "mx-auto h-12 w-12 text-gray-400 mb-4" }),
      /* @__PURE__ */ (0, import_jsx_runtime244.jsx)("h3", { className: "text-lg font-medium text-gray-900 mb-2", children: "No Active Subscription" }),
      /* @__PURE__ */ (0, import_jsx_runtime244.jsx)("p", { className: "text-gray-600 mb-6", children: "You don't have an active subscription. Choose a plan to get started." }),
      (currentUserRole === "ADMIN" || currentUserRole === "MERCHANT") && /* @__PURE__ */ (0, import_jsx_runtime244.jsx)(import_ui145.Button, { children: "View Available Plans" }),
      currentUserRole === "OUTLET_ADMIN" && /* @__PURE__ */ (0, import_jsx_runtime244.jsx)("p", { className: "text-sm text-gray-600", children: "Contact your merchant administrator to set up a subscription." })
    ] }) }) })
  ] });
};

// src/components/features/Settings/components/AccountSection.tsx
var import_ui146 = require("@rentalshop/ui");
var import_lucide_react127 = require("lucide-react");
var import_jsx_runtime245 = require("react/jsx-runtime");
var AccountSection = ({
  onSignOut,
  onDeleteAccount,
  onChangePassword,
  isDeleting
}) => {
  return /* @__PURE__ */ (0, import_jsx_runtime245.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime245.jsxs)("div", { children: [
      /* @__PURE__ */ (0, import_jsx_runtime245.jsx)("h2", { className: "text-2xl font-bold text-gray-900", children: "Account" }),
      /* @__PURE__ */ (0, import_jsx_runtime245.jsx)("p", { className: "text-gray-600", children: "Manage your account settings and preferences" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime245.jsx)(import_ui146.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime245.jsx)(import_ui146.CardContent, { className: "p-6", children: /* @__PURE__ */ (0, import_jsx_runtime245.jsxs)("div", { className: "space-y-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime245.jsxs)("div", { className: "flex items-center justify-between p-4 bg-gray-50 rounded-lg", children: [
        /* @__PURE__ */ (0, import_jsx_runtime245.jsxs)("div", { className: "flex items-center space-x-3", children: [
          /* @__PURE__ */ (0, import_jsx_runtime245.jsx)(import_lucide_react127.Key, { className: "h-5 w-5 text-gray-600" }),
          /* @__PURE__ */ (0, import_jsx_runtime245.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime245.jsx)("h3", { className: "font-medium text-gray-900", children: "Change Password" }),
            /* @__PURE__ */ (0, import_jsx_runtime245.jsx)("p", { className: "text-sm text-gray-600", children: "Update your account password" })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime245.jsx)(
          import_ui146.Button,
          {
            variant: "outline",
            onClick: onChangePassword,
            children: "Change Password"
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime245.jsx)(import_ui146.Separator, {}),
      /* @__PURE__ */ (0, import_jsx_runtime245.jsxs)("div", { className: "flex items-center justify-between p-4 bg-gray-50 rounded-lg", children: [
        /* @__PURE__ */ (0, import_jsx_runtime245.jsxs)("div", { className: "flex items-center space-x-3", children: [
          /* @__PURE__ */ (0, import_jsx_runtime245.jsx)(import_lucide_react127.LogOut, { className: "h-5 w-5 text-gray-600" }),
          /* @__PURE__ */ (0, import_jsx_runtime245.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime245.jsx)("h3", { className: "font-medium text-gray-900", children: "Session Management" }),
            /* @__PURE__ */ (0, import_jsx_runtime245.jsx)("p", { className: "text-sm text-gray-600", children: "Sign out of your current session" })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime245.jsx)(
          import_ui146.Button,
          {
            variant: "outline",
            onClick: onSignOut,
            className: "text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200",
            children: "Sign Out"
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime245.jsx)(import_ui146.Separator, {}),
      /* @__PURE__ */ (0, import_jsx_runtime245.jsxs)("div", { className: "flex items-center justify-between p-4 bg-red-50 rounded-lg", children: [
        /* @__PURE__ */ (0, import_jsx_runtime245.jsxs)("div", { className: "flex items-center space-x-3", children: [
          /* @__PURE__ */ (0, import_jsx_runtime245.jsx)(import_lucide_react127.Trash2, { className: "h-5 w-5 text-red-600" }),
          /* @__PURE__ */ (0, import_jsx_runtime245.jsxs)("div", { children: [
            /* @__PURE__ */ (0, import_jsx_runtime245.jsx)("h3", { className: "font-medium text-red-900", children: "Delete Account" }),
            /* @__PURE__ */ (0, import_jsx_runtime245.jsx)("p", { className: "text-sm text-red-700", children: "Permanently delete your account and all data" })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime245.jsx)(
          import_ui146.Button,
          {
            variant: "destructive",
            onClick: onDeleteAccount,
            disabled: isDeleting,
            children: isDeleting ? "Deleting..." : "Delete Account"
          }
        )
      ] })
    ] }) }) })
  ] });
};

// src/components/features/Settings/components/ChangePasswordDialog.tsx
var import_ui147 = require("@rentalshop/ui");
var import_jsx_runtime246 = require("react/jsx-runtime");
var ChangePasswordDialog2 = ({
  isOpen,
  isChanging,
  passwordData,
  onClose,
  onChange,
  onSubmit
}) => {
  if (!isOpen)
    return null;
  return /* @__PURE__ */ (0, import_jsx_runtime246.jsx)("div", { className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50", children: /* @__PURE__ */ (0, import_jsx_runtime246.jsxs)("div", { className: "bg-white rounded-lg p-6 max-w-md w-full mx-4", children: [
    /* @__PURE__ */ (0, import_jsx_runtime246.jsxs)("div", { className: "flex items-center justify-between mb-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime246.jsx)("h3", { className: "text-lg font-medium text-gray-900", children: "Change Password" }),
      /* @__PURE__ */ (0, import_jsx_runtime246.jsx)(
        import_ui147.Button,
        {
          variant: "ghost",
          size: "icon",
          onClick: onClose,
          className: "text-gray-400 hover:text-gray-600 h-8 w-8 p-0",
          children: /* @__PURE__ */ (0, import_jsx_runtime246.jsx)("svg", { className: "w-6 h-6", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ (0, import_jsx_runtime246.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M6 18L18 6M6 6l12 12" }) })
        }
      )
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime246.jsxs)("div", { className: "space-y-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime246.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime246.jsx)(import_ui147.Label, { htmlFor: "currentPassword", className: "block text-sm font-medium text-gray-700 mb-2", children: "Current Password" }),
        /* @__PURE__ */ (0, import_jsx_runtime246.jsx)(
          import_ui147.Input,
          {
            id: "currentPassword",
            name: "currentPassword",
            type: "password",
            value: passwordData.currentPassword,
            onChange,
            placeholder: "Enter your current password"
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime246.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime246.jsx)(import_ui147.Label, { htmlFor: "newPassword", className: "block text-sm font-medium text-gray-700 mb-2", children: "New Password" }),
        /* @__PURE__ */ (0, import_jsx_runtime246.jsx)(
          import_ui147.Input,
          {
            id: "newPassword",
            name: "newPassword",
            type: "password",
            value: passwordData.newPassword,
            onChange,
            placeholder: "Enter your new password"
          }
        )
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime246.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime246.jsx)(import_ui147.Label, { htmlFor: "confirmPassword", className: "block text-sm font-medium text-gray-700 mb-2", children: "Confirm New Password" }),
        /* @__PURE__ */ (0, import_jsx_runtime246.jsx)(
          import_ui147.Input,
          {
            id: "confirmPassword",
            name: "confirmPassword",
            type: "password",
            value: passwordData.confirmPassword,
            onChange,
            placeholder: "Confirm your new password"
          }
        )
      ] })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime246.jsxs)("div", { className: "flex justify-end space-x-3 mt-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime246.jsx)(
        import_ui147.Button,
        {
          variant: "outline",
          onClick: onClose,
          disabled: isChanging,
          children: "Cancel"
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime246.jsx)(
        import_ui147.Button,
        {
          onClick: onSubmit,
          disabled: isChanging,
          children: isChanging ? "Changing..." : "Change Password"
        }
      )
    ] })
  ] }) });
};

// src/components/features/Settings/components/DeleteAccountDialog.tsx
var import_ui148 = require("@rentalshop/ui");
var import_jsx_runtime247 = require("react/jsx-runtime");
var DeleteAccountDialog = ({
  isOpen,
  isDeleting,
  onClose,
  onConfirm
}) => {
  if (!isOpen)
    return null;
  return /* @__PURE__ */ (0, import_jsx_runtime247.jsx)("div", { className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50", children: /* @__PURE__ */ (0, import_jsx_runtime247.jsxs)("div", { className: "bg-white rounded-lg p-6 max-w-md w-full mx-4", children: [
    /* @__PURE__ */ (0, import_jsx_runtime247.jsxs)("div", { className: "flex items-center mb-4", children: [
      /* @__PURE__ */ (0, import_jsx_runtime247.jsx)("div", { className: "flex-shrink-0", children: /* @__PURE__ */ (0, import_jsx_runtime247.jsx)("svg", { className: "h-6 w-6 text-red-600", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ (0, import_jsx_runtime247.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z" }) }) }),
      /* @__PURE__ */ (0, import_jsx_runtime247.jsx)("div", { className: "ml-3", children: /* @__PURE__ */ (0, import_jsx_runtime247.jsx)("h3", { className: "text-lg font-medium text-gray-900", children: "Delete Account" }) })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime247.jsxs)("div", { className: "mb-6", children: [
      /* @__PURE__ */ (0, import_jsx_runtime247.jsx)("p", { className: "text-sm text-gray-600", children: "Are you sure you want to delete your account? This action cannot be undone and will permanently remove:" }),
      /* @__PURE__ */ (0, import_jsx_runtime247.jsxs)("ul", { className: "mt-3 text-sm text-gray-600 list-disc list-inside space-y-1", children: [
        /* @__PURE__ */ (0, import_jsx_runtime247.jsx)("li", { children: "Your profile and personal information" }),
        /* @__PURE__ */ (0, import_jsx_runtime247.jsx)("li", { children: "All your orders and transaction history" }),
        /* @__PURE__ */ (0, import_jsx_runtime247.jsx)("li", { children: "Your product listings and inventory" }),
        /* @__PURE__ */ (0, import_jsx_runtime247.jsx)("li", { children: "Any saved preferences and settings" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime247.jsx)("p", { className: "mt-3 text-sm text-gray-600", children: /* @__PURE__ */ (0, import_jsx_runtime247.jsx)("strong", { children: "This action is irreversible." }) })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime247.jsxs)("div", { className: "flex justify-end space-x-3", children: [
      /* @__PURE__ */ (0, import_jsx_runtime247.jsx)(
        import_ui148.Button,
        {
          variant: "outline",
          onClick: onClose,
          disabled: isDeleting,
          children: "Cancel"
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime247.jsx)(
        import_ui148.Button,
        {
          variant: "destructive",
          onClick: onConfirm,
          disabled: isDeleting,
          children: isDeleting ? "Deleting..." : "Delete Account"
        }
      )
    ] })
  ] }) });
};

// src/components/features/Settings/Settings.tsx
var import_jsx_runtime248 = require("react/jsx-runtime");
var settingsMenuItems = [
  {
    id: "profile",
    label: "Profile",
    icon: import_lucide_react128.User,
    description: "Manage your personal information"
  },
  {
    id: "merchant",
    label: "Business",
    icon: import_lucide_react128.Building2,
    description: "Manage your business information and pricing",
    roles: ["MERCHANT"]
  },
  {
    id: "outlet",
    label: "Outlet",
    icon: import_lucide_react128.Store,
    description: "Manage your outlet information",
    roles: ["OUTLET_ADMIN", "OUTLET_STAFF"]
  },
  {
    id: "subscription",
    label: "Subscription",
    icon: import_lucide_react128.CreditCard,
    description: "Manage your subscription and billing",
    roles: ["ADMIN", "MERCHANT", "OUTLET_ADMIN"]
    // ADMIN, MERCHANT, and OUTLET_ADMIN can access subscription
  },
  {
    id: "account",
    label: "Account",
    icon: import_lucide_react128.Settings,
    description: "Account settings, password and preferences"
  }
];
var SettingsComponent = () => {
  const { user, logout, loading } = (0, import_hooks14.useAuth)();
  const { toastSuccess, toastError } = (0, import_ui149.useToast)();
  const [activeSection, setActiveSection] = (0, import_react102.useState)("profile");
  const [isEditingPersonal, setIsEditingPersonal] = (0, import_react102.useState)(false);
  const [isEditingMerchant, setIsEditingMerchant] = (0, import_react102.useState)(false);
  const [isEditingOutlet, setIsEditingOutlet] = (0, import_react102.useState)(false);
  const [isUpdating, setIsUpdating] = (0, import_react102.useState)(false);
  const [personalFormData, setPersonalFormData] = (0, import_react102.useState)({
    firstName: user?.firstName || "",
    lastName: user?.lastName || "",
    phone: user?.phone || ""
  });
  const [merchantFormData, setMerchantFormData] = (0, import_react102.useState)({
    name: "",
    phone: "",
    address: "",
    city: "",
    state: "",
    zipCode: "",
    country: "",
    businessType: "",
    pricingType: "",
    taxId: ""
  });
  const [outletFormData, setOutletFormData] = (0, import_react102.useState)({
    name: "",
    phone: "",
    address: "",
    description: ""
  });
  const [showChangePassword, setShowChangePassword] = (0, import_react102.useState)(false);
  const [isChangingPassword, setIsChangingPassword] = (0, import_react102.useState)(false);
  const [passwordData, setPasswordData] = (0, import_react102.useState)({
    currentPassword: "",
    newPassword: "",
    confirmPassword: ""
  });
  const [showDeleteConfirm, setShowDeleteConfirm] = (0, import_react102.useState)(false);
  const [isDeleting, setIsDeleting] = (0, import_react102.useState)(false);
  const [subscriptionData, setSubscriptionData] = (0, import_react102.useState)(null);
  const [subscriptionLoading, setSubscriptionLoading] = (0, import_react102.useState)(true);
  (0, import_react102.useEffect)(() => {
    const fetchSubscriptionData = async () => {
      try {
        setSubscriptionLoading(true);
        const response = await import_utils46.subscriptionsApi.getCurrentUserSubscriptionStatus();
        console.log("\u{1F50D} Settings - Subscription API response:", response);
        if (response.success && response.data) {
          const data = response.data;
          const transformedData = {
            hasSubscription: true,
            subscription: {
              // Core subscription info (already flat in response)
              id: data.subscriptionId,
              status: data.status,
              planName: data.planName,
              currentPeriodStart: data.currentPeriodStart,
              currentPeriodEnd: data.currentPeriodEnd,
              // Billing info (already flat)
              amount: data.billingAmount,
              currency: data.billingCurrency,
              interval: data.billingInterval,
              // Trial info
              trialStart: data.trialStart,
              trialEnd: data.trialEnd,
              // Cancellation info
              cancelAtPeriodEnd: data.cancelAtPeriodEnd,
              canceledAt: data.canceledAt,
              cancelReason: data.cancelReason,
              // Plan details
              plan: {
                id: data.planId,
                name: data.planName,
                description: data.planDescription,
                basePrice: data.planPrice,
                currency: data.planCurrency
              }
            },
            // Status flags (derived from computed status)
            status: data.status,
            statusReason: data.statusReason,
            isActive: data.status === "ACTIVE",
            isExpired: data.status === "EXPIRED",
            isTrial: data.status === "TRIAL",
            isCanceled: data.status === "CANCELED",
            hasAccess: data.hasAccess,
            isExpiringSoon: data.isExpiringSoon,
            daysRemaining: data.daysRemaining,
            // Merchant info
            merchant: {
              id: data.merchantId,
              name: data.merchantName,
              email: data.merchantEmail
            },
            // Limits & usage
            limits: data.limits,
            usage: data.usage,
            // Features
            features: data.features
          };
          console.log("\u2705 Settings - Mapped subscription data:", transformedData);
          setSubscriptionData(transformedData);
        } else {
          console.log("\u274C Settings - No subscription data:", response);
          setSubscriptionData(null);
        }
      } catch (error2) {
        console.error("Error fetching subscription data:", error2);
        setSubscriptionData(null);
      } finally {
        setSubscriptionLoading(false);
      }
    };
    fetchSubscriptionData();
  }, []);
  (0, import_react102.useEffect)(() => {
    if (user?.merchant && user?.role === "MERCHANT") {
      setMerchantFormData({
        name: user.merchant.name || "",
        phone: user.merchant.phone || "",
        address: user.merchant.address || "",
        city: user.merchant.city || "",
        state: user.merchant.state || "",
        zipCode: user.merchant.zipCode || "",
        country: user.merchant.country || "",
        businessType: user.merchant.businessType || "",
        pricingType: user.merchant.pricingType || "",
        taxId: user.merchant.taxId || ""
      });
    }
    if (user?.outlet && (user?.role === "OUTLET_ADMIN" || user?.role === "OUTLET_STAFF")) {
      setOutletFormData({
        name: user.outlet.name || "",
        phone: user.outlet.phone || "",
        address: user.outlet.address || "",
        description: user.outlet.description || ""
      });
    }
  }, [user]);
  const filteredMenuItems = settingsMenuItems.filter((item) => {
    if (item.roles) {
      return item.roles.includes(user?.role || "");
    }
    return true;
  });
  const handlePersonalInputChange = (e) => {
    const { name, value } = e.target;
    setPersonalFormData((prev) => ({ ...prev, [name]: value }));
  };
  const handleMerchantInputChange = (e) => {
    const { name, value } = e.target;
    setMerchantFormData((prev) => ({ ...prev, [name]: value }));
  };
  const handleOutletInputChange = (e) => {
    const { name, value } = e.target;
    setOutletFormData((prev) => ({ ...prev, [name]: value }));
  };
  const handlePasswordChange = (e) => {
    const { name, value } = e.target;
    setPasswordData((prev) => ({ ...prev, [name]: value }));
  };
  const handleEditPersonalProfile = () => setIsEditingPersonal(true);
  const handleUpdatePersonalProfile = async () => {
    try {
      setIsUpdating(true);
      const response = await import_utils46.settingsApi.updateUserProfile(personalFormData);
      if (response.success) {
        setIsEditingPersonal(false);
        toastSuccess("Success", "Personal profile updated successfully!");
      } else {
        toastError("Error", response.error || "Failed to update personal profile");
      }
    } catch (error2) {
      toastError("Error", "Failed to update personal profile. Please try again.");
    } finally {
      setIsUpdating(false);
    }
  };
  const handleCancelPersonal = () => setIsEditingPersonal(false);
  const handleEditMerchantInfo = () => setIsEditingMerchant(true);
  const handleUpdateMerchantInfo = async () => {
    try {
      setIsUpdating(true);
      const response = await import_utils46.settingsApi.updateMerchantInfo(merchantFormData);
      if (response.success) {
        setIsEditingMerchant(false);
        toastSuccess("Success", "Business information updated successfully!");
      } else {
        toastError("Error", response.error || "Failed to update business information");
      }
    } catch (error2) {
      toastError("Error", "Failed to update business information. Please try again.");
    } finally {
      setIsUpdating(false);
    }
  };
  const handleCancelMerchant = () => setIsEditingMerchant(false);
  const handleEditOutletInfo = () => setIsEditingOutlet(true);
  const handleUpdateOutletInfo = async () => {
    try {
      setIsUpdating(true);
      const response = await import_utils46.settingsApi.updateOutletInfo(outletFormData);
      if (response.success) {
        setIsEditingOutlet(false);
        toastSuccess("Success", "Outlet information updated successfully!");
      } else {
        toastError("Error", response.error || "Failed to update outlet information");
      }
    } catch (error2) {
      toastError("Error", "Failed to update outlet information. Please try again.");
    } finally {
      setIsUpdating(false);
    }
  };
  const handleCancelOutlet = () => setIsEditingOutlet(false);
  const handleSignOut = async () => {
    try {
      await logout();
    } catch (error2) {
      console.error("Error signing out:", error2);
    }
  };
  const handleDeleteAccount = async () => {
    try {
      setIsDeleting(true);
      if (!user?.id) {
        throw new Error("User ID not found");
      }
      const response = await import_utils46.usersApi.deleteAccount(user.id);
      if (response.success) {
        toastSuccess("Account Deleted", "Your account has been deleted successfully.");
        await logout();
      } else {
        toastError("Delete Failed", response.message || "Failed to delete account");
      }
    } catch (error2) {
      toastError("Delete Failed", "Failed to delete account. Please try again.");
    } finally {
      setIsDeleting(false);
      setShowDeleteConfirm(false);
    }
  };
  const handleChangePassword = async () => {
    try {
      setIsChangingPassword(true);
      if (passwordData.newPassword !== passwordData.confirmPassword) {
        throw new Error("New passwords do not match");
      }
      if (passwordData.newPassword.length < 6) {
        throw new Error("New password must be at least 6 characters");
      }
      const response = await import_utils46.authApi.changePassword(passwordData.currentPassword, passwordData.newPassword);
      if (response.success) {
        setShowChangePassword(false);
        setPasswordData({ currentPassword: "", newPassword: "", confirmPassword: "" });
        toastSuccess("Password Changed", "Your password has been changed successfully!");
      } else {
        throw new Error(response.message || "Failed to change password");
      }
    } catch (error2) {
      toastError("Password Change Failed", error2 instanceof Error ? error2.message : "Failed to change password");
    } finally {
      setIsChangingPassword(false);
    }
  };
  const renderActiveSection = () => {
    switch (activeSection) {
      case "profile":
        return /* @__PURE__ */ (0, import_jsx_runtime248.jsx)(
          ProfileSection,
          {
            user,
            isEditing: isEditingPersonal,
            isUpdating,
            formData: personalFormData,
            onEdit: handleEditPersonalProfile,
            onSave: handleUpdatePersonalProfile,
            onCancel: handleCancelPersonal,
            onInputChange: handlePersonalInputChange
          }
        );
      case "merchant":
        return /* @__PURE__ */ (0, import_jsx_runtime248.jsx)(
          MerchantSection,
          {
            user,
            isEditing: isEditingMerchant,
            isUpdating,
            formData: merchantFormData,
            onEdit: handleEditMerchantInfo,
            onSave: handleUpdateMerchantInfo,
            onCancel: handleCancelMerchant,
            onInputChange: handleMerchantInputChange
          }
        );
      case "outlet":
        return /* @__PURE__ */ (0, import_jsx_runtime248.jsx)(
          OutletSection,
          {
            user,
            isEditing: isEditingOutlet,
            isUpdating,
            formData: outletFormData,
            onEdit: handleEditOutletInfo,
            onSave: handleUpdateOutletInfo,
            onCancel: handleCancelOutlet,
            onInputChange: handleOutletInputChange
          }
        );
      case "subscription":
        return /* @__PURE__ */ (0, import_jsx_runtime248.jsx)(
          SubscriptionSection,
          {
            subscriptionData,
            subscriptionLoading,
            currentUserRole: user?.role
          }
        );
      case "account":
        return /* @__PURE__ */ (0, import_jsx_runtime248.jsx)(
          AccountSection,
          {
            onSignOut: handleSignOut,
            onDeleteAccount: () => setShowDeleteConfirm(true),
            onChangePassword: () => setShowChangePassword(true),
            isDeleting
          }
        );
      default:
        return /* @__PURE__ */ (0, import_jsx_runtime248.jsx)(
          ProfileSection,
          {
            user,
            isEditing: isEditingPersonal,
            isUpdating,
            formData: personalFormData,
            onEdit: handleEditPersonalProfile,
            onSave: handleUpdatePersonalProfile,
            onCancel: handleCancelPersonal,
            onInputChange: handlePersonalInputChange
          }
        );
    }
  };
  return /* @__PURE__ */ (0, import_jsx_runtime248.jsxs)(import_jsx_runtime248.Fragment, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime248.jsx)(
      SettingsLayout2,
      {
        user,
        loading,
        menuItems: filteredMenuItems,
        activeSection,
        onSectionChange: setActiveSection,
        children: renderActiveSection()
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime248.jsx)(
      ChangePasswordDialog2,
      {
        isOpen: showChangePassword,
        isChanging: isChangingPassword,
        passwordData,
        onClose: () => setShowChangePassword(false),
        onChange: handlePasswordChange,
        onSubmit: handleChangePassword
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime248.jsx)(
      DeleteAccountDialog,
      {
        isOpen: showDeleteConfirm,
        isDeleting,
        onClose: () => setShowDeleteConfirm(false),
        onConfirm: handleDeleteAccount
      }
    )
  ] });
};
var Settings_default = SettingsComponent;

// src/components/features/Settings/components/SecuritySection.tsx
var import_ui150 = require("@rentalshop/ui");
var import_lucide_react129 = require("lucide-react");
var import_jsx_runtime249 = require("react/jsx-runtime");
var SecuritySection = ({
  onChangePassword
}) => {
  return /* @__PURE__ */ (0, import_jsx_runtime249.jsxs)("div", { className: "space-y-6", children: [
    /* @__PURE__ */ (0, import_jsx_runtime249.jsxs)("div", { children: [
      /* @__PURE__ */ (0, import_jsx_runtime249.jsx)("h2", { className: "text-2xl font-bold text-gray-900", children: "Security" }),
      /* @__PURE__ */ (0, import_jsx_runtime249.jsx)("p", { className: "text-gray-600", children: "Manage your password and account security settings" })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime249.jsx)(import_ui150.Card, { children: /* @__PURE__ */ (0, import_jsx_runtime249.jsx)(import_ui150.CardContent, { className: "p-6", children: /* @__PURE__ */ (0, import_jsx_runtime249.jsx)("div", { className: "space-y-6", children: /* @__PURE__ */ (0, import_jsx_runtime249.jsxs)("div", { className: "flex items-center justify-between p-4 bg-gray-50 rounded-lg", children: [
      /* @__PURE__ */ (0, import_jsx_runtime249.jsxs)("div", { className: "flex items-center space-x-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime249.jsx)(import_lucide_react129.Shield, { className: "h-5 w-5 text-gray-600" }),
        /* @__PURE__ */ (0, import_jsx_runtime249.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime249.jsx)("h3", { className: "font-medium text-gray-900", children: "Password" }),
          /* @__PURE__ */ (0, import_jsx_runtime249.jsx)("p", { className: "text-sm text-gray-600", children: "Change your password to keep your account secure" })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime249.jsx)(
        import_ui150.Button,
        {
          variant: "outline",
          onClick: onChangePassword,
          children: "Change Password"
        }
      )
    ] }) }) }) })
  ] });
};

// src/components/layout/TopNavigation.tsx
var import_react103 = require("react");
var import_lucide_react130 = require("lucide-react");
var import_jsx_runtime250 = require("react/jsx-runtime");
function TopNavigation({
  variant = "client",
  currentPage,
  notificationsCount = 0,
  cartItemsCount = 0,
  onLogout,
  onProfileClick,
  userRole
}) {
  const [isMobileMenuOpen, setIsMobileMenuOpen] = (0, import_react103.useState)(false);
  const clientNavItems = [
    { href: "/dashboard", label: "Dashboard", icon: import_lucide_react130.Home },
    { href: "/products", label: "Products", icon: import_lucide_react130.Package },
    { href: "/customers", label: "Customers", icon: import_lucide_react130.Users },
    { href: "/orders", label: "Orders", icon: import_lucide_react130.ShoppingCart },
    { href: "/settings", label: "Settings", icon: import_lucide_react130.Settings }
  ];
  const adminNavItems = [
    { href: "/dashboard", label: "Dashboard", icon: import_lucide_react130.Home },
    { href: "/merchants", label: "Merchants", icon: import_lucide_react130.Building2 },
    {
      href: "/plans",
      label: "Plans",
      icon: import_lucide_react130.Package
    },
    { href: "/subscriptions", label: "Subscriptions", icon: import_lucide_react130.Clock },
    { href: "/payments", label: "Payments", icon: import_lucide_react130.CreditCard },
    { href: "/users", label: "Users", icon: import_lucide_react130.Users },
    {
      href: "/system",
      label: "System",
      icon: import_lucide_react130.Settings,
      subItems: [
        { href: "/system/backup", label: "Backup Management", icon: import_lucide_react130.Database },
        { href: "/system/integrity", label: "Data Integrity", icon: import_lucide_react130.ShieldCheck },
        { href: "/system/audit-logs", label: "Audit Logs", icon: import_lucide_react130.FileText }
      ]
    }
  ];
  const filterNavItemsByRole = (items, userRole2) => {
    if (!userRole2)
      return items;
    if (userRole2 === "OUTLET_ADMIN") {
      return items.filter(
        (item) => item.href !== "/outlets" && item.href !== "/subscriptions" && item.href !== "/plans" && item.href !== "/payments"
      );
    } else if (userRole2 === "OUTLET_STAFF") {
      return items.filter(
        (item) => item.href !== "/users" && item.href !== "/outlets" && item.href !== "/subscriptions" && item.href !== "/plans" && item.href !== "/payments"
      );
    }
    return items;
  };
  const navItems = variant === "admin" ? filterNavItemsByRole(adminNavItems, userRole) : clientNavItems;
  return /* @__PURE__ */ (0, import_jsx_runtime250.jsxs)("header", { className: "sticky top-0 z-50 bg-white border-b border-gray-200 shadow-sm", children: [
    /* @__PURE__ */ (0, import_jsx_runtime250.jsx)("div", { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8", children: /* @__PURE__ */ (0, import_jsx_runtime250.jsxs)("div", { className: "flex items-center justify-between h-16", children: [
      /* @__PURE__ */ (0, import_jsx_runtime250.jsxs)("div", { className: "flex items-center", children: [
        /* @__PURE__ */ (0, import_jsx_runtime250.jsx)("div", { className: "flex-shrink-0", children: /* @__PURE__ */ (0, import_jsx_runtime250.jsx)("div", { className: "w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-lg", children: /* @__PURE__ */ (0, import_jsx_runtime250.jsx)(import_lucide_react130.Store, { className: "w-6 h-6 text-white" }) }) }),
        /* @__PURE__ */ (0, import_jsx_runtime250.jsxs)("div", { className: "ml-3", children: [
          /* @__PURE__ */ (0, import_jsx_runtime250.jsx)("h1", { className: "text-xl font-bold text-gray-900", children: "Rental Shop" }),
          /* @__PURE__ */ (0, import_jsx_runtime250.jsx)("p", { className: "text-xs text-gray-500 capitalize", children: variant })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime250.jsx)("nav", { className: "hidden lg:flex items-center space-x-1", children: navItems.map((item) => {
        const Icon2 = item.icon;
        const isActive = currentPage === item.href || item.subItems && item.subItems.some((subItem) => currentPage === subItem.href);
        const hasSubItems = item.subItems && item.subItems.length > 0;
        if (hasSubItems) {
          return /* @__PURE__ */ (0, import_jsx_runtime250.jsxs)("div", { className: "relative group", children: [
            /* @__PURE__ */ (0, import_jsx_runtime250.jsxs)(
              "a",
              {
                href: item.href,
                className: `px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-all duration-200 ${isActive ? "bg-blue-50 text-blue-700 border border-blue-200" : "text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,
                children: [
                  /* @__PURE__ */ (0, import_jsx_runtime250.jsx)(Icon2, { className: `w-4 h-4 ${isActive ? "text-blue-600" : "text-gray-500"}` }),
                  item.label,
                  /* @__PURE__ */ (0, import_jsx_runtime250.jsx)(import_lucide_react130.ChevronDown, { className: "w-3 h-3" })
                ]
              }
            ),
            /* @__PURE__ */ (0, import_jsx_runtime250.jsx)("div", { className: "absolute top-full left-0 mt-1 w-48 bg-white border border-gray-200 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50", children: /* @__PURE__ */ (0, import_jsx_runtime250.jsx)("div", { className: "py-1", children: item.subItems?.map((subItem) => {
              const SubIcon = subItem.icon;
              const isSubActive = currentPage === subItem.href;
              return /* @__PURE__ */ (0, import_jsx_runtime250.jsxs)(
                "a",
                {
                  href: subItem.href,
                  className: `flex items-center gap-2 px-4 py-2 text-sm transition-colors ${isSubActive ? "bg-blue-50 text-blue-700" : "text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,
                  children: [
                    /* @__PURE__ */ (0, import_jsx_runtime250.jsx)(SubIcon, { className: `w-4 h-4 ${isSubActive ? "text-blue-600" : "text-gray-500"}` }),
                    subItem.label
                  ]
                },
                subItem.href
              );
            }) }) })
          ] }, item.href);
        }
        return /* @__PURE__ */ (0, import_jsx_runtime250.jsxs)(
          "a",
          {
            href: item.href,
            className: `px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-all duration-200 ${isActive ? "bg-blue-50 text-blue-700 border border-blue-200" : "text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime250.jsx)(Icon2, { className: `w-4 h-4 ${isActive ? "text-blue-600" : "text-gray-500"}` }),
              item.label
            ]
          },
          item.href
        );
      }) }),
      /* @__PURE__ */ (0, import_jsx_runtime250.jsxs)("div", { className: "flex items-center space-x-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime250.jsxs)("div", { className: "flex items-center space-x-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime250.jsx)(
            Button,
            {
              variant: "ghost",
              size: "sm",
              className: "relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-50",
              children: /* @__PURE__ */ (0, import_jsx_runtime250.jsx)(import_lucide_react130.Bell, { className: "w-5 h-5" })
            }
          ),
          variant === "client" && /* @__PURE__ */ (0, import_jsx_runtime250.jsxs)(
            Button,
            {
              variant: "ghost",
              size: "sm",
              className: "relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-50",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime250.jsx)(import_lucide_react130.ShoppingCart, { className: "w-5 h-5" }),
                cartItemsCount > 0 && /* @__PURE__ */ (0, import_jsx_runtime250.jsx)(Badge, { className: "absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs", children: cartItemsCount > 9 ? "9+" : cartItemsCount })
              ]
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime250.jsxs)("div", { className: "flex items-center space-x-2", children: [
          /* @__PURE__ */ (0, import_jsx_runtime250.jsxs)(
            Button,
            {
              variant: "ghost",
              size: "sm",
              onClick: onProfileClick,
              className: "flex items-center gap-2 text-gray-700 hover:text-gray-900 hover:bg-gray-50",
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime250.jsx)("div", { className: "w-8 h-8 bg-gradient-to-br from-gray-400 to-gray-500 rounded-full flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime250.jsx)(import_lucide_react130.User, { className: "w-4 h-4 text-white" }) }),
                /* @__PURE__ */ (0, import_jsx_runtime250.jsx)("span", { className: "hidden sm:block text-sm font-medium", children: "Profile" })
              ]
            }
          ),
          /* @__PURE__ */ (0, import_jsx_runtime250.jsx)(
            Button,
            {
              variant: "ghost",
              size: "sm",
              onClick: onLogout,
              className: "p-2 text-gray-600 hover:text-red-600 hover:bg-red-50",
              title: "Logout",
              children: /* @__PURE__ */ (0, import_jsx_runtime250.jsx)(import_lucide_react130.LogOut, { className: "w-4 h-4" })
            }
          )
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime250.jsx)("div", { className: "lg:hidden", children: /* @__PURE__ */ (0, import_jsx_runtime250.jsx)(
          Button,
          {
            variant: "ghost",
            size: "sm",
            onClick: () => setIsMobileMenuOpen(!isMobileMenuOpen),
            className: "p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-50",
            children: isMobileMenuOpen ? /* @__PURE__ */ (0, import_jsx_runtime250.jsx)(import_lucide_react130.X, { className: "w-6 h-6" }) : /* @__PURE__ */ (0, import_jsx_runtime250.jsx)(import_lucide_react130.Menu, { className: "w-6 h-6" })
          }
        ) })
      ] })
    ] }) }),
    isMobileMenuOpen && /* @__PURE__ */ (0, import_jsx_runtime250.jsx)("div", { className: "lg:hidden border-t border-gray-200 bg-white", children: /* @__PURE__ */ (0, import_jsx_runtime250.jsx)("div", { className: "px-2 pt-2 pb-3 space-y-1", children: navItems.map((item) => {
      const Icon2 = item.icon;
      const isActive = currentPage === item.href || item.subItems && item.subItems.some((subItem) => currentPage === subItem.href);
      const hasSubItems = item.subItems && item.subItems.length > 0;
      return /* @__PURE__ */ (0, import_jsx_runtime250.jsxs)("div", { children: [
        /* @__PURE__ */ (0, import_jsx_runtime250.jsxs)(
          "a",
          {
            href: item.href,
            className: `flex px-3 py-2 rounded-lg text-base font-medium items-center gap-3 ${isActive ? "bg-blue-50 text-blue-700 border border-blue-200" : "text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,
            onClick: () => setIsMobileMenuOpen(false),
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime250.jsx)(Icon2, { className: `w-5 h-5 ${isActive ? "text-blue-600" : "text-gray-500"}` }),
              item.label
            ]
          }
        ),
        hasSubItems && /* @__PURE__ */ (0, import_jsx_runtime250.jsx)("div", { className: "ml-6 space-y-1", children: item.subItems?.map((subItem) => {
          const SubIcon = subItem.icon;
          const isSubActive = currentPage === subItem.href;
          return /* @__PURE__ */ (0, import_jsx_runtime250.jsxs)(
            "a",
            {
              href: subItem.href,
              className: `flex px-3 py-2 rounded-lg text-sm font-medium items-center gap-3 ${isSubActive ? "bg-blue-50 text-blue-700 border border-blue-200" : "text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,
              onClick: () => setIsMobileMenuOpen(false),
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime250.jsx)(SubIcon, { className: `w-4 h-4 ${isSubActive ? "text-blue-600" : "text-gray-500"}` }),
                subItem.label
              ]
            },
            subItem.href
          );
        }) })
      ] }, item.href);
    }) }) })
  ] });
}

// src/components/layout/ServerTopNavigation.tsx
var import_lucide_react131 = require("lucide-react");
var import_jsx_runtime251 = require("react/jsx-runtime");
function ServerTopNavigation({
  variant = "client",
  currentPage,
  notificationsCount = 0,
  cartItemsCount = 0,
  searchAction = "/search",
  logoutAction = "/logout",
  profileAction = "/profile"
}) {
  const clientNavItems = [
    { href: "/dashboard", label: "Dashboard", icon: import_lucide_react131.Home },
    { href: "/products", label: "Products", icon: import_lucide_react131.Package },
    { href: "/customers", label: "Customers", icon: import_lucide_react131.Users },
    { href: "/orders", label: "Orders", icon: import_lucide_react131.ShoppingCart },
    { href: "/settings", label: "Settings", icon: import_lucide_react131.Settings }
  ];
  const adminNavItems = [
    { href: "/dashboard", label: "Dashboard", icon: import_lucide_react131.Home },
    { href: "/merchants", label: "Merchants", icon: import_lucide_react131.Store },
    { href: "/plans", label: "Plans", icon: import_lucide_react131.Package },
    { href: "/subscriptions", label: "Subscriptions", icon: import_lucide_react131.Clock },
    { href: "/payments", label: "Payments", icon: import_lucide_react131.CreditCard },
    { href: "/settings", label: "Settings", icon: import_lucide_react131.Settings },
    { href: "/analytics", label: "Analytics", icon: import_lucide_react131.BarChart3 },
    { href: "/security", label: "Security", icon: import_lucide_react131.Shield }
  ];
  const navItems = variant === "admin" ? adminNavItems : clientNavItems;
  return /* @__PURE__ */ (0, import_jsx_runtime251.jsxs)("header", { className: "sticky top-0 z-50 bg-white border-b border-gray-200 shadow-sm", children: [
    /* @__PURE__ */ (0, import_jsx_runtime251.jsxs)("div", { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8", children: [
      /* @__PURE__ */ (0, import_jsx_runtime251.jsxs)("div", { className: "flex items-center justify-between h-16", children: [
        /* @__PURE__ */ (0, import_jsx_runtime251.jsxs)("div", { className: "flex items-center", children: [
          /* @__PURE__ */ (0, import_jsx_runtime251.jsx)("div", { className: "flex-shrink-0", children: /* @__PURE__ */ (0, import_jsx_runtime251.jsx)("div", { className: "w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl flex items-center justify-center shadow-lg", children: /* @__PURE__ */ (0, import_jsx_runtime251.jsx)(import_lucide_react131.Store, { className: "w-6 h-6 text-white" }) }) }),
          /* @__PURE__ */ (0, import_jsx_runtime251.jsxs)("div", { className: "ml-3", children: [
            /* @__PURE__ */ (0, import_jsx_runtime251.jsx)("h1", { className: "text-xl font-bold text-gray-900", children: "Rental Shop" }),
            /* @__PURE__ */ (0, import_jsx_runtime251.jsx)("p", { className: "text-xs text-gray-500 capitalize", children: variant })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime251.jsx)("nav", { className: "hidden lg:flex items-center space-x-1", children: navItems.map((item) => {
          const Icon2 = item.icon;
          const isActive = currentPage === item.href;
          return /* @__PURE__ */ (0, import_jsx_runtime251.jsxs)(
            "a",
            {
              href: item.href,
              className: `px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-all duration-200 ${isActive ? "bg-blue-50 text-blue-700 border border-blue-200" : "text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime251.jsx)(Icon2, { className: `w-4 h-4 ${isActive ? "text-blue-600" : "text-gray-500"}` }),
                item.label
              ]
            },
            item.href
          );
        }) }),
        /* @__PURE__ */ (0, import_jsx_runtime251.jsxs)("div", { className: "flex items-center space-x-4", children: [
          /* @__PURE__ */ (0, import_jsx_runtime251.jsx)("form", { action: searchAction, method: "GET", className: "hidden md:block", children: /* @__PURE__ */ (0, import_jsx_runtime251.jsxs)("div", { className: "relative", children: [
            /* @__PURE__ */ (0, import_jsx_runtime251.jsx)(import_lucide_react131.Search, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4" }),
            /* @__PURE__ */ (0, import_jsx_runtime251.jsx)(
              Input2,
              {
                type: "text",
                name: "q",
                placeholder: "Search products, customers...",
                className: "w-64 pl-10 pr-4 h-9 border-gray-300 focus:border-blue-500 focus:ring-blue-500"
              }
            )
          ] }) }),
          /* @__PURE__ */ (0, import_jsx_runtime251.jsxs)("div", { className: "flex items-center space-x-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime251.jsx)(
              Button,
              {
                variant: "ghost",
                size: "sm",
                className: "relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-50",
                children: /* @__PURE__ */ (0, import_jsx_runtime251.jsx)(import_lucide_react131.Bell, { className: "w-5 h-5" })
              }
            ),
            variant === "client" && /* @__PURE__ */ (0, import_jsx_runtime251.jsxs)(
              Button,
              {
                variant: "ghost",
                size: "sm",
                className: "relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-50",
                children: [
                  /* @__PURE__ */ (0, import_jsx_runtime251.jsx)(import_lucide_react131.ShoppingCart, { className: "w-5 h-5" }),
                  cartItemsCount > 0 && /* @__PURE__ */ (0, import_jsx_runtime251.jsx)(Badge, { className: "absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs", children: cartItemsCount > 9 ? "9+" : cartItemsCount })
                ]
              }
            )
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime251.jsxs)("div", { className: "flex items-center space-x-2", children: [
            /* @__PURE__ */ (0, import_jsx_runtime251.jsx)("form", { action: profileAction, method: "GET", children: /* @__PURE__ */ (0, import_jsx_runtime251.jsxs)(
              Button,
              {
                type: "submit",
                variant: "ghost",
                size: "sm",
                className: "flex items-center gap-2 text-gray-700 hover:text-gray-900 hover:bg-gray-50",
                children: [
                  /* @__PURE__ */ (0, import_jsx_runtime251.jsx)("div", { className: "w-8 h-8 bg-gradient-to-br from-gray-400 to-gray-500 rounded-full flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime251.jsx)(import_lucide_react131.User, { className: "w-4 h-4 text-white" }) }),
                  /* @__PURE__ */ (0, import_jsx_runtime251.jsx)("span", { className: "hidden sm:block text-sm font-medium", children: "Profile" })
                ]
              }
            ) }),
            /* @__PURE__ */ (0, import_jsx_runtime251.jsx)("form", { action: logoutAction, method: "POST", children: /* @__PURE__ */ (0, import_jsx_runtime251.jsx)(
              Button,
              {
                type: "submit",
                variant: "ghost",
                size: "sm",
                className: "p-2 text-gray-600 hover:text-red-600 hover:bg-red-50",
                title: "Logout",
                children: /* @__PURE__ */ (0, import_jsx_runtime251.jsx)(import_lucide_react131.LogOut, { className: "w-4 h-4" })
              }
            ) })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime251.jsx)("div", { className: "lg:hidden", children: /* @__PURE__ */ (0, import_jsx_runtime251.jsx)(
            Button,
            {
              variant: "ghost",
              size: "sm",
              className: "p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-50",
              type: "button",
              "data-mobile-menu-toggle": true,
              children: /* @__PURE__ */ (0, import_jsx_runtime251.jsx)(import_lucide_react131.Menu, { className: "w-6 h-6" })
            }
          ) })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime251.jsx)("div", { className: "md:hidden pb-4", children: /* @__PURE__ */ (0, import_jsx_runtime251.jsx)("form", { action: searchAction, method: "GET", children: /* @__PURE__ */ (0, import_jsx_runtime251.jsxs)("div", { className: "relative", children: [
        /* @__PURE__ */ (0, import_jsx_runtime251.jsx)(import_lucide_react131.Search, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4" }),
        /* @__PURE__ */ (0, import_jsx_runtime251.jsx)(
          Input2,
          {
            type: "text",
            name: "q",
            placeholder: "Search products, customers...",
            className: "w-full pl-10 pr-4 h-10 border-gray-300 focus:border-blue-500 focus:border-blue-500 focus:ring-blue-500"
          }
        )
      ] }) }) })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime251.jsx)("div", { className: "lg:hidden border-t border-gray-200 bg-white hidden", "data-mobile-menu": true, children: /* @__PURE__ */ (0, import_jsx_runtime251.jsx)("div", { className: "px-2 pt-2 pb-3 space-y-1", children: navItems.map((item) => {
      const Icon2 = item.icon;
      const isActive = currentPage === item.href;
      return /* @__PURE__ */ (0, import_jsx_runtime251.jsxs)(
        "a",
        {
          href: item.href,
          className: `block px-3 py-2 rounded-lg text-base font-medium flex items-center gap-3 ${isActive ? "bg-blue-50 text-blue-700 border border-blue-200" : "text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime251.jsx)(Icon2, { className: `w-5 h-5 ${isActive ? "text-blue-600" : "text-gray-500"}` }),
            item.label
          ]
        },
        item.href
      );
    }) }) })
  ] });
}

// src/components/layout/DashboardWrapperClean.tsx
var import_react104 = require("react");
var import_jsx_runtime252 = require("react/jsx-runtime");
function DashboardWrapperClean({
  children,
  user,
  onLogout = () => {
  },
  currentPath = "",
  hideSidebar = false,
  allowCollapse = true
}) {
  const [sidebarCollapsed, setSidebarCollapsed] = (0, import_react104.useState)(false);
  const handleCollapseToggle = () => {
    setSidebarCollapsed(!sidebarCollapsed);
  };
  return /* @__PURE__ */ (0, import_jsx_runtime252.jsxs)("div", { className: "flex h-screen bg-bg-secondary", children: [
    !hideSidebar && /* @__PURE__ */ (0, import_jsx_runtime252.jsx)(
      Sidebar,
      {
        user,
        onLogout,
        currentPath,
        isCollapsed: sidebarCollapsed,
        onCollapseToggle: allowCollapse ? handleCollapseToggle : void 0
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime252.jsx)("main", { className: `flex-1 overflow-y-auto ${!hideSidebar ? "transition-all duration-300 ease-in-out" : ""}`, children: /* @__PURE__ */ (0, import_jsx_runtime252.jsx)("div", { className: "p-6 space-y-6", children: /* @__PURE__ */ (0, import_jsx_runtime252.jsx)("div", { className: "space-y-6", children }) }) })
  ] });
}

// src/components/layout/DashboardWrapperColorful.tsx
var import_react105 = require("react");
var import_jsx_runtime253 = require("react/jsx-runtime");
function DashboardWrapperColorful({
  children,
  user,
  onLogout = () => {
  },
  currentPath = "",
  hideSidebar = false,
  allowCollapse = true
}) {
  const [sidebarCollapsed, setSidebarCollapsed] = (0, import_react105.useState)(false);
  const handleCollapseToggle = () => {
    setSidebarCollapsed(!sidebarCollapsed);
  };
  return /* @__PURE__ */ (0, import_jsx_runtime253.jsxs)("div", { className: "flex h-screen bg-gradient-to-br from-brand-50 via-bg-primary to-brand-100", children: [
    !hideSidebar && /* @__PURE__ */ (0, import_jsx_runtime253.jsx)(
      Sidebar,
      {
        user,
        onLogout,
        currentPath,
        isCollapsed: sidebarCollapsed,
        onCollapseToggle: allowCollapse ? handleCollapseToggle : void 0
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime253.jsx)("main", { className: `flex-1 overflow-y-auto ${!hideSidebar ? "transition-all duration-300 ease-in-out" : ""}`, children: /* @__PURE__ */ (0, import_jsx_runtime253.jsxs)("div", { className: "p-8 space-y-8", children: [
      /* @__PURE__ */ (0, import_jsx_runtime253.jsxs)("div", { className: "bg-gradient-to-r from-brand-500 to-action-primary rounded-2xl p-8 shadow-glow animate-fade-in", children: [
        /* @__PURE__ */ (0, import_jsx_runtime253.jsx)("h1", { className: "text-4xl font-display font-bold text-white mb-2", children: "Welcome to RentalShop" }),
        /* @__PURE__ */ (0, import_jsx_runtime253.jsx)("p", { className: "text-xl text-brand-100 font-medium", children: "Your comprehensive rental management dashboard" })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime253.jsx)("div", { className: "space-y-6", children })
    ] }) })
  ] });
}

// src/components/layout/TodaysFocus.tsx
var import_jsx_runtime254 = require("react/jsx-runtime");
var TodaysFocus = ({ data }) => {
  return /* @__PURE__ */ (0, import_jsx_runtime254.jsxs)("div", { className: "grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8", children: [
    /* @__PURE__ */ (0, import_jsx_runtime254.jsxs)(Card2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime254.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime254.jsx)(CardTitle2, { children: "Today's Operations" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime254.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime254.jsxs)("div", { className: "space-y-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime254.jsxs)("div", { className: "flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0", children: [
          /* @__PURE__ */ (0, import_jsx_runtime254.jsxs)("div", { className: "flex items-center space-x-3", children: [
            /* @__PURE__ */ (0, import_jsx_runtime254.jsx)("div", { className: "text-gray-400 text-sm", children: "\u{1F4E6}" }),
            /* @__PURE__ */ (0, import_jsx_runtime254.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime254.jsx)("p", { className: "font-medium text-gray-900 text-sm", children: "Pickups Today" }),
              /* @__PURE__ */ (0, import_jsx_runtime254.jsx)("p", { className: "text-xs text-gray-400", children: "Items to be picked up" })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime254.jsx)(Badge, { variant: "outline", className: "text-xs", children: data.todayPickups })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime254.jsxs)("div", { className: "flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0", children: [
          /* @__PURE__ */ (0, import_jsx_runtime254.jsxs)("div", { className: "flex items-center space-x-3", children: [
            /* @__PURE__ */ (0, import_jsx_runtime254.jsx)("div", { className: "text-gray-400 text-sm", children: "\u{1F504}" }),
            /* @__PURE__ */ (0, import_jsx_runtime254.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime254.jsx)("p", { className: "font-medium text-gray-900 text-sm", children: "Returns Today" }),
              /* @__PURE__ */ (0, import_jsx_runtime254.jsx)("p", { className: "text-xs text-gray-400", children: "Items to be returned" })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime254.jsx)(Badge, { variant: "outline", className: "text-xs", children: data.todayReturns })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime254.jsxs)("div", { className: "flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0", children: [
          /* @__PURE__ */ (0, import_jsx_runtime254.jsxs)("div", { className: "flex items-center space-x-3", children: [
            /* @__PURE__ */ (0, import_jsx_runtime254.jsx)("div", { className: "text-gray-400 text-sm", children: "\u26A0\uFE0F" }),
            /* @__PURE__ */ (0, import_jsx_runtime254.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime254.jsx)("p", { className: "font-medium text-gray-900 text-sm", children: "Overdue Items" }),
              /* @__PURE__ */ (0, import_jsx_runtime254.jsx)("p", { className: "text-xs text-gray-400", children: "Past due date" })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime254.jsx)(Badge, { variant: "destructive", className: "text-xs", children: data.overdueCount })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime254.jsxs)("div", { className: "flex justify-between items-center py-2 border-b border-gray-100 last:border-b-0", children: [
          /* @__PURE__ */ (0, import_jsx_runtime254.jsxs)("div", { className: "flex items-center space-x-3", children: [
            /* @__PURE__ */ (0, import_jsx_runtime254.jsx)("div", { className: "text-gray-400 text-sm", children: "\u{1F4CA}" }),
            /* @__PURE__ */ (0, import_jsx_runtime254.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime254.jsx)("p", { className: "font-medium text-gray-900 text-sm", children: "Active Rentals" }),
              /* @__PURE__ */ (0, import_jsx_runtime254.jsx)("p", { className: "text-xs text-gray-400", children: "Currently rented out" })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime254.jsx)(Badge, { variant: "outline", className: "text-xs", children: data.activeRentals })
        ] })
      ] }) })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime254.jsxs)(Card2, { children: [
      /* @__PURE__ */ (0, import_jsx_runtime254.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime254.jsx)(CardTitle2, { children: "Quick Actions" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime254.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime254.jsxs)("div", { className: "space-y-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime254.jsxs)(Button, { className: "w-full justify-start h-12 text-left", variant: "outline", children: [
          /* @__PURE__ */ (0, import_jsx_runtime254.jsx)("span", { className: "mr-3", children: "\u{1F4E6}" }),
          /* @__PURE__ */ (0, import_jsx_runtime254.jsxs)("div", { className: "flex-1 text-left", children: [
            /* @__PURE__ */ (0, import_jsx_runtime254.jsx)("div", { className: "font-medium", children: "Process Pickup" }),
            /* @__PURE__ */ (0, import_jsx_runtime254.jsx)("div", { className: "text-sm text-gray-500", children: "Mark items as picked up" })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime254.jsxs)(Button, { className: "w-full justify-start h-12 text-left", variant: "outline", children: [
          /* @__PURE__ */ (0, import_jsx_runtime254.jsx)("span", { className: "mr-3", children: "\u{1F504}" }),
          /* @__PURE__ */ (0, import_jsx_runtime254.jsxs)("div", { className: "flex-1 text-left", children: [
            /* @__PURE__ */ (0, import_jsx_runtime254.jsx)("div", { className: "font-medium", children: "Process Return" }),
            /* @__PURE__ */ (0, import_jsx_runtime254.jsx)("div", { className: "text-sm text-gray-500", children: "Mark items as returned" })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime254.jsxs)(Button, { className: "w-full justify-start h-12 text-left", variant: "outline", children: [
          /* @__PURE__ */ (0, import_jsx_runtime254.jsx)("span", { className: "mr-3", children: "\u26A0\uFE0F" }),
          /* @__PURE__ */ (0, import_jsx_runtime254.jsxs)("div", { className: "flex-1 text-left", children: [
            /* @__PURE__ */ (0, import_jsx_runtime254.jsx)("div", { className: "font-medium", children: "Handle Overdue" }),
            /* @__PURE__ */ (0, import_jsx_runtime254.jsx)("div", { className: "text-sm text-gray-500", children: "Contact overdue customers" })
          ] })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime254.jsxs)(Button, { className: "w-full justify-start h-12 text-left", variant: "outline", children: [
          /* @__PURE__ */ (0, import_jsx_runtime254.jsx)("span", { className: "mr-3", children: "\u{1F4DE}" }),
          /* @__PURE__ */ (0, import_jsx_runtime254.jsxs)("div", { className: "flex-1 text-left", children: [
            /* @__PURE__ */ (0, import_jsx_runtime254.jsx)("div", { className: "font-medium", children: "Send Reminders" }),
            /* @__PURE__ */ (0, import_jsx_runtime254.jsx)("div", { className: "text-sm text-gray-500", children: "Notify upcoming returns" })
          ] })
        ] })
      ] }) })
    ] })
  ] });
};

// src/components/layout/ColorfulQuickActions.tsx
var import_jsx_runtime255 = require("react/jsx-runtime");
var QuickActionCard = ({
  title,
  description,
  icon,
  href,
  color
}) => /* @__PURE__ */ (0, import_jsx_runtime255.jsxs)(Card2, { className: "group relative overflow-hidden bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:scale-105 border-0", children: [
  /* @__PURE__ */ (0, import_jsx_runtime255.jsx)("div", { className: `absolute top-0 left-0 w-full h-1 bg-gradient-to-r ${color}` }),
  /* @__PURE__ */ (0, import_jsx_runtime255.jsx)(CardContent2, { className: "p-6", children: /* @__PURE__ */ (0, import_jsx_runtime255.jsx)("a", { href, className: "block", children: /* @__PURE__ */ (0, import_jsx_runtime255.jsxs)("div", { className: "flex items-center space-x-4", children: [
    /* @__PURE__ */ (0, import_jsx_runtime255.jsx)("div", { className: `w-16 h-16 rounded-xl bg-gradient-to-br ${color} text-white text-3xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow`, children: icon }),
    /* @__PURE__ */ (0, import_jsx_runtime255.jsxs)("div", { className: "flex-1", children: [
      /* @__PURE__ */ (0, import_jsx_runtime255.jsx)("h3", { className: "font-bold text-gray-900 text-lg mb-2 group-hover:text-blue-600 transition-colors", children: title }),
      /* @__PURE__ */ (0, import_jsx_runtime255.jsx)("p", { className: "text-gray-600 font-medium", children: description })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime255.jsx)("div", { className: "text-gray-400 group-hover:text-blue-500 transition-colors", children: /* @__PURE__ */ (0, import_jsx_runtime255.jsx)("svg", { className: "w-6 h-6", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ (0, import_jsx_runtime255.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M9 5l7 7-7 7" }) }) })
  ] }) }) })
] });
var ColorfulQuickActions = () => {
  const quickActions = [
    {
      title: "New Rental",
      description: "Create rental order",
      icon: "\u{1F4E6}",
      href: "/orders/new",
      color: "from-blue-500 to-blue-600"
    },
    {
      title: "Return Item",
      description: "Process returns",
      icon: "\u{1F504}",
      href: "/orders/returns",
      color: "from-green-500 to-green-600"
    },
    {
      title: "Add Product",
      description: "Add new item",
      icon: "\u2795",
      href: "/products/new",
      color: "from-purple-500 to-purple-600"
    },
    {
      title: "Customer Search",
      description: "Find customers",
      icon: "\u{1F465}",
      href: "/customers",
      color: "from-orange-500 to-orange-600"
    }
  ];
  return /* @__PURE__ */ (0, import_jsx_runtime255.jsx)("div", { className: "mb-8", children: /* @__PURE__ */ (0, import_jsx_runtime255.jsxs)(Card2, { className: "border-0 shadow-lg bg-gradient-to-br from-white to-gray-50", children: [
    /* @__PURE__ */ (0, import_jsx_runtime255.jsx)(CardHeader2, { className: "pb-4", children: /* @__PURE__ */ (0, import_jsx_runtime255.jsx)(CardTitle2, { className: "text-xl font-bold text-gray-800", children: "Quick Actions" }) }),
    /* @__PURE__ */ (0, import_jsx_runtime255.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime255.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6", children: quickActions.map((action, index) => /* @__PURE__ */ (0, import_jsx_runtime255.jsx)(QuickActionCard, { ...action }, index)) }) })
  ] }) });
};

// src/components/layout/ColorfulTodaysFocus.tsx
var import_jsx_runtime256 = require("react/jsx-runtime");
var ColorfulTodaysFocus = ({ data }) => {
  const operations = [
    {
      title: "Pickups Today",
      description: "Items to be picked up",
      icon: "\u{1F4E6}",
      value: data.todayPickups,
      color: "from-blue-500 to-blue-600",
      bgColor: "bg-blue-50",
      textColor: "text-blue-600"
    },
    {
      title: "Returns Today",
      description: "Items to be returned",
      icon: "\u{1F504}",
      value: data.todayReturns,
      color: "from-green-500 to-green-600",
      bgColor: "bg-green-50",
      textColor: "text-green-600"
    },
    {
      title: "Overdue Items",
      description: "Past due date",
      icon: "\u26A0\uFE0F",
      value: data.overdueCount,
      color: "from-red-500 to-red-600",
      bgColor: "bg-red-50",
      textColor: "text-red-600"
    },
    {
      title: "Active Rentals",
      description: "Currently rented out",
      icon: "\u{1F4CA}",
      value: data.activeRentals,
      color: "from-purple-500 to-purple-600",
      bgColor: "bg-purple-50",
      textColor: "text-purple-600"
    }
  ];
  const quickActions = [
    {
      title: "Process Pickup",
      description: "Mark items as picked up",
      icon: "\u{1F4E6}",
      color: "from-blue-500 to-blue-600"
    },
    {
      title: "Process Return",
      description: "Mark items as returned",
      icon: "\u{1F504}",
      color: "from-green-500 to-green-600"
    },
    {
      title: "Handle Overdue",
      description: "Contact overdue customers",
      icon: "\u26A0\uFE0F",
      color: "from-red-500 to-red-600"
    },
    {
      title: "Send Reminders",
      description: "Notify upcoming returns",
      icon: "\u{1F4DE}",
      color: "from-purple-500 to-purple-600"
    }
  ];
  return /* @__PURE__ */ (0, import_jsx_runtime256.jsxs)("div", { className: "grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8", children: [
    /* @__PURE__ */ (0, import_jsx_runtime256.jsxs)(Card2, { className: "border-0 shadow-lg bg-gradient-to-br from-white to-gray-50", children: [
      /* @__PURE__ */ (0, import_jsx_runtime256.jsx)(CardHeader2, { className: "pb-4", children: /* @__PURE__ */ (0, import_jsx_runtime256.jsx)(CardTitle2, { className: "text-xl font-bold text-gray-800", children: "Today's Operations" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime256.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime256.jsx)("div", { className: "space-y-4", children: operations.map((operation, index) => /* @__PURE__ */ (0, import_jsx_runtime256.jsxs)("div", { className: "group relative overflow-hidden bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 transform hover:scale-105 border border-gray-100", children: [
        /* @__PURE__ */ (0, import_jsx_runtime256.jsx)("div", { className: `absolute top-0 left-0 w-1 h-full bg-gradient-to-b ${operation.color}` }),
        /* @__PURE__ */ (0, import_jsx_runtime256.jsx)("div", { className: "p-6", children: /* @__PURE__ */ (0, import_jsx_runtime256.jsxs)("div", { className: "flex justify-between items-center", children: [
          /* @__PURE__ */ (0, import_jsx_runtime256.jsxs)("div", { className: "flex items-center space-x-4", children: [
            /* @__PURE__ */ (0, import_jsx_runtime256.jsx)("div", { className: `w-14 h-14 rounded-xl bg-gradient-to-br ${operation.color} text-white text-2xl flex items-center justify-center shadow-lg`, children: operation.icon }),
            /* @__PURE__ */ (0, import_jsx_runtime256.jsxs)("div", { children: [
              /* @__PURE__ */ (0, import_jsx_runtime256.jsx)("p", { className: "font-bold text-gray-900 text-lg", children: operation.title }),
              /* @__PURE__ */ (0, import_jsx_runtime256.jsx)("p", { className: "text-gray-600 font-medium", children: operation.description })
            ] })
          ] }),
          /* @__PURE__ */ (0, import_jsx_runtime256.jsx)(Badge, { variant: "outline", className: `text-lg font-bold px-4 py-2 ${operation.textColor} border-2`, children: operation.value })
        ] }) })
      ] }, index)) }) })
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime256.jsxs)(Card2, { className: "border-0 shadow-lg bg-gradient-to-br from-white to-gray-50", children: [
      /* @__PURE__ */ (0, import_jsx_runtime256.jsx)(CardHeader2, { className: "pb-4", children: /* @__PURE__ */ (0, import_jsx_runtime256.jsx)(CardTitle2, { className: "text-xl font-bold text-gray-800", children: "Quick Actions" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime256.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime256.jsx)("div", { className: "space-y-4", children: quickActions.map((action, index) => /* @__PURE__ */ (0, import_jsx_runtime256.jsxs)(
        Button,
        {
          className: "w-full justify-start h-16 text-left group relative overflow-hidden bg-white hover:bg-gray-50 border border-gray-200 hover:border-gray-300 transition-all duration-300 transform hover:scale-105 shadow-md hover:shadow-lg",
          variant: "outline",
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime256.jsx)("div", { className: `absolute top-0 left-0 w-1 h-full bg-gradient-to-b ${action.color}` }),
            /* @__PURE__ */ (0, import_jsx_runtime256.jsx)("span", { className: "mr-4 text-2xl", children: action.icon }),
            /* @__PURE__ */ (0, import_jsx_runtime256.jsxs)("div", { className: "flex-1 text-left", children: [
              /* @__PURE__ */ (0, import_jsx_runtime256.jsx)("div", { className: "font-bold text-gray-900 text-lg", children: action.title }),
              /* @__PURE__ */ (0, import_jsx_runtime256.jsx)("div", { className: "text-gray-600 font-medium", children: action.description })
            ] })
          ]
        },
        index
      )) }) })
    ] })
  ] });
};

// src/components/layout/QuickActionsGrid.tsx
var import_jsx_runtime257 = require("react/jsx-runtime");
var QuickActionCard2 = ({
  title,
  description,
  icon,
  href,
  color
}) => /* @__PURE__ */ (0, import_jsx_runtime257.jsx)(Card2, { className: "border-0 shadow-sm hover:shadow-md transition-shadow cursor-pointer", children: /* @__PURE__ */ (0, import_jsx_runtime257.jsx)(CardContent2, { className: "p-3", children: /* @__PURE__ */ (0, import_jsx_runtime257.jsx)("a", { href, className: "block", children: /* @__PURE__ */ (0, import_jsx_runtime257.jsxs)("div", { className: "flex items-center space-x-3", children: [
  /* @__PURE__ */ (0, import_jsx_runtime257.jsx)("div", { className: "text-gray-500 text-base", children: icon }),
  /* @__PURE__ */ (0, import_jsx_runtime257.jsxs)("div", { className: "flex-1", children: [
    /* @__PURE__ */ (0, import_jsx_runtime257.jsx)("h3", { className: "font-medium text-gray-900 text-sm", children: title }),
    /* @__PURE__ */ (0, import_jsx_runtime257.jsx)("p", { className: "text-xs text-gray-400", children: description })
  ] }),
  /* @__PURE__ */ (0, import_jsx_runtime257.jsx)("div", { className: "text-gray-300", children: /* @__PURE__ */ (0, import_jsx_runtime257.jsx)("svg", { className: "w-3 h-3", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: /* @__PURE__ */ (0, import_jsx_runtime257.jsx)("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M9 5l7 7-7 7" }) }) })
] }) }) }) });
var QuickActionsGrid = () => {
  const quickActions = [
    {
      title: "New Rental",
      description: "Create rental order",
      icon: "\u{1F4E6}",
      href: "/orders/new",
      color: "bg-blue-500"
    },
    {
      title: "Return Item",
      description: "Process returns",
      icon: "\u{1F504}",
      href: "/orders/returns",
      color: "bg-green-500"
    },
    {
      title: "Add Product",
      description: "Add new item",
      icon: "\u2795",
      href: "/products/new",
      color: "bg-purple-500"
    },
    {
      title: "Customer Search",
      description: "Find customers",
      icon: "\u{1F465}",
      href: "/customers",
      color: "bg-orange-500"
    }
  ];
  return /* @__PURE__ */ (0, import_jsx_runtime257.jsx)("div", { className: "mb-8", children: /* @__PURE__ */ (0, import_jsx_runtime257.jsxs)(Card2, { children: [
    /* @__PURE__ */ (0, import_jsx_runtime257.jsx)(CardHeader2, { children: /* @__PURE__ */ (0, import_jsx_runtime257.jsx)(CardTitle2, { children: "Quick Actions" }) }),
    /* @__PURE__ */ (0, import_jsx_runtime257.jsx)(CardContent2, { children: /* @__PURE__ */ (0, import_jsx_runtime257.jsx)("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4", children: quickActions.map((action, index) => /* @__PURE__ */ (0, import_jsx_runtime257.jsx)(QuickActionCard2, { ...action }, index)) }) })
  ] }) });
};

// src/components/layout/SearchInput.tsx
var import_react106 = require("react");
var import_lucide_react132 = require("lucide-react");
var import_ui151 = require("@rentalshop/ui");
var import_ui152 = require("@rentalshop/ui");
var import_hooks15 = require("@rentalshop/hooks");
var import_jsx_runtime258 = require("react/jsx-runtime");
var SearchInput = ({
  placeholder = "Search...",
  delay = 500,
  minLength = 2,
  onSearch,
  className,
  disabled = false,
  defaultValue = ""
}) => {
  const {
    query,
    isSearching,
    handleSearchChange,
    clearSearch,
    cleanup
  } = (0, import_hooks15.useThrottledSearch)({
    delay,
    minLength,
    onSearch
  });
  (0, import_react106.useEffect)(() => {
    if (defaultValue && !query) {
      handleSearchChange(defaultValue);
    }
  }, [defaultValue, query, handleSearchChange]);
  (0, import_react106.useEffect)(() => {
    return cleanup;
  }, [cleanup]);
  return /* @__PURE__ */ (0, import_jsx_runtime258.jsxs)("div", { className: (0, import_ui151.cn)("relative", className), children: [
    /* @__PURE__ */ (0, import_jsx_runtime258.jsxs)("div", { className: "relative", children: [
      /* @__PURE__ */ (0, import_jsx_runtime258.jsx)(import_lucide_react132.Search, { className: "absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400" }),
      /* @__PURE__ */ (0, import_jsx_runtime258.jsx)(
        "input",
        {
          type: "text",
          value: query,
          onChange: (e) => handleSearchChange(e.target.value),
          placeholder,
          disabled,
          className: (0, import_ui151.cn)(
            "w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg",
            "focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
            "disabled:bg-gray-100 disabled:cursor-not-allowed",
            "transition-colors duration-200"
          )
        }
      ),
      query && /* @__PURE__ */ (0, import_jsx_runtime258.jsx)(
        import_ui152.Button,
        {
          variant: "ghost",
          size: "icon",
          onClick: clearSearch,
          type: "button",
          className: "absolute right-3 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0",
          children: /* @__PURE__ */ (0, import_jsx_runtime258.jsx)(import_lucide_react132.X, { className: "h-4 w-4" })
        }
      )
    ] }),
    isSearching && /* @__PURE__ */ (0, import_jsx_runtime258.jsx)("div", { className: "absolute right-3 top-1/2 transform -translate-y-1/2", children: /* @__PURE__ */ (0, import_jsx_runtime258.jsx)("div", { className: "animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600" }) })
  ] });
};

// src/components/layout/LanguageSwitcher.tsx
var import_ui153 = require("@rentalshop/ui");
var import_lucide_react133 = require("lucide-react");
var import_jsx_runtime259 = require("react/jsx-runtime");
var LanguageSwitcher = ({
  variant = "default"
}) => {
  const handleLanguageChange = (language) => {
    window.dispatchEvent(new CustomEvent("languageChanged", { detail: language }));
  };
  if (variant === "compact") {
    return /* @__PURE__ */ (0, import_jsx_runtime259.jsxs)("div", { className: "flex items-center gap-2", children: [
      /* @__PURE__ */ (0, import_jsx_runtime259.jsx)(
        import_ui153.Button,
        {
          variant: "ghost",
          size: "sm",
          onClick: () => handleLanguageChange("en"),
          className: "text-xs px-2 py-1",
          children: "EN"
        }
      ),
      /* @__PURE__ */ (0, import_jsx_runtime259.jsx)(
        import_ui153.Button,
        {
          variant: "ghost",
          size: "sm",
          onClick: () => handleLanguageChange("vi"),
          className: "text-xs px-2 py-1",
          children: "VI"
        }
      )
    ] });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime259.jsxs)("div", { className: "flex items-center gap-2", children: [
    /* @__PURE__ */ (0, import_jsx_runtime259.jsx)(import_lucide_react133.Globe, { className: "w-4 h-4 text-text-tertiary" }),
    /* @__PURE__ */ (0, import_jsx_runtime259.jsx)(
      import_ui153.Button,
      {
        variant: "ghost",
        size: "sm",
        onClick: () => handleLanguageChange("en"),
        children: "EN"
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime259.jsx)(
      import_ui153.Button,
      {
        variant: "ghost",
        size: "sm",
        onClick: () => handleLanguageChange("vi"),
        children: "VI"
      }
    )
  ] });
};

// src/components/layout/navigation.tsx
var import_react107 = require("react");
var import_lucide_react134 = require("lucide-react");
var import_ui154 = require("@rentalshop/ui");
var import_jsx_runtime260 = require("react/jsx-runtime");
function Navigation({
  variant = "client",
  currentPage,
  hideSidebar = false,
  allowCollapse = true,
  onCollapseToggle,
  isCollapsed = false,
  userRole
}) {
  const [isOpen, setIsOpen] = (0, import_react107.useState)(false);
  const clientNavItems = [
    { href: "/dashboard", label: "Dashboard", icon: import_lucide_react134.Home },
    { href: "/products", label: "Products", icon: import_lucide_react134.Store },
    { href: "/customers", label: "Customers", icon: import_lucide_react134.Users },
    { href: "/orders", label: "Orders", icon: import_lucide_react134.Store },
    { href: "/settings", label: "Settings", icon: import_lucide_react134.Settings }
  ];
  const adminNavItems = [
    { href: "/dashboard", label: "Dashboard", icon: import_lucide_react134.Home },
    { href: "/users", label: "Users", icon: import_lucide_react134.Users },
    { href: "/outlets", label: "Outlets", icon: import_lucide_react134.Building2 },
    { href: "/products", label: "Products", icon: import_lucide_react134.Store },
    { href: "/categories", label: "Categories", icon: import_lucide_react134.Tag },
    { href: "/orders", label: "Orders", icon: import_lucide_react134.ShoppingCart },
    { href: "/settings", label: "Settings", icon: import_lucide_react134.Settings }
  ];
  const filterNavItemsByRole = (items, userRole2) => {
    if (!userRole2)
      return items;
    if (userRole2 === "OUTLET_ADMIN") {
      return items.filter(
        (item) => item.href !== "/outlets" && item.href !== "/subscriptions" && item.href !== "/plans" && item.href !== "/payments"
      );
    } else if (userRole2 === "OUTLET_STAFF") {
      return items.filter(
        (item) => item.href !== "/users" && item.href !== "/outlets" && item.href !== "/subscriptions" && item.href !== "/plans" && item.href !== "/payments"
      );
    }
    return items;
  };
  const navItems = variant === "admin" ? filterNavItemsByRole(adminNavItems, userRole) : clientNavItems;
  return /* @__PURE__ */ (0, import_jsx_runtime260.jsxs)("nav", { className: "bg-nav-background text-nav-tint shadow-sm", children: [
    /* @__PURE__ */ (0, import_jsx_runtime260.jsx)("div", { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8", children: /* @__PURE__ */ (0, import_jsx_runtime260.jsxs)("div", { className: "flex items-center justify-between h-16", children: [
      /* @__PURE__ */ (0, import_jsx_runtime260.jsxs)("div", { className: "flex items-center", children: [
        /* @__PURE__ */ (0, import_jsx_runtime260.jsx)("div", { className: "flex-shrink-0", children: /* @__PURE__ */ (0, import_jsx_runtime260.jsx)("div", { className: "w-8 h-8 bg-brand-primary rounded-lg flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime260.jsx)(import_lucide_react134.Store, { className: "w-5 h-5 text-white" }) }) }),
        !hideSidebar && /* @__PURE__ */ (0, import_jsx_runtime260.jsx)("div", { className: "hidden md:block ml-10", children: /* @__PURE__ */ (0, import_jsx_runtime260.jsx)("div", { className: "flex items-baseline space-x-4", children: navItems.map((item) => {
          const Icon2 = item.icon;
          return /* @__PURE__ */ (0, import_jsx_runtime260.jsxs)(
            "a",
            {
              href: item.href,
              className: `px-3 py-2 rounded-md text-sm font-medium flex items-center transition-colors ${currentPage === item.href ? "bg-brand-secondary text-white" : "text-nav-tint hover:text-gray-300"}`,
              children: [
                /* @__PURE__ */ (0, import_jsx_runtime260.jsx)(Icon2, { className: "w-4 h-4 mr-2" }),
                !isCollapsed && item.label
              ]
            },
            item.href
          );
        }) }) })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime260.jsxs)("div", { className: "flex items-center space-x-4", children: [
        !hideSidebar && allowCollapse && onCollapseToggle && /* @__PURE__ */ (0, import_jsx_runtime260.jsx)(
          import_ui154.Button,
          {
            variant: "ghost",
            size: "sm",
            onClick: onCollapseToggle,
            className: "text-nav-tint hover:text-gray-300",
            title: isCollapsed ? "Expand sidebar" : "Collapse sidebar",
            children: isCollapsed ? /* @__PURE__ */ (0, import_jsx_runtime260.jsx)(import_lucide_react134.ChevronRight, { className: "w-4 h-4" }) : /* @__PURE__ */ (0, import_jsx_runtime260.jsx)(import_lucide_react134.ChevronLeft, { className: "w-4 h-4" })
          }
        ),
        /* @__PURE__ */ (0, import_jsx_runtime260.jsxs)(import_ui154.Button, { variant: "ghost", size: "sm", className: "text-nav-tint hover:text-gray-300", children: [
          /* @__PURE__ */ (0, import_jsx_runtime260.jsx)(import_lucide_react134.User, { className: "w-4 h-4 mr-2" }),
          !isCollapsed && "Profile"
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime260.jsxs)(import_ui154.Button, { variant: "ghost", size: "sm", className: "text-nav-tint hover:text-gray-300", children: [
          /* @__PURE__ */ (0, import_jsx_runtime260.jsx)(import_lucide_react134.LogOut, { className: "w-4 h-4 mr-2" }),
          !isCollapsed && "Logout"
        ] }),
        !hideSidebar && /* @__PURE__ */ (0, import_jsx_runtime260.jsx)("div", { className: "md:hidden", children: /* @__PURE__ */ (0, import_jsx_runtime260.jsx)(
          import_ui154.Button,
          {
            variant: "ghost",
            size: "sm",
            onClick: () => setIsOpen(!isOpen),
            className: "text-nav-tint hover:text-gray-300",
            children: isOpen ? /* @__PURE__ */ (0, import_jsx_runtime260.jsx)(import_lucide_react134.X, { className: "w-6 h-6" }) : /* @__PURE__ */ (0, import_jsx_runtime260.jsx)(import_lucide_react134.Menu, { className: "w-6 h-6" })
          }
        ) })
      ] })
    ] }) }),
    !hideSidebar && isOpen && /* @__PURE__ */ (0, import_jsx_runtime260.jsx)("div", { className: "md:hidden", children: /* @__PURE__ */ (0, import_jsx_runtime260.jsx)("div", { className: "px-2 pt-2 pb-3 space-y-1 sm:px-3", children: navItems.map((item) => {
      const Icon2 = item.icon;
      return /* @__PURE__ */ (0, import_jsx_runtime260.jsxs)(
        "a",
        {
          href: item.href,
          className: `block px-3 py-2 rounded-md text-base font-medium flex items-center ${currentPage === item.href ? "bg-brand-secondary text-white" : "text-nav-tint hover:text-gray-300"}`,
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime260.jsx)(Icon2, { className: "w-4 h-4 mr-2" }),
            item.label
          ]
        },
        item.href
      );
    }) }) })
  ] });
}

// src/components/layout/AdminSidebar.tsx
var import_react108 = require("react");
var import_link3 = __toESM(require("next/link"));
var import_navigation7 = require("next/navigation");
var import_ui155 = require("@rentalshop/ui");
var import_ui156 = require("@rentalshop/ui");
var import_lucide_react135 = require("lucide-react");
var import_jsx_runtime261 = require("react/jsx-runtime");
var adminMenuItems = [
  {
    label: "Dashboard",
    href: "/dashboard",
    icon: import_lucide_react135.Home
  },
  {
    label: "Merchants",
    href: "/merchants",
    icon: import_lucide_react135.Building2
  },
  {
    label: "Plans",
    href: "/plans",
    icon: import_lucide_react135.Package
  },
  {
    label: "Subscriptions",
    href: "/subscriptions",
    icon: import_lucide_react135.Clock
  },
  {
    label: "Payments",
    href: "/payments",
    icon: import_lucide_react135.CreditCard
  },
  {
    label: "Users",
    href: "/users",
    icon: import_lucide_react135.Users
  },
  {
    label: "System",
    href: "/system",
    icon: import_lucide_react135.Settings,
    subItems: [
      {
        label: "Backup Management",
        href: "/system/backup",
        icon: import_lucide_react135.Database
      },
      {
        label: "Data Integrity",
        href: "/system/integrity",
        icon: import_lucide_react135.ShieldCheck
      },
      {
        label: "Audit Logs",
        href: "/system/audit-logs",
        icon: import_lucide_react135.FileText
      }
    ]
  }
];
var AdminSidebar = ({
  user,
  isOpen = true,
  onToggle,
  onLogout,
  currentPath = "",
  isCollapsed = false,
  onCollapseToggle,
  notificationsCount = 0
}) => {
  const [expandedItems, setExpandedItems] = (0, import_react108.useState)([]);
  const pathname = (0, import_navigation7.usePathname)();
  const toggleExpanded = (href) => {
    setExpandedItems(
      (prev) => prev.includes(href) ? prev.filter((item) => item !== href) : [...prev, href]
    );
  };
  const isActive = (href) => {
    if (href === "/dashboard") {
      return pathname === "/dashboard";
    }
    return pathname.startsWith(href);
  };
  const renderMenuItem = (item, level = 0) => {
    const hasSubItems = item.subItems && item.subItems.length > 0;
    const isExpanded = expandedItems.includes(item.href);
    const active = isActive(item.href);
    const Icon2 = item.icon;
    return /* @__PURE__ */ (0, import_jsx_runtime261.jsxs)("div", { children: [
      hasSubItems ? /* @__PURE__ */ (0, import_jsx_runtime261.jsxs)(
        import_ui156.Button,
        {
          variant: "ghost",
          onClick: () => toggleExpanded(item.href),
          className: (0, import_ui155.cn)(
            "flex items-center justify-between w-full px-3 py-2.5 text-sm font-normal rounded-lg transition-all duration-150 ease-out h-auto",
            active ? "text-blue-600 font-medium" : "text-text-primary hover:text-blue-600 hover:bg-bg-secondary"
          ),
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime261.jsxs)("div", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime261.jsx)(Icon2, { className: (0, import_ui155.cn)(
                "w-4 h-4",
                active ? "text-blue-600" : "text-text-secondary"
              ) }),
              !isCollapsed && /* @__PURE__ */ (0, import_jsx_runtime261.jsx)("span", { children: item.label })
            ] }),
            !isCollapsed && /* @__PURE__ */ (0, import_jsx_runtime261.jsx)(import_lucide_react135.ChevronRight, { className: (0, import_ui155.cn)(
              "w-4 h-4 transition-transform duration-200",
              isExpanded ? "rotate-90" : ""
            ) })
          ]
        }
      ) : /* @__PURE__ */ (0, import_jsx_runtime261.jsxs)(
        import_link3.default,
        {
          href: item.href,
          className: (0, import_ui155.cn)(
            "flex items-center justify-between px-3 py-2.5 text-sm font-normal rounded-lg transition-all duration-150 ease-out",
            active ? "text-blue-600 font-medium" : "text-text-primary hover:text-blue-600 hover:bg-bg-secondary"
          ),
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime261.jsxs)("div", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime261.jsx)(Icon2, { className: (0, import_ui155.cn)(
                "w-4 h-4",
                active ? "text-blue-600" : "text-text-secondary"
              ) }),
              !isCollapsed && /* @__PURE__ */ (0, import_jsx_runtime261.jsx)("span", { children: item.label })
            ] }),
            !isCollapsed && item.badge && /* @__PURE__ */ (0, import_jsx_runtime261.jsx)("span", { className: "inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-red-500 rounded-full", children: item.badge })
          ]
        }
      ),
      hasSubItems && isExpanded && !isCollapsed && /* @__PURE__ */ (0, import_jsx_runtime261.jsx)("div", { className: "ml-6 mt-1 space-y-1", children: item.subItems?.map((subItem) => {
        const SubIcon = subItem.icon;
        const subActive = isActive(subItem.href);
        return /* @__PURE__ */ (0, import_jsx_runtime261.jsxs)(
          import_link3.default,
          {
            href: subItem.href,
            className: (0, import_ui155.cn)(
              "flex items-center gap-2 px-4 py-2 text-sm font-normal rounded-lg transition-colors",
              subActive ? "text-blue-600 font-medium" : "text-text-primary hover:text-blue-600 hover:bg-bg-secondary"
            ),
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime261.jsx)(SubIcon, { className: "w-4 h-4" }),
              /* @__PURE__ */ (0, import_jsx_runtime261.jsx)("span", { children: subItem.label })
            ]
          },
          subItem.href
        );
      }) })
    ] }, item.href);
  };
  return /* @__PURE__ */ (0, import_jsx_runtime261.jsxs)("div", { className: (0, import_ui155.cn)(
    "flex flex-col h-full bg-bg-card border-r border-border shadow-sm transition-all duration-300",
    isCollapsed ? "w-16" : "w-64"
  ), children: [
    /* @__PURE__ */ (0, import_jsx_runtime261.jsxs)("div", { className: "flex items-center justify-between p-4 border-b border-border", children: [
      !isCollapsed && /* @__PURE__ */ (0, import_jsx_runtime261.jsxs)("div", { className: "flex items-center space-x-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime261.jsx)("div", { className: "w-8 h-8 bg-gradient-to-br from-brand-primary to-brand-secondary rounded-lg flex items-center justify-center shadow-sm", children: /* @__PURE__ */ (0, import_jsx_runtime261.jsx)(import_lucide_react135.Store, { className: "w-5 h-5 text-white" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime261.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime261.jsx)("h1", { className: "text-lg font-semibold text-text-primary", children: "RentalShop" }),
          /* @__PURE__ */ (0, import_jsx_runtime261.jsx)("p", { className: "text-xs text-text-secondary", children: "Admin" })
        ] })
      ] }),
      isCollapsed && /* @__PURE__ */ (0, import_jsx_runtime261.jsx)("div", { className: "w-8 h-8 bg-gradient-to-br from-brand-primary to-brand-secondary rounded-lg flex items-center justify-center mx-auto shadow-sm", children: /* @__PURE__ */ (0, import_jsx_runtime261.jsx)(import_lucide_react135.Store, { className: "w-5 h-5 text-white" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime261.jsx)(
        import_ui156.Button,
        {
          variant: "ghost",
          size: "icon",
          onClick: onCollapseToggle,
          className: "h-8 w-8 text-text-tertiary hover:text-text-primary",
          children: isCollapsed ? /* @__PURE__ */ (0, import_jsx_runtime261.jsx)(import_lucide_react135.ChevronRight, { className: "h-4 w-4" }) : /* @__PURE__ */ (0, import_jsx_runtime261.jsx)(import_lucide_react135.ChevronLeft, { className: "h-4 w-4" })
        }
      )
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime261.jsx)("nav", { className: "flex-1 px-4 py-6 space-y-2 overflow-y-auto", children: adminMenuItems.map((item) => renderMenuItem(item)) }),
    /* @__PURE__ */ (0, import_jsx_runtime261.jsxs)("div", { className: "p-4 border-t border-border", children: [
      user && !isCollapsed && /* @__PURE__ */ (0, import_jsx_runtime261.jsxs)("div", { className: "flex items-center space-x-3 mb-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime261.jsx)("div", { className: "w-8 h-8 bg-gradient-to-br from-gray-400 to-gray-600 rounded-full flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime261.jsx)(import_lucide_react135.User, { className: "w-4 h-4 text-white" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime261.jsxs)("div", { className: "flex-1 min-w-0", children: [
          /* @__PURE__ */ (0, import_jsx_runtime261.jsx)("p", { className: "text-sm font-medium text-text-primary truncate", children: user.name || user.email }),
          /* @__PURE__ */ (0, import_jsx_runtime261.jsx)("p", { className: "text-xs text-text-tertiary truncate", children: user.role })
        ] })
      ] }),
      user && isCollapsed && /* @__PURE__ */ (0, import_jsx_runtime261.jsx)("div", { className: "flex flex-col items-center space-y-2", children: /* @__PURE__ */ (0, import_jsx_runtime261.jsx)("div", { className: "w-8 h-8 bg-gradient-to-br from-gray-400 to-gray-600 rounded-full flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime261.jsx)(import_lucide_react135.User, { className: "w-4 h-4 text-white" }) }) }),
      onLogout && /* @__PURE__ */ (0, import_jsx_runtime261.jsxs)(
        import_ui156.Button,
        {
          variant: "ghost",
          onClick: onLogout,
          className: (0, import_ui155.cn)(
            "w-full justify-start text-text-secondary hover:text-text-primary hover:bg-bg-secondary text-sm font-normal",
            isCollapsed && "justify-center px-2"
          ),
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime261.jsx)(import_lucide_react135.LogOut, { className: "w-4 h-4" }),
            !isCollapsed && /* @__PURE__ */ (0, import_jsx_runtime261.jsx)("span", { className: "ml-2", children: "Logout" })
          ]
        }
      )
    ] })
  ] });
};

// src/components/layout/ClientSidebar.tsx
var import_react109 = require("react");
var import_link4 = __toESM(require("next/link"));
var import_navigation8 = require("next/navigation");
var import_ui157 = require("@rentalshop/ui");
var import_ui158 = require("@rentalshop/ui");
var import_lucide_react136 = require("lucide-react");
var import_jsx_runtime262 = require("react/jsx-runtime");
var clientMenuItems = [
  {
    label: "Dashboard",
    href: "/dashboard",
    icon: import_lucide_react136.Home
  },
  {
    label: "Orders",
    href: "/orders",
    icon: import_lucide_react136.ShoppingCart
  },
  {
    label: "Products",
    href: "/products",
    icon: import_lucide_react136.Package,
    subItems: [
      {
        label: "All Products",
        href: "/products",
        icon: import_lucide_react136.Package
      },
      {
        label: "Categories",
        href: "/categories",
        icon: import_lucide_react136.Tag
      }
    ]
  },
  {
    label: "Customers",
    href: "/customers",
    icon: import_lucide_react136.Users
  },
  {
    label: "Users",
    href: "/users",
    icon: import_lucide_react136.User
  },
  {
    label: "Outlets",
    href: "/outlets",
    icon: import_lucide_react136.Building2
  },
  {
    label: "Calendar",
    href: "/calendar",
    icon: import_lucide_react136.Calendar
  },
  {
    label: "Settings",
    href: "/settings",
    icon: import_lucide_react136.Settings
  }
];
var ClientSidebar = ({
  user,
  isOpen = true,
  onToggle,
  onLogout,
  currentPath = "",
  isCollapsed = false,
  onCollapseToggle,
  notificationsCount = 0,
  cartItemsCount = 0,
  onNavigate,
  onPrefetch
}) => {
  const [expandedItems, setExpandedItems] = (0, import_react109.useState)([]);
  const [hoveredTab, setHoveredTab] = (0, import_react109.useState)(null);
  const [clickedTab, setClickedTab] = (0, import_react109.useState)(null);
  const [localCurrentPage, setLocalCurrentPage] = (0, import_react109.useState)(currentPath);
  const pathname = (0, import_navigation8.usePathname)();
  const filterMenuItemsByRole = (items, userRole) => {
    if (!userRole)
      return items;
    if (userRole === "OUTLET_ADMIN") {
      return items.filter(
        (item) => item.href !== "/outlets" && item.href !== "/subscriptions" && item.href !== "/plans" && item.href !== "/payments"
      );
    } else if (userRole === "OUTLET_STAFF") {
      return items.filter(
        (item) => item.href !== "/users" && item.href !== "/outlets" && item.href !== "/subscriptions" && item.href !== "/plans" && item.href !== "/payments"
      );
    }
    return items;
  };
  const menuItems2 = filterMenuItemsByRole(clientMenuItems, user?.role);
  (0, import_react109.useEffect)(() => {
    setLocalCurrentPage(currentPath);
  }, [currentPath]);
  (0, import_react109.useEffect)(() => {
    if (onPrefetch) {
      menuItems2.forEach((item) => {
        onPrefetch(item.href);
      });
    }
  }, [menuItems2, onPrefetch]);
  (0, import_react109.useEffect)(() => {
    const handleClickOutside = (event) => {
      const target = event.target;
      const isClickingNavItem = target.closest(".nav-item");
      const isClickingSubmenu = target.closest("[data-submenu]");
      if (expandedItems.length > 0 && !isClickingNavItem && !isClickingSubmenu) {
        setExpandedItems([]);
      }
    };
    document.addEventListener("mousedown", handleClickOutside);
    return () => document.removeEventListener("mousedown", handleClickOutside);
  }, [expandedItems]);
  const toggleExpanded = (href) => {
    setExpandedItems(
      (prev) => prev.includes(href) ? prev.filter((item) => item !== href) : [...prev, href]
    );
  };
  const isActive = (href) => {
    if (href === "/dashboard") {
      return localCurrentPage === "/dashboard";
    }
    return localCurrentPage.startsWith(href);
  };
  const handleTabClick = (href) => {
    setLocalCurrentPage(href);
    setClickedTab(href);
    setTimeout(() => setClickedTab(null), 200);
    if (onNavigate) {
      onNavigate(href);
    }
  };
  const handleTabHover = (href) => {
    setHoveredTab(href);
    if (onPrefetch) {
      onPrefetch(href);
    }
  };
  const renderMenuItem = (item, level = 0) => {
    const hasSubItems = item.subItems && item.subItems.length > 0;
    const isExpanded = expandedItems.includes(item.href);
    const active = isActive(item.href);
    const isHovered = hoveredTab === item.href;
    const Icon2 = item.icon;
    return /* @__PURE__ */ (0, import_jsx_runtime262.jsxs)("div", { className: "relative", children: [
      hasSubItems ? /* @__PURE__ */ (0, import_jsx_runtime262.jsxs)(
        import_ui158.Button,
        {
          variant: "ghost",
          onClick: (e) => {
            e.preventDefault();
            e.stopPropagation();
            toggleExpanded(item.href);
          },
          onMouseEnter: () => handleTabHover(item.href),
          onMouseLeave: () => setHoveredTab(null),
          className: (0, import_ui157.cn)(
            "nav-item flex items-center justify-between w-full px-3 py-2.5 text-sm font-normal rounded-lg transition-all duration-150 ease-out relative",
            active ? "text-blue-600 font-medium" : "text-text-primary hover:text-blue-600 hover:bg-bg-secondary",
            isHovered ? "scale-[1.02]" : "",
            clickedTab === item.href ? "scale-[0.98]" : ""
          ),
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime262.jsxs)("div", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime262.jsx)(Icon2, { className: (0, import_ui157.cn)(
                "w-4 h-4",
                active ? "text-blue-600" : "text-text-secondary"
              ) }),
              !isCollapsed && /* @__PURE__ */ (0, import_jsx_runtime262.jsx)("span", { children: item.label })
            ] }),
            !isCollapsed && /* @__PURE__ */ (0, import_jsx_runtime262.jsx)(import_lucide_react136.ChevronDown, { className: (0, import_ui157.cn)(
              "w-4 h-4 transition-transform duration-200",
              isExpanded ? "rotate-180" : ""
            ) }),
            isHovered && !active && /* @__PURE__ */ (0, import_jsx_runtime262.jsx)("div", { className: "absolute inset-0 bg-bg-secondary/50 rounded-lg transition-all duration-200" })
          ]
        }
      ) : /* @__PURE__ */ (0, import_jsx_runtime262.jsxs)(
        import_ui158.Button,
        {
          variant: "ghost",
          onClick: (e) => {
            e.preventDefault();
            e.stopPropagation();
            handleTabClick(item.href);
          },
          onMouseEnter: () => handleTabHover(item.href),
          onMouseLeave: () => setHoveredTab(null),
          className: (0, import_ui157.cn)(
            "nav-item flex items-center justify-between w-full px-3 py-2.5 text-sm font-normal rounded-lg transition-all duration-150 ease-out relative",
            active ? "text-blue-600 font-medium" : "text-text-primary hover:text-blue-600 hover:bg-bg-secondary",
            isHovered ? "scale-[1.02]" : "",
            clickedTab === item.href ? "scale-[0.98]" : ""
          ),
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime262.jsxs)("div", { className: "flex items-center gap-2", children: [
              /* @__PURE__ */ (0, import_jsx_runtime262.jsx)(Icon2, { className: (0, import_ui157.cn)(
                "w-4 h-4",
                active ? "text-blue-600" : "text-text-secondary"
              ) }),
              !isCollapsed && /* @__PURE__ */ (0, import_jsx_runtime262.jsx)("span", { children: item.label })
            ] }),
            !isCollapsed && item.badge && /* @__PURE__ */ (0, import_jsx_runtime262.jsx)("span", { className: "inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-red-500 rounded-full", children: item.badge }),
            isHovered && !active && /* @__PURE__ */ (0, import_jsx_runtime262.jsx)("div", { className: "absolute inset-0 bg-bg-secondary/50 rounded-lg transition-all duration-200" })
          ]
        }
      ),
      hasSubItems && isExpanded && !isCollapsed && /* @__PURE__ */ (0, import_jsx_runtime262.jsx)("div", { className: "ml-6 mt-1 space-y-1", "data-submenu": "true", children: item.subItems?.map((subItem) => {
        const SubIcon = subItem.icon;
        const subActive = isActive(subItem.href);
        return /* @__PURE__ */ (0, import_jsx_runtime262.jsxs)(
          import_ui158.Button,
          {
            variant: "ghost",
            onClick: (e) => {
              e.preventDefault();
              e.stopPropagation();
              handleTabClick(subItem.href);
              setTimeout(() => {
                setExpandedItems([]);
              }, 100);
            },
            className: (0, import_ui157.cn)(
              "w-full text-left px-4 py-2 text-sm font-normal flex items-center gap-2 hover:bg-bg-secondary transition-colors rounded-lg justify-start h-auto",
              subActive ? "text-blue-600 font-medium" : "text-text-primary hover:text-blue-600"
            ),
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime262.jsx)(SubIcon, { className: "w-4 h-4" }),
              subItem.label
            ]
          },
          subItem.href
        );
      }) })
    ] }, item.href);
  };
  return /* @__PURE__ */ (0, import_jsx_runtime262.jsxs)("div", { className: (0, import_ui157.cn)(
    "flex flex-col h-full bg-bg-card border-r border-border shadow-sm transition-all duration-300",
    isCollapsed ? "w-16" : "w-64"
  ), children: [
    /* @__PURE__ */ (0, import_jsx_runtime262.jsx)("div", { className: "hidden", children: menuItems2.map((item) => /* @__PURE__ */ (0, import_jsx_runtime262.jsx)(import_link4.default, { href: item.href }, item.href)) }),
    /* @__PURE__ */ (0, import_jsx_runtime262.jsxs)("div", { className: "flex items-center justify-between p-4 border-b border-border", children: [
      !isCollapsed && /* @__PURE__ */ (0, import_jsx_runtime262.jsxs)("div", { className: "flex items-center space-x-3", children: [
        /* @__PURE__ */ (0, import_jsx_runtime262.jsx)("div", { className: "w-8 h-8 bg-gradient-to-br from-brand-primary to-brand-secondary rounded-lg flex items-center justify-center shadow-sm", children: /* @__PURE__ */ (0, import_jsx_runtime262.jsx)(import_lucide_react136.Building2, { className: "w-5 h-5 text-white" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime262.jsx)("div", { children: /* @__PURE__ */ (0, import_jsx_runtime262.jsx)("h1", { className: "text-lg font-semibold text-text-primary", children: "RentalShop" }) })
      ] }),
      isCollapsed && /* @__PURE__ */ (0, import_jsx_runtime262.jsx)("div", { className: "w-8 h-8 bg-gradient-to-br from-brand-primary to-brand-secondary rounded-lg flex items-center justify-center mx-auto shadow-sm", children: /* @__PURE__ */ (0, import_jsx_runtime262.jsx)(import_lucide_react136.Building2, { className: "w-5 h-5 text-white" }) }),
      /* @__PURE__ */ (0, import_jsx_runtime262.jsx)(
        import_ui158.Button,
        {
          variant: "ghost",
          size: "icon",
          onClick: onCollapseToggle,
          className: "h-8 w-8 text-text-tertiary hover:text-text-primary",
          children: isCollapsed ? /* @__PURE__ */ (0, import_jsx_runtime262.jsx)(import_lucide_react136.ChevronRight, { className: "h-4 w-4" }) : /* @__PURE__ */ (0, import_jsx_runtime262.jsx)(import_lucide_react136.ChevronLeft, { className: "h-4 w-4" })
        }
      )
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime262.jsx)("nav", { className: "flex-1 px-4 py-6 space-y-2 overflow-y-auto", children: menuItems2.map((item) => renderMenuItem(item)) }),
    /* @__PURE__ */ (0, import_jsx_runtime262.jsxs)("div", { className: "p-4 border-t border-border", children: [
      user && !isCollapsed && /* @__PURE__ */ (0, import_jsx_runtime262.jsxs)("div", { className: "flex items-center space-x-3 mb-4", children: [
        /* @__PURE__ */ (0, import_jsx_runtime262.jsx)("div", { className: "w-8 h-8 bg-gradient-to-br from-gray-400 to-gray-600 rounded-full flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime262.jsx)(import_lucide_react136.User, { className: "w-4 h-4 text-white" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime262.jsxs)("div", { className: "flex-1 min-w-0", children: [
          /* @__PURE__ */ (0, import_jsx_runtime262.jsx)("p", { className: "text-sm font-medium text-text-primary truncate", children: user.name || user.email }),
          /* @__PURE__ */ (0, import_jsx_runtime262.jsx)("p", { className: "text-xs text-text-tertiary truncate", children: user.role })
        ] }),
        /* @__PURE__ */ (0, import_jsx_runtime262.jsx)("div", { className: "flex items-center space-x-2", children: cartItemsCount > 0 && /* @__PURE__ */ (0, import_jsx_runtime262.jsxs)("div", { className: "relative", children: [
          /* @__PURE__ */ (0, import_jsx_runtime262.jsx)(import_lucide_react136.ShoppingCart, { className: "w-4 h-4 text-text-tertiary" }),
          /* @__PURE__ */ (0, import_jsx_runtime262.jsx)("span", { className: "absolute -top-1 -right-1 w-3 h-3 bg-action-primary rounded-full text-xs text-white flex items-center justify-center", children: cartItemsCount })
        ] }) })
      ] }),
      user && isCollapsed && /* @__PURE__ */ (0, import_jsx_runtime262.jsxs)("div", { className: "flex flex-col items-center space-y-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime262.jsx)("div", { className: "w-8 h-8 bg-gradient-to-br from-gray-400 to-gray-600 rounded-full flex items-center justify-center", children: /* @__PURE__ */ (0, import_jsx_runtime262.jsx)(import_lucide_react136.User, { className: "w-4 h-4 text-white" }) }),
        /* @__PURE__ */ (0, import_jsx_runtime262.jsxs)("div", { className: "flex items-center space-x-1", children: [
          notificationsCount > 0 && /* @__PURE__ */ (0, import_jsx_runtime262.jsxs)("div", { className: "relative", children: [
            /* @__PURE__ */ (0, import_jsx_runtime262.jsx)(import_lucide_react136.Bell, { className: "w-4 h-4 text-text-tertiary" }),
            /* @__PURE__ */ (0, import_jsx_runtime262.jsx)("span", { className: "absolute -top-1 -right-1 w-3 h-3 bg-action-danger rounded-full text-xs text-white flex items-center justify-center", children: notificationsCount })
          ] }),
          cartItemsCount > 0 && /* @__PURE__ */ (0, import_jsx_runtime262.jsxs)("div", { className: "relative", children: [
            /* @__PURE__ */ (0, import_jsx_runtime262.jsx)(import_lucide_react136.ShoppingCart, { className: "w-4 h-4 text-text-tertiary" }),
            /* @__PURE__ */ (0, import_jsx_runtime262.jsx)("span", { className: "absolute -top-1 -right-1 w-3 h-3 bg-action-primary rounded-full text-xs text-white flex items-center justify-center", children: cartItemsCount })
          ] })
        ] })
      ] }),
      onLogout && /* @__PURE__ */ (0, import_jsx_runtime262.jsxs)(
        import_ui158.Button,
        {
          variant: "ghost",
          onClick: onLogout,
          className: (0, import_ui157.cn)(
            "w-full justify-start text-text-secondary hover:text-text-primary hover:bg-bg-secondary text-sm font-normal",
            isCollapsed && "justify-center px-2"
          ),
          children: [
            /* @__PURE__ */ (0, import_jsx_runtime262.jsx)(import_lucide_react136.LogOut, { className: "w-4 h-4" }),
            !isCollapsed && /* @__PURE__ */ (0, import_jsx_runtime262.jsx)("span", { className: "ml-2", children: "Logout" })
          ]
        }
      )
    ] })
  ] });
};

// src/components/layout/layout.tsx
var import_react110 = require("react");
var import_lucide_react137 = require("lucide-react");
var import_ui159 = require("@rentalshop/ui");
var import_jsx_runtime263 = require("react/jsx-runtime");
function Layout({
  variant = "client",
  currentPage,
  children,
  user,
  onLogout = () => {
  },
  hideSidebar = false,
  allowCollapse = true
}) {
  const [sidebarOpen, setSidebarOpen] = (0, import_react110.useState)(false);
  const [sidebarCollapsed, setSidebarCollapsed] = (0, import_react110.useState)(false);
  const handleCollapseToggle = () => {
    setSidebarCollapsed(!sidebarCollapsed);
  };
  return /* @__PURE__ */ (0, import_jsx_runtime263.jsxs)("div", { className: "min-h-screen bg-bg-primary", children: [
    !hideSidebar && /* @__PURE__ */ (0, import_jsx_runtime263.jsx)(
      import_ui159.Sidebar,
      {
        user,
        isOpen: sidebarOpen,
        onToggle: () => setSidebarOpen(!sidebarOpen),
        onLogout,
        currentPath: currentPage || "",
        isCollapsed: sidebarCollapsed,
        onCollapseToggle: allowCollapse ? handleCollapseToggle : void 0
      }
    ),
    /* @__PURE__ */ (0, import_jsx_runtime263.jsxs)(
      "div",
      {
        className: `${!hideSidebar ? "transition-all duration-300 ease-in-out" : ""}`,
        style: { marginLeft: hideSidebar ? "0" : sidebarCollapsed ? "4rem" : "16rem" },
        children: [
          /* @__PURE__ */ (0, import_jsx_runtime263.jsx)("div", { className: "bg-bg-card shadow-sm border-b border-border", children: /* @__PURE__ */ (0, import_jsx_runtime263.jsxs)("div", { className: "flex items-center justify-between h-16 px-4", children: [
            /* @__PURE__ */ (0, import_jsx_runtime263.jsxs)("div", { className: "flex items-center", children: [
              !hideSidebar && /* @__PURE__ */ (0, import_jsx_runtime263.jsx)(
                import_ui159.Button,
                {
                  variant: "ghost",
                  size: "sm",
                  onClick: () => setSidebarOpen(true),
                  className: "md:hidden mr-2",
                  children: /* @__PURE__ */ (0, import_jsx_runtime263.jsx)(import_lucide_react137.Menu, { className: "w-5 h-5" })
                }
              ),
              /* @__PURE__ */ (0, import_jsx_runtime263.jsx)("h2", { className: "text-lg font-semibold text-text-primary", children: variant === "admin" ? "Admin Panel" : "Rental Shop" })
            ] }),
            /* @__PURE__ */ (0, import_jsx_runtime263.jsx)("div", { className: "flex items-center space-x-4" })
          ] }) }),
          /* @__PURE__ */ (0, import_jsx_runtime263.jsx)("main", { className: "p-6", children })
        ]
      }
    )
  ] });
}

// src/components/layout/SubscriptionStatus.tsx
var import_lucide_react138 = require("lucide-react");
var import_hooks16 = require("@rentalshop/hooks");
var import_jsx_runtime264 = require("react/jsx-runtime");
function SubscriptionStatus({ showDetails = false, className = "", currentUserRole }) {
  const {
    hasSubscription,
    subscription,
    status,
    isTrial,
    isActive,
    isExpired,
    isExpiringSoon,
    daysUntilExpiry,
    planName,
    loading,
    error: error2,
    statusMessage
    // Use statusReason from API
  } = (0, import_hooks16.useSubscriptionStatusInfo)();
  if (loading) {
    return /* @__PURE__ */ (0, import_jsx_runtime264.jsx)("div", { className: `animate-pulse ${className}`, children: /* @__PURE__ */ (0, import_jsx_runtime264.jsx)("div", { className: "h-6 bg-gray-200 rounded w-24" }) });
  }
  if (error2 || !hasSubscription) {
    return /* @__PURE__ */ (0, import_jsx_runtime264.jsx)("div", { className, children: (currentUserRole === "ADMIN" || currentUserRole === "MERCHANT") && /* @__PURE__ */ (0, import_jsx_runtime264.jsxs)(
      Button,
      {
        variant: "outline",
        size: "sm",
        onClick: () => window.location.href = "/plans",
        children: [
          /* @__PURE__ */ (0, import_jsx_runtime264.jsx)(import_lucide_react138.CreditCard, { className: "h-4 w-4 mr-2" }),
          "Get Started"
        ]
      }
    ) });
  }
  const getStatusIcon5 = () => {
    switch (status) {
      case "TRIAL":
        return /* @__PURE__ */ (0, import_jsx_runtime264.jsx)(import_lucide_react138.Zap, { className: "h-4 w-4" });
      case "ACTIVE":
        return /* @__PURE__ */ (0, import_jsx_runtime264.jsx)(import_lucide_react138.CheckCircle, { className: "h-4 w-4" });
      case "EXPIRED":
        return /* @__PURE__ */ (0, import_jsx_runtime264.jsx)(import_lucide_react138.AlertTriangle, { className: "h-4 w-4" });
      case "CANCELED":
        return /* @__PURE__ */ (0, import_jsx_runtime264.jsx)(import_lucide_react138.AlertTriangle, { className: "h-4 w-4" });
      case "PAST_DUE":
        return /* @__PURE__ */ (0, import_jsx_runtime264.jsx)(import_lucide_react138.CreditCard, { className: "h-4 w-4" });
      case "PAUSED":
        return /* @__PURE__ */ (0, import_jsx_runtime264.jsx)(import_lucide_react138.Clock, { className: "h-4 w-4" });
      default:
        return /* @__PURE__ */ (0, import_jsx_runtime264.jsx)(import_lucide_react138.Clock, { className: "h-4 w-4" });
    }
  };
  const getStatusVariant = () => {
    switch (status) {
      case "ACTIVE":
        return "success";
      case "TRIAL":
        return "warning";
      case "EXPIRED":
        return "destructive";
      case "CANCELED":
        return "destructive";
      case "PAST_DUE":
        return "warning";
      case "PAUSED":
        return "secondary";
      default:
        return "secondary";
    }
  };
  const getStatusText = () => {
    if (statusMessage)
      return statusMessage;
    switch (status) {
      case "ACTIVE":
        return isExpiringSoon ? `Expires in ${daysUntilExpiry} days` : "Active";
      case "TRIAL":
        return `Trial (${daysUntilExpiry} days left)`;
      case "EXPIRED":
        return "Expired";
      case "CANCELED":
        return "Canceled";
      case "PAST_DUE":
        return "Payment Past Due";
      case "PAUSED":
        return "Paused";
      default:
        return status || "Unknown";
    }
  };
  const getBorderColor = () => {
    switch (status) {
      case "ACTIVE":
        return isExpiringSoon ? "border-orange-500" : "border-green-500";
      case "TRIAL":
        return "border-yellow-500";
      case "EXPIRED":
        return "border-red-500";
      case "CANCELED":
        return "border-red-500";
      case "PAST_DUE":
        return "border-orange-500";
      case "PAUSED":
        return "border-gray-500";
      default:
        return "border-gray-500";
    }
  };
  const shouldShowAction = status === "EXPIRED" || status === "CANCELED" || status === "PAST_DUE" || isExpiringSoon;
  if (showDetails) {
    return /* @__PURE__ */ (0, import_jsx_runtime264.jsx)(Card2, { className: `border-l-4 ${getBorderColor()} ${className}`, children: /* @__PURE__ */ (0, import_jsx_runtime264.jsx)(CardContent2, { className: "p-4", children: /* @__PURE__ */ (0, import_jsx_runtime264.jsxs)("div", { className: "flex items-center justify-between", children: [
      /* @__PURE__ */ (0, import_jsx_runtime264.jsxs)("div", { className: "flex items-center space-x-3", children: [
        getStatusIcon5(),
        /* @__PURE__ */ (0, import_jsx_runtime264.jsxs)("div", { children: [
          /* @__PURE__ */ (0, import_jsx_runtime264.jsx)("div", { className: "font-medium text-gray-900", children: planName }),
          /* @__PURE__ */ (0, import_jsx_runtime264.jsx)("div", { className: "text-sm text-gray-600", children: getStatusText() })
        ] })
      ] }),
      /* @__PURE__ */ (0, import_jsx_runtime264.jsxs)("div", { className: "flex items-center space-x-2", children: [
        /* @__PURE__ */ (0, import_jsx_runtime264.jsx)(StatusBadge, { status, type: "subscription", variant: "solid" }),
        (currentUserRole === "ADMIN" || currentUserRole === "MERCHANT") && shouldShowAction && /* @__PURE__ */ (0, import_jsx_runtime264.jsxs)(
          Button,
          {
            size: "sm",
            onClick: () => window.location.href = "/plans",
            children: [
              /* @__PURE__ */ (0, import_jsx_runtime264.jsx)(import_lucide_react138.TrendingUp, { className: "h-4 w-4 mr-2" }),
              status === "EXPIRED" || status === "CANCELED" ? "Renew" : "Upgrade"
            ]
          }
        )
      ] })
    ] }) }) });
  }
  return /* @__PURE__ */ (0, import_jsx_runtime264.jsxs)("div", { className: `flex items-center space-x-2 ${className}`, children: [
    getStatusIcon5(),
    /* @__PURE__ */ (0, import_jsx_runtime264.jsxs)("span", { className: "font-medium", children: [
      planName,
      " - ",
      getStatusText()
    ] }),
    /* @__PURE__ */ (0, import_jsx_runtime264.jsx)(StatusBadge, { status, type: "subscription", variant: "solid", size: "sm" }),
    (currentUserRole === "ADMIN" || currentUserRole === "MERCHANT") && shouldShowAction && /* @__PURE__ */ (0, import_jsx_runtime264.jsxs)(
      Button,
      {
        variant: "outline",
        size: "sm",
        onClick: () => window.location.href = "/plans",
        children: [
          /* @__PURE__ */ (0, import_jsx_runtime264.jsx)(import_lucide_react138.TrendingUp, { className: "h-4 w-4 mr-2" }),
          status === "EXPIRED" || status === "CANCELED" ? "Renew" : "Upgrade"
        ]
      }
    )
  ] });
}
// Annotate the CommonJS export names for ESM import in node:
0 && (module.exports = {
  AccountManagementCard,
  AccountSection,
  ActionButton,
  ActivityFeed,
  AddCategoryDialog,
  AddCustomerDialog,
  AddCustomerForm,
  AddUserDialog,
  AdminPageHeader,
  AdminSidebar,
  AdminStatusBadge,
  Alert,
  AlertDescription,
  AlertTitle,
  ApiEndpointCard,
  ApiEndpointsGrid,
  ApiKeyCard,
  ApiKeysGrid,
  AuditLogDetail,
  AuditLogViewer,
  AuditLogViewerSimple,
  BackupCard,
  BackupGrid,
  BackupScheduleCard,
  BackupSchedulesGrid,
  Badge,
  BillingCycleDetailDialog,
  BillingCycleForm,
  BillingCycleTable,
  Breadcrumb,
  Button,
  ButtonClean,
  ButtonColorful,
  CalendarEventLoading,
  CalendarGrid,
  CalendarHeader,
  CalendarLoading,
  CalendarNavigation,
  CalendarSkeleton,
  CalendarStats,
  Calendars,
  Card,
  CardClean,
  CardColorful,
  CardContent,
  CardContentClean,
  CardContentColorful,
  CardDescription,
  CardHeader,
  CardHeaderClean,
  CardHeaderColorful,
  CardSkeleton,
  CardTitle,
  CardTitleClean,
  CardTitleColorful,
  Categories,
  CategoriesLoading,
  CategoryActions,
  CategoryCard,
  CategoryDetailLoading,
  CategoryFilters,
  CategoryForm,
  CategoryFormContent,
  CategoryGrid,
  CategoryHeader,
  CategorySearch,
  CategoryTable,
  CategoryView,
  ChangePasswordDialog,
  ClientSidebar,
  CollectionReturnModal,
  ColorfulList,
  ColorfulQuickActions,
  ColorfulTodaysFocus,
  ConfirmationDialog,
  ConfirmationDialogWithReason,
  CreateOrderForm,
  CurrencySelector,
  CustomerActions,
  CustomerDetailDialog,
  CustomerDetailLoading,
  CustomerForm,
  CustomerHeader,
  CustomerInfoCard,
  CustomerOrdersDialog,
  CustomerOrdersSummaryCard,
  CustomerPageHeader,
  CustomerSearch,
  CustomerStats,
  CustomerTable,
  Customers,
  CustomersLoading,
  Dashboard,
  DashboardActions,
  DashboardCharts,
  DashboardFocus,
  DashboardFocusLoading,
  DashboardHeader,
  DashboardLoading,
  DashboardNavigation,
  DashboardStats,
  DashboardWrapper,
  DashboardWrapperClean,
  DashboardWrapperColorful,
  DataTable,
  DateRangePicker,
  DeleteAccountDialog,
  Dialog,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogTitle,
  DialogTrigger,
  DropdownMenu,
  DropdownMenuCheckboxItem,
  DropdownMenuContent,
  DropdownMenuGroup,
  DropdownMenuItem,
  DropdownMenuLabel,
  DropdownMenuPortal,
  DropdownMenuRadioGroup,
  DropdownMenuRadioItem,
  DropdownMenuSeparator,
  DropdownMenuShortcut,
  DropdownMenuSub,
  DropdownMenuSubContent,
  DropdownMenuSubTrigger,
  DropdownMenuTrigger,
  EditCustomerForm,
  EmptyState,
  ForgetPasswordForm,
  FormField,
  FormSkeleton,
  GridSkeleton,
  HeaderSkeleton,
  IncomeChart,
  Input,
  Label,
  LanguageSwitcher,
  Layout,
  LimitInput,
  LoadingIndicator,
  LoadingInline,
  LogEntryCard,
  LogFilters,
  LoginForm,
  LogsList,
  MaintenanceModeToggle,
  MaintenanceTaskCard,
  MaintenanceTasksGrid,
  MaintenanceWindowCard,
  ManualRenewalModal,
  MerchantDetail,
  MerchantRegistrationForm,
  MerchantSection,
  MerchantSelect,
  MerchantSubscriptionSection,
  Merchants,
  MetricCard,
  Navigation,
  NavigationSkeleton,
  NumericInput,
  NumericInputDemo,
  OrderActions,
  OrderChart,
  OrderDetail,
  OrderDetailLoading,
  OrderFilters,
  OrderForm,
  OrderHeader,
  OrderPagination,
  OrderStats,
  OrderSummary,
  OrderTable,
  Orders,
  OrdersList,
  OrdersLoading,
  OutletDetailLoading,
  OutletFilters,
  OutletGrid,
  OutletHeader,
  OutletPagination,
  OutletSearch,
  OutletSection,
  OutletSelect,
  OutletTable,
  Outlets,
  OutletsLoading,
  PageContent,
  PageHeader,
  PageSection,
  PageTitle,
  PageWrapper,
  Pagination,
  PaginationSkeleton,
  PaymentDetailDialog,
  PaymentForm,
  PaymentHistoryTable,
  PaymentTable,
  PerformanceAlertCard,
  PerformanceAlertsList,
  PerformanceMetricCard,
  PerformanceMetricsGrid,
  PieChart,
  PlanActions,
  PlanCard,
  PlanDetailModal,
  PlanDialog,
  PlanFilters,
  PlanForm,
  PlanSelection,
  PlanSelectionModal,
  PlanStats,
  PlanTable,
  PriceInput,
  ProductActions,
  ProductAddDialog,
  ProductAddForm,
  ProductAvailabilityAsyncDisplay,
  ProductAvailabilityBadge,
  ProductAvailabilityWarning,
  ProductCard,
  ProductDetail,
  ProductDetailList,
  ProductDetailLoading,
  ProductEdit,
  ProductFilters,
  ProductForm,
  ProductGrid,
  ProductHeader,
  ProductOrdersDialog,
  ProductOrdersView,
  ProductPageHeader,
  ProductTable,
  Products,
  ProductsLoading,
  ProfileSection,
  QuickActions,
  QuickActionsGrid,
  RadioGroup,
  RadioGroupItem,
  RecentOrders,
  RegisterForm,
  RentalPeriodSelector,
  RestrictedAction,
  RestrictedButton,
  RestrictedSection,
  RoleSelect,
  SearchAndFilters,
  SearchInput,
  SearchSkeleton,
  SearchableSelect,
  SecurityCard,
  SecurityEventCard,
  SecurityEventsList,
  SecurityMetricsCard,
  SecuritySection,
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
  Separator,
  ServerTopNavigation,
  Settings,
  SettingsChangePasswordDialog,
  SettingsComponent,
  SettingsForm,
  SettingsLayout,
  SettingsNavigation,
  SettingsPageLayout,
  ShopDetailLoading,
  ShopsLoading,
  Sidebar,
  SidebarSkeleton,
  SimpleList,
  Skeleton,
  StatsOverview,
  StatsSkeleton,
  StatusBadge,
  SubscriptionActivityTimeline,
  SubscriptionChangePlanDialog,
  SubscriptionEditDialog,
  SubscriptionForm,
  SubscriptionFormSimple,
  SubscriptionHistoryDialog,
  SubscriptionList,
  SubscriptionPeriodCard,
  SubscriptionPreviewPage,
  SubscriptionSection,
  SubscriptionStatus,
  SubscriptionStatusBanner,
  SubscriptionStatusCard,
  Switch,
  SystemHealth,
  SystemStatus,
  Table,
  TableBody,
  TableCaption,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
  TableRowSkeleton,
  TableSkeleton,
  Textarea,
  TimePeriodSelector,
  Toast,
  ToastContainer,
  ToastProvider,
  TodaysFocus,
  TopCustomers,
  TopNavigation,
  TopProducts,
  UpgradeTrialModal,
  UserActions,
  UserCard,
  UserDetailDialog,
  UserDisplayInfo,
  UserFilters,
  UserForm,
  UserGrid,
  UserHeader,
  UserPageHeader,
  UserRow,
  UserTable,
  Users,
  UsersLoading,
  badgeVariants,
  buttonVariants,
  cn,
  emailSettingsFields,
  formatCurrency,
  formatDate,
  generalSettingsFields,
  notificationSettingsFields,
  securitySettingsFields,
  settingsTabs,
  systemSettingsFields,
  useToast,
  useToasts,
  validateConfirmPassword,
  validateEmail,
  validateName,
  validatePassword,
  validatePhone,
  validateUserCreateInput,
  validateUserUpdateInput
});
/*! Bundled license information:

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.development.js:
  (** @license React v16.13.1
   * react-is.development.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)
*/
//# sourceMappingURL=index.js.map