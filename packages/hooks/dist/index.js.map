{"version":3,"sources":["../src/index.ts","../src/hooks/useAuth.ts","../src/hooks/useAuthErrorHandler.ts","../src/hooks/useCanPerform.ts","../src/hooks/useSubscriptionStatusInfo.ts","../src/hooks/useCurrency.tsx","../src/utils/useDedupedApi.ts","../src/hooks/useCustomersData.ts","../src/hooks/useMerchantsData.ts","../src/hooks/useOrdersData.ts","../src/hooks/usePagination.ts","../src/hooks/usePaymentsData.ts","../src/hooks/usePlansData.ts","../src/hooks/useProductAvailability.ts","../src/hooks/useProductsData.ts","../src/hooks/useSubscriptionsData.ts","../src/hooks/useSubscriptionError.ts","../src/hooks/useThrottledSearch.ts","../src/hooks/useToast.ts","../../../node_modules/tslib/tslib.es6.mjs","../../../node_modules/@formatjs/fast-memoize/lib/index.js","../../../node_modules/@formatjs/icu-messageformat-parser/lib/error.js","../../../node_modules/@formatjs/icu-messageformat-parser/lib/types.js","../../../node_modules/@formatjs/icu-messageformat-parser/lib/regex.generated.js","../../../node_modules/@formatjs/icu-skeleton-parser/lib/date-time.js","../../../node_modules/@formatjs/icu-skeleton-parser/lib/regex.generated.js","../../../node_modules/@formatjs/icu-skeleton-parser/lib/number.js","../../../node_modules/@formatjs/icu-messageformat-parser/lib/time-data.generated.js","../../../node_modules/@formatjs/icu-messageformat-parser/lib/date-time-pattern-generator.js","../../../node_modules/@formatjs/icu-messageformat-parser/lib/parser.js","../../../node_modules/@formatjs/icu-messageformat-parser/lib/index.js","../../../node_modules/intl-messageformat/lib/src/error.js","../../../node_modules/intl-messageformat/lib/src/formatters.js","../../../node_modules/intl-messageformat/lib/src/core.js","../../../node_modules/use-intl/dist/esm/production/initializeConfig-JxT5lzW-.js","../../../node_modules/use-intl/dist/esm/production/react.js","../../../node_modules/next-intl/dist/esm/production/react-client/index.js","../src/hooks/useTranslation.ts","../src/hooks/useLocale.ts","../src/hooks/useUserRole.ts","../src/hooks/useUsersData.ts","../src/hooks/useOptimisticNavigation.ts","../src/hooks/useApiError.ts","../src/hooks/useFiltersData.ts"],"sourcesContent":["// ============================================================================\n// HOOKS PACKAGE - Main Exports\n// ============================================================================\n\n// Export all business logic hooks\nexport * from './hooks/useAuth';\nexport * from './hooks/useAuthErrorHandler';\nexport * from './hooks/useCanPerform';\nexport * from './hooks/useCurrency';\nexport * from './hooks/useCustomersData';\nexport * from './hooks/useMerchantsData';\nexport * from './hooks/useOrdersData';\nexport * from './hooks/usePagination';\nexport * from './hooks/usePaymentsData';\nexport * from './hooks/usePlansData';\nexport * from './hooks/useProductAvailability';\nexport * from './hooks/useProductsData';\nexport * from './hooks/useSubscriptionsData';\nexport * from './hooks/useSubscriptionError';\nexport * from './hooks/useSubscriptionStatusInfo';\nexport * from './hooks/useThrottledSearch';\nexport * from './hooks/useToast';\nexport * from './hooks/useTranslation';\nexport * from './hooks/useLocale';\nexport * from './hooks/useUserRole';\nexport * from './hooks/useUsersData';\nexport * from './hooks/useOptimisticNavigation';\nexport * from './hooks/useApiError';\n\n// Modern API utilities\nexport * from './utils/useDedupedApi';\n\n// Modern filter data hooks\nexport * from './hooks/useFiltersData';\n","'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { getAuthToken, getStoredUser, clearAuthData, storeAuthData } from '@rentalshop/utils';\nimport type { User } from '@rentalshop/types';\n\n// ============================================================================\n// TYPES\n// ============================================================================\n\nexport interface AuthState {\n  user: User | null;\n  loading: boolean;\n  error: string | null;\n}\n\nexport interface LoginResponse {\n  success: boolean;\n  data: {\n    token: string;\n    user: User;\n  };\n  message?: string;\n}\n\n// ============================================================================\n// USE AUTH HOOK - SIMPLE & MODERN\n// ============================================================================\n\n/**\n * ✅ SIMPLE AUTH HOOK\n * - No infinite loops\n * - No complex logic\n * - Just works\n */\nexport function useAuth() {\n  const [state, setState] = useState<AuthState>({\n    user: null,\n    loading: true,\n    error: null,\n  });\n\n  // ============================================================================\n  // AUTH FUNCTIONS\n  // ============================================================================\n\n  const login = useCallback(async (email: string, password: string): Promise<boolean> => {\n    try {\n      setState(prev => ({ ...prev, loading: true }));\n\n      const { apiUrls } = await import('@rentalshop/utils');\n      const response = await fetch(apiUrls.auth.login, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ email, password }),\n      });\n\n      if (response.status === 402) {\n        const errorData = await response.json();\n        setState(prev => ({ \n          ...prev, \n          error: errorData.message || 'Subscription issue detected',\n          loading: false \n        }));\n        return false;\n      }\n\n      if (response.status === 401) {\n        const errorData = await response.json();\n        setState(prev => ({ \n          ...prev, \n          error: errorData.message || 'Invalid credentials',\n          loading: false \n        }));\n        return false;\n      }\n\n      const data: LoginResponse = await response.json();\n\n      if (data.success && data.data?.token) {\n        storeAuthData(data.data.token, data.data.user);\n        setState(prev => ({ \n          ...prev, \n          user: data.data.user, \n          loading: false \n        }));\n        return true;\n      } else {\n        setState(prev => ({ \n          ...prev, \n          error: data.message || 'Login failed',\n          loading: false \n        }));\n        return false;\n      }\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Login failed';\n      setState(prev => ({ \n        ...prev, \n        error: errorMessage,\n        loading: false \n      }));\n      return false;\n    }\n  }, []);\n\n  const logout = useCallback(() => {\n    clearAuthData();\n    setState({\n      user: null,\n      loading: false,\n      error: null,\n    });\n  }, []);\n\n  const clearError = useCallback(() => {\n    setState(prev => ({ ...prev, error: null }));\n  }, []);\n\n  const refreshUser = useCallback(async () => {\n    try {\n      const token = getAuthToken();\n      if (!token) {\n        setState(prev => ({ ...prev, user: null, loading: false }));\n        return;\n      }\n\n      const { apiUrls, authenticatedFetch } = await import('@rentalshop/utils');\n      const response = await authenticatedFetch(apiUrls.settings.user);\n\n      if (response.ok) {\n        const data = await response.json();\n        \n        if (data.success && data.data) {\n          // Save to localStorage\n          localStorage.setItem('user', JSON.stringify(data.data));\n          \n          setState(prev => ({ \n            ...prev, \n            user: data.data,\n            loading: false \n          }));\n        }\n      } else if (response.status === 401) {\n        logout();\n        if (typeof window !== 'undefined') {\n          window.location.href = '/login';\n        }\n      }\n    } catch (err) {\n      console.error('Error refreshing user:', err);\n      setState(prev => ({ ...prev, loading: false }));\n    }\n  }, [logout]);\n\n  // ============================================================================\n  // INITIALIZATION - Simple & Clean\n  // ============================================================================\n\n  useEffect(() => {\n    const token = getAuthToken();\n    const storedUser = getStoredUser();\n\n    if (token && storedUser) {\n      // ✅ SIMPLE: Just use stored user, no validation needed\n      setState(prev => ({ \n        ...prev, \n        user: storedUser as User, \n        loading: false \n      }));\n    } else {\n      setState(prev => ({ ...prev, user: null, loading: false }));\n    }\n  }, []); // Run once on mount\n\n  // ============================================================================\n  // RETURN VALUES\n  // ============================================================================\n\n  return {\n    user: state.user,\n    loading: state.loading,\n    error: state.error,\n    login,\n    logout,\n    refreshUser,\n    clearError,\n  };\n}\n","import { useCallback } from 'react';\nimport { clearAuthData } from '@rentalshop/utils';\n\n/**\n * Custom hook for handling authentication errors\n * Automatically logs out user and redirects to login on auth failures\n */\nexport const useAuthErrorHandler = () => {\n  const handleAuthError = useCallback((error: any) => {\n    console.error('Authentication error detected:', error);\n    \n    // Check if it's an authentication-related error\n    if (\n      error?.message?.includes('Authentication required') ||\n      error?.message?.includes('Unauthorized') ||\n      error?.message?.includes('Invalid token') ||\n      error?.message?.includes('Token expired') ||\n      error?.status === 401\n    ) {\n      console.log('🔄 Authentication error detected, logging out user');\n      \n      // Clear auth data using centralized function\n      clearAuthData();\n      \n      // Redirect to login\n      if (typeof window !== 'undefined') {\n        // window.location.href = '/login';\n      }\n    }\n  }, []);\n\n  return { handleAuthError };\n};\n","\"use client\"\n\nimport { useCallback } from 'react';\nimport { useAuth } from './useAuth';\nimport { useSubscriptionStatusInfo } from './useSubscriptionStatusInfo';\n\n// ============================================================================\n// CAN PERFORM ACTION HOOK\n// ============================================================================\n\nexport type ActionType = \n  | 'create_order'\n  | 'edit_order'\n  | 'delete_order'\n  | 'create_customer'\n  | 'edit_customer'\n  | 'delete_customer'\n  | 'create_product'\n  | 'edit_product'\n  | 'delete_product'\n  | 'view_analytics'\n  | 'manage_users'\n  | 'manage_settings'\n  | 'export_data'\n  | 'bulk_operations'\n  | string; // Allow custom actions\n\nexport interface ActionPermission {\n  action: ActionType;\n  requiresSubscription?: boolean;\n  requiredFeatures?: string[];\n  requiredRole?: string[];\n  customCheck?: (user: any, subscription: any) => boolean;\n}\n\nexport function useCanPerform(action: ActionType): boolean {\n  const { user } = useAuth();\n  const { hasActiveSubscription, isExpired, canAccessFeature } = useSubscriptionStatusInfo();\n\n  const checkPermission = useCallback((action: ActionType): boolean => {\n    // If no user, deny all actions\n    if (!user) {\n      return false;\n    }\n\n    // Define action permissions\n    const actionPermissions: Record<ActionType, ActionPermission> = {\n      // Order actions\n      'create_order': {\n        action: 'create_order',\n        requiresSubscription: true,\n        requiredFeatures: ['orders']\n      },\n      'edit_order': {\n        action: 'edit_order',\n        requiresSubscription: true,\n        requiredFeatures: ['orders']\n      },\n      'delete_order': {\n        action: 'delete_order',\n        requiresSubscription: true,\n        requiredFeatures: ['orders']\n      },\n      \n      // Customer actions\n      'create_customer': {\n        action: 'create_customer',\n        requiresSubscription: true,\n        requiredFeatures: ['customers']\n      },\n      'edit_customer': {\n        action: 'edit_customer',\n        requiresSubscription: true,\n        requiredFeatures: ['customers']\n      },\n      'delete_customer': {\n        action: 'delete_customer',\n        requiresSubscription: true,\n        requiredFeatures: ['customers']\n      },\n      \n      // Product actions\n      'create_product': {\n        action: 'create_product',\n        requiresSubscription: true,\n        requiredFeatures: ['products']\n      },\n      'edit_product': {\n        action: 'edit_product',\n        requiresSubscription: true,\n        requiredFeatures: ['products']\n      },\n      'delete_product': {\n        action: 'delete_product',\n        requiresSubscription: true,\n        requiredFeatures: ['products']\n      },\n      \n      // Analytics and reporting\n      'view_analytics': {\n        action: 'view_analytics',\n        requiresSubscription: true,\n        requiredFeatures: ['analytics']\n      },\n      'export_data': {\n        action: 'export_data',\n        requiresSubscription: true,\n        requiredFeatures: ['analytics', 'export']\n      },\n      \n      // User management\n      'manage_users': {\n        action: 'manage_users',\n        requiresSubscription: true,\n        requiredRole: ['ADMIN', 'MERCHANT', 'OUTLET_ADMIN']\n      },\n      \n      // Settings\n      'manage_settings': {\n        action: 'manage_settings',\n        requiresSubscription: true,\n        requiredRole: ['ADMIN', 'MERCHANT']\n      },\n      \n      // Bulk operations\n      'bulk_operations': {\n        action: 'bulk_operations',\n        requiresSubscription: true,\n        requiredFeatures: ['bulk_operations']\n      }\n    };\n\n    const permission = actionPermissions[action];\n    \n    // If no specific permission defined, allow for now (backward compatibility)\n    if (!permission) {\n      return true;\n    }\n\n    // Check subscription requirements\n    if (permission.requiresSubscription) {\n      if (!hasActiveSubscription || isExpired) {\n        return false;\n      }\n    }\n\n    // Check required features\n    if (permission.requiredFeatures) {\n      for (const feature of permission.requiredFeatures) {\n        if (!canAccessFeature(feature)) {\n          return false;\n        }\n      }\n    }\n\n    // Check required roles\n    if (permission.requiredRole) {\n      if (!permission.requiredRole.includes(user.role)) {\n        return false;\n      }\n    }\n\n    // Custom check\n    if (permission.customCheck) {\n      return permission.customCheck(user, { hasActiveSubscription, isExpired });\n    }\n\n    return true;\n  }, [user, hasActiveSubscription, isExpired, canAccessFeature]);\n\n  return checkPermission(action);\n}\n","\"use client\"\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { useAuth } from './useAuth';\n\n// ============================================================================\n// SUBSCRIPTION STATUS INFO HOOK\n// ============================================================================\n\nexport interface SubscriptionStatusInfo {\n  // Original interface\n  loading: boolean;\n  hasActiveSubscription: boolean;\n  isExpired: boolean;\n  isExpiringSoon: boolean;\n  daysUntilExpiry: number | null;\n  subscriptionType: string | null;\n  canAccessFeature: (feature: string) => boolean;\n  refreshStatus: () => Promise<void>;\n  \n  // Extended interface for UI components\n  hasSubscription: boolean;\n  subscription: any;\n  status: string;\n  isTrial: boolean;\n  isActive: boolean;\n  planName: string;\n  error: string | null;\n  \n  // Additional properties for other components\n  statusMessage: string;\n  statusColor: string;\n  hasAccess: boolean;\n  accessLevel: string;\n  requiresPayment: boolean;\n  upgradeRequired: boolean;\n  gracePeriodEnds: Date | null;\n  canExportData: boolean;\n  isRestricted: boolean;\n  isReadOnly: boolean;\n  isLimited: boolean;\n  isDenied: boolean;\n}\n\nexport interface UseSubscriptionStatusInfoOptions {\n  checkInterval?: number; // Check interval in milliseconds (default: 5 minutes)\n}\n\nexport function useSubscriptionStatusInfo(\n  options: UseSubscriptionStatusInfoOptions = {}\n): SubscriptionStatusInfo {\n  const { checkInterval = 5 * 60 * 1000 } = options; // Default 5 minutes\n  const { user } = useAuth();\n  \n  const [loading, setLoading] = useState(true);\n  const [hasActiveSubscription, setHasActiveSubscription] = useState(false);\n  const [isExpired, setIsExpired] = useState(false);\n  const [isExpiringSoon, setIsExpiringSoon] = useState(false);\n  const [daysUntilExpiry, setDaysUntilExpiry] = useState<number | null>(null);\n  const [subscriptionType, setSubscriptionType] = useState<string | null>(null);\n  \n  // Extended state for UI components\n  const [hasSubscription, setHasSubscription] = useState(false);\n  const [subscription, setSubscription] = useState<any>(null);\n  const [status, setStatus] = useState<string>('');\n  const [isTrial, setIsTrial] = useState(false);\n  const [isActive, setIsActive] = useState(false);\n  const [planName, setPlanName] = useState<string>('');\n  const [error, setError] = useState<string | null>(null);\n\n  // Fetch subscription status from API\n  const fetchSubscriptionStatus = useCallback(async () => {\n    if (!user) {\n      setLoading(false);\n      return;\n    }\n\n    try {\n      setLoading(true);\n      \n      // Import subscriptionsApi dynamically to avoid circular dependencies\n      const { subscriptionsApi } = await import('@rentalshop/utils');\n      const response = await subscriptionsApi.getCurrentUserSubscriptionStatus();\n      \n      if (response.success && response.data) {\n        const data = response.data;\n        \n        // ============================================================================\n        // MAP NEW FLAT RESPONSE STRUCTURE\n        // ============================================================================\n        // Response structure:\n        // {\n        //   status: \"CANCELED\" | \"EXPIRED\" | \"PAST_DUE\" | \"PAUSED\" | \"TRIAL\" | \"ACTIVE\",\n        //   statusReason: \"Canceled on 10/7/2025\",\n        //   hasAccess: false,\n        //   daysRemaining: 31,\n        //   isExpiringSoon: false,\n        //   planName: \"Basic\",\n        //   ...other flat fields\n        // }\n        \n        // Map computed status flags from API\n        const computedStatus = data.status || 'UNKNOWN'; // CANCELED | EXPIRED | PAST_DUE | PAUSED | TRIAL | ACTIVE\n        const apiHasAccess = data.hasAccess ?? false;\n        const apiDaysRemaining = data.daysRemaining ?? null;\n        const apiIsExpiringSoon = data.isExpiringSoon ?? false;\n        \n        // Derive boolean flags from computed status\n        const isActive = computedStatus === 'ACTIVE';\n        const isExpired = computedStatus === 'EXPIRED';\n        const isTrial = computedStatus === 'TRIAL';\n        const isCanceled = computedStatus === 'CANCELED';\n        const isPastDue = computedStatus === 'PAST_DUE';\n        const isPaused = computedStatus === 'PAUSED';\n        \n        // Determine if subscription is active for access (ACTIVE or TRIAL)\n        const hasActive = apiHasAccess; // API already calculated this\n        \n        // Set original state (for backward compatibility)\n        setHasActiveSubscription(hasActive);\n        setIsExpired(isExpired);\n        setIsExpiringSoon(apiIsExpiringSoon);\n        setDaysUntilExpiry(apiDaysRemaining);\n        setSubscriptionType(data.planName || computedStatus);\n        \n        // Set extended state for UI components\n        setHasSubscription(true);\n        setSubscription(data); // Store full response data\n        setStatus(computedStatus);\n        setIsTrial(isTrial);\n        setIsActive(isActive);\n        setPlanName(data.planName || 'Unknown Plan');\n        setError(null);\n        \n        console.log('✅ Subscription status mapped:', {\n          computedStatus,\n          hasAccess: apiHasAccess,\n          daysRemaining: apiDaysRemaining,\n          isExpiringSoon: apiIsExpiringSoon,\n          statusReason: data.statusReason\n        });\n        \n      } else {\n        // No subscription found\n        setHasActiveSubscription(false);\n        setIsExpired(true);\n        setIsExpiringSoon(false);\n        setDaysUntilExpiry(null);\n        setSubscriptionType(null);\n        \n        // Set extended state for UI components\n        setHasSubscription(false);\n        setSubscription(null);\n        setStatus('NO_SUBSCRIPTION');\n        setIsTrial(false);\n        setIsActive(false);\n        setPlanName('');\n        setError('No subscription found');\n      }\n      \n    } catch (error) {\n      console.error('Error fetching subscription status:', error);\n      setHasActiveSubscription(false);\n      setIsExpired(true);\n      setIsExpiringSoon(false);\n      setDaysUntilExpiry(null);\n      setSubscriptionType(null);\n      \n      // Set extended state for UI components\n      setHasSubscription(false);\n      setSubscription(null);\n      setStatus('ERROR');\n      setIsTrial(false);\n      setIsActive(false);\n      setPlanName('');\n      setError(error instanceof Error ? error.message : 'Failed to fetch subscription');\n    } finally {\n      setLoading(false);\n    }\n  }, [user]);\n\n  // Check if user can access a specific feature\n  const canAccessFeature = useCallback((feature: string): boolean => {\n    if (!hasActiveSubscription || isExpired) {\n      return false;\n    }\n    \n    // TODO: Replace with actual feature checking logic\n    // For now, allow all features if subscription is active\n    return true;\n  }, [hasActiveSubscription, isExpired]);\n\n  // Refresh subscription status\n  const refreshStatus = useCallback(async () => {\n    await fetchSubscriptionStatus();\n  }, [fetchSubscriptionStatus]);\n\n  // Initial fetch\n  useEffect(() => {\n    fetchSubscriptionStatus();\n  }, [fetchSubscriptionStatus]);\n\n  // Set up interval for periodic checks\n  useEffect(() => {\n    if (!user) return;\n\n    const interval = setInterval(fetchSubscriptionStatus, checkInterval);\n    return () => clearInterval(interval);\n  }, [user, fetchSubscriptionStatus, checkInterval]);\n\n  // Calculate additional properties for other components\n  // Use subscription.statusReason if available (from API), otherwise fallback to computed message\n  const statusMessage = subscription?.statusReason || \n                       (isExpired ? 'Subscription expired' : \n                        isExpiringSoon ? `Expires in ${daysUntilExpiry} days` :\n                        isTrial ? `Trial (${daysUntilExpiry} days left)` :\n                        isActive ? 'Active subscription' : 'No subscription');\n  \n  // Map status to color\n  const statusColor = status === 'EXPIRED' ? 'red' :\n                     status === 'CANCELED' ? 'red' :\n                     status === 'PAST_DUE' ? 'orange' :\n                     status === 'PAUSED' ? 'yellow' :\n                     isExpiringSoon ? 'orange' :\n                     status === 'TRIAL' ? 'yellow' :\n                     status === 'ACTIVE' ? 'green' : 'gray';\n  \n  // Use hasAccess from API (already calculated there)\n  const hasAccess = subscription?.hasAccess ?? (hasActiveSubscription && !isExpired);\n  \n  const accessLevel = status === 'EXPIRED' || status === 'CANCELED' ? 'denied' : \n                     status === 'PAST_DUE' ? 'readonly' :\n                     status === 'PAUSED' ? 'readonly' :\n                     status === 'TRIAL' ? 'limited' :\n                     status === 'ACTIVE' ? 'full' : 'denied';\n  \n  const requiresPayment = status === 'EXPIRED' || status === 'PAST_DUE' || isExpiringSoon;\n  const upgradeRequired = status === 'EXPIRED' || status === 'CANCELED';\n  const gracePeriodEnds = isExpiringSoon && daysUntilExpiry ? new Date(Date.now() + daysUntilExpiry * 24 * 60 * 60 * 1000) : null;\n  const canExportData = hasAccess;\n  const isRestricted = !hasAccess || status === 'TRIAL' || status === 'PAUSED';\n  const isReadOnly = status === 'EXPIRED' || status === 'PAST_DUE' || status === 'PAUSED';\n  const isLimited = status === 'TRIAL';\n  const isDenied = status === 'EXPIRED' || status === 'CANCELED' || !hasActiveSubscription;\n\n  return {\n    // Original interface\n    loading,\n    hasActiveSubscription,\n    isExpired,\n    isExpiringSoon,\n    daysUntilExpiry,\n    subscriptionType,\n    canAccessFeature,\n    refreshStatus,\n    \n    // Extended interface for UI components\n    hasSubscription,\n    subscription,\n    status,\n    isTrial,\n    isActive,\n    planName,\n    error,\n    \n    // Additional properties for other components\n    statusMessage,\n    statusColor,\n    hasAccess,\n    accessLevel,\n    requiresPayment,\n    upgradeRequired,\n    gracePeriodEnds,\n    canExportData,\n    isRestricted,\n    isReadOnly,\n    isLimited,\n    isDenied\n  };\n}\n","'use client';\n\n// ============================================================================\n// CURRENCY HOOK\n// ============================================================================\n\nimport { createContext, useContext, useState, useCallback, useEffect, ReactNode } from 'react';\nimport { \n  CurrencyCode, \n  CurrencySettings, \n  Currency \n} from '@rentalshop/types';\nimport { \n  DEFAULT_CURRENCY_SETTINGS, \n  getCurrency, \n  getCurrentCurrency \n} from '@rentalshop/utils';\n\n// ============================================================================\n// CURRENCY CONTEXT\n// ============================================================================\n\ninterface CurrencyContextType {\n  /** Current currency settings */\n  settings: CurrencySettings;\n  /** Current currency configuration */\n  currentCurrency: Currency;\n  /** Change the current currency */\n  setCurrency: (currency: CurrencyCode) => void;\n  /** Toggle currency symbol visibility */\n  toggleSymbol: () => void;\n  /** Toggle currency code visibility */\n  toggleCode: () => void;\n  /** Get currency by code */\n  getCurrencyByCode: (code: CurrencyCode) => Currency | undefined;\n  /** Convert amount between currencies */\n  convertAmount: (amount: number, from: CurrencyCode, to: CurrencyCode) => number;\n}\n\nconst CurrencyContext = createContext<CurrencyContextType | undefined>(undefined);\n\n// ============================================================================\n// CURRENCY PROVIDER\n// ============================================================================\n\ninterface CurrencyProviderProps {\n  children: ReactNode;\n  /** Initial currency settings (optional) */\n  initialSettings?: Partial<CurrencySettings>;\n}\n\nexport function CurrencyProvider({ \n  children, \n  initialSettings = {} \n}: CurrencyProviderProps) {\n  // Initialize settings with defaults and any overrides\n  const [settings, setSettings] = useState<CurrencySettings>({\n    ...DEFAULT_CURRENCY_SETTINGS,\n    ...initialSettings,\n  });\n\n  // Get current currency configuration\n  const currentCurrency = getCurrentCurrency(settings);\n\n  // Change current currency\n  const setCurrency = useCallback((currencyCode: CurrencyCode) => {\n    setSettings(prev => ({\n      ...prev,\n      currentCurrency: currencyCode,\n    }));\n    \n    // Save to localStorage for persistence\n    localStorage.setItem('rentalshop-currency', currencyCode);\n  }, []);\n\n  // Toggle currency symbol visibility\n  const toggleSymbol = useCallback(() => {\n    setSettings(prev => ({\n      ...prev,\n      showSymbol: !prev.showSymbol,\n    }));\n    \n    // Save to localStorage for persistence\n    localStorage.setItem('rentalshop-show-symbol', (!settings.showSymbol).toString());\n  }, [settings.showSymbol]);\n\n  // Toggle currency code visibility\n  const toggleCode = useCallback(() => {\n    setSettings(prev => ({\n      ...prev,\n      showCode: !prev.showCode,\n    }));\n    \n    // Save to localStorage for persistence\n    localStorage.setItem('rentalshop-show-code', (!settings.showCode).toString());\n  }, [settings.showCode]);\n\n  // Get currency by code\n  const getCurrencyByCode = useCallback((code: CurrencyCode) => {\n    return getCurrency(code);\n  }, []);\n\n  // Convert amount between currencies\n  const convertAmount = useCallback((amount: number, from: CurrencyCode, to: CurrencyCode) => {\n    if (from === to) return amount;\n    \n    const fromCurrency = getCurrency(from);\n    const toCurrency = getCurrency(to);\n    \n    if (!fromCurrency || !toCurrency) {\n      throw new Error(`Invalid currency code: ${from} or ${to}`);\n    }\n    \n    // Convert to base currency (USD) first, then to target currency\n    const amountInUSD = amount / fromCurrency.exchangeRate;\n    return amountInUSD * toCurrency.exchangeRate;\n  }, []);\n\n  // Load saved settings from localStorage on mount\n  useEffect(() => {\n    try {\n      const savedCurrency = localStorage.getItem('rentalshop-currency') as CurrencyCode;\n      const savedShowSymbol = localStorage.getItem('rentalshop-show-symbol');\n      const savedShowCode = localStorage.getItem('rentalshop-show-code');\n      \n      if (savedCurrency && isValidCurrencyCode(savedCurrency)) {\n        setSettings(prev => ({ ...prev, currentCurrency: savedCurrency }));\n      }\n      \n      if (savedShowSymbol !== null) {\n        setSettings(prev => ({ ...prev, showSymbol: savedShowSymbol === 'true' }));\n      }\n      \n      if (savedShowCode !== null) {\n        setSettings(prev => ({ ...prev, showCode: savedShowCode === 'true' }));\n      }\n    } catch (error) {\n      console.warn('Failed to load currency settings from localStorage:', error);\n    }\n  }, []);\n\n  const contextValue: CurrencyContextType = {\n    settings,\n    currentCurrency,\n    setCurrency,\n    toggleSymbol,\n    toggleCode,\n    getCurrencyByCode,\n    convertAmount,\n  };\n\n  return (\n    <CurrencyContext.Provider value={contextValue}>\n      {children}\n    </CurrencyContext.Provider>\n  );\n}\n\n// ============================================================================\n// CURRENCY HOOK\n// ============================================================================\n\nexport function useCurrency(): CurrencyContextType {\n  const context = useContext(CurrencyContext);\n  \n  if (context === undefined) {\n    throw new Error('useCurrency must be used within a CurrencyProvider');\n  }\n  \n  return context;\n}\n\n// ============================================================================\n// UTILITY FUNCTIONS\n// ============================================================================\n\nfunction isValidCurrencyCode(code: string): code is CurrencyCode {\n  return ['USD', 'VND'].includes(code as CurrencyCode);\n}\n","import { useState, useEffect, useRef, useCallback } from 'react';\n\n/**\n * ✅ MODERN API DEDUPLICATION HOOK - Clean & Simple\n * \n * Inspired by TanStack Query & SWR\n * \n * Key Features:\n * 1. Request deduplication (same request = single call)\n * 2. Global cache with stale-while-revalidate\n * 3. Race condition protection\n * 4. Automatic cleanup\n * \n * Why this pattern?\n * - Prevents duplicate API calls from React 18 double mounting\n * - Shares cached data across all components\n * - Optimistic UI updates with stale data\n * - Production-ready and battle-tested pattern\n */\n\ninterface UseDedupedApiOptions<TFilters, TData> {\n  filters: TFilters;\n  fetchFn: (filters: TFilters) => Promise<TData>;\n  enabled?: boolean;\n  staleTime?: number; // Cache duration in ms (default: 30s)\n  cacheTime?: number; // Keep in cache after unmount (default: 5min)\n  refetchOnWindowFocus?: boolean;\n  refetchOnMount?: boolean; // Refetch on component mount (default: true)\n}\n\ninterface UseDedupedApiReturn<TData> {\n  data: TData | null;\n  loading: boolean;\n  error: Error | null;\n  refetch: () => Promise<void>;\n  isStale: boolean;\n}\n\n// ============================================================================\n// GLOBAL CACHE - Shared across all hook instances\n// ============================================================================\n\nconst requestCache = new Map<string, Promise<any>>();\nconst dataCache = new Map<string, { data: any; timestamp: number; staleTime: number }>();\n\n// ============================================================================\n// HOOK\n// ============================================================================\n\nexport function useDedupedApi<TFilters, TData>(\n  options: UseDedupedApiOptions<TFilters, TData>\n): UseDedupedApiReturn<TData> {\n  const { \n    filters, \n    fetchFn, \n    enabled = true,\n    staleTime = 30000, // 30 seconds\n    cacheTime = 300000, // 5 minutes\n    refetchOnWindowFocus = false,\n    refetchOnMount = true // Default to true for backwards compatibility\n  } = options;\n\n  // ============================================================================\n  // STATE\n  // ============================================================================\n  \n  const [data, setData] = useState<TData | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<Error | null>(null);\n  const [isStale, setIsStale] = useState(false);\n  const [refetchTrigger, setRefetchTrigger] = useState(0);\n  \n  // ============================================================================\n  // REFS - For tracking and avoiding stale updates\n  // ============================================================================\n  \n  const fetchIdRef = useRef(0);\n  const filtersRef = useRef<string>('');\n  const fetchFnRef = useRef(fetchFn); // ✅ Store stable reference to fetchFn\n  \n  // Update fetchFnRef when fetchFn changes\n  fetchFnRef.current = fetchFn;\n\n  // Generate cache key from filters\n  const cacheKey = JSON.stringify(filters);\n\n  // ============================================================================\n  // MAIN FETCH LOGIC - Single source of truth\n  // ============================================================================\n  \n  useEffect(() => {\n    // Skip if disabled\n    if (!enabled) {\n      setLoading(false);\n      return;\n    }\n\n    // Skip if filters haven't actually changed\n    if (cacheKey === filtersRef.current && data !== null) {\n      console.log('🔍 useDedupedApi: Filters unchanged, skipping fetch');\n      return;\n    }\n    \n    filtersRef.current = cacheKey;\n\n    // Increment fetch ID for race condition protection\n    fetchIdRef.current += 1;\n    const currentFetchId = fetchIdRef.current;\n    \n    console.log(`🔍 Fetch #${currentFetchId}: Starting...`);\n\n    // ========================================================================\n    // STEP 1: Check cache first\n    // ========================================================================\n    \n    const cached = dataCache.get(cacheKey);\n    if (cached) {\n      const now = Date.now();\n      const isCacheStale = (now - cached.timestamp) > cached.staleTime;\n      \n      if (!isCacheStale) {\n        // Cache is fresh\n        if (refetchOnMount) {\n          // refetchOnMount: true - Always fetch new data, but show cache first\n          console.log(`✅ Fetch #${currentFetchId}: Cache HIT (fresh) - but refetchOnMount=true, showing cache and fetching new data`);\n          setData(cached.data);\n          setLoading(false);\n          setError(null);\n          setIsStale(false);\n          // Continue to fetch new data below\n        } else {\n          // refetchOnMount: false - Use cache and skip fetch\n          console.log(`✅ Fetch #${currentFetchId}: Cache HIT (fresh) - refetchOnMount=false, using cache`);\n          setData(cached.data);\n          setLoading(false);\n          setError(null);\n          setIsStale(false);\n          return; // Skip fetch\n        }\n      } else {\n        // Cache is stale - show it while fetching new data (stale-while-revalidate)\n        console.log(`⏰ Fetch #${currentFetchId}: Cache HIT (stale) - showing stale data`);\n        setData(cached.data);\n        setIsStale(true);\n      }\n    }\n\n    // ========================================================================\n    // STEP 2: Check if request is already in progress (deduplication)\n    // ========================================================================\n    \n    const existingRequest = requestCache.get(cacheKey);\n    if (existingRequest) {\n      console.log(`🔄 Fetch #${currentFetchId}: DEDUPLICATION - waiting for existing request`);\n      \n      existingRequest\n        .then((result) => {\n          // Only update if this is still the latest fetch\n          if (currentFetchId === fetchIdRef.current) {\n            setData(result);\n            setLoading(false);\n            setError(null);\n            setIsStale(false);\n            console.log(`✅ Fetch #${currentFetchId}: Got deduplicated result`);\n          } else {\n            console.log(`⏭️ Fetch #${currentFetchId}: Stale, ignoring`);\n          }\n        })\n        .catch((err) => {\n          // Only update error if this is still the latest fetch\n          if (currentFetchId === fetchIdRef.current) {\n            const error = err instanceof Error ? err : new Error('Unknown error');\n            setError(error);\n            setLoading(false);\n            console.error(`❌ Fetch #${currentFetchId}: Dedup ERROR:`, error);\n          }\n        });\n      \n      return;\n    }\n\n    // ========================================================================\n    // STEP 3: Make new API request\n    // ========================================================================\n    \n    setLoading(true);\n    setError(null);\n\n    const requestPromise = fetchFnRef.current(filters); // ✅ Use ref\n    requestCache.set(cacheKey, requestPromise);\n\n    requestPromise\n      .then((result) => {\n        // Race condition check - only update if this is still the latest fetch\n        if (currentFetchId !== fetchIdRef.current) {\n          console.log(`⏭️ Fetch #${currentFetchId}: Stale, ignoring result`);\n          return;\n        }\n\n        console.log(`✅ Fetch #${currentFetchId}: SUCCESS - caching data`);\n\n        // Cache the result\n        dataCache.set(cacheKey, {\n          data: result,\n          timestamp: Date.now(),\n          staleTime\n        });\n\n        // Clean up old cache entries\n        const now = Date.now();\n        for (const [key, cached] of dataCache.entries()) {\n          if ((now - cached.timestamp) > cacheTime) {\n            dataCache.delete(key);\n            console.log(`🧹 Cleaned up old cache entry: ${key}`);\n          }\n        }\n\n        // Update state\n        setData(result);\n        setError(null);\n        setIsStale(false);\n        setLoading(false);\n      })\n      .catch((err) => {\n        // Race condition check\n        if (currentFetchId !== fetchIdRef.current) {\n          console.log(`⏭️ Fetch #${currentFetchId}: Stale, ignoring error`);\n          return;\n        }\n\n        const error = err instanceof Error ? err : new Error('Unknown error');\n        setError(error);\n        setLoading(false);\n        console.error(`❌ Fetch #${currentFetchId}: ERROR:`, error);\n      })\n      .finally(() => {\n        // Clean up request cache\n        requestCache.delete(cacheKey);\n      });\n\n  }, [cacheKey, enabled, staleTime, cacheTime, refetchTrigger]); // ✅ Add refetchTrigger dependency\n\n  // ============================================================================\n  // WINDOW FOCUS REFETCH (Optional)\n  // ============================================================================\n  \n  useEffect(() => {\n    if (!refetchOnWindowFocus || !enabled) return;\n\n    const handleFocus = () => {\n      const cached = dataCache.get(cacheKey);\n      if (!cached) return;\n      \n      const now = Date.now();\n      const isCacheStale = (now - cached.timestamp) > cached.staleTime;\n      \n      if (isCacheStale) {\n        console.log('🔄 Window focus: Refetching stale data');\n        // Trigger refetch by clearing the filter ref\n        filtersRef.current = '';\n        fetchIdRef.current += 1;\n      }\n    };\n\n    window.addEventListener('focus', handleFocus);\n    return () => window.removeEventListener('focus', handleFocus);\n  }, [refetchOnWindowFocus, enabled, cacheKey, staleTime]);\n\n  // ============================================================================\n  // MANUAL REFETCH\n  // ============================================================================\n  \n  const refetch = useCallback(async () => {\n    if (!enabled) return;\n    \n    console.log('🔄 Manual refetch triggered');\n    \n    // Clear cache and trigger refetch by updating state\n    dataCache.delete(cacheKey);\n    filtersRef.current = '';\n    fetchIdRef.current += 1;\n    setRefetchTrigger(prev => prev + 1); // ✅ Trigger useEffect via state change\n  }, [enabled, cacheKey]);\n\n  return {\n    data,\n    loading,\n    error,\n    refetch,\n    isStale\n  };\n}\n\n// ============================================================================\n// UTILITIES\n// ============================================================================\n\n/**\n * Clear all caches (useful for logout, etc.)\n */\nexport function clearApiCache() {\n  requestCache.clear();\n  dataCache.clear();\n  console.log('🧹 API Cache cleared');\n}\n\n/**\n * Get cache stats (for debugging)\n */\nexport function getApiCacheStats() {\n  return {\n    requestCacheSize: requestCache.size,\n    dataCacheSize: dataCache.size,\n    cacheKeys: Array.from(dataCache.keys())\n  };\n}\n","'use client';\n\nimport { useDedupedApi } from '../utils/useDedupedApi';\nimport { customersApi } from '@rentalshop/utils';\nimport type { CustomerFilters, Customer } from '@rentalshop/types';\n\n// ============================================================================\n// TYPES\n// ============================================================================\n\nexport interface CustomersDataResponse {\n  customers: Customer[];\n  total: number;\n  page: number;\n  currentPage: number; // Alias for page\n  limit: number;\n  hasMore: boolean;\n  totalPages: number;\n}\n\nexport interface UseCustomersDataOptions {\n  filters: CustomerFilters;\n  enabled?: boolean;\n}\n\nexport interface UseCustomersDataReturn {\n  data: CustomersDataResponse | null;\n  loading: boolean;\n  error: Error | null;\n  refetch: () => Promise<void>;\n  isStale: boolean;\n}\n\n// ============================================================================\n// HOOK\n// ============================================================================\n\n/**\n * ✅ MODERN CUSTOMERS DATA HOOK\n * \n * Clean and simple wrapper around useDedupedApi for customers\n * \n * Features:\n * - Automatic request deduplication\n * - Intelligent caching (30s stale time)\n * - Request cancellation and race condition protection\n * - Transform API response to consistent format\n * \n * Usage:\n * ```tsx\n * const { data, loading, error } = useCustomersData({ \n *   filters: { page: 1, search: 'john' }\n * });\n * ```\n */\nexport function useCustomersData(options: UseCustomersDataOptions): UseCustomersDataReturn {\n  const { filters, enabled = true } = options;\n  \n  const result = useDedupedApi({\n    filters,\n    fetchFn: async (filters: CustomerFilters) => {\n      console.log('👥 useCustomersData: Fetching with filters:', filters);\n      \n      const response = await customersApi.searchCustomers(filters);\n\n      if (!response.success || !response.data) {\n        throw new Error('Failed to fetch customers');\n      }\n\n      // Transform API response to consistent format\n      const apiData = response.data as any;\n      const transformed: CustomersDataResponse = {\n        customers: apiData.customers || [],\n        total: apiData.total || 0,\n        page: apiData.page || 1,\n        currentPage: apiData.page || 1, // Alias for compatibility\n        limit: apiData.limit || 25,\n        hasMore: apiData.hasMore || false,\n        totalPages: apiData.totalPages || 1\n      };\n      \n      console.log('✅ useCustomersData: Success:', {\n        customersCount: transformed.customers.length,\n        total: transformed.total,\n        page: transformed.page\n      });\n      \n      return transformed;\n    },\n    enabled,\n    staleTime: 30000, // 30 seconds cache\n    cacheTime: 300000, // 5 minutes\n    refetchOnWindowFocus: false\n  });\n\n  return result;\n}\n","import { useDedupedApi } from '../utils/useDedupedApi';\nimport { merchantsApi } from '@rentalshop/utils';\n\n// ============================================================================\n// TYPES\n// ============================================================================\n\nexport interface MerchantFilters {\n  search?: string;\n  status?: string;\n  plan?: string;\n  page?: number;\n  limit?: number;\n  sortBy?: string;\n  sortOrder?: 'asc' | 'desc';\n}\n\nexport interface MerchantsDataResponse {\n  merchants: any[];\n  total: number;\n  page: number;\n  currentPage: number;\n  limit: number;\n  hasMore: boolean;\n  totalPages: number;\n}\n\nexport interface UseMerchantsDataOptions {\n  filters: MerchantFilters;\n  enabled?: boolean;\n}\n\nexport interface UseMerchantsDataReturn {\n  data: MerchantsDataResponse | null;\n  loading: boolean;\n  error: Error | null;\n  refetch: () => Promise<void>;\n  isStale: boolean;\n}\n\n// ============================================================================\n// HOOK\n// ============================================================================\n\n/**\n * ✅ MODERN MERCHANTS DATA HOOK\n * \n * Clean and simple wrapper around useDedupedApi for merchants\n * \n * Features:\n * - Automatic request deduplication\n * - Intelligent caching (30s stale time)\n * - Request cancellation and race condition protection\n * - Transform API response to consistent format\n * \n * Usage:\n * ```tsx\n * const { data, loading, error } = useMerchantsData({ \n *   filters: { page: 1, status: 'active' }\n * });\n * ```\n */\nexport function useMerchantsData(options: UseMerchantsDataOptions): UseMerchantsDataReturn {\n  const { filters, enabled = true } = options;\n  \n  const result = useDedupedApi({\n    filters,\n    fetchFn: async (filters: MerchantFilters) => {\n      console.log('🏢 useMerchantsData: Fetching with filters:', filters);\n      \n      const response = await merchantsApi.getMerchants();\n\n      if (!response.success || !response.data) {\n        throw new Error('Failed to fetch merchants');\n      }\n\n      // Transform API response to consistent format\n      const apiData = response.data as any;\n      const merchantsArray = apiData.merchants || [];\n      \n      console.log('🏢 useMerchantsData - API Response:', {\n        hasData: !!apiData,\n        hasMerchantsArray: !!merchantsArray,\n        merchantsCount: merchantsArray.length,\n        firstMerchant: merchantsArray[0]\n      });\n      \n      // Apply client-side filtering if needed (until backend supports it)\n      let filteredMerchants = merchantsArray;\n      \n      if (filters.search) {\n        const searchLower = filters.search.toLowerCase();\n        filteredMerchants = filteredMerchants.filter((m: any) => \n          m.name?.toLowerCase().includes(searchLower) ||\n          m.email?.toLowerCase().includes(searchLower)\n        );\n      }\n      \n      if (filters.status && filters.status !== 'all') {\n        filteredMerchants = filteredMerchants.filter((m: any) => \n          filters.status === 'active' ? m.isActive : !m.isActive\n        );\n      }\n      \n      if (filters.plan && filters.plan !== 'all') {\n        filteredMerchants = filteredMerchants.filter((m: any) => \n          String(m.planId) === filters.plan\n        );\n      }\n      \n      // Apply sorting\n      if (filters.sortBy) {\n        filteredMerchants.sort((a: any, b: any) => {\n          const aVal = a[filters.sortBy!];\n          const bVal = b[filters.sortBy!];\n          const order = filters.sortOrder === 'desc' ? -1 : 1;\n          return (aVal > bVal ? 1 : -1) * order;\n        });\n      }\n      \n      // Apply pagination\n      const page = filters.page || 1;\n      const limit = filters.limit || 10;\n      const startIndex = (page - 1) * limit;\n      const endIndex = startIndex + limit;\n      const paginatedMerchants = filteredMerchants.slice(startIndex, endIndex);\n      const total = filteredMerchants.length;\n      const totalPages = Math.ceil(total / limit);\n      \n      const transformed: MerchantsDataResponse = {\n        merchants: paginatedMerchants,\n        total,\n        page,\n        currentPage: page,\n        limit,\n        hasMore: endIndex < total,\n        totalPages\n      };\n      \n      console.log('✅ useMerchantsData: Success:', {\n        merchantsCount: transformed.merchants.length,\n        total: transformed.total,\n        page: transformed.page\n      });\n      \n      return transformed;\n    },\n    enabled,\n    staleTime: 30000, // 30 seconds cache\n    cacheTime: 300000, // 5 minutes\n    refetchOnWindowFocus: false\n  });\n\n  return result;\n}\n\n","'use client';\n\nimport { useDedupedApi } from '../utils/useDedupedApi';\nimport { ordersApi } from '@rentalshop/utils';\nimport type { OrderFilters, OrderWithDetails } from '@rentalshop/types';\n\n// ============================================================================\n// TYPES\n// ============================================================================\n\nexport interface OrdersDataResponse {\n  orders: OrderWithDetails[];\n  total: number;\n  page: number;\n  currentPage: number; // Alias for page\n  limit: number;\n  hasMore: boolean;\n  totalPages: number;\n}\n\nexport interface UseOrdersDataOptions {\n  filters: OrderFilters;\n  enabled?: boolean;\n}\n\nexport interface UseOrdersDataReturn {\n  data: OrdersDataResponse | null;\n  loading: boolean;\n  error: Error | null;\n  refetch: () => Promise<void>;\n  isStale: boolean;\n}\n\n// ============================================================================\n// HOOK\n// ============================================================================\n\n/**\n * ✅ MODERN ORDERS DATA HOOK\n * \n * Clean and simple wrapper around useDedupedApi for orders\n * \n * Features:\n * - Automatic request deduplication\n * - Intelligent caching (30s stale time)\n * - Request cancellation and race condition protection\n * - Transform API response to consistent format\n * \n * Usage:\n * ```tsx\n * const { data, loading, error } = useOrdersData({ \n *   filters: { page: 1, status: 'RESERVED' }\n * });\n * ```\n */\nexport function useOrdersData(options: UseOrdersDataOptions): UseOrdersDataReturn {\n  const { filters, enabled = true } = options;\n  \n  const result = useDedupedApi({\n    filters,\n    fetchFn: async (filters: OrderFilters) => {\n      console.log('📦 useOrdersData: Fetching with filters:', filters);\n      \n      const response = await ordersApi.searchOrders(filters);\n\n      if (!response.success || !response.data) {\n        throw new Error('Failed to fetch orders');\n      }\n\n      // Transform API response to consistent format\n      const apiData = response.data as any;\n      const transformed: OrdersDataResponse = {\n        orders: apiData.orders || [],\n        total: apiData.total || 0,\n        page: apiData.page || 1,\n        currentPage: apiData.page || 1, // Alias for compatibility\n        limit: apiData.limit || 25,\n        hasMore: apiData.hasMore || false,\n        totalPages: apiData.totalPages || 1\n      };\n      \n      console.log('✅ useOrdersData: Success:', {\n        ordersCount: transformed.orders.length,\n        total: transformed.total,\n        page: transformed.page\n      });\n      \n      return transformed;\n    },\n    enabled,\n    staleTime: 30000, // 30 seconds cache\n    cacheTime: 300000, // 5 minutes\n    refetchOnWindowFocus: false\n  });\n\n  return result;\n}\n","\"use client\"\n\nimport { useState, useCallback } from 'react';\nimport { PAGINATION } from '@rentalshop/constants';\n\nexport interface PaginationState {\n  total: number;\n  limit: number;\n  offset: number;\n  hasMore: boolean;\n  currentPage: number;\n  totalPages: number;\n}\n\nexport interface PaginationConfig {\n  initialLimit?: number;\n  initialOffset?: number;\n}\n\nexport interface UsePaginationReturn {\n  pagination: PaginationState;\n  setPagination: (pagination: Partial<PaginationState>) => void;\n  handlePageChange: (page: number) => void;\n  resetPagination: () => void;\n  updatePaginationFromResponse: (response: {\n    total: number;\n    limit: number;\n    offset: number;\n    hasMore?: boolean;\n  }) => void;\n}\n\nexport function usePagination(config: PaginationConfig = {}): UsePaginationReturn {\n  const { initialLimit = PAGINATION.DEFAULT_PAGE_SIZE, initialOffset = 0 } = config;\n  \n  const [pagination, setPaginationState] = useState<PaginationState>({\n    total: 0,\n    limit: initialLimit,\n    offset: initialOffset,\n    hasMore: false,\n    currentPage: 1,\n    totalPages: 1\n  });\n\n  const setPagination = useCallback((newPagination: Partial<PaginationState>) => {\n    setPaginationState(prev => ({\n      ...prev,\n      ...newPagination,\n      currentPage: Math.floor((newPagination.offset ?? prev.offset) / (newPagination.limit ?? prev.limit)) + 1,\n      totalPages: Math.ceil((newPagination.total ?? prev.total) / (newPagination.limit ?? prev.limit))\n    }));\n  }, []);\n\n  const handlePageChange = useCallback((page: number) => {\n    const newOffset = (page - 1) * pagination.limit;\n    setPagination({\n      offset: newOffset,\n      currentPage: page\n    });\n  }, [pagination.limit, setPagination]);\n\n\n\n  const resetPagination = useCallback(() => {\n    setPagination({\n      total: 0,\n      offset: initialOffset,\n      hasMore: false,\n      currentPage: 1,\n      totalPages: 1\n    });\n  }, [initialOffset, setPagination]);\n\n  const updatePaginationFromResponse = useCallback((response: {\n    total: number;\n    limit: number;\n    offset: number;\n    hasMore?: boolean;\n  }) => {\n    setPagination({\n      total: response.total,\n      limit: response.limit,\n      offset: response.offset,\n      hasMore: response.hasMore ?? (response.offset + response.limit < response.total),\n      currentPage: Math.floor(response.offset / response.limit) + 1,\n      totalPages: Math.ceil(response.total / response.limit)\n    });\n  }, [setPagination]);\n\n  return {\n    pagination,\n    setPagination,\n    handlePageChange,\n    resetPagination,\n    updatePaginationFromResponse\n  };\n}\n","import { useDedupedApi } from '../utils/useDedupedApi';\nimport { paymentsApi } from '@rentalshop/utils';\n\n// ============================================================================\n// TYPES\n// ============================================================================\n\nexport interface PaymentFilters {\n  search?: string;\n  status?: string;\n  dateFilter?: string;\n  page?: number;\n  limit?: number;\n  sortBy?: string;\n  sortOrder?: 'asc' | 'desc';\n}\n\nexport interface PaymentsDataResponse {\n  payments: any[];\n  total: number;\n  page: number;\n  currentPage: number;\n  limit: number;\n  hasMore: boolean;\n  totalPages: number;\n}\n\nexport interface UsePaymentsDataOptions {\n  filters: PaymentFilters;\n  enabled?: boolean;\n}\n\nexport interface UsePaymentsDataReturn {\n  data: PaymentsDataResponse | null;\n  loading: boolean;\n  error: Error | null;\n  refetch: () => Promise<void>;\n  isStale: boolean;\n}\n\n// ============================================================================\n// HOOK\n// ============================================================================\n\n/**\n * ✅ MODERN PAYMENTS DATA HOOK\n * \n * Clean and simple wrapper around useDedupedApi for payments\n * \n * Features:\n * - Automatic request deduplication\n * - Intelligent caching (30s stale time)\n * - Request cancellation and race condition protection\n * - Transform API response to consistent format\n * \n * Usage:\n * ```tsx\n * const { data, loading, error } = usePaymentsData({ \n *   filters: { page: 1, status: 'completed' }\n * });\n * ```\n */\nexport function usePaymentsData(options: UsePaymentsDataOptions): UsePaymentsDataReturn {\n  const { filters, enabled = true } = options;\n  \n  const result = useDedupedApi({\n    filters,\n    fetchFn: async (filters: PaymentFilters) => {\n      console.log('💰 usePaymentsData: Fetching with filters:', filters);\n      \n      const response = await paymentsApi.getPayments();\n\n      if (!response.success || !response.data) {\n        throw new Error('Failed to fetch payments');\n      }\n\n      // Transform API response to consistent format\n      const apiData = response.data as any;\n      const paymentsArray = Array.isArray(apiData) ? apiData : apiData.payments || [];\n      \n      console.log('💰 usePaymentsData - API Response:', {\n        hasData: !!apiData,\n        isArray: Array.isArray(apiData),\n        paymentsCount: paymentsArray.length,\n        firstPayment: paymentsArray[0]\n      });\n      \n      // Apply client-side filtering if needed (until backend supports it)\n      let filteredPayments = paymentsArray;\n      \n      if (filters.search) {\n        const searchLower = filters.search.toLowerCase();\n        filteredPayments = filteredPayments.filter((p: any) => \n          p.subscription?.merchant?.name?.toLowerCase().includes(searchLower) ||\n          p.invoiceNumber?.toLowerCase().includes(searchLower) ||\n          p.transactionId?.toLowerCase().includes(searchLower)\n        );\n      }\n      \n      if (filters.status && filters.status !== 'all') {\n        filteredPayments = filteredPayments.filter((p: any) => \n          p.status?.toLowerCase() === filters.status?.toLowerCase()\n        );\n      }\n      \n      if (filters.dateFilter && filters.dateFilter !== 'all') {\n        const now = new Date();\n        filteredPayments = filteredPayments.filter((p: any) => {\n          const paymentDate = new Date(p.createdAt);\n          \n          if (filters.dateFilter === 'today') {\n            return now.toDateString() === paymentDate.toDateString();\n          } else if (filters.dateFilter === 'this_month') {\n            return now.getMonth() === paymentDate.getMonth() && \n                   now.getFullYear() === paymentDate.getFullYear();\n          } else if (filters.dateFilter === 'this_year') {\n            return now.getFullYear() === paymentDate.getFullYear();\n          }\n          \n          return true;\n        });\n      }\n      \n      // Apply sorting\n      if (filters.sortBy) {\n        filteredPayments.sort((a: any, b: any) => {\n          const aVal = a[filters.sortBy!];\n          const bVal = b[filters.sortBy!];\n          const order = filters.sortOrder === 'desc' ? -1 : 1;\n          return (aVal > bVal ? 1 : -1) * order;\n        });\n      }\n      \n      // Apply pagination\n      const page = filters.page || 1;\n      const limit = filters.limit || 20;\n      const startIndex = (page - 1) * limit;\n      const endIndex = startIndex + limit;\n      const paginatedPayments = filteredPayments.slice(startIndex, endIndex);\n      const total = filteredPayments.length;\n      const totalPages = Math.ceil(total / limit);\n      \n      const transformed: PaymentsDataResponse = {\n        payments: paginatedPayments,\n        total,\n        page,\n        currentPage: page,\n        limit,\n        hasMore: endIndex < total,\n        totalPages\n      };\n      \n      console.log('✅ usePaymentsData: Success:', {\n        paymentsCount: transformed.payments.length,\n        total: transformed.total,\n        page: transformed.page\n      });\n      \n      return transformed;\n    },\n    enabled,\n    staleTime: 30000, // 30 seconds cache\n    cacheTime: 300000, // 5 minutes\n    refetchOnWindowFocus: false\n  });\n\n  return result;\n}\n\n","import { useDedupedApi } from '../utils/useDedupedApi';\nimport { plansApi } from '@rentalshop/utils';\n\n// ============================================================================\n// TYPES\n// ============================================================================\n\nexport interface PlanFilters {\n  search?: string;\n  status?: string;\n  page?: number;\n  limit?: number;\n  sortBy?: string;\n  sortOrder?: 'asc' | 'desc';\n}\n\nexport interface PlansDataResponse {\n  plans: any[];\n  total: number;\n  page: number;\n  currentPage: number;\n  limit: number;\n  hasMore: boolean;\n  totalPages: number;\n}\n\nexport interface UsePlansDataOptions {\n  filters: PlanFilters;\n  enabled?: boolean;\n}\n\nexport interface UsePlansDataReturn {\n  data: PlansDataResponse | null;\n  loading: boolean;\n  error: Error | null;\n  refetch: () => Promise<void>;\n  isStale: boolean;\n}\n\n// ============================================================================\n// HOOK\n// ============================================================================\n\n/**\n * ✅ MODERN PLANS DATA HOOK\n * \n * Clean and simple wrapper around useDedupedApi for plans\n * \n * Features:\n * - Automatic request deduplication\n * - Intelligent caching (30s stale time)\n * - Request cancellation and race condition protection\n * - Transform API response to consistent format\n * \n * Usage:\n * ```tsx\n * const { data, loading, error } = usePlansData({ \n *   filters: { page: 1, status: 'active' }\n * });\n * ```\n */\nexport function usePlansData(options: UsePlansDataOptions): UsePlansDataReturn {\n  const { filters, enabled = true } = options;\n  \n  const result = useDedupedApi({\n    filters,\n    fetchFn: async (filters: PlanFilters) => {\n      console.log('📋 usePlansData: Fetching with filters:', filters);\n      \n      const response = await plansApi.getPlans();\n\n      if (!response.success || !response.data) {\n        throw new Error('Failed to fetch plans');\n      }\n\n      // Transform API response to consistent format\n      const apiData = response.data as any;\n      const plansArray = Array.isArray(apiData) ? apiData : apiData.plans || [];\n      \n      console.log('📋 usePlansData - API Response:', {\n        hasData: !!apiData,\n        isArray: Array.isArray(apiData),\n        plansCount: plansArray.length,\n        firstPlan: plansArray[0]\n      });\n      \n      // Apply client-side filtering if needed (until backend supports it)\n      let filteredPlans = plansArray;\n      \n      if (filters.search) {\n        const searchLower = filters.search.toLowerCase();\n        filteredPlans = filteredPlans.filter((p: any) => \n          p.name?.toLowerCase().includes(searchLower) ||\n          p.description?.toLowerCase().includes(searchLower)\n        );\n      }\n      \n      if (filters.status && filters.status !== 'all') {\n        filteredPlans = filteredPlans.filter((p: any) => \n          filters.status === 'active' ? p.isActive : !p.isActive\n        );\n      }\n      \n      // Apply sorting\n      if (filters.sortBy) {\n        filteredPlans.sort((a: any, b: any) => {\n          const aVal = a[filters.sortBy!];\n          const bVal = b[filters.sortBy!];\n          const order = filters.sortOrder === 'desc' ? -1 : 1;\n          return (aVal > bVal ? 1 : -1) * order;\n        });\n      }\n      \n      // Apply pagination\n      const page = filters.page || 1;\n      const limit = filters.limit || 10;\n      const startIndex = (page - 1) * limit;\n      const endIndex = startIndex + limit;\n      const paginatedPlans = filteredPlans.slice(startIndex, endIndex);\n      const total = filteredPlans.length;\n      const totalPages = Math.ceil(total / limit);\n      \n      const transformed: PlansDataResponse = {\n        plans: paginatedPlans,\n        total,\n        page,\n        currentPage: page,\n        limit,\n        hasMore: endIndex < total,\n        totalPages\n      };\n      \n      console.log('✅ usePlansData: Success:', {\n        plansCount: transformed.plans.length,\n        total: transformed.total,\n        page: transformed.page\n      });\n      \n      return transformed;\n    },\n    enabled,\n    staleTime: 30000, // 30 seconds cache\n    cacheTime: 300000, // 5 minutes\n    refetchOnWindowFocus: false\n  });\n\n  return result;\n}\n\n","'use client';\n\nimport { useCallback } from 'react';\nimport type { Product } from '@rentalshop/types';\n\n// ============================================================================\n// TYPES\n// ============================================================================\n\n// Product interface is now imported from @rentalshop/types\n\nexport interface Order {\n  id: number;\n  orderType: string;\n  status: string;\n  pickupPlanAt: string;\n  returnPlanAt: string;\n  orderItems: Array<{\n    productId: number;\n    quantity: number;\n    name: string;\n  }>;\n}\n\nexport interface AvailabilityStatus {\n  available: boolean;\n  availableQuantity: number;\n  conflicts: Order[];\n  message: string;\n}\n\n// ============================================================================\n// USE PRODUCT AVAILABILITY HOOK\n// ============================================================================\n\nexport function useProductAvailability() {\n  // ============================================================================\n  // AVAILABILITY CALCULATION\n  // ============================================================================\n\n  const calculateAvailability = useCallback((\n    product: Product,\n    pickupDate: string,\n    returnDate: string,\n    requestedQuantity: number,\n    existingOrders: Order[] = []\n  ): AvailabilityStatus => {\n    // Convert dates to Date objects\n    const pickup = new Date(pickupDate);\n    const return_ = new Date(returnDate);\n    \n    // Validate dates\n    if (pickup >= return_) {\n      return {\n        available: false,\n        availableQuantity: 0,\n        conflicts: [],\n        message: 'Return date must be after pickup date'\n      };\n    }\n\n    // Find conflicting orders for this product\n    const conflicts = existingOrders.filter(order => {\n      // Only check RENT orders\n      if (order.orderType !== 'RENT') return false;\n      \n      // Check if order is active (not completed/cancelled)\n      const activeStatuses = ['RESERVED', 'PICKUPED'];\n      if (!activeStatuses.includes(order.status)) return false;\n      \n      // Check if order items contain this product\n      const hasProduct = order.orderItems.some(item => item.productId === product.id);\n      if (!hasProduct) return false;\n      \n      // Check date overlap\n      const orderPickup = new Date(order.pickupPlanAt);\n      const orderReturn = new Date(order.returnPlanAt);\n      \n      // Check if dates overlap\n      return (\n        (pickup <= orderReturn && return_ >= orderPickup) ||\n        (orderPickup <= return_ && orderReturn >= pickup)\n      );\n    });\n\n    // Calculate total quantity needed during the requested period\n    const conflictingQuantity = conflicts.reduce((total, order) => {\n      const orderItem = order.orderItems.find(item => item.productId === product.id);\n      return total + (orderItem?.quantity || 0);\n    }, 0);\n\n    // Calculate available quantity\n    const availableQuantity = Math.max(0, product.available - conflictingQuantity);\n    const available = availableQuantity >= requestedQuantity;\n\n    // Generate message\n    let message = '';\n    if (available) {\n      message = `Available: ${availableQuantity} units`;\n    } else {\n      message = `Only ${availableQuantity} units available (requested: ${requestedQuantity})`;\n    }\n\n    return {\n      available,\n      availableQuantity,\n      conflicts,\n      message,\n    };\n  }, []);\n\n  // ============================================================================\n  // QUICK AVAILABILITY CHECK\n  // ============================================================================\n\n  const isProductAvailable = useCallback((\n    product: Product,\n    pickupDate: string,\n    returnDate: string,\n    requestedQuantity: number,\n    existingOrders: Order[] = []\n  ): boolean => {\n    const status = calculateAvailability(product, pickupDate, returnDate, requestedQuantity, existingOrders);\n    return status.available;\n  }, [calculateAvailability]);\n\n  // ============================================================================\n  // AVAILABILITY FOR DATE RANGE\n  // ============================================================================\n\n  const getAvailabilityForDateRange = useCallback((\n    product: Product,\n    startDate: string,\n    endDate: string,\n    existingOrders: Order[] = []\n  ): Array<{ date: string; available: number; conflicts: Order[] }> => {\n    const start = new Date(startDate);\n    const end = new Date(endDate);\n    const results = [];\n    \n    // Check availability for each day in the range\n    for (let date = new Date(start); date <= end; date.setDate(date.getDate() + 1)) {\n      const dateStr = date.toISOString().split('T')[0];\n      const status = calculateAvailability(\n        product, \n        dateStr, \n        dateStr, \n        1, \n        existingOrders\n      );\n      \n      results.push({\n        date: dateStr,\n        available: status.availableQuantity,\n        conflicts: status.conflicts,\n      });\n    }\n    \n    return results;\n  }, [calculateAvailability]);\n\n  // ============================================================================\n  // RETURN VALUES\n  // ============================================================================\n\n  return {\n    calculateAvailability,\n    isProductAvailable,\n    getAvailabilityForDateRange,\n  };\n}\n","'use client';\n\nimport { useDedupedApi } from '../utils/useDedupedApi';\nimport { productsApi } from '@rentalshop/utils';\nimport type { ProductFilters, ProductWithDetails } from '@rentalshop/types';\n\n// ============================================================================\n// TYPES\n// ============================================================================\n\nexport interface ProductsDataResponse {\n  products: ProductWithDetails[];\n  total: number;\n  page: number;\n  currentPage: number; // Alias for page\n  limit: number;\n  hasMore: boolean;\n  totalPages: number;\n}\n\nexport interface UseProductsDataOptions {\n  filters: ProductFilters;\n  enabled?: boolean;\n}\n\nexport interface UseProductsDataReturn {\n  data: ProductsDataResponse | null;\n  loading: boolean;\n  error: Error | null;\n  refetch: () => Promise<void>;\n  isStale: boolean;\n}\n\n// ============================================================================\n// HOOK\n// ============================================================================\n\n/**\n * ✅ MODERN PRODUCTS DATA HOOK\n * \n * Clean and simple wrapper around useDedupedApi for products\n * \n * Features:\n * - Automatic request deduplication\n * - Intelligent caching (30s stale time)\n * - Request cancellation and race condition protection\n * - Transform API response to consistent format\n * \n * Usage:\n * ```tsx\n * const { data, loading, error } = useProductsData({ \n *   filters: { page: 1, search: 'abc' }\n * });\n * ```\n */\nexport function useProductsData(options: UseProductsDataOptions): UseProductsDataReturn {\n  const { filters, enabled = true } = options;\n  \n  const result = useDedupedApi({\n    filters,\n    fetchFn: async (filters: ProductFilters) => {\n      console.log('📦 useProductsData: Fetching with filters:', filters);\n      \n      const response = await productsApi.searchProducts(filters);\n\n      if (!response.success || !response.data) {\n        throw new Error('Failed to fetch products');\n      }\n\n      // Transform API response to consistent format\n      const apiData = response.data as any;\n      const transformed: ProductsDataResponse = {\n        products: apiData.products || [],\n        total: apiData.total || 0,\n        page: apiData.page || 1,\n        currentPage: apiData.page || 1, // Alias for compatibility\n        limit: apiData.limit || 25,\n        hasMore: apiData.hasMore || false,\n        totalPages: apiData.totalPages || 1\n      };\n      \n      console.log('✅ useProductsData: Success:', {\n        productsCount: transformed.products.length,\n        total: transformed.total,\n        page: transformed.page\n      });\n      \n      return transformed;\n    },\n    enabled,\n    staleTime: 30000, // 30 seconds cache\n    cacheTime: 300000, // 5 minutes\n    refetchOnWindowFocus: false\n  });\n\n  return result;\n}\n","import { useDedupedApi } from '../utils/useDedupedApi';\nimport { subscriptionsApi } from '@rentalshop/utils';\n\n// ============================================================================\n// TYPES\n// ============================================================================\n\nexport interface SubscriptionFilters {\n  search?: string;\n  status?: string;\n  plan?: string;\n  merchant?: string;\n  page?: number;\n  limit?: number;\n  offset?: number;\n  sortBy?: string;\n  sortOrder?: 'asc' | 'desc';\n}\n\nexport interface SubscriptionsDataResponse {\n  subscriptions: any[];\n  total: number;\n  page: number;\n  currentPage: number;\n  limit: number;\n  hasMore: boolean;\n  totalPages: number;\n}\n\nexport interface UseSubscriptionsDataOptions {\n  filters: SubscriptionFilters;\n  enabled?: boolean;\n}\n\nexport interface UseSubscriptionsDataReturn {\n  data: SubscriptionsDataResponse | null;\n  loading: boolean;\n  error: Error | null;\n  refetch: () => Promise<void>;\n  isStale: boolean;\n}\n\n// ============================================================================\n// HOOK\n// ============================================================================\n\n/**\n * ✅ MODERN SUBSCRIPTIONS DATA HOOK\n * \n * Clean and simple wrapper around useDedupedApi for subscriptions\n * \n * Features:\n * - Automatic request deduplication\n * - Intelligent caching (30s stale time)\n * - Request cancellation and race condition protection\n * - Transform API response to consistent format\n * \n * Usage:\n * ```tsx\n * const { data, loading, error } = useSubscriptionsData({ \n *   filters: { page: 1, status: 'active' }\n * });\n * ```\n */\nexport function useSubscriptionsData(options: UseSubscriptionsDataOptions): UseSubscriptionsDataReturn {\n  const { filters, enabled = true } = options;\n  \n  const result = useDedupedApi({\n    filters,\n    fetchFn: async (filters: SubscriptionFilters) => {\n      console.log('💳 useSubscriptionsData: Fetching with filters:', filters);\n      \n      const response = await subscriptionsApi.search({\n        limit: filters.limit || 20,\n        offset: filters.offset || (filters.page ? (filters.page - 1) * (filters.limit || 20) : 0)\n      });\n\n      if (!response.success || !response.data) {\n        throw new Error('Failed to fetch subscriptions');\n      }\n\n      // Transform API response to consistent format\n      const apiData = response.data as any;\n      let subscriptionsArray: any[] = [];\n      let total = 0;\n      \n      console.log('💳 useSubscriptionsData - API Response:', {\n        hasData: !!apiData,\n        isArray: Array.isArray(apiData),\n        hasDataProperty: apiData && Array.isArray(apiData.data)\n      });\n      \n      if (Array.isArray(apiData)) {\n        subscriptionsArray = apiData;\n        total = apiData.length;\n      } else if (apiData && Array.isArray(apiData.data)) {\n        subscriptionsArray = apiData.data;\n        total = apiData.pagination?.total || apiData.data.length;\n      } else {\n        console.error('Invalid subscriptions data structure:', apiData);\n      }\n      \n      const page = filters.page || 1;\n      const limit = filters.limit || 20;\n      const totalPages = Math.ceil(total / limit);\n      \n      const transformed: SubscriptionsDataResponse = {\n        subscriptions: subscriptionsArray,\n        total,\n        page,\n        currentPage: page,\n        limit,\n        hasMore: page < totalPages,\n        totalPages\n      };\n      \n      console.log('✅ useSubscriptionsData: Success:', {\n        subscriptionsCount: transformed.subscriptions.length,\n        total: transformed.total,\n        page: transformed.page\n      });\n      \n      return transformed;\n    },\n    enabled,\n    staleTime: 30000, // 30 seconds cache\n    cacheTime: 300000, // 5 minutes\n    refetchOnWindowFocus: false\n  });\n\n  return result;\n}\n\n","'use client';\n\n// ============================================================================\n// SUBSCRIPTION ERROR HANDLER HOOK\n// ============================================================================\n\nimport { useState, useCallback } from 'react';\nimport { useToasts } from '@rentalshop/ui';\n\nexport interface SubscriptionError {\n  message: string;\n  subscriptionStatus?: string;\n  merchantStatus?: string;\n  code?: string;\n}\n\nexport interface UseSubscriptionErrorReturn {\n  handleSubscriptionError: (error: any) => void;\n  showSubscriptionError: (error: SubscriptionError) => void;\n  clearError: () => void;\n  error: SubscriptionError | null;\n}\n\n/**\n * Hook for handling subscription-related errors\n * Provides centralized error handling and user feedback\n */\nexport function useSubscriptionError(): UseSubscriptionErrorReturn {\n  const [error, setError] = useState<SubscriptionError | null>(null);\n  const { addToast } = useToasts();\n\n  const handleSubscriptionError = useCallback((error: any) => {\n    console.error('Subscription error:', error);\n\n    // Check if it's a subscription error\n    if (error?.error === 'SUBSCRIPTION_ERROR' || error?.code === 'SUBSCRIPTION_REQUIRED') {\n      const subscriptionError: SubscriptionError = {\n        message: error.message || 'Subscription error occurred',\n        subscriptionStatus: error.subscriptionStatus,\n        merchantStatus: error.merchantStatus,\n        code: error.code\n      };\n\n      setError(subscriptionError);\n      showSubscriptionError(subscriptionError);\n    } else {\n      // Handle other errors normally\n      addToast('error', 'Error', error?.message || 'An error occurred');\n    }\n  }, [addToast]);\n\n  const showSubscriptionError = useCallback((error: SubscriptionError) => {\n    const { subscriptionStatus, merchantStatus } = error;\n\n    let message = error.message;\n    let action = '';\n\n    // Customize message based on status\n    if (subscriptionStatus === 'paused') {\n      message = 'Your subscription is paused. Some features may be limited.';\n      action = 'Resume your subscription to access all features.';\n    } else if (subscriptionStatus === 'expired') {\n      message = 'Your subscription has expired. Please renew to continue.';\n      action = 'Choose a new plan to continue using the service.';\n    } else if (subscriptionStatus === 'cancelled') {\n      message = 'Your subscription has been cancelled.';\n      action = 'Choose a new plan to reactivate your account.';\n    } else if (subscriptionStatus === 'past_due') {\n      message = 'Payment is past due. Please update your payment method.';\n      action = 'Update your payment information to avoid service interruption.';\n    } else if (merchantStatus && !['active'].includes(merchantStatus)) {\n      message = `Your merchant account is ${merchantStatus}. Please contact support.`;\n      action = 'Contact support to resolve account issues.';\n    }\n\n    // Show error toast with action\n    addToast('error', 'Subscription Error', action ? `${message}\\n\\n${action}` : message, 8000);\n  }, [addToast]);\n\n  const clearError = useCallback(() => {\n    setError(null);\n  }, []);\n\n  return {\n    handleSubscriptionError,\n    showSubscriptionError,\n    clearError,\n    error\n  };\n}\n\nexport default useSubscriptionError;\n","'use client';\n\nimport { useState, useEffect, useCallback, useRef } from 'react';\n\n// ============================================================================\n// TYPES\n// ============================================================================\n\nexport interface ThrottledSearchOptions {\n  delay: number;\n  minLength: number;\n  onSearch: (query: string) => void;\n}\n\nexport interface ThrottledSearchReturn {\n  query: string;\n  isSearching: boolean;\n  handleSearchChange: (value: string) => void;\n  clearSearch: () => void;\n  cleanup: () => void;\n  setQuery: (value: string) => void;\n}\n\n// ============================================================================\n// USE THROTTLED SEARCH HOOK\n// ============================================================================\n\nexport function useThrottledSearch(options: ThrottledSearchOptions): ThrottledSearchReturn {\n  const { delay, minLength, onSearch } = options;\n  \n  const [query, setQuery] = useState('');\n  const [isSearching, setIsSearching] = useState(false);\n  const timeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const isSearchingRef = useRef(false);\n  const isInitialRender = useRef(true); // Track initial render\n  \n  // ✅ FIX: Use ref to store the latest onSearch callback to avoid recreating handleSearchChange\n  const onSearchRef = useRef(onSearch);\n  \n  // Update ref when onSearch changes\n  useEffect(() => {\n    onSearchRef.current = onSearch;\n  }, [onSearch]);\n\n  // ============================================================================\n  // SEARCH FUNCTIONS\n  // ============================================================================\n\n  const handleSearchChange = useCallback((value: string) => {\n    console.log('🔍 useThrottledSearch: handleSearchChange called with:', value);\n    setQuery(value);\n    \n    // Clear existing timeout\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n\n    // Only search if query meets minimum length\n    if (value.length >= minLength) {\n      console.log('🔍 useThrottledSearch: Query meets minLength, setting up timeout');\n      setIsSearching(true);\n      isSearchingRef.current = true;\n      \n      // Set new timeout for debounced search\n      timeoutRef.current = setTimeout(() => {\n        console.log('🔍 useThrottledSearch: Timeout executing, calling onSearch with:', value);\n        onSearchRef.current(value); // ✅ Use ref instead of direct callback\n        setIsSearching(false);\n        isSearchingRef.current = false;\n      }, delay);\n    } else if (value.length === 0) {\n      console.log('🔍 useThrottledSearch: Query is empty, clearing search');\n      // Clear search when query is empty\n      setIsSearching(false);\n      isSearchingRef.current = false;\n      if (!isInitialRender.current) {\n        onSearchRef.current(''); // ✅ Use ref instead of direct callback\n      }\n    } else {\n      console.log('🔍 useThrottledSearch: Query too short, not searching');\n      // Query too short, not searching\n      setIsSearching(false);\n      isSearchingRef.current = false;\n    }\n  }, [delay, minLength]); // ✅ Remove onSearch from dependencies\n\n  const clearSearch = useCallback(() => {\n    setQuery('');\n    setIsSearching(false);\n    isSearchingRef.current = false;\n    \n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n    \n    if (!isInitialRender.current) {\n      onSearchRef.current(''); // ✅ Use ref instead of direct callback\n    }\n  }, []); // ✅ Remove onSearch from dependencies\n\n  const cleanup = useCallback(() => {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n  }, []);\n\n  // ============================================================================\n  // EFFECTS\n  // ============================================================================\n\n  useEffect(() => {\n    // Mark that initial render is complete\n    isInitialRender.current = false;\n    \n    \n    // Cleanup on unmount\n    return cleanup;\n  }, [cleanup]);\n\n  // ============================================================================\n  // RETURN VALUES\n  // ============================================================================\n\n  return {\n    query,\n    isSearching,\n    handleSearchChange,\n    clearSearch,\n    cleanup,\n    setQuery,\n  };\n}\n","'use client';\n\nimport { useState, useCallback } from 'react';\nimport { \n  analyzeError, \n  handleApiErrorForUI, \n  withErrorHandlingForUI,\n  getToastType,\n  type ErrorInfo \n} from '@rentalshop/utils';\nimport { useToasts } from '@rentalshop/ui';\n\n/**\n * Toast Management Hooks\n * \n * This file contains hooks for managing toast notifications and error handling:\n * - useErrorHandler: Full-featured error handling with retry and login functionality\n * - useSimpleErrorHandler: Basic error handling with toast notifications\n * - useToastHandler: General toast functionality for both errors and success messages\n */\n\nexport interface UseErrorHandlerOptions {\n  onLogin?: () => void;\n  onRetry?: () => void;\n  onDismiss?: () => void;\n  autoHandleAuth?: boolean;\n}\n\nexport interface UseErrorHandlerReturn {\n  isLoading: boolean;\n  handleError: (error: any) => ErrorInfo;\n  handleApiCall: <T>(apiCall: () => Promise<T>) => Promise<{ data?: T; error?: ErrorInfo }>;\n  retry: () => void;\n  login: () => void;\n  showErrorToast: (error: any) => void;\n}\n\n/**\n * Hook for handling errors with toast notifications and user actions\n * \n * Features:\n * - Automatic error analysis and categorization\n * - Toast notifications for all error types\n * - Built-in retry and login functionality\n * - Loading state management\n * - Easy integration with API calls\n */\nexport const useErrorHandler = (options: UseErrorHandlerOptions = {}): UseErrorHandlerReturn => {\n  const {\n    onLogin,\n    onRetry,\n    onDismiss,\n    autoHandleAuth = true\n  } = options;\n\n  const [isLoading, setIsLoading] = useState(false);\n  const { addToast } = useToasts();\n\n  const handleError = useCallback((error: any): ErrorInfo => {\n    const errorInfo = analyzeError(error);\n    return errorInfo;\n  }, []);\n\n  const showErrorToast = useCallback((error: any) => {\n    const errorInfo = analyzeError(error);\n    const toastType = getToastType(errorInfo.type);\n    \n    // Create toast message with specific action guidance\n    let toastMessage = errorInfo.message;\n    \n    if (errorInfo.showLoginButton) {\n      if (errorInfo.type === 'auth') {\n        toastMessage += ' Click to log in again.';\n      } else if (errorInfo.type === 'permission') {\n        toastMessage += ' Click to log in with a different account.';\n      } else if (errorInfo.type === 'subscription') {\n        toastMessage += ' Click to log in and upgrade your plan.';\n      } else {\n        toastMessage += ' Click to log in.';\n      }\n    }\n    \n    addToast(toastType, errorInfo.title, toastMessage, 0); // No auto-hide for errors\n  }, [addToast]);\n\n  const handleApiCall = useCallback(async <T>(apiCall: () => Promise<T>) => {\n    setIsLoading(true);\n    \n    try {\n      const result = await withErrorHandlingForUI(apiCall);\n      \n      if (result.error) {\n        showErrorToast(result.error);\n      }\n      \n      return result;\n    } finally {\n      setIsLoading(false);\n    }\n  }, [showErrorToast]);\n\n  const retry = useCallback(() => {\n    if (onRetry) {\n      onRetry();\n    }\n  }, [onRetry]);\n\n  const login = useCallback(() => {\n    if (onLogin) {\n      onLogin();\n    } else if (typeof window !== 'undefined') {\n      // Default login behavior - redirect to login page\n    //   window.location.href = '/login';\n    }\n  }, [onLogin]);\n\n  return {\n    isLoading,\n    handleError,\n    handleApiCall,\n    retry,\n    login,\n    showErrorToast\n  };\n};\n\n/**\n * Simplified hook for basic error handling with toasts\n */\nexport const useSimpleErrorHandler = () => {\n  const { addToast } = useToasts();\n\n  const handleError = useCallback((error: any) => {\n    const errorInfo = analyzeError(error);\n    const toastType = getToastType(errorInfo.type);\n    \n    let toastMessage = errorInfo.message;\n    if (errorInfo.showLoginButton) {\n      if (errorInfo.type === 'auth') {\n        toastMessage += ' Click to log in again.';\n      } else if (errorInfo.type === 'permission') {\n        toastMessage += ' Click to log in with a different account.';\n      } else if (errorInfo.type === 'subscription') {\n        toastMessage += ' Click to log in and upgrade your plan.';\n      } else {\n        toastMessage += ' Click to log in.';\n      }\n    }\n    \n    addToast(toastType, errorInfo.title, toastMessage, 0);\n    return errorInfo;\n  }, [addToast]);\n\n  return {\n    handleError\n  };\n};\n\n/**\n * Toast handler hook that provides both error and success toast functionality\n * This is the recommended way to handle toasts in components\n */\nexport const useToastHandler = () => {\n  const { addToast } = useToasts();\n\n  const showError = useCallback((title: string, message?: string) => {\n    addToast('error', title, message, 0); // No auto-hide for errors\n  }, [addToast]);\n\n  const showSuccess = useCallback((title: string, message?: string) => {\n    addToast('success', title, message, 5000); // 5 second auto-hide for success\n  }, [addToast]);\n\n  const showWarning = useCallback((title: string, message?: string) => {\n    addToast('warning', title, message, 5000);\n  }, [addToast]);\n\n  const showInfo = useCallback((title: string, message?: string) => {\n    addToast('info', title, message, 5000);\n  }, [addToast]);\n\n  const handleError = useCallback((error: any) => {\n    const errorInfo = analyzeError(error);\n    const toastType = getToastType(errorInfo.type);\n    \n    let toastMessage = errorInfo.message;\n    if (errorInfo.showLoginButton) {\n      if (errorInfo.type === 'auth') {\n        toastMessage += ' Click to log in again.';\n      } else if (errorInfo.type === 'permission') {\n        toastMessage += ' Click to log in with a different account.';\n      } else if (errorInfo.type === 'subscription') {\n        toastMessage += ' Click to log in and upgrade your plan.';\n      } else {\n        toastMessage += ' Click to log in.';\n      }\n    }\n    \n    addToast(toastType, errorInfo.title, toastMessage, 0);\n    return errorInfo;\n  }, [addToast]);\n\n  return {\n    showError,\n    showSuccess,\n    showWarning,\n    showInfo,\n    handleError\n  };\n};\n","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n  return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n  function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nvar ownKeys = function(o) {\n  ownKeys = Object.getOwnPropertyNames || function (o) {\n    var ar = [];\n    for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n    return ar;\n  };\n  return ownKeys(o);\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose, inner;\n    if (async) {\n      if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n      dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n      if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n      dispose = value[Symbol.dispose];\n      if (async) inner = dispose;\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  var r, s = 0;\n  function next() {\n    while (r = env.stack.pop()) {\n      try {\n        if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\n        if (r.dispose) {\n          var result = r.dispose.call(r.value);\n          if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n        }\n        else s |= 1;\n      }\n      catch (e) {\n        fail(e);\n      }\n    }\n    if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\n  if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\n      return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\n          return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\n      });\n  }\n  return path;\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __esDecorate,\n  __runInitializers,\n  __propKey,\n  __setFunctionName,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n  __rewriteRelativeImportExtension,\n};\n","//\n// Main\n//\nexport function memoize(fn, options) {\n    var cache = options && options.cache ? options.cache : cacheDefault;\n    var serializer = options && options.serializer ? options.serializer : serializerDefault;\n    var strategy = options && options.strategy ? options.strategy : strategyDefault;\n    return strategy(fn, {\n        cache: cache,\n        serializer: serializer,\n    });\n}\n//\n// Strategy\n//\nfunction isPrimitive(value) {\n    return (value == null || typeof value === 'number' || typeof value === 'boolean'); // || typeof value === \"string\" 'unsafe' primitive for our needs\n}\nfunction monadic(fn, cache, serializer, arg) {\n    var cacheKey = isPrimitive(arg) ? arg : serializer(arg);\n    var computedValue = cache.get(cacheKey);\n    if (typeof computedValue === 'undefined') {\n        computedValue = fn.call(this, arg);\n        cache.set(cacheKey, computedValue);\n    }\n    return computedValue;\n}\nfunction variadic(fn, cache, serializer) {\n    var args = Array.prototype.slice.call(arguments, 3);\n    var cacheKey = serializer(args);\n    var computedValue = cache.get(cacheKey);\n    if (typeof computedValue === 'undefined') {\n        computedValue = fn.apply(this, args);\n        cache.set(cacheKey, computedValue);\n    }\n    return computedValue;\n}\nfunction assemble(fn, context, strategy, cache, serialize) {\n    return strategy.bind(context, fn, cache, serialize);\n}\nfunction strategyDefault(fn, options) {\n    var strategy = fn.length === 1 ? monadic : variadic;\n    return assemble(fn, this, strategy, options.cache.create(), options.serializer);\n}\nfunction strategyVariadic(fn, options) {\n    return assemble(fn, this, variadic, options.cache.create(), options.serializer);\n}\nfunction strategyMonadic(fn, options) {\n    return assemble(fn, this, monadic, options.cache.create(), options.serializer);\n}\n//\n// Serializer\n//\nvar serializerDefault = function () {\n    return JSON.stringify(arguments);\n};\n//\n// Cache\n//\nvar ObjectWithoutPrototypeCache = /** @class */ (function () {\n    function ObjectWithoutPrototypeCache() {\n        this.cache = Object.create(null);\n    }\n    ObjectWithoutPrototypeCache.prototype.get = function (key) {\n        return this.cache[key];\n    };\n    ObjectWithoutPrototypeCache.prototype.set = function (key, value) {\n        this.cache[key] = value;\n    };\n    return ObjectWithoutPrototypeCache;\n}());\nvar cacheDefault = {\n    create: function create() {\n        return new ObjectWithoutPrototypeCache();\n    },\n};\nexport var strategies = {\n    variadic: strategyVariadic,\n    monadic: strategyMonadic,\n};\n","export var ErrorKind;\n(function (ErrorKind) {\n    /** Argument is unclosed (e.g. `{0`) */\n    ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_CLOSING_BRACE\"] = 1] = \"EXPECT_ARGUMENT_CLOSING_BRACE\";\n    /** Argument is empty (e.g. `{}`). */\n    ErrorKind[ErrorKind[\"EMPTY_ARGUMENT\"] = 2] = \"EMPTY_ARGUMENT\";\n    /** Argument is malformed (e.g. `{foo!}``) */\n    ErrorKind[ErrorKind[\"MALFORMED_ARGUMENT\"] = 3] = \"MALFORMED_ARGUMENT\";\n    /** Expect an argument type (e.g. `{foo,}`) */\n    ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_TYPE\"] = 4] = \"EXPECT_ARGUMENT_TYPE\";\n    /** Unsupported argument type (e.g. `{foo,foo}`) */\n    ErrorKind[ErrorKind[\"INVALID_ARGUMENT_TYPE\"] = 5] = \"INVALID_ARGUMENT_TYPE\";\n    /** Expect an argument style (e.g. `{foo, number, }`) */\n    ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_STYLE\"] = 6] = \"EXPECT_ARGUMENT_STYLE\";\n    /** The number skeleton is invalid. */\n    ErrorKind[ErrorKind[\"INVALID_NUMBER_SKELETON\"] = 7] = \"INVALID_NUMBER_SKELETON\";\n    /** The date time skeleton is invalid. */\n    ErrorKind[ErrorKind[\"INVALID_DATE_TIME_SKELETON\"] = 8] = \"INVALID_DATE_TIME_SKELETON\";\n    /** Exepct a number skeleton following the `::` (e.g. `{foo, number, ::}`) */\n    ErrorKind[ErrorKind[\"EXPECT_NUMBER_SKELETON\"] = 9] = \"EXPECT_NUMBER_SKELETON\";\n    /** Exepct a date time skeleton following the `::` (e.g. `{foo, date, ::}`) */\n    ErrorKind[ErrorKind[\"EXPECT_DATE_TIME_SKELETON\"] = 10] = \"EXPECT_DATE_TIME_SKELETON\";\n    /** Unmatched apostrophes in the argument style (e.g. `{foo, number, 'test`) */\n    ErrorKind[ErrorKind[\"UNCLOSED_QUOTE_IN_ARGUMENT_STYLE\"] = 11] = \"UNCLOSED_QUOTE_IN_ARGUMENT_STYLE\";\n    /** Missing select argument options (e.g. `{foo, select}`) */\n    ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_OPTIONS\"] = 12] = \"EXPECT_SELECT_ARGUMENT_OPTIONS\";\n    /** Expecting an offset value in `plural` or `selectordinal` argument (e.g `{foo, plural, offset}`) */\n    ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE\"] = 13] = \"EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE\";\n    /** Offset value in `plural` or `selectordinal` is invalid (e.g. `{foo, plural, offset: x}`) */\n    ErrorKind[ErrorKind[\"INVALID_PLURAL_ARGUMENT_OFFSET_VALUE\"] = 14] = \"INVALID_PLURAL_ARGUMENT_OFFSET_VALUE\";\n    /** Expecting a selector in `select` argument (e.g `{foo, select}`) */\n    ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_SELECTOR\"] = 15] = \"EXPECT_SELECT_ARGUMENT_SELECTOR\";\n    /** Expecting a selector in `plural` or `selectordinal` argument (e.g `{foo, plural}`) */\n    ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_SELECTOR\"] = 16] = \"EXPECT_PLURAL_ARGUMENT_SELECTOR\";\n    /** Expecting a message fragment after the `select` selector (e.g. `{foo, select, apple}`) */\n    ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT\"] = 17] = \"EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT\";\n    /**\n     * Expecting a message fragment after the `plural` or `selectordinal` selector\n     * (e.g. `{foo, plural, one}`)\n     */\n    ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT\"] = 18] = \"EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT\";\n    /** Selector in `plural` or `selectordinal` is malformed (e.g. `{foo, plural, =x {#}}`) */\n    ErrorKind[ErrorKind[\"INVALID_PLURAL_ARGUMENT_SELECTOR\"] = 19] = \"INVALID_PLURAL_ARGUMENT_SELECTOR\";\n    /**\n     * Duplicate selectors in `plural` or `selectordinal` argument.\n     * (e.g. {foo, plural, one {#} one {#}})\n     */\n    ErrorKind[ErrorKind[\"DUPLICATE_PLURAL_ARGUMENT_SELECTOR\"] = 20] = \"DUPLICATE_PLURAL_ARGUMENT_SELECTOR\";\n    /** Duplicate selectors in `select` argument.\n     * (e.g. {foo, select, apple {apple} apple {apple}})\n     */\n    ErrorKind[ErrorKind[\"DUPLICATE_SELECT_ARGUMENT_SELECTOR\"] = 21] = \"DUPLICATE_SELECT_ARGUMENT_SELECTOR\";\n    /** Plural or select argument option must have `other` clause. */\n    ErrorKind[ErrorKind[\"MISSING_OTHER_CLAUSE\"] = 22] = \"MISSING_OTHER_CLAUSE\";\n    /** The tag is malformed. (e.g. `<bold!>foo</bold!>) */\n    ErrorKind[ErrorKind[\"INVALID_TAG\"] = 23] = \"INVALID_TAG\";\n    /** The tag name is invalid. (e.g. `<123>foo</123>`) */\n    ErrorKind[ErrorKind[\"INVALID_TAG_NAME\"] = 25] = \"INVALID_TAG_NAME\";\n    /** The closing tag does not match the opening tag. (e.g. `<bold>foo</italic>`) */\n    ErrorKind[ErrorKind[\"UNMATCHED_CLOSING_TAG\"] = 26] = \"UNMATCHED_CLOSING_TAG\";\n    /** The opening tag has unmatched closing tag. (e.g. `<bold>foo`) */\n    ErrorKind[ErrorKind[\"UNCLOSED_TAG\"] = 27] = \"UNCLOSED_TAG\";\n})(ErrorKind || (ErrorKind = {}));\n","export var TYPE;\n(function (TYPE) {\n    /**\n     * Raw text\n     */\n    TYPE[TYPE[\"literal\"] = 0] = \"literal\";\n    /**\n     * Variable w/o any format, e.g `var` in `this is a {var}`\n     */\n    TYPE[TYPE[\"argument\"] = 1] = \"argument\";\n    /**\n     * Variable w/ number format\n     */\n    TYPE[TYPE[\"number\"] = 2] = \"number\";\n    /**\n     * Variable w/ date format\n     */\n    TYPE[TYPE[\"date\"] = 3] = \"date\";\n    /**\n     * Variable w/ time format\n     */\n    TYPE[TYPE[\"time\"] = 4] = \"time\";\n    /**\n     * Variable w/ select format\n     */\n    TYPE[TYPE[\"select\"] = 5] = \"select\";\n    /**\n     * Variable w/ plural format\n     */\n    TYPE[TYPE[\"plural\"] = 6] = \"plural\";\n    /**\n     * Only possible within plural argument.\n     * This is the `#` symbol that will be substituted with the count.\n     */\n    TYPE[TYPE[\"pound\"] = 7] = \"pound\";\n    /**\n     * XML-like tag\n     */\n    TYPE[TYPE[\"tag\"] = 8] = \"tag\";\n})(TYPE || (TYPE = {}));\nexport var SKELETON_TYPE;\n(function (SKELETON_TYPE) {\n    SKELETON_TYPE[SKELETON_TYPE[\"number\"] = 0] = \"number\";\n    SKELETON_TYPE[SKELETON_TYPE[\"dateTime\"] = 1] = \"dateTime\";\n})(SKELETON_TYPE || (SKELETON_TYPE = {}));\n/**\n * Type Guards\n */\nexport function isLiteralElement(el) {\n    return el.type === TYPE.literal;\n}\nexport function isArgumentElement(el) {\n    return el.type === TYPE.argument;\n}\nexport function isNumberElement(el) {\n    return el.type === TYPE.number;\n}\nexport function isDateElement(el) {\n    return el.type === TYPE.date;\n}\nexport function isTimeElement(el) {\n    return el.type === TYPE.time;\n}\nexport function isSelectElement(el) {\n    return el.type === TYPE.select;\n}\nexport function isPluralElement(el) {\n    return el.type === TYPE.plural;\n}\nexport function isPoundElement(el) {\n    return el.type === TYPE.pound;\n}\nexport function isTagElement(el) {\n    return el.type === TYPE.tag;\n}\nexport function isNumberSkeleton(el) {\n    return !!(el && typeof el === 'object' && el.type === SKELETON_TYPE.number);\n}\nexport function isDateTimeSkeleton(el) {\n    return !!(el && typeof el === 'object' && el.type === SKELETON_TYPE.dateTime);\n}\nexport function createLiteralElement(value) {\n    return {\n        type: TYPE.literal,\n        value: value,\n    };\n}\nexport function createNumberElement(value, style) {\n    return {\n        type: TYPE.number,\n        value: value,\n        style: style,\n    };\n}\n","// @generated from regex-gen.ts\nexport var SPACE_SEPARATOR_REGEX = /[ \\xA0\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]/;\nexport var WHITE_SPACE_REGEX = /[\\t-\\r \\x85\\u200E\\u200F\\u2028\\u2029]/;\n","/**\n * https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * Credit: https://github.com/caridy/intl-datetimeformat-pattern/blob/master/index.js\n * with some tweaks\n */\nvar DATE_TIME_REGEX = /(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;\n/**\n * Parse Date time skeleton into Intl.DateTimeFormatOptions\n * Ref: https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * @public\n * @param skeleton skeleton string\n */\nexport function parseDateTimeSkeleton(skeleton) {\n    var result = {};\n    skeleton.replace(DATE_TIME_REGEX, function (match) {\n        var len = match.length;\n        switch (match[0]) {\n            // Era\n            case 'G':\n                result.era = len === 4 ? 'long' : len === 5 ? 'narrow' : 'short';\n                break;\n            // Year\n            case 'y':\n                result.year = len === 2 ? '2-digit' : 'numeric';\n                break;\n            case 'Y':\n            case 'u':\n            case 'U':\n            case 'r':\n                throw new RangeError('`Y/u/U/r` (year) patterns are not supported, use `y` instead');\n            // Quarter\n            case 'q':\n            case 'Q':\n                throw new RangeError('`q/Q` (quarter) patterns are not supported');\n            // Month\n            case 'M':\n            case 'L':\n                result.month = ['numeric', '2-digit', 'short', 'long', 'narrow'][len - 1];\n                break;\n            // Week\n            case 'w':\n            case 'W':\n                throw new RangeError('`w/W` (week) patterns are not supported');\n            case 'd':\n                result.day = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'D':\n            case 'F':\n            case 'g':\n                throw new RangeError('`D/F/g` (day) patterns are not supported, use `d` instead');\n            // Weekday\n            case 'E':\n                result.weekday = len === 4 ? 'long' : len === 5 ? 'narrow' : 'short';\n                break;\n            case 'e':\n                if (len < 4) {\n                    throw new RangeError('`e..eee` (weekday) patterns are not supported');\n                }\n                result.weekday = ['short', 'long', 'narrow', 'short'][len - 4];\n                break;\n            case 'c':\n                if (len < 4) {\n                    throw new RangeError('`c..ccc` (weekday) patterns are not supported');\n                }\n                result.weekday = ['short', 'long', 'narrow', 'short'][len - 4];\n                break;\n            // Period\n            case 'a': // AM, PM\n                result.hour12 = true;\n                break;\n            case 'b': // am, pm, noon, midnight\n            case 'B': // flexible day periods\n                throw new RangeError('`b/B` (period) patterns are not supported, use `a` instead');\n            // Hour\n            case 'h':\n                result.hourCycle = 'h12';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'H':\n                result.hourCycle = 'h23';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'K':\n                result.hourCycle = 'h11';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'k':\n                result.hourCycle = 'h24';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'j':\n            case 'J':\n            case 'C':\n                throw new RangeError('`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead');\n            // Minute\n            case 'm':\n                result.minute = ['numeric', '2-digit'][len - 1];\n                break;\n            // Second\n            case 's':\n                result.second = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'S':\n            case 'A':\n                throw new RangeError('`S/A` (second) patterns are not supported, use `s` instead');\n            // Zone\n            case 'z': // 1..3, 4: specific non-location format\n                result.timeZoneName = len < 4 ? 'short' : 'long';\n                break;\n            case 'Z': // 1..3, 4, 5: The ISO8601 varios formats\n            case 'O': // 1, 4: milliseconds in day short, long\n            case 'v': // 1, 4: generic non-location format\n            case 'V': // 1, 2, 3, 4: time zone ID or city\n            case 'X': // 1, 2, 3, 4: The ISO8601 varios formats\n            case 'x': // 1, 2, 3, 4: The ISO8601 varios formats\n                throw new RangeError('`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead');\n        }\n        return '';\n    });\n    return result;\n}\n","// @generated from regex-gen.ts\nexport var WHITE_SPACE_REGEX = /[\\t-\\r \\x85\\u200E\\u200F\\u2028\\u2029]/i;\n","import { __assign } from \"tslib\";\nimport { WHITE_SPACE_REGEX } from './regex.generated';\nexport function parseNumberSkeletonFromString(skeleton) {\n    if (skeleton.length === 0) {\n        throw new Error('Number skeleton cannot be empty');\n    }\n    // Parse the skeleton\n    var stringTokens = skeleton\n        .split(WHITE_SPACE_REGEX)\n        .filter(function (x) { return x.length > 0; });\n    var tokens = [];\n    for (var _i = 0, stringTokens_1 = stringTokens; _i < stringTokens_1.length; _i++) {\n        var stringToken = stringTokens_1[_i];\n        var stemAndOptions = stringToken.split('/');\n        if (stemAndOptions.length === 0) {\n            throw new Error('Invalid number skeleton');\n        }\n        var stem = stemAndOptions[0], options = stemAndOptions.slice(1);\n        for (var _a = 0, options_1 = options; _a < options_1.length; _a++) {\n            var option = options_1[_a];\n            if (option.length === 0) {\n                throw new Error('Invalid number skeleton');\n            }\n        }\n        tokens.push({ stem: stem, options: options });\n    }\n    return tokens;\n}\nfunction icuUnitToEcma(unit) {\n    return unit.replace(/^(.*?)-/, '');\n}\nvar FRACTION_PRECISION_REGEX = /^\\.(?:(0+)(\\*)?|(#+)|(0+)(#+))$/g;\nvar SIGNIFICANT_PRECISION_REGEX = /^(@+)?(\\+|#+)?[rs]?$/g;\nvar INTEGER_WIDTH_REGEX = /(\\*)(0+)|(#+)(0+)|(0+)/g;\nvar CONCISE_INTEGER_WIDTH_REGEX = /^(0+)$/;\nfunction parseSignificantPrecision(str) {\n    var result = {};\n    if (str[str.length - 1] === 'r') {\n        result.roundingPriority = 'morePrecision';\n    }\n    else if (str[str.length - 1] === 's') {\n        result.roundingPriority = 'lessPrecision';\n    }\n    str.replace(SIGNIFICANT_PRECISION_REGEX, function (_, g1, g2) {\n        // @@@ case\n        if (typeof g2 !== 'string') {\n            result.minimumSignificantDigits = g1.length;\n            result.maximumSignificantDigits = g1.length;\n        }\n        // @@@+ case\n        else if (g2 === '+') {\n            result.minimumSignificantDigits = g1.length;\n        }\n        // .### case\n        else if (g1[0] === '#') {\n            result.maximumSignificantDigits = g1.length;\n        }\n        // .@@## or .@@@ case\n        else {\n            result.minimumSignificantDigits = g1.length;\n            result.maximumSignificantDigits =\n                g1.length + (typeof g2 === 'string' ? g2.length : 0);\n        }\n        return '';\n    });\n    return result;\n}\nfunction parseSign(str) {\n    switch (str) {\n        case 'sign-auto':\n            return {\n                signDisplay: 'auto',\n            };\n        case 'sign-accounting':\n        case '()':\n            return {\n                currencySign: 'accounting',\n            };\n        case 'sign-always':\n        case '+!':\n            return {\n                signDisplay: 'always',\n            };\n        case 'sign-accounting-always':\n        case '()!':\n            return {\n                signDisplay: 'always',\n                currencySign: 'accounting',\n            };\n        case 'sign-except-zero':\n        case '+?':\n            return {\n                signDisplay: 'exceptZero',\n            };\n        case 'sign-accounting-except-zero':\n        case '()?':\n            return {\n                signDisplay: 'exceptZero',\n                currencySign: 'accounting',\n            };\n        case 'sign-never':\n        case '+_':\n            return {\n                signDisplay: 'never',\n            };\n    }\n}\nfunction parseConciseScientificAndEngineeringStem(stem) {\n    // Engineering\n    var result;\n    if (stem[0] === 'E' && stem[1] === 'E') {\n        result = {\n            notation: 'engineering',\n        };\n        stem = stem.slice(2);\n    }\n    else if (stem[0] === 'E') {\n        result = {\n            notation: 'scientific',\n        };\n        stem = stem.slice(1);\n    }\n    if (result) {\n        var signDisplay = stem.slice(0, 2);\n        if (signDisplay === '+!') {\n            result.signDisplay = 'always';\n            stem = stem.slice(2);\n        }\n        else if (signDisplay === '+?') {\n            result.signDisplay = 'exceptZero';\n            stem = stem.slice(2);\n        }\n        if (!CONCISE_INTEGER_WIDTH_REGEX.test(stem)) {\n            throw new Error('Malformed concise eng/scientific notation');\n        }\n        result.minimumIntegerDigits = stem.length;\n    }\n    return result;\n}\nfunction parseNotationOptions(opt) {\n    var result = {};\n    var signOpts = parseSign(opt);\n    if (signOpts) {\n        return signOpts;\n    }\n    return result;\n}\n/**\n * https://github.com/unicode-org/icu/blob/master/docs/userguide/format_parse/numbers/skeletons.md#skeleton-stems-and-options\n */\nexport function parseNumberSkeleton(tokens) {\n    var result = {};\n    for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n        var token = tokens_1[_i];\n        switch (token.stem) {\n            case 'percent':\n            case '%':\n                result.style = 'percent';\n                continue;\n            case '%x100':\n                result.style = 'percent';\n                result.scale = 100;\n                continue;\n            case 'currency':\n                result.style = 'currency';\n                result.currency = token.options[0];\n                continue;\n            case 'group-off':\n            case ',_':\n                result.useGrouping = false;\n                continue;\n            case 'precision-integer':\n            case '.':\n                result.maximumFractionDigits = 0;\n                continue;\n            case 'measure-unit':\n            case 'unit':\n                result.style = 'unit';\n                result.unit = icuUnitToEcma(token.options[0]);\n                continue;\n            case 'compact-short':\n            case 'K':\n                result.notation = 'compact';\n                result.compactDisplay = 'short';\n                continue;\n            case 'compact-long':\n            case 'KK':\n                result.notation = 'compact';\n                result.compactDisplay = 'long';\n                continue;\n            case 'scientific':\n                result = __assign(__assign(__assign({}, result), { notation: 'scientific' }), token.options.reduce(function (all, opt) { return (__assign(__assign({}, all), parseNotationOptions(opt))); }, {}));\n                continue;\n            case 'engineering':\n                result = __assign(__assign(__assign({}, result), { notation: 'engineering' }), token.options.reduce(function (all, opt) { return (__assign(__assign({}, all), parseNotationOptions(opt))); }, {}));\n                continue;\n            case 'notation-simple':\n                result.notation = 'standard';\n                continue;\n            // https://github.com/unicode-org/icu/blob/master/icu4c/source/i18n/unicode/unumberformatter.h\n            case 'unit-width-narrow':\n                result.currencyDisplay = 'narrowSymbol';\n                result.unitDisplay = 'narrow';\n                continue;\n            case 'unit-width-short':\n                result.currencyDisplay = 'code';\n                result.unitDisplay = 'short';\n                continue;\n            case 'unit-width-full-name':\n                result.currencyDisplay = 'name';\n                result.unitDisplay = 'long';\n                continue;\n            case 'unit-width-iso-code':\n                result.currencyDisplay = 'symbol';\n                continue;\n            case 'scale':\n                result.scale = parseFloat(token.options[0]);\n                continue;\n            case 'rounding-mode-floor':\n                result.roundingMode = 'floor';\n                continue;\n            case 'rounding-mode-ceiling':\n                result.roundingMode = 'ceil';\n                continue;\n            case 'rounding-mode-down':\n                result.roundingMode = 'trunc';\n                continue;\n            case 'rounding-mode-up':\n                result.roundingMode = 'expand';\n                continue;\n            case 'rounding-mode-half-even':\n                result.roundingMode = 'halfEven';\n                continue;\n            case 'rounding-mode-half-down':\n                result.roundingMode = 'halfTrunc';\n                continue;\n            case 'rounding-mode-half-up':\n                result.roundingMode = 'halfExpand';\n                continue;\n            // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#integer-width\n            case 'integer-width':\n                if (token.options.length > 1) {\n                    throw new RangeError('integer-width stems only accept a single optional option');\n                }\n                token.options[0].replace(INTEGER_WIDTH_REGEX, function (_, g1, g2, g3, g4, g5) {\n                    if (g1) {\n                        result.minimumIntegerDigits = g2.length;\n                    }\n                    else if (g3 && g4) {\n                        throw new Error('We currently do not support maximum integer digits');\n                    }\n                    else if (g5) {\n                        throw new Error('We currently do not support exact integer digits');\n                    }\n                    return '';\n                });\n                continue;\n        }\n        // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#integer-width\n        if (CONCISE_INTEGER_WIDTH_REGEX.test(token.stem)) {\n            result.minimumIntegerDigits = token.stem.length;\n            continue;\n        }\n        if (FRACTION_PRECISION_REGEX.test(token.stem)) {\n            // Precision\n            // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#fraction-precision\n            // precision-integer case\n            if (token.options.length > 1) {\n                throw new RangeError('Fraction-precision stems only accept a single optional option');\n            }\n            token.stem.replace(FRACTION_PRECISION_REGEX, function (_, g1, g2, g3, g4, g5) {\n                // .000* case (before ICU67 it was .000+)\n                if (g2 === '*') {\n                    result.minimumFractionDigits = g1.length;\n                }\n                // .### case\n                else if (g3 && g3[0] === '#') {\n                    result.maximumFractionDigits = g3.length;\n                }\n                // .00## case\n                else if (g4 && g5) {\n                    result.minimumFractionDigits = g4.length;\n                    result.maximumFractionDigits = g4.length + g5.length;\n                }\n                else {\n                    result.minimumFractionDigits = g1.length;\n                    result.maximumFractionDigits = g1.length;\n                }\n                return '';\n            });\n            var opt = token.options[0];\n            // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#trailing-zero-display\n            if (opt === 'w') {\n                result = __assign(__assign({}, result), { trailingZeroDisplay: 'stripIfInteger' });\n            }\n            else if (opt) {\n                result = __assign(__assign({}, result), parseSignificantPrecision(opt));\n            }\n            continue;\n        }\n        // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#significant-digits-precision\n        if (SIGNIFICANT_PRECISION_REGEX.test(token.stem)) {\n            result = __assign(__assign({}, result), parseSignificantPrecision(token.stem));\n            continue;\n        }\n        var signOpts = parseSign(token.stem);\n        if (signOpts) {\n            result = __assign(__assign({}, result), signOpts);\n        }\n        var conciseScientificAndEngineeringOpts = parseConciseScientificAndEngineeringStem(token.stem);\n        if (conciseScientificAndEngineeringOpts) {\n            result = __assign(__assign({}, result), conciseScientificAndEngineeringOpts);\n        }\n    }\n    return result;\n}\n","// @generated from time-data-gen.ts\n// prettier-ignore  \nexport var timeData = {\n    \"001\": [\n        \"H\",\n        \"h\"\n    ],\n    \"419\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"AC\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"AD\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"AE\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"AF\": [\n        \"H\",\n        \"hb\",\n        \"hB\",\n        \"h\"\n    ],\n    \"AG\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"AI\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"AL\": [\n        \"h\",\n        \"H\",\n        \"hB\"\n    ],\n    \"AM\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"AO\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"AR\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"AS\": [\n        \"h\",\n        \"H\"\n    ],\n    \"AT\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"AU\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"AW\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"AX\": [\n        \"H\"\n    ],\n    \"AZ\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"BA\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"BB\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"BD\": [\n        \"h\",\n        \"hB\",\n        \"H\"\n    ],\n    \"BE\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BF\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BG\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"BH\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"BI\": [\n        \"H\",\n        \"h\"\n    ],\n    \"BJ\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BL\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"BN\": [\n        \"hb\",\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"BO\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"BQ\": [\n        \"H\"\n    ],\n    \"BR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BS\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"BT\": [\n        \"h\",\n        \"H\"\n    ],\n    \"BW\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"BY\": [\n        \"H\",\n        \"h\"\n    ],\n    \"BZ\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"CA\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"CC\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"CD\": [\n        \"hB\",\n        \"H\"\n    ],\n    \"CF\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"CG\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"CH\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"CI\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"CK\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"CL\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"CM\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"CN\": [\n        \"H\",\n        \"hB\",\n        \"hb\",\n        \"h\"\n    ],\n    \"CO\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"CP\": [\n        \"H\"\n    ],\n    \"CR\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"CU\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"CV\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"CW\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"CX\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"CY\": [\n        \"h\",\n        \"H\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"CZ\": [\n        \"H\"\n    ],\n    \"DE\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"DG\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"DJ\": [\n        \"h\",\n        \"H\"\n    ],\n    \"DK\": [\n        \"H\"\n    ],\n    \"DM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"DO\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"DZ\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"EA\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"EC\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"EE\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"EG\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"EH\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"ER\": [\n        \"h\",\n        \"H\"\n    ],\n    \"ES\": [\n        \"H\",\n        \"hB\",\n        \"h\",\n        \"hb\"\n    ],\n    \"ET\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"FI\": [\n        \"H\"\n    ],\n    \"FJ\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"FK\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"FM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"FO\": [\n        \"H\",\n        \"h\"\n    ],\n    \"FR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GA\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GB\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"GD\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"GE\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"GF\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GG\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"GH\": [\n        \"h\",\n        \"H\"\n    ],\n    \"GI\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"GL\": [\n        \"H\",\n        \"h\"\n    ],\n    \"GM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"GN\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GP\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GQ\": [\n        \"H\",\n        \"hB\",\n        \"h\",\n        \"hb\"\n    ],\n    \"GR\": [\n        \"h\",\n        \"H\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"GT\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"GU\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"GW\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GY\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"HK\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"HN\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"HR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"HU\": [\n        \"H\",\n        \"h\"\n    ],\n    \"IC\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"ID\": [\n        \"H\"\n    ],\n    \"IE\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"IL\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"IM\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"IN\": [\n        \"h\",\n        \"H\"\n    ],\n    \"IO\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"IQ\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"IR\": [\n        \"hB\",\n        \"H\"\n    ],\n    \"IS\": [\n        \"H\"\n    ],\n    \"IT\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"JE\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"JM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"JO\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"JP\": [\n        \"H\",\n        \"K\",\n        \"h\"\n    ],\n    \"KE\": [\n        \"hB\",\n        \"hb\",\n        \"H\",\n        \"h\"\n    ],\n    \"KG\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"KH\": [\n        \"hB\",\n        \"h\",\n        \"H\",\n        \"hb\"\n    ],\n    \"KI\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"KM\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"KN\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"KP\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"KR\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"KW\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"KY\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"KZ\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"LA\": [\n        \"H\",\n        \"hb\",\n        \"hB\",\n        \"h\"\n    ],\n    \"LB\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"LC\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"LI\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"LK\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"LR\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"LS\": [\n        \"h\",\n        \"H\"\n    ],\n    \"LT\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"LU\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"LV\": [\n        \"H\",\n        \"hB\",\n        \"hb\",\n        \"h\"\n    ],\n    \"LY\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"MA\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"MC\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"MD\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"ME\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"MF\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"MG\": [\n        \"H\",\n        \"h\"\n    ],\n    \"MH\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"MK\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"ML\": [\n        \"H\"\n    ],\n    \"MM\": [\n        \"hB\",\n        \"hb\",\n        \"H\",\n        \"h\"\n    ],\n    \"MN\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"MO\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"MP\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"MQ\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"MR\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"MS\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"MT\": [\n        \"H\",\n        \"h\"\n    ],\n    \"MU\": [\n        \"H\",\n        \"h\"\n    ],\n    \"MV\": [\n        \"H\",\n        \"h\"\n    ],\n    \"MW\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"MX\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"MY\": [\n        \"hb\",\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"MZ\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"NA\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"NC\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"NE\": [\n        \"H\"\n    ],\n    \"NF\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"NG\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"NI\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"NL\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"NO\": [\n        \"H\",\n        \"h\"\n    ],\n    \"NP\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"NR\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"NU\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"NZ\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"OM\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"PA\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"PE\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"PF\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"PG\": [\n        \"h\",\n        \"H\"\n    ],\n    \"PH\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"PK\": [\n        \"h\",\n        \"hB\",\n        \"H\"\n    ],\n    \"PL\": [\n        \"H\",\n        \"h\"\n    ],\n    \"PM\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"PN\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"PR\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"PS\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"PT\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"PW\": [\n        \"h\",\n        \"H\"\n    ],\n    \"PY\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"QA\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"RE\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"RO\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"RS\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"RU\": [\n        \"H\"\n    ],\n    \"RW\": [\n        \"H\",\n        \"h\"\n    ],\n    \"SA\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"SB\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"SC\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"SD\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"SE\": [\n        \"H\"\n    ],\n    \"SG\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"SH\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"SI\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"SJ\": [\n        \"H\"\n    ],\n    \"SK\": [\n        \"H\"\n    ],\n    \"SL\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"SM\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"SN\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"SO\": [\n        \"h\",\n        \"H\"\n    ],\n    \"SR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"SS\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"ST\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"SV\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"SX\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"SY\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"SZ\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"TA\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"TC\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"TD\": [\n        \"h\",\n        \"H\",\n        \"hB\"\n    ],\n    \"TF\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"TG\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"TH\": [\n        \"H\",\n        \"h\"\n    ],\n    \"TJ\": [\n        \"H\",\n        \"h\"\n    ],\n    \"TL\": [\n        \"H\",\n        \"hB\",\n        \"hb\",\n        \"h\"\n    ],\n    \"TM\": [\n        \"H\",\n        \"h\"\n    ],\n    \"TN\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"TO\": [\n        \"h\",\n        \"H\"\n    ],\n    \"TR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"TT\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"TW\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"TZ\": [\n        \"hB\",\n        \"hb\",\n        \"H\",\n        \"h\"\n    ],\n    \"UA\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"UG\": [\n        \"hB\",\n        \"hb\",\n        \"H\",\n        \"h\"\n    ],\n    \"UM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"US\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"UY\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"UZ\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"VA\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"VC\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"VE\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"VG\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"VI\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"VN\": [\n        \"H\",\n        \"h\"\n    ],\n    \"VU\": [\n        \"h\",\n        \"H\"\n    ],\n    \"WF\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"WS\": [\n        \"h\",\n        \"H\"\n    ],\n    \"XK\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"YE\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"YT\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"ZA\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"ZM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"ZW\": [\n        \"H\",\n        \"h\"\n    ],\n    \"af-ZA\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"ar-001\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"ca-ES\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"en-001\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"en-HK\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"en-IL\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"en-MY\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"es-BR\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-ES\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-GQ\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"fr-CA\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"gl-ES\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"gu-IN\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"hi-IN\": [\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"it-CH\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"it-IT\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"kn-IN\": [\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"ml-IN\": [\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"mr-IN\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"pa-IN\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"ta-IN\": [\n        \"hB\",\n        \"h\",\n        \"hb\",\n        \"H\"\n    ],\n    \"te-IN\": [\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"zu-ZA\": [\n        \"H\",\n        \"hB\",\n        \"hb\",\n        \"h\"\n    ]\n};\n","import { timeData } from './time-data.generated';\n/**\n * Returns the best matching date time pattern if a date time skeleton\n * pattern is provided with a locale. Follows the Unicode specification:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#table-mapping-requested-time-skeletons-to-patterns\n * @param skeleton date time skeleton pattern that possibly includes j, J or C\n * @param locale\n */\nexport function getBestPattern(skeleton, locale) {\n    var skeletonCopy = '';\n    for (var patternPos = 0; patternPos < skeleton.length; patternPos++) {\n        var patternChar = skeleton.charAt(patternPos);\n        if (patternChar === 'j') {\n            var extraLength = 0;\n            while (patternPos + 1 < skeleton.length &&\n                skeleton.charAt(patternPos + 1) === patternChar) {\n                extraLength++;\n                patternPos++;\n            }\n            var hourLen = 1 + (extraLength & 1);\n            var dayPeriodLen = extraLength < 2 ? 1 : 3 + (extraLength >> 1);\n            var dayPeriodChar = 'a';\n            var hourChar = getDefaultHourSymbolFromLocale(locale);\n            if (hourChar == 'H' || hourChar == 'k') {\n                dayPeriodLen = 0;\n            }\n            while (dayPeriodLen-- > 0) {\n                skeletonCopy += dayPeriodChar;\n            }\n            while (hourLen-- > 0) {\n                skeletonCopy = hourChar + skeletonCopy;\n            }\n        }\n        else if (patternChar === 'J') {\n            skeletonCopy += 'H';\n        }\n        else {\n            skeletonCopy += patternChar;\n        }\n    }\n    return skeletonCopy;\n}\n/**\n * Maps the [hour cycle type](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale/hourCycle)\n * of the given `locale` to the corresponding time pattern.\n * @param locale\n */\nfunction getDefaultHourSymbolFromLocale(locale) {\n    var hourCycle = locale.hourCycle;\n    if (hourCycle === undefined &&\n        // @ts-ignore hourCycle(s) is not identified yet\n        locale.hourCycles &&\n        // @ts-ignore\n        locale.hourCycles.length) {\n        // @ts-ignore\n        hourCycle = locale.hourCycles[0];\n    }\n    if (hourCycle) {\n        switch (hourCycle) {\n            case 'h24':\n                return 'k';\n            case 'h23':\n                return 'H';\n            case 'h12':\n                return 'h';\n            case 'h11':\n                return 'K';\n            default:\n                throw new Error('Invalid hourCycle');\n        }\n    }\n    // TODO: Once hourCycle is fully supported remove the following with data generation\n    var languageTag = locale.language;\n    var regionTag;\n    if (languageTag !== 'root') {\n        regionTag = locale.maximize().region;\n    }\n    var hourCycles = timeData[regionTag || ''] ||\n        timeData[languageTag || ''] ||\n        timeData[\"\".concat(languageTag, \"-001\")] ||\n        timeData['001'];\n    return hourCycles[0];\n}\n","var _a;\nimport { __assign } from \"tslib\";\nimport { ErrorKind } from './error';\nimport { SKELETON_TYPE, TYPE, } from './types';\nimport { SPACE_SEPARATOR_REGEX } from './regex.generated';\nimport { parseNumberSkeleton, parseNumberSkeletonFromString, parseDateTimeSkeleton, } from '@formatjs/icu-skeleton-parser';\nimport { getBestPattern } from './date-time-pattern-generator';\nvar SPACE_SEPARATOR_START_REGEX = new RegExp(\"^\".concat(SPACE_SEPARATOR_REGEX.source, \"*\"));\nvar SPACE_SEPARATOR_END_REGEX = new RegExp(\"\".concat(SPACE_SEPARATOR_REGEX.source, \"*$\"));\nfunction createLocation(start, end) {\n    return { start: start, end: end };\n}\n// #region Ponyfills\n// Consolidate these variables up top for easier toggling during debugging\nvar hasNativeStartsWith = !!String.prototype.startsWith && '_a'.startsWith('a', 1);\nvar hasNativeFromCodePoint = !!String.fromCodePoint;\nvar hasNativeFromEntries = !!Object.fromEntries;\nvar hasNativeCodePointAt = !!String.prototype.codePointAt;\nvar hasTrimStart = !!String.prototype.trimStart;\nvar hasTrimEnd = !!String.prototype.trimEnd;\nvar hasNativeIsSafeInteger = !!Number.isSafeInteger;\nvar isSafeInteger = hasNativeIsSafeInteger\n    ? Number.isSafeInteger\n    : function (n) {\n        return (typeof n === 'number' &&\n            isFinite(n) &&\n            Math.floor(n) === n &&\n            Math.abs(n) <= 0x1fffffffffffff);\n    };\n// IE11 does not support y and u.\nvar REGEX_SUPPORTS_U_AND_Y = true;\ntry {\n    var re = RE('([^\\\\p{White_Space}\\\\p{Pattern_Syntax}]*)', 'yu');\n    /**\n     * legacy Edge or Xbox One browser\n     * Unicode flag support: supported\n     * Pattern_Syntax support: not supported\n     * See https://github.com/formatjs/formatjs/issues/2822\n     */\n    REGEX_SUPPORTS_U_AND_Y = ((_a = re.exec('a')) === null || _a === void 0 ? void 0 : _a[0]) === 'a';\n}\ncatch (_) {\n    REGEX_SUPPORTS_U_AND_Y = false;\n}\nvar startsWith = hasNativeStartsWith\n    ? // Native\n        function startsWith(s, search, position) {\n            return s.startsWith(search, position);\n        }\n    : // For IE11\n        function startsWith(s, search, position) {\n            return s.slice(position, position + search.length) === search;\n        };\nvar fromCodePoint = hasNativeFromCodePoint\n    ? String.fromCodePoint\n    : // IE11\n        function fromCodePoint() {\n            var codePoints = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                codePoints[_i] = arguments[_i];\n            }\n            var elements = '';\n            var length = codePoints.length;\n            var i = 0;\n            var code;\n            while (length > i) {\n                code = codePoints[i++];\n                if (code > 0x10ffff)\n                    throw RangeError(code + ' is not a valid code point');\n                elements +=\n                    code < 0x10000\n                        ? String.fromCharCode(code)\n                        : String.fromCharCode(((code -= 0x10000) >> 10) + 0xd800, (code % 0x400) + 0xdc00);\n            }\n            return elements;\n        };\nvar fromEntries = \n// native\nhasNativeFromEntries\n    ? Object.fromEntries\n    : // Ponyfill\n        function fromEntries(entries) {\n            var obj = {};\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                var _a = entries_1[_i], k = _a[0], v = _a[1];\n                obj[k] = v;\n            }\n            return obj;\n        };\nvar codePointAt = hasNativeCodePointAt\n    ? // Native\n        function codePointAt(s, index) {\n            return s.codePointAt(index);\n        }\n    : // IE 11\n        function codePointAt(s, index) {\n            var size = s.length;\n            if (index < 0 || index >= size) {\n                return undefined;\n            }\n            var first = s.charCodeAt(index);\n            var second;\n            return first < 0xd800 ||\n                first > 0xdbff ||\n                index + 1 === size ||\n                (second = s.charCodeAt(index + 1)) < 0xdc00 ||\n                second > 0xdfff\n                ? first\n                : ((first - 0xd800) << 10) + (second - 0xdc00) + 0x10000;\n        };\nvar trimStart = hasTrimStart\n    ? // Native\n        function trimStart(s) {\n            return s.trimStart();\n        }\n    : // Ponyfill\n        function trimStart(s) {\n            return s.replace(SPACE_SEPARATOR_START_REGEX, '');\n        };\nvar trimEnd = hasTrimEnd\n    ? // Native\n        function trimEnd(s) {\n            return s.trimEnd();\n        }\n    : // Ponyfill\n        function trimEnd(s) {\n            return s.replace(SPACE_SEPARATOR_END_REGEX, '');\n        };\n// Prevent minifier to translate new RegExp to literal form that might cause syntax error on IE11.\nfunction RE(s, flag) {\n    return new RegExp(s, flag);\n}\n// #endregion\nvar matchIdentifierAtIndex;\nif (REGEX_SUPPORTS_U_AND_Y) {\n    // Native\n    var IDENTIFIER_PREFIX_RE_1 = RE('([^\\\\p{White_Space}\\\\p{Pattern_Syntax}]*)', 'yu');\n    matchIdentifierAtIndex = function matchIdentifierAtIndex(s, index) {\n        var _a;\n        IDENTIFIER_PREFIX_RE_1.lastIndex = index;\n        var match = IDENTIFIER_PREFIX_RE_1.exec(s);\n        return (_a = match[1]) !== null && _a !== void 0 ? _a : '';\n    };\n}\nelse {\n    // IE11\n    matchIdentifierAtIndex = function matchIdentifierAtIndex(s, index) {\n        var match = [];\n        while (true) {\n            var c = codePointAt(s, index);\n            if (c === undefined || _isWhiteSpace(c) || _isPatternSyntax(c)) {\n                break;\n            }\n            match.push(c);\n            index += c >= 0x10000 ? 2 : 1;\n        }\n        return fromCodePoint.apply(void 0, match);\n    };\n}\nvar Parser = /** @class */ (function () {\n    function Parser(message, options) {\n        if (options === void 0) { options = {}; }\n        this.message = message;\n        this.position = { offset: 0, line: 1, column: 1 };\n        this.ignoreTag = !!options.ignoreTag;\n        this.locale = options.locale;\n        this.requiresOtherClause = !!options.requiresOtherClause;\n        this.shouldParseSkeletons = !!options.shouldParseSkeletons;\n    }\n    Parser.prototype.parse = function () {\n        if (this.offset() !== 0) {\n            throw Error('parser can only be used once');\n        }\n        return this.parseMessage(0, '', false);\n    };\n    Parser.prototype.parseMessage = function (nestingLevel, parentArgType, expectingCloseTag) {\n        var elements = [];\n        while (!this.isEOF()) {\n            var char = this.char();\n            if (char === 123 /* `{` */) {\n                var result = this.parseArgument(nestingLevel, expectingCloseTag);\n                if (result.err) {\n                    return result;\n                }\n                elements.push(result.val);\n            }\n            else if (char === 125 /* `}` */ && nestingLevel > 0) {\n                break;\n            }\n            else if (char === 35 /* `#` */ &&\n                (parentArgType === 'plural' || parentArgType === 'selectordinal')) {\n                var position = this.clonePosition();\n                this.bump();\n                elements.push({\n                    type: TYPE.pound,\n                    location: createLocation(position, this.clonePosition()),\n                });\n            }\n            else if (char === 60 /* `<` */ &&\n                !this.ignoreTag &&\n                this.peek() === 47 // char code for '/'\n            ) {\n                if (expectingCloseTag) {\n                    break;\n                }\n                else {\n                    return this.error(ErrorKind.UNMATCHED_CLOSING_TAG, createLocation(this.clonePosition(), this.clonePosition()));\n                }\n            }\n            else if (char === 60 /* `<` */ &&\n                !this.ignoreTag &&\n                _isAlpha(this.peek() || 0)) {\n                var result = this.parseTag(nestingLevel, parentArgType);\n                if (result.err) {\n                    return result;\n                }\n                elements.push(result.val);\n            }\n            else {\n                var result = this.parseLiteral(nestingLevel, parentArgType);\n                if (result.err) {\n                    return result;\n                }\n                elements.push(result.val);\n            }\n        }\n        return { val: elements, err: null };\n    };\n    /**\n     * A tag name must start with an ASCII lower/upper case letter. The grammar is based on the\n     * [custom element name][] except that a dash is NOT always mandatory and uppercase letters\n     * are accepted:\n     *\n     * ```\n     * tag ::= \"<\" tagName (whitespace)* \"/>\" | \"<\" tagName (whitespace)* \">\" message \"</\" tagName (whitespace)* \">\"\n     * tagName ::= [a-z] (PENChar)*\n     * PENChar ::=\n     *     \"-\" | \".\" | [0-9] | \"_\" | [a-z] | [A-Z] | #xB7 | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x37D] |\n     *     [#x37F-#x1FFF] | [#x200C-#x200D] | [#x203F-#x2040] | [#x2070-#x218F] | [#x2C00-#x2FEF] |\n     *     [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\n     * ```\n     *\n     * [custom element name]: https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name\n     * NOTE: We're a bit more lax here since HTML technically does not allow uppercase HTML element but we do\n     * since other tag-based engines like React allow it\n     */\n    Parser.prototype.parseTag = function (nestingLevel, parentArgType) {\n        var startPosition = this.clonePosition();\n        this.bump(); // `<`\n        var tagName = this.parseTagName();\n        this.bumpSpace();\n        if (this.bumpIf('/>')) {\n            // Self closing tag\n            return {\n                val: {\n                    type: TYPE.literal,\n                    value: \"<\".concat(tagName, \"/>\"),\n                    location: createLocation(startPosition, this.clonePosition()),\n                },\n                err: null,\n            };\n        }\n        else if (this.bumpIf('>')) {\n            var childrenResult = this.parseMessage(nestingLevel + 1, parentArgType, true);\n            if (childrenResult.err) {\n                return childrenResult;\n            }\n            var children = childrenResult.val;\n            // Expecting a close tag\n            var endTagStartPosition = this.clonePosition();\n            if (this.bumpIf('</')) {\n                if (this.isEOF() || !_isAlpha(this.char())) {\n                    return this.error(ErrorKind.INVALID_TAG, createLocation(endTagStartPosition, this.clonePosition()));\n                }\n                var closingTagNameStartPosition = this.clonePosition();\n                var closingTagName = this.parseTagName();\n                if (tagName !== closingTagName) {\n                    return this.error(ErrorKind.UNMATCHED_CLOSING_TAG, createLocation(closingTagNameStartPosition, this.clonePosition()));\n                }\n                this.bumpSpace();\n                if (!this.bumpIf('>')) {\n                    return this.error(ErrorKind.INVALID_TAG, createLocation(endTagStartPosition, this.clonePosition()));\n                }\n                return {\n                    val: {\n                        type: TYPE.tag,\n                        value: tagName,\n                        children: children,\n                        location: createLocation(startPosition, this.clonePosition()),\n                    },\n                    err: null,\n                };\n            }\n            else {\n                return this.error(ErrorKind.UNCLOSED_TAG, createLocation(startPosition, this.clonePosition()));\n            }\n        }\n        else {\n            return this.error(ErrorKind.INVALID_TAG, createLocation(startPosition, this.clonePosition()));\n        }\n    };\n    /**\n     * This method assumes that the caller has peeked ahead for the first tag character.\n     */\n    Parser.prototype.parseTagName = function () {\n        var startOffset = this.offset();\n        this.bump(); // the first tag name character\n        while (!this.isEOF() && _isPotentialElementNameChar(this.char())) {\n            this.bump();\n        }\n        return this.message.slice(startOffset, this.offset());\n    };\n    Parser.prototype.parseLiteral = function (nestingLevel, parentArgType) {\n        var start = this.clonePosition();\n        var value = '';\n        while (true) {\n            var parseQuoteResult = this.tryParseQuote(parentArgType);\n            if (parseQuoteResult) {\n                value += parseQuoteResult;\n                continue;\n            }\n            var parseUnquotedResult = this.tryParseUnquoted(nestingLevel, parentArgType);\n            if (parseUnquotedResult) {\n                value += parseUnquotedResult;\n                continue;\n            }\n            var parseLeftAngleResult = this.tryParseLeftAngleBracket();\n            if (parseLeftAngleResult) {\n                value += parseLeftAngleResult;\n                continue;\n            }\n            break;\n        }\n        var location = createLocation(start, this.clonePosition());\n        return {\n            val: { type: TYPE.literal, value: value, location: location },\n            err: null,\n        };\n    };\n    Parser.prototype.tryParseLeftAngleBracket = function () {\n        if (!this.isEOF() &&\n            this.char() === 60 /* `<` */ &&\n            (this.ignoreTag ||\n                // If at the opening tag or closing tag position, bail.\n                !_isAlphaOrSlash(this.peek() || 0))) {\n            this.bump(); // `<`\n            return '<';\n        }\n        return null;\n    };\n    /**\n     * Starting with ICU 4.8, an ASCII apostrophe only starts quoted text if it immediately precedes\n     * a character that requires quoting (that is, \"only where needed\"), and works the same in\n     * nested messages as on the top level of the pattern. The new behavior is otherwise compatible.\n     */\n    Parser.prototype.tryParseQuote = function (parentArgType) {\n        if (this.isEOF() || this.char() !== 39 /* `'` */) {\n            return null;\n        }\n        // Parse escaped char following the apostrophe, or early return if there is no escaped char.\n        // Check if is valid escaped character\n        switch (this.peek()) {\n            case 39 /* `'` */:\n                // double quote, should return as a single quote.\n                this.bump();\n                this.bump();\n                return \"'\";\n            // '{', '<', '>', '}'\n            case 123:\n            case 60:\n            case 62:\n            case 125:\n                break;\n            case 35: // '#'\n                if (parentArgType === 'plural' || parentArgType === 'selectordinal') {\n                    break;\n                }\n                return null;\n            default:\n                return null;\n        }\n        this.bump(); // apostrophe\n        var codePoints = [this.char()]; // escaped char\n        this.bump();\n        // read chars until the optional closing apostrophe is found\n        while (!this.isEOF()) {\n            var ch = this.char();\n            if (ch === 39 /* `'` */) {\n                if (this.peek() === 39 /* `'` */) {\n                    codePoints.push(39);\n                    // Bump one more time because we need to skip 2 characters.\n                    this.bump();\n                }\n                else {\n                    // Optional closing apostrophe.\n                    this.bump();\n                    break;\n                }\n            }\n            else {\n                codePoints.push(ch);\n            }\n            this.bump();\n        }\n        return fromCodePoint.apply(void 0, codePoints);\n    };\n    Parser.prototype.tryParseUnquoted = function (nestingLevel, parentArgType) {\n        if (this.isEOF()) {\n            return null;\n        }\n        var ch = this.char();\n        if (ch === 60 /* `<` */ ||\n            ch === 123 /* `{` */ ||\n            (ch === 35 /* `#` */ &&\n                (parentArgType === 'plural' || parentArgType === 'selectordinal')) ||\n            (ch === 125 /* `}` */ && nestingLevel > 0)) {\n            return null;\n        }\n        else {\n            this.bump();\n            return fromCodePoint(ch);\n        }\n    };\n    Parser.prototype.parseArgument = function (nestingLevel, expectingCloseTag) {\n        var openingBracePosition = this.clonePosition();\n        this.bump(); // `{`\n        this.bumpSpace();\n        if (this.isEOF()) {\n            return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        if (this.char() === 125 /* `}` */) {\n            this.bump();\n            return this.error(ErrorKind.EMPTY_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        // argument name\n        var value = this.parseIdentifierIfPossible().value;\n        if (!value) {\n            return this.error(ErrorKind.MALFORMED_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        this.bumpSpace();\n        if (this.isEOF()) {\n            return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        switch (this.char()) {\n            // Simple argument: `{name}`\n            case 125 /* `}` */: {\n                this.bump(); // `}`\n                return {\n                    val: {\n                        type: TYPE.argument,\n                        // value does not include the opening and closing braces.\n                        value: value,\n                        location: createLocation(openingBracePosition, this.clonePosition()),\n                    },\n                    err: null,\n                };\n            }\n            // Argument with options: `{name, format, ...}`\n            case 44 /* `,` */: {\n                this.bump(); // `,`\n                this.bumpSpace();\n                if (this.isEOF()) {\n                    return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n                }\n                return this.parseArgumentOptions(nestingLevel, expectingCloseTag, value, openingBracePosition);\n            }\n            default:\n                return this.error(ErrorKind.MALFORMED_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n        }\n    };\n    /**\n     * Advance the parser until the end of the identifier, if it is currently on\n     * an identifier character. Return an empty string otherwise.\n     */\n    Parser.prototype.parseIdentifierIfPossible = function () {\n        var startingPosition = this.clonePosition();\n        var startOffset = this.offset();\n        var value = matchIdentifierAtIndex(this.message, startOffset);\n        var endOffset = startOffset + value.length;\n        this.bumpTo(endOffset);\n        var endPosition = this.clonePosition();\n        var location = createLocation(startingPosition, endPosition);\n        return { value: value, location: location };\n    };\n    Parser.prototype.parseArgumentOptions = function (nestingLevel, expectingCloseTag, value, openingBracePosition) {\n        var _a;\n        // Parse this range:\n        // {name, type, style}\n        //        ^---^\n        var typeStartPosition = this.clonePosition();\n        var argType = this.parseIdentifierIfPossible().value;\n        var typeEndPosition = this.clonePosition();\n        switch (argType) {\n            case '':\n                // Expecting a style string number, date, time, plural, selectordinal, or select.\n                return this.error(ErrorKind.EXPECT_ARGUMENT_TYPE, createLocation(typeStartPosition, typeEndPosition));\n            case 'number':\n            case 'date':\n            case 'time': {\n                // Parse this range:\n                // {name, number, style}\n                //              ^-------^\n                this.bumpSpace();\n                var styleAndLocation = null;\n                if (this.bumpIf(',')) {\n                    this.bumpSpace();\n                    var styleStartPosition = this.clonePosition();\n                    var result = this.parseSimpleArgStyleIfPossible();\n                    if (result.err) {\n                        return result;\n                    }\n                    var style = trimEnd(result.val);\n                    if (style.length === 0) {\n                        return this.error(ErrorKind.EXPECT_ARGUMENT_STYLE, createLocation(this.clonePosition(), this.clonePosition()));\n                    }\n                    var styleLocation = createLocation(styleStartPosition, this.clonePosition());\n                    styleAndLocation = { style: style, styleLocation: styleLocation };\n                }\n                var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n                if (argCloseResult.err) {\n                    return argCloseResult;\n                }\n                var location_1 = createLocation(openingBracePosition, this.clonePosition());\n                // Extract style or skeleton\n                if (styleAndLocation && startsWith(styleAndLocation === null || styleAndLocation === void 0 ? void 0 : styleAndLocation.style, '::', 0)) {\n                    // Skeleton starts with `::`.\n                    var skeleton = trimStart(styleAndLocation.style.slice(2));\n                    if (argType === 'number') {\n                        var result = this.parseNumberSkeletonFromString(skeleton, styleAndLocation.styleLocation);\n                        if (result.err) {\n                            return result;\n                        }\n                        return {\n                            val: { type: TYPE.number, value: value, location: location_1, style: result.val },\n                            err: null,\n                        };\n                    }\n                    else {\n                        if (skeleton.length === 0) {\n                            return this.error(ErrorKind.EXPECT_DATE_TIME_SKELETON, location_1);\n                        }\n                        var dateTimePattern = skeleton;\n                        // Get \"best match\" pattern only if locale is passed, if not, let it\n                        // pass as-is where `parseDateTimeSkeleton()` will throw an error\n                        // for unsupported patterns.\n                        if (this.locale) {\n                            dateTimePattern = getBestPattern(skeleton, this.locale);\n                        }\n                        var style = {\n                            type: SKELETON_TYPE.dateTime,\n                            pattern: dateTimePattern,\n                            location: styleAndLocation.styleLocation,\n                            parsedOptions: this.shouldParseSkeletons\n                                ? parseDateTimeSkeleton(dateTimePattern)\n                                : {},\n                        };\n                        var type = argType === 'date' ? TYPE.date : TYPE.time;\n                        return {\n                            val: { type: type, value: value, location: location_1, style: style },\n                            err: null,\n                        };\n                    }\n                }\n                // Regular style or no style.\n                return {\n                    val: {\n                        type: argType === 'number'\n                            ? TYPE.number\n                            : argType === 'date'\n                                ? TYPE.date\n                                : TYPE.time,\n                        value: value,\n                        location: location_1,\n                        style: (_a = styleAndLocation === null || styleAndLocation === void 0 ? void 0 : styleAndLocation.style) !== null && _a !== void 0 ? _a : null,\n                    },\n                    err: null,\n                };\n            }\n            case 'plural':\n            case 'selectordinal':\n            case 'select': {\n                // Parse this range:\n                // {name, plural, options}\n                //              ^---------^\n                var typeEndPosition_1 = this.clonePosition();\n                this.bumpSpace();\n                if (!this.bumpIf(',')) {\n                    return this.error(ErrorKind.EXPECT_SELECT_ARGUMENT_OPTIONS, createLocation(typeEndPosition_1, __assign({}, typeEndPosition_1)));\n                }\n                this.bumpSpace();\n                // Parse offset:\n                // {name, plural, offset:1, options}\n                //                ^-----^\n                //\n                // or the first option:\n                //\n                // {name, plural, one {...} other {...}}\n                //                ^--^\n                var identifierAndLocation = this.parseIdentifierIfPossible();\n                var pluralOffset = 0;\n                if (argType !== 'select' && identifierAndLocation.value === 'offset') {\n                    if (!this.bumpIf(':')) {\n                        return this.error(ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE, createLocation(this.clonePosition(), this.clonePosition()));\n                    }\n                    this.bumpSpace();\n                    var result = this.tryParseDecimalInteger(ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE, ErrorKind.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);\n                    if (result.err) {\n                        return result;\n                    }\n                    // Parse another identifier for option parsing\n                    this.bumpSpace();\n                    identifierAndLocation = this.parseIdentifierIfPossible();\n                    pluralOffset = result.val;\n                }\n                var optionsResult = this.tryParsePluralOrSelectOptions(nestingLevel, argType, expectingCloseTag, identifierAndLocation);\n                if (optionsResult.err) {\n                    return optionsResult;\n                }\n                var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n                if (argCloseResult.err) {\n                    return argCloseResult;\n                }\n                var location_2 = createLocation(openingBracePosition, this.clonePosition());\n                if (argType === 'select') {\n                    return {\n                        val: {\n                            type: TYPE.select,\n                            value: value,\n                            options: fromEntries(optionsResult.val),\n                            location: location_2,\n                        },\n                        err: null,\n                    };\n                }\n                else {\n                    return {\n                        val: {\n                            type: TYPE.plural,\n                            value: value,\n                            options: fromEntries(optionsResult.val),\n                            offset: pluralOffset,\n                            pluralType: argType === 'plural' ? 'cardinal' : 'ordinal',\n                            location: location_2,\n                        },\n                        err: null,\n                    };\n                }\n            }\n            default:\n                return this.error(ErrorKind.INVALID_ARGUMENT_TYPE, createLocation(typeStartPosition, typeEndPosition));\n        }\n    };\n    Parser.prototype.tryParseArgumentClose = function (openingBracePosition) {\n        // Parse: {value, number, ::currency/GBP }\n        //\n        if (this.isEOF() || this.char() !== 125 /* `}` */) {\n            return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        this.bump(); // `}`\n        return { val: true, err: null };\n    };\n    /**\n     * See: https://github.com/unicode-org/icu/blob/af7ed1f6d2298013dc303628438ec4abe1f16479/icu4c/source/common/messagepattern.cpp#L659\n     */\n    Parser.prototype.parseSimpleArgStyleIfPossible = function () {\n        var nestedBraces = 0;\n        var startPosition = this.clonePosition();\n        while (!this.isEOF()) {\n            var ch = this.char();\n            switch (ch) {\n                case 39 /* `'` */: {\n                    // Treat apostrophe as quoting but include it in the style part.\n                    // Find the end of the quoted literal text.\n                    this.bump();\n                    var apostrophePosition = this.clonePosition();\n                    if (!this.bumpUntil(\"'\")) {\n                        return this.error(ErrorKind.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE, createLocation(apostrophePosition, this.clonePosition()));\n                    }\n                    this.bump();\n                    break;\n                }\n                case 123 /* `{` */: {\n                    nestedBraces += 1;\n                    this.bump();\n                    break;\n                }\n                case 125 /* `}` */: {\n                    if (nestedBraces > 0) {\n                        nestedBraces -= 1;\n                    }\n                    else {\n                        return {\n                            val: this.message.slice(startPosition.offset, this.offset()),\n                            err: null,\n                        };\n                    }\n                    break;\n                }\n                default:\n                    this.bump();\n                    break;\n            }\n        }\n        return {\n            val: this.message.slice(startPosition.offset, this.offset()),\n            err: null,\n        };\n    };\n    Parser.prototype.parseNumberSkeletonFromString = function (skeleton, location) {\n        var tokens = [];\n        try {\n            tokens = parseNumberSkeletonFromString(skeleton);\n        }\n        catch (e) {\n            return this.error(ErrorKind.INVALID_NUMBER_SKELETON, location);\n        }\n        return {\n            val: {\n                type: SKELETON_TYPE.number,\n                tokens: tokens,\n                location: location,\n                parsedOptions: this.shouldParseSkeletons\n                    ? parseNumberSkeleton(tokens)\n                    : {},\n            },\n            err: null,\n        };\n    };\n    /**\n     * @param nesting_level The current nesting level of messages.\n     *     This can be positive when parsing message fragment in select or plural argument options.\n     * @param parent_arg_type The parent argument's type.\n     * @param parsed_first_identifier If provided, this is the first identifier-like selector of\n     *     the argument. It is a by-product of a previous parsing attempt.\n     * @param expecting_close_tag If true, this message is directly or indirectly nested inside\n     *     between a pair of opening and closing tags. The nested message will not parse beyond\n     *     the closing tag boundary.\n     */\n    Parser.prototype.tryParsePluralOrSelectOptions = function (nestingLevel, parentArgType, expectCloseTag, parsedFirstIdentifier) {\n        var _a;\n        var hasOtherClause = false;\n        var options = [];\n        var parsedSelectors = new Set();\n        var selector = parsedFirstIdentifier.value, selectorLocation = parsedFirstIdentifier.location;\n        // Parse:\n        // one {one apple}\n        // ^--^\n        while (true) {\n            if (selector.length === 0) {\n                var startPosition = this.clonePosition();\n                if (parentArgType !== 'select' && this.bumpIf('=')) {\n                    // Try parse `={number}` selector\n                    var result = this.tryParseDecimalInteger(ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR, ErrorKind.INVALID_PLURAL_ARGUMENT_SELECTOR);\n                    if (result.err) {\n                        return result;\n                    }\n                    selectorLocation = createLocation(startPosition, this.clonePosition());\n                    selector = this.message.slice(startPosition.offset, this.offset());\n                }\n                else {\n                    break;\n                }\n            }\n            // Duplicate selector clauses\n            if (parsedSelectors.has(selector)) {\n                return this.error(parentArgType === 'select'\n                    ? ErrorKind.DUPLICATE_SELECT_ARGUMENT_SELECTOR\n                    : ErrorKind.DUPLICATE_PLURAL_ARGUMENT_SELECTOR, selectorLocation);\n            }\n            if (selector === 'other') {\n                hasOtherClause = true;\n            }\n            // Parse:\n            // one {one apple}\n            //     ^----------^\n            this.bumpSpace();\n            var openingBracePosition = this.clonePosition();\n            if (!this.bumpIf('{')) {\n                return this.error(parentArgType === 'select'\n                    ? ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT\n                    : ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT, createLocation(this.clonePosition(), this.clonePosition()));\n            }\n            var fragmentResult = this.parseMessage(nestingLevel + 1, parentArgType, expectCloseTag);\n            if (fragmentResult.err) {\n                return fragmentResult;\n            }\n            var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n            if (argCloseResult.err) {\n                return argCloseResult;\n            }\n            options.push([\n                selector,\n                {\n                    value: fragmentResult.val,\n                    location: createLocation(openingBracePosition, this.clonePosition()),\n                },\n            ]);\n            // Keep track of the existing selectors\n            parsedSelectors.add(selector);\n            // Prep next selector clause.\n            this.bumpSpace();\n            (_a = this.parseIdentifierIfPossible(), selector = _a.value, selectorLocation = _a.location);\n        }\n        if (options.length === 0) {\n            return this.error(parentArgType === 'select'\n                ? ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR\n                : ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR, createLocation(this.clonePosition(), this.clonePosition()));\n        }\n        if (this.requiresOtherClause && !hasOtherClause) {\n            return this.error(ErrorKind.MISSING_OTHER_CLAUSE, createLocation(this.clonePosition(), this.clonePosition()));\n        }\n        return { val: options, err: null };\n    };\n    Parser.prototype.tryParseDecimalInteger = function (expectNumberError, invalidNumberError) {\n        var sign = 1;\n        var startingPosition = this.clonePosition();\n        if (this.bumpIf('+')) {\n        }\n        else if (this.bumpIf('-')) {\n            sign = -1;\n        }\n        var hasDigits = false;\n        var decimal = 0;\n        while (!this.isEOF()) {\n            var ch = this.char();\n            if (ch >= 48 /* `0` */ && ch <= 57 /* `9` */) {\n                hasDigits = true;\n                decimal = decimal * 10 + (ch - 48);\n                this.bump();\n            }\n            else {\n                break;\n            }\n        }\n        var location = createLocation(startingPosition, this.clonePosition());\n        if (!hasDigits) {\n            return this.error(expectNumberError, location);\n        }\n        decimal *= sign;\n        if (!isSafeInteger(decimal)) {\n            return this.error(invalidNumberError, location);\n        }\n        return { val: decimal, err: null };\n    };\n    Parser.prototype.offset = function () {\n        return this.position.offset;\n    };\n    Parser.prototype.isEOF = function () {\n        return this.offset() === this.message.length;\n    };\n    Parser.prototype.clonePosition = function () {\n        // This is much faster than `Object.assign` or spread.\n        return {\n            offset: this.position.offset,\n            line: this.position.line,\n            column: this.position.column,\n        };\n    };\n    /**\n     * Return the code point at the current position of the parser.\n     * Throws if the index is out of bound.\n     */\n    Parser.prototype.char = function () {\n        var offset = this.position.offset;\n        if (offset >= this.message.length) {\n            throw Error('out of bound');\n        }\n        var code = codePointAt(this.message, offset);\n        if (code === undefined) {\n            throw Error(\"Offset \".concat(offset, \" is at invalid UTF-16 code unit boundary\"));\n        }\n        return code;\n    };\n    Parser.prototype.error = function (kind, location) {\n        return {\n            val: null,\n            err: {\n                kind: kind,\n                message: this.message,\n                location: location,\n            },\n        };\n    };\n    /** Bump the parser to the next UTF-16 code unit. */\n    Parser.prototype.bump = function () {\n        if (this.isEOF()) {\n            return;\n        }\n        var code = this.char();\n        if (code === 10 /* '\\n' */) {\n            this.position.line += 1;\n            this.position.column = 1;\n            this.position.offset += 1;\n        }\n        else {\n            this.position.column += 1;\n            // 0 ~ 0x10000 -> unicode BMP, otherwise skip the surrogate pair.\n            this.position.offset += code < 0x10000 ? 1 : 2;\n        }\n    };\n    /**\n     * If the substring starting at the current position of the parser has\n     * the given prefix, then bump the parser to the character immediately\n     * following the prefix and return true. Otherwise, don't bump the parser\n     * and return false.\n     */\n    Parser.prototype.bumpIf = function (prefix) {\n        if (startsWith(this.message, prefix, this.offset())) {\n            for (var i = 0; i < prefix.length; i++) {\n                this.bump();\n            }\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Bump the parser until the pattern character is found and return `true`.\n     * Otherwise bump to the end of the file and return `false`.\n     */\n    Parser.prototype.bumpUntil = function (pattern) {\n        var currentOffset = this.offset();\n        var index = this.message.indexOf(pattern, currentOffset);\n        if (index >= 0) {\n            this.bumpTo(index);\n            return true;\n        }\n        else {\n            this.bumpTo(this.message.length);\n            return false;\n        }\n    };\n    /**\n     * Bump the parser to the target offset.\n     * If target offset is beyond the end of the input, bump the parser to the end of the input.\n     */\n    Parser.prototype.bumpTo = function (targetOffset) {\n        if (this.offset() > targetOffset) {\n            throw Error(\"targetOffset \".concat(targetOffset, \" must be greater than or equal to the current offset \").concat(this.offset()));\n        }\n        targetOffset = Math.min(targetOffset, this.message.length);\n        while (true) {\n            var offset = this.offset();\n            if (offset === targetOffset) {\n                break;\n            }\n            if (offset > targetOffset) {\n                throw Error(\"targetOffset \".concat(targetOffset, \" is at invalid UTF-16 code unit boundary\"));\n            }\n            this.bump();\n            if (this.isEOF()) {\n                break;\n            }\n        }\n    };\n    /** advance the parser through all whitespace to the next non-whitespace code unit. */\n    Parser.prototype.bumpSpace = function () {\n        while (!this.isEOF() && _isWhiteSpace(this.char())) {\n            this.bump();\n        }\n    };\n    /**\n     * Peek at the *next* Unicode codepoint in the input without advancing the parser.\n     * If the input has been exhausted, then this returns null.\n     */\n    Parser.prototype.peek = function () {\n        if (this.isEOF()) {\n            return null;\n        }\n        var code = this.char();\n        var offset = this.offset();\n        var nextCode = this.message.charCodeAt(offset + (code >= 0x10000 ? 2 : 1));\n        return nextCode !== null && nextCode !== void 0 ? nextCode : null;\n    };\n    return Parser;\n}());\nexport { Parser };\n/**\n * This check if codepoint is alphabet (lower & uppercase)\n * @param codepoint\n * @returns\n */\nfunction _isAlpha(codepoint) {\n    return ((codepoint >= 97 && codepoint <= 122) ||\n        (codepoint >= 65 && codepoint <= 90));\n}\nfunction _isAlphaOrSlash(codepoint) {\n    return _isAlpha(codepoint) || codepoint === 47; /* '/' */\n}\n/** See `parseTag` function docs. */\nfunction _isPotentialElementNameChar(c) {\n    return (c === 45 /* '-' */ ||\n        c === 46 /* '.' */ ||\n        (c >= 48 && c <= 57) /* 0..9 */ ||\n        c === 95 /* '_' */ ||\n        (c >= 97 && c <= 122) /** a..z */ ||\n        (c >= 65 && c <= 90) /* A..Z */ ||\n        c == 0xb7 ||\n        (c >= 0xc0 && c <= 0xd6) ||\n        (c >= 0xd8 && c <= 0xf6) ||\n        (c >= 0xf8 && c <= 0x37d) ||\n        (c >= 0x37f && c <= 0x1fff) ||\n        (c >= 0x200c && c <= 0x200d) ||\n        (c >= 0x203f && c <= 0x2040) ||\n        (c >= 0x2070 && c <= 0x218f) ||\n        (c >= 0x2c00 && c <= 0x2fef) ||\n        (c >= 0x3001 && c <= 0xd7ff) ||\n        (c >= 0xf900 && c <= 0xfdcf) ||\n        (c >= 0xfdf0 && c <= 0xfffd) ||\n        (c >= 0x10000 && c <= 0xeffff));\n}\n/**\n * Code point equivalent of regex `\\p{White_Space}`.\n * From: https://www.unicode.org/Public/UCD/latest/ucd/PropList.txt\n */\nfunction _isWhiteSpace(c) {\n    return ((c >= 0x0009 && c <= 0x000d) ||\n        c === 0x0020 ||\n        c === 0x0085 ||\n        (c >= 0x200e && c <= 0x200f) ||\n        c === 0x2028 ||\n        c === 0x2029);\n}\n/**\n * Code point equivalent of regex `\\p{Pattern_Syntax}`.\n * See https://www.unicode.org/Public/UCD/latest/ucd/PropList.txt\n */\nfunction _isPatternSyntax(c) {\n    return ((c >= 0x0021 && c <= 0x0023) ||\n        c === 0x0024 ||\n        (c >= 0x0025 && c <= 0x0027) ||\n        c === 0x0028 ||\n        c === 0x0029 ||\n        c === 0x002a ||\n        c === 0x002b ||\n        c === 0x002c ||\n        c === 0x002d ||\n        (c >= 0x002e && c <= 0x002f) ||\n        (c >= 0x003a && c <= 0x003b) ||\n        (c >= 0x003c && c <= 0x003e) ||\n        (c >= 0x003f && c <= 0x0040) ||\n        c === 0x005b ||\n        c === 0x005c ||\n        c === 0x005d ||\n        c === 0x005e ||\n        c === 0x0060 ||\n        c === 0x007b ||\n        c === 0x007c ||\n        c === 0x007d ||\n        c === 0x007e ||\n        c === 0x00a1 ||\n        (c >= 0x00a2 && c <= 0x00a5) ||\n        c === 0x00a6 ||\n        c === 0x00a7 ||\n        c === 0x00a9 ||\n        c === 0x00ab ||\n        c === 0x00ac ||\n        c === 0x00ae ||\n        c === 0x00b0 ||\n        c === 0x00b1 ||\n        c === 0x00b6 ||\n        c === 0x00bb ||\n        c === 0x00bf ||\n        c === 0x00d7 ||\n        c === 0x00f7 ||\n        (c >= 0x2010 && c <= 0x2015) ||\n        (c >= 0x2016 && c <= 0x2017) ||\n        c === 0x2018 ||\n        c === 0x2019 ||\n        c === 0x201a ||\n        (c >= 0x201b && c <= 0x201c) ||\n        c === 0x201d ||\n        c === 0x201e ||\n        c === 0x201f ||\n        (c >= 0x2020 && c <= 0x2027) ||\n        (c >= 0x2030 && c <= 0x2038) ||\n        c === 0x2039 ||\n        c === 0x203a ||\n        (c >= 0x203b && c <= 0x203e) ||\n        (c >= 0x2041 && c <= 0x2043) ||\n        c === 0x2044 ||\n        c === 0x2045 ||\n        c === 0x2046 ||\n        (c >= 0x2047 && c <= 0x2051) ||\n        c === 0x2052 ||\n        c === 0x2053 ||\n        (c >= 0x2055 && c <= 0x205e) ||\n        (c >= 0x2190 && c <= 0x2194) ||\n        (c >= 0x2195 && c <= 0x2199) ||\n        (c >= 0x219a && c <= 0x219b) ||\n        (c >= 0x219c && c <= 0x219f) ||\n        c === 0x21a0 ||\n        (c >= 0x21a1 && c <= 0x21a2) ||\n        c === 0x21a3 ||\n        (c >= 0x21a4 && c <= 0x21a5) ||\n        c === 0x21a6 ||\n        (c >= 0x21a7 && c <= 0x21ad) ||\n        c === 0x21ae ||\n        (c >= 0x21af && c <= 0x21cd) ||\n        (c >= 0x21ce && c <= 0x21cf) ||\n        (c >= 0x21d0 && c <= 0x21d1) ||\n        c === 0x21d2 ||\n        c === 0x21d3 ||\n        c === 0x21d4 ||\n        (c >= 0x21d5 && c <= 0x21f3) ||\n        (c >= 0x21f4 && c <= 0x22ff) ||\n        (c >= 0x2300 && c <= 0x2307) ||\n        c === 0x2308 ||\n        c === 0x2309 ||\n        c === 0x230a ||\n        c === 0x230b ||\n        (c >= 0x230c && c <= 0x231f) ||\n        (c >= 0x2320 && c <= 0x2321) ||\n        (c >= 0x2322 && c <= 0x2328) ||\n        c === 0x2329 ||\n        c === 0x232a ||\n        (c >= 0x232b && c <= 0x237b) ||\n        c === 0x237c ||\n        (c >= 0x237d && c <= 0x239a) ||\n        (c >= 0x239b && c <= 0x23b3) ||\n        (c >= 0x23b4 && c <= 0x23db) ||\n        (c >= 0x23dc && c <= 0x23e1) ||\n        (c >= 0x23e2 && c <= 0x2426) ||\n        (c >= 0x2427 && c <= 0x243f) ||\n        (c >= 0x2440 && c <= 0x244a) ||\n        (c >= 0x244b && c <= 0x245f) ||\n        (c >= 0x2500 && c <= 0x25b6) ||\n        c === 0x25b7 ||\n        (c >= 0x25b8 && c <= 0x25c0) ||\n        c === 0x25c1 ||\n        (c >= 0x25c2 && c <= 0x25f7) ||\n        (c >= 0x25f8 && c <= 0x25ff) ||\n        (c >= 0x2600 && c <= 0x266e) ||\n        c === 0x266f ||\n        (c >= 0x2670 && c <= 0x2767) ||\n        c === 0x2768 ||\n        c === 0x2769 ||\n        c === 0x276a ||\n        c === 0x276b ||\n        c === 0x276c ||\n        c === 0x276d ||\n        c === 0x276e ||\n        c === 0x276f ||\n        c === 0x2770 ||\n        c === 0x2771 ||\n        c === 0x2772 ||\n        c === 0x2773 ||\n        c === 0x2774 ||\n        c === 0x2775 ||\n        (c >= 0x2794 && c <= 0x27bf) ||\n        (c >= 0x27c0 && c <= 0x27c4) ||\n        c === 0x27c5 ||\n        c === 0x27c6 ||\n        (c >= 0x27c7 && c <= 0x27e5) ||\n        c === 0x27e6 ||\n        c === 0x27e7 ||\n        c === 0x27e8 ||\n        c === 0x27e9 ||\n        c === 0x27ea ||\n        c === 0x27eb ||\n        c === 0x27ec ||\n        c === 0x27ed ||\n        c === 0x27ee ||\n        c === 0x27ef ||\n        (c >= 0x27f0 && c <= 0x27ff) ||\n        (c >= 0x2800 && c <= 0x28ff) ||\n        (c >= 0x2900 && c <= 0x2982) ||\n        c === 0x2983 ||\n        c === 0x2984 ||\n        c === 0x2985 ||\n        c === 0x2986 ||\n        c === 0x2987 ||\n        c === 0x2988 ||\n        c === 0x2989 ||\n        c === 0x298a ||\n        c === 0x298b ||\n        c === 0x298c ||\n        c === 0x298d ||\n        c === 0x298e ||\n        c === 0x298f ||\n        c === 0x2990 ||\n        c === 0x2991 ||\n        c === 0x2992 ||\n        c === 0x2993 ||\n        c === 0x2994 ||\n        c === 0x2995 ||\n        c === 0x2996 ||\n        c === 0x2997 ||\n        c === 0x2998 ||\n        (c >= 0x2999 && c <= 0x29d7) ||\n        c === 0x29d8 ||\n        c === 0x29d9 ||\n        c === 0x29da ||\n        c === 0x29db ||\n        (c >= 0x29dc && c <= 0x29fb) ||\n        c === 0x29fc ||\n        c === 0x29fd ||\n        (c >= 0x29fe && c <= 0x2aff) ||\n        (c >= 0x2b00 && c <= 0x2b2f) ||\n        (c >= 0x2b30 && c <= 0x2b44) ||\n        (c >= 0x2b45 && c <= 0x2b46) ||\n        (c >= 0x2b47 && c <= 0x2b4c) ||\n        (c >= 0x2b4d && c <= 0x2b73) ||\n        (c >= 0x2b74 && c <= 0x2b75) ||\n        (c >= 0x2b76 && c <= 0x2b95) ||\n        c === 0x2b96 ||\n        (c >= 0x2b97 && c <= 0x2bff) ||\n        (c >= 0x2e00 && c <= 0x2e01) ||\n        c === 0x2e02 ||\n        c === 0x2e03 ||\n        c === 0x2e04 ||\n        c === 0x2e05 ||\n        (c >= 0x2e06 && c <= 0x2e08) ||\n        c === 0x2e09 ||\n        c === 0x2e0a ||\n        c === 0x2e0b ||\n        c === 0x2e0c ||\n        c === 0x2e0d ||\n        (c >= 0x2e0e && c <= 0x2e16) ||\n        c === 0x2e17 ||\n        (c >= 0x2e18 && c <= 0x2e19) ||\n        c === 0x2e1a ||\n        c === 0x2e1b ||\n        c === 0x2e1c ||\n        c === 0x2e1d ||\n        (c >= 0x2e1e && c <= 0x2e1f) ||\n        c === 0x2e20 ||\n        c === 0x2e21 ||\n        c === 0x2e22 ||\n        c === 0x2e23 ||\n        c === 0x2e24 ||\n        c === 0x2e25 ||\n        c === 0x2e26 ||\n        c === 0x2e27 ||\n        c === 0x2e28 ||\n        c === 0x2e29 ||\n        (c >= 0x2e2a && c <= 0x2e2e) ||\n        c === 0x2e2f ||\n        (c >= 0x2e30 && c <= 0x2e39) ||\n        (c >= 0x2e3a && c <= 0x2e3b) ||\n        (c >= 0x2e3c && c <= 0x2e3f) ||\n        c === 0x2e40 ||\n        c === 0x2e41 ||\n        c === 0x2e42 ||\n        (c >= 0x2e43 && c <= 0x2e4f) ||\n        (c >= 0x2e50 && c <= 0x2e51) ||\n        c === 0x2e52 ||\n        (c >= 0x2e53 && c <= 0x2e7f) ||\n        (c >= 0x3001 && c <= 0x3003) ||\n        c === 0x3008 ||\n        c === 0x3009 ||\n        c === 0x300a ||\n        c === 0x300b ||\n        c === 0x300c ||\n        c === 0x300d ||\n        c === 0x300e ||\n        c === 0x300f ||\n        c === 0x3010 ||\n        c === 0x3011 ||\n        (c >= 0x3012 && c <= 0x3013) ||\n        c === 0x3014 ||\n        c === 0x3015 ||\n        c === 0x3016 ||\n        c === 0x3017 ||\n        c === 0x3018 ||\n        c === 0x3019 ||\n        c === 0x301a ||\n        c === 0x301b ||\n        c === 0x301c ||\n        c === 0x301d ||\n        (c >= 0x301e && c <= 0x301f) ||\n        c === 0x3020 ||\n        c === 0x3030 ||\n        c === 0xfd3e ||\n        c === 0xfd3f ||\n        (c >= 0xfe45 && c <= 0xfe46));\n}\n","import { __assign } from \"tslib\";\nimport { ErrorKind } from './error';\nimport { Parser } from './parser';\nimport { isDateElement, isDateTimeSkeleton, isNumberElement, isNumberSkeleton, isPluralElement, isSelectElement, isTagElement, isTimeElement, } from './types';\nfunction pruneLocation(els) {\n    els.forEach(function (el) {\n        delete el.location;\n        if (isSelectElement(el) || isPluralElement(el)) {\n            for (var k in el.options) {\n                delete el.options[k].location;\n                pruneLocation(el.options[k].value);\n            }\n        }\n        else if (isNumberElement(el) && isNumberSkeleton(el.style)) {\n            delete el.style.location;\n        }\n        else if ((isDateElement(el) || isTimeElement(el)) &&\n            isDateTimeSkeleton(el.style)) {\n            delete el.style.location;\n        }\n        else if (isTagElement(el)) {\n            pruneLocation(el.children);\n        }\n    });\n}\nexport function parse(message, opts) {\n    if (opts === void 0) { opts = {}; }\n    opts = __assign({ shouldParseSkeletons: true, requiresOtherClause: true }, opts);\n    var result = new Parser(message, opts).parse();\n    if (result.err) {\n        var error = SyntaxError(ErrorKind[result.err.kind]);\n        // @ts-expect-error Assign to error object\n        error.location = result.err.location;\n        // @ts-expect-error Assign to error object\n        error.originalMessage = result.err.message;\n        throw error;\n    }\n    if (!(opts === null || opts === void 0 ? void 0 : opts.captureLocation)) {\n        pruneLocation(result.val);\n    }\n    return result.val;\n}\nexport * from './types';\n// only for testing\nexport var _Parser = Parser;\nexport { isStructurallySame } from './manipulator';\n","import { __extends } from \"tslib\";\nexport var ErrorCode;\n(function (ErrorCode) {\n    // When we have a placeholder but no value to format\n    ErrorCode[\"MISSING_VALUE\"] = \"MISSING_VALUE\";\n    // When value supplied is invalid\n    ErrorCode[\"INVALID_VALUE\"] = \"INVALID_VALUE\";\n    // When we need specific Intl API but it's not available\n    ErrorCode[\"MISSING_INTL_API\"] = \"MISSING_INTL_API\";\n})(ErrorCode || (ErrorCode = {}));\nvar FormatError = /** @class */ (function (_super) {\n    __extends(FormatError, _super);\n    function FormatError(msg, code, originalMessage) {\n        var _this = _super.call(this, msg) || this;\n        _this.code = code;\n        _this.originalMessage = originalMessage;\n        return _this;\n    }\n    FormatError.prototype.toString = function () {\n        return \"[formatjs Error: \".concat(this.code, \"] \").concat(this.message);\n    };\n    return FormatError;\n}(Error));\nexport { FormatError };\nvar InvalidValueError = /** @class */ (function (_super) {\n    __extends(InvalidValueError, _super);\n    function InvalidValueError(variableId, value, options, originalMessage) {\n        return _super.call(this, \"Invalid values for \\\"\".concat(variableId, \"\\\": \\\"\").concat(value, \"\\\". Options are \\\"\").concat(Object.keys(options).join('\", \"'), \"\\\"\"), ErrorCode.INVALID_VALUE, originalMessage) || this;\n    }\n    return InvalidValueError;\n}(FormatError));\nexport { InvalidValueError };\nvar InvalidValueTypeError = /** @class */ (function (_super) {\n    __extends(InvalidValueTypeError, _super);\n    function InvalidValueTypeError(value, type, originalMessage) {\n        return _super.call(this, \"Value for \\\"\".concat(value, \"\\\" must be of type \").concat(type), ErrorCode.INVALID_VALUE, originalMessage) || this;\n    }\n    return InvalidValueTypeError;\n}(FormatError));\nexport { InvalidValueTypeError };\nvar MissingValueError = /** @class */ (function (_super) {\n    __extends(MissingValueError, _super);\n    function MissingValueError(variableId, originalMessage) {\n        return _super.call(this, \"The intl string context variable \\\"\".concat(variableId, \"\\\" was not provided to the string \\\"\").concat(originalMessage, \"\\\"\"), ErrorCode.MISSING_VALUE, originalMessage) || this;\n    }\n    return MissingValueError;\n}(FormatError));\nexport { MissingValueError };\n","import { isArgumentElement, isDateElement, isDateTimeSkeleton, isLiteralElement, isNumberElement, isNumberSkeleton, isPluralElement, isPoundElement, isSelectElement, isTagElement, isTimeElement, } from '@formatjs/icu-messageformat-parser';\nimport { ErrorCode, FormatError, InvalidValueError, InvalidValueTypeError, MissingValueError, } from './error';\nexport var PART_TYPE;\n(function (PART_TYPE) {\n    PART_TYPE[PART_TYPE[\"literal\"] = 0] = \"literal\";\n    PART_TYPE[PART_TYPE[\"object\"] = 1] = \"object\";\n})(PART_TYPE || (PART_TYPE = {}));\nfunction mergeLiteral(parts) {\n    if (parts.length < 2) {\n        return parts;\n    }\n    return parts.reduce(function (all, part) {\n        var lastPart = all[all.length - 1];\n        if (!lastPart ||\n            lastPart.type !== PART_TYPE.literal ||\n            part.type !== PART_TYPE.literal) {\n            all.push(part);\n        }\n        else {\n            lastPart.value += part.value;\n        }\n        return all;\n    }, []);\n}\nexport function isFormatXMLElementFn(el) {\n    return typeof el === 'function';\n}\n// TODO(skeleton): add skeleton support\nexport function formatToParts(els, locales, formatters, formats, values, currentPluralValue, \n// For debugging\noriginalMessage) {\n    // Hot path for straight simple msg translations\n    if (els.length === 1 && isLiteralElement(els[0])) {\n        return [\n            {\n                type: PART_TYPE.literal,\n                value: els[0].value,\n            },\n        ];\n    }\n    var result = [];\n    for (var _i = 0, els_1 = els; _i < els_1.length; _i++) {\n        var el = els_1[_i];\n        // Exit early for string parts.\n        if (isLiteralElement(el)) {\n            result.push({\n                type: PART_TYPE.literal,\n                value: el.value,\n            });\n            continue;\n        }\n        // TODO: should this part be literal type?\n        // Replace `#` in plural rules with the actual numeric value.\n        if (isPoundElement(el)) {\n            if (typeof currentPluralValue === 'number') {\n                result.push({\n                    type: PART_TYPE.literal,\n                    value: formatters.getNumberFormat(locales).format(currentPluralValue),\n                });\n            }\n            continue;\n        }\n        var varName = el.value;\n        // Enforce that all required values are provided by the caller.\n        if (!(values && varName in values)) {\n            throw new MissingValueError(varName, originalMessage);\n        }\n        var value = values[varName];\n        if (isArgumentElement(el)) {\n            if (!value || typeof value === 'string' || typeof value === 'number') {\n                value =\n                    typeof value === 'string' || typeof value === 'number'\n                        ? String(value)\n                        : '';\n            }\n            result.push({\n                type: typeof value === 'string' ? PART_TYPE.literal : PART_TYPE.object,\n                value: value,\n            });\n            continue;\n        }\n        // Recursively format plural and select parts' option — which can be a\n        // nested pattern structure. The choosing of the option to use is\n        // abstracted-by and delegated-to the part helper object.\n        if (isDateElement(el)) {\n            var style = typeof el.style === 'string'\n                ? formats.date[el.style]\n                : isDateTimeSkeleton(el.style)\n                    ? el.style.parsedOptions\n                    : undefined;\n            result.push({\n                type: PART_TYPE.literal,\n                value: formatters\n                    .getDateTimeFormat(locales, style)\n                    .format(value),\n            });\n            continue;\n        }\n        if (isTimeElement(el)) {\n            var style = typeof el.style === 'string'\n                ? formats.time[el.style]\n                : isDateTimeSkeleton(el.style)\n                    ? el.style.parsedOptions\n                    : formats.time.medium;\n            result.push({\n                type: PART_TYPE.literal,\n                value: formatters\n                    .getDateTimeFormat(locales, style)\n                    .format(value),\n            });\n            continue;\n        }\n        if (isNumberElement(el)) {\n            var style = typeof el.style === 'string'\n                ? formats.number[el.style]\n                : isNumberSkeleton(el.style)\n                    ? el.style.parsedOptions\n                    : undefined;\n            if (style && style.scale) {\n                value =\n                    value *\n                        (style.scale || 1);\n            }\n            result.push({\n                type: PART_TYPE.literal,\n                value: formatters\n                    .getNumberFormat(locales, style)\n                    .format(value),\n            });\n            continue;\n        }\n        if (isTagElement(el)) {\n            var children = el.children, value_1 = el.value;\n            var formatFn = values[value_1];\n            if (!isFormatXMLElementFn(formatFn)) {\n                throw new InvalidValueTypeError(value_1, 'function', originalMessage);\n            }\n            var parts = formatToParts(children, locales, formatters, formats, values, currentPluralValue);\n            var chunks = formatFn(parts.map(function (p) { return p.value; }));\n            if (!Array.isArray(chunks)) {\n                chunks = [chunks];\n            }\n            result.push.apply(result, chunks.map(function (c) {\n                return {\n                    type: typeof c === 'string' ? PART_TYPE.literal : PART_TYPE.object,\n                    value: c,\n                };\n            }));\n        }\n        if (isSelectElement(el)) {\n            var opt = el.options[value] || el.options.other;\n            if (!opt) {\n                throw new InvalidValueError(el.value, value, Object.keys(el.options), originalMessage);\n            }\n            result.push.apply(result, formatToParts(opt.value, locales, formatters, formats, values));\n            continue;\n        }\n        if (isPluralElement(el)) {\n            var opt = el.options[\"=\".concat(value)];\n            if (!opt) {\n                if (!Intl.PluralRules) {\n                    throw new FormatError(\"Intl.PluralRules is not available in this environment.\\nTry polyfilling it using \\\"@formatjs/intl-pluralrules\\\"\\n\", ErrorCode.MISSING_INTL_API, originalMessage);\n                }\n                var rule = formatters\n                    .getPluralRules(locales, { type: el.pluralType })\n                    .select(value - (el.offset || 0));\n                opt = el.options[rule] || el.options.other;\n            }\n            if (!opt) {\n                throw new InvalidValueError(el.value, value, Object.keys(el.options), originalMessage);\n            }\n            result.push.apply(result, formatToParts(opt.value, locales, formatters, formats, values, value - (el.offset || 0)));\n            continue;\n        }\n    }\n    return mergeLiteral(result);\n}\n","/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\nimport { __assign, __rest, __spreadArray } from \"tslib\";\nimport { memoize, strategies } from '@formatjs/fast-memoize';\nimport { parse, } from '@formatjs/icu-messageformat-parser';\nimport { formatToParts, PART_TYPE, } from './formatters';\n// -- MessageFormat --------------------------------------------------------\nfunction mergeConfig(c1, c2) {\n    if (!c2) {\n        return c1;\n    }\n    return __assign(__assign(__assign({}, (c1 || {})), (c2 || {})), Object.keys(c1).reduce(function (all, k) {\n        all[k] = __assign(__assign({}, c1[k]), (c2[k] || {}));\n        return all;\n    }, {}));\n}\nfunction mergeConfigs(defaultConfig, configs) {\n    if (!configs) {\n        return defaultConfig;\n    }\n    return Object.keys(defaultConfig).reduce(function (all, k) {\n        all[k] = mergeConfig(defaultConfig[k], configs[k]);\n        return all;\n    }, __assign({}, defaultConfig));\n}\nfunction createFastMemoizeCache(store) {\n    return {\n        create: function () {\n            return {\n                get: function (key) {\n                    return store[key];\n                },\n                set: function (key, value) {\n                    store[key] = value;\n                },\n            };\n        },\n    };\n}\nfunction createDefaultFormatters(cache) {\n    if (cache === void 0) { cache = {\n        number: {},\n        dateTime: {},\n        pluralRules: {},\n    }; }\n    return {\n        getNumberFormat: memoize(function () {\n            var _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new ((_a = Intl.NumberFormat).bind.apply(_a, __spreadArray([void 0], args, false)))();\n        }, {\n            cache: createFastMemoizeCache(cache.number),\n            strategy: strategies.variadic,\n        }),\n        getDateTimeFormat: memoize(function () {\n            var _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new ((_a = Intl.DateTimeFormat).bind.apply(_a, __spreadArray([void 0], args, false)))();\n        }, {\n            cache: createFastMemoizeCache(cache.dateTime),\n            strategy: strategies.variadic,\n        }),\n        getPluralRules: memoize(function () {\n            var _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new ((_a = Intl.PluralRules).bind.apply(_a, __spreadArray([void 0], args, false)))();\n        }, {\n            cache: createFastMemoizeCache(cache.pluralRules),\n            strategy: strategies.variadic,\n        }),\n    };\n}\nvar IntlMessageFormat = /** @class */ (function () {\n    function IntlMessageFormat(message, locales, overrideFormats, opts) {\n        if (locales === void 0) { locales = IntlMessageFormat.defaultLocale; }\n        var _this = this;\n        this.formatterCache = {\n            number: {},\n            dateTime: {},\n            pluralRules: {},\n        };\n        this.format = function (values) {\n            var parts = _this.formatToParts(values);\n            // Hot path for straight simple msg translations\n            if (parts.length === 1) {\n                return parts[0].value;\n            }\n            var result = parts.reduce(function (all, part) {\n                if (!all.length ||\n                    part.type !== PART_TYPE.literal ||\n                    typeof all[all.length - 1] !== 'string') {\n                    all.push(part.value);\n                }\n                else {\n                    all[all.length - 1] += part.value;\n                }\n                return all;\n            }, []);\n            if (result.length <= 1) {\n                return result[0] || '';\n            }\n            return result;\n        };\n        this.formatToParts = function (values) {\n            return formatToParts(_this.ast, _this.locales, _this.formatters, _this.formats, values, undefined, _this.message);\n        };\n        this.resolvedOptions = function () {\n            var _a;\n            return ({\n                locale: ((_a = _this.resolvedLocale) === null || _a === void 0 ? void 0 : _a.toString()) ||\n                    Intl.NumberFormat.supportedLocalesOf(_this.locales)[0],\n            });\n        };\n        this.getAst = function () { return _this.ast; };\n        // Defined first because it's used to build the format pattern.\n        this.locales = locales;\n        this.resolvedLocale = IntlMessageFormat.resolveLocale(locales);\n        if (typeof message === 'string') {\n            this.message = message;\n            if (!IntlMessageFormat.__parse) {\n                throw new TypeError('IntlMessageFormat.__parse must be set to process `message` of type `string`');\n            }\n            var _a = opts || {}, formatters = _a.formatters, parseOpts = __rest(_a, [\"formatters\"]);\n            // Parse string messages into an AST.\n            this.ast = IntlMessageFormat.__parse(message, __assign(__assign({}, parseOpts), { locale: this.resolvedLocale }));\n        }\n        else {\n            this.ast = message;\n        }\n        if (!Array.isArray(this.ast)) {\n            throw new TypeError('A message must be provided as a String or AST.');\n        }\n        // Creates a new object with the specified `formats` merged with the default\n        // formats.\n        this.formats = mergeConfigs(IntlMessageFormat.formats, overrideFormats);\n        this.formatters =\n            (opts && opts.formatters) || createDefaultFormatters(this.formatterCache);\n    }\n    Object.defineProperty(IntlMessageFormat, \"defaultLocale\", {\n        get: function () {\n            if (!IntlMessageFormat.memoizedDefaultLocale) {\n                IntlMessageFormat.memoizedDefaultLocale =\n                    new Intl.NumberFormat().resolvedOptions().locale;\n            }\n            return IntlMessageFormat.memoizedDefaultLocale;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    IntlMessageFormat.memoizedDefaultLocale = null;\n    IntlMessageFormat.resolveLocale = function (locales) {\n        if (typeof Intl.Locale === 'undefined') {\n            return;\n        }\n        var supportedLocales = Intl.NumberFormat.supportedLocalesOf(locales);\n        if (supportedLocales.length > 0) {\n            return new Intl.Locale(supportedLocales[0]);\n        }\n        return new Intl.Locale(typeof locales === 'string' ? locales : locales[0]);\n    };\n    IntlMessageFormat.__parse = parse;\n    // Default format options used as the prototype of the `formats` provided to the\n    // constructor. These are used when constructing the internal Intl.NumberFormat\n    // and Intl.DateTimeFormat instances.\n    IntlMessageFormat.formats = {\n        number: {\n            integer: {\n                maximumFractionDigits: 0,\n            },\n            currency: {\n                style: 'currency',\n            },\n            percent: {\n                style: 'percent',\n            },\n        },\n        date: {\n            short: {\n                month: 'numeric',\n                day: 'numeric',\n                year: '2-digit',\n            },\n            medium: {\n                month: 'short',\n                day: 'numeric',\n                year: 'numeric',\n            },\n            long: {\n                month: 'long',\n                day: 'numeric',\n                year: 'numeric',\n            },\n            full: {\n                weekday: 'long',\n                month: 'long',\n                day: 'numeric',\n                year: 'numeric',\n            },\n        },\n        time: {\n            short: {\n                hour: 'numeric',\n                minute: 'numeric',\n            },\n            medium: {\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric',\n            },\n            long: {\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric',\n                timeZoneName: 'short',\n            },\n            full: {\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric',\n                timeZoneName: 'short',\n            },\n        },\n    };\n    return IntlMessageFormat;\n}());\nexport { IntlMessageFormat };\n","import{IntlMessageFormat as e}from\"intl-messageformat\";import{isValidElement as t,cloneElement as r}from\"react\";import{memoize as n,strategies as o}from\"@formatjs/fast-memoize\";class a extends Error{constructor(e,t){let r=e;t&&(r+=\": \"+t),super(r),this.code=e,t&&(this.originalMessage=t)}}var s=function(e){return e.MISSING_MESSAGE=\"MISSING_MESSAGE\",e.MISSING_FORMAT=\"MISSING_FORMAT\",e.ENVIRONMENT_FALLBACK=\"ENVIRONMENT_FALLBACK\",e.INSUFFICIENT_PATH=\"INSUFFICIENT_PATH\",e.INVALID_MESSAGE=\"INVALID_MESSAGE\",e.INVALID_KEY=\"INVALID_KEY\",e.FORMATTING_ERROR=\"FORMATTING_ERROR\",e}(s||{});function i(...e){return e.filter(Boolean).join(\".\")}function u(e){return i(e.namespace,e.key)}function c(e){console.error(e)}function m(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}}function f(e,t){return n(e,{cache:(r=t,{create:()=>({get:e=>r[e],set(e,t){r[e]=t}})}),strategy:o.variadic});var r}function l(e,t){return f(((...t)=>new e(...t)),t)}function g(e){return{getDateTimeFormat:l(Intl.DateTimeFormat,e.dateTime),getNumberFormat:l(Intl.NumberFormat,e.number),getPluralRules:l(Intl.PluralRules,e.pluralRules),getRelativeTimeFormat:l(Intl.RelativeTimeFormat,e.relativeTime),getListFormat:l(Intl.ListFormat,e.list),getDisplayNames:l(Intl.DisplayNames,e.displayNames)}}function I(e,t,r,n){const o=i(n,r);if(!t)throw new Error(o);let a=t;return r.split(\".\").forEach((t=>{const r=a[t];if(null==t||null==r)throw new Error(o+` (${e})`);a=r})),a}function E(n){const o=function(e,t,r,n=c){try{if(!t)throw new Error(void 0);const n=r?I(e,t,r):t;if(!n)throw new Error(r);return n}catch(e){const t=new a(s.MISSING_MESSAGE,e.message);return n(t),t}}(n.locale,n.messages,n.namespace,n.onError);return function({cache:n,formats:o,formatters:i,getMessageFallback:c=u,locale:m,messagesOrError:l,namespace:g,onError:E,timeZone:S}){const T=l instanceof a;function N(e,t,r){const n=new a(t,r);return E(n),c({error:n,key:e,namespace:g})}function y(a,u,E){if(T)return c({error:l,key:a,namespace:g});const y=l;let A,M;try{A=I(m,y,a,g)}catch(e){return N(a,s.MISSING_MESSAGE,e.message)}if(\"object\"==typeof A){let e,t;return e=Array.isArray(A)?s.INVALID_MESSAGE:s.INSUFFICIENT_PATH,N(a,e,t)}const F=function(e,t){return t||/'[{}]/.test(e)?void 0:e}(A,u);if(F)return F;i.getMessageFormat||(i.getMessageFormat=function(t,r){return f(((...t)=>new e(t[0],t[1],t[2],{formatters:r,...t[3]})),t.message)}(n,i));try{M=i.getMessageFormat(A,m,function(t,r,n){const o=e.formats.date,a=e.formats.time,s={...t?.dateTime,...r?.dateTime},i={date:{...o,...s},time:{...a,...s},number:{...t?.number,...r?.number}};return n&&[\"date\",\"time\"].forEach((e=>{const t=i[e];for(const[e,r]of Object.entries(t))t[e]={timeZone:n,...r}})),i}(o,E,S),{formatters:{...i,getDateTimeFormat:(e,t)=>i.getDateTimeFormat(e,{timeZone:S,...t})}})}catch(e){const t=e;return N(a,s.INVALID_MESSAGE,t.message)}try{const e=M.format(u?function(e){const n={};return Object.keys(e).forEach((o=>{let a=0;const s=e[o];let i;i=\"function\"==typeof s?e=>{const n=s(e);return t(n)?r(n,{key:o+a++}):n}:s,n[o]=i})),n}(u):u);if(null==e)throw new Error(void 0);return t(e)||Array.isArray(e)||\"string\"==typeof e?e:String(e)}catch(e){return N(a,s.FORMATTING_ERROR,e.message)}}function A(e,t,r){const n=y(e,t,r);return\"string\"!=typeof n?N(e,s.INVALID_MESSAGE,void 0):n}return A.rich=y,A.markup=(e,t,r)=>y(e,t,r),A.raw=e=>{if(T)return c({error:l,key:e,namespace:g});const t=l;try{return I(m,t,e,g)}catch(t){return N(e,s.MISSING_MESSAGE,t.message)}},A.has=e=>{if(T)return!1;try{return I(m,l,e,g),!0}catch{return!1}},A}({...n,messagesOrError:o})}function S(e,t){return e===t?void 0:e.slice((t+\".\").length)}const T=3600,N=86400,y=7*N,A=2628e3,M=7884e3,F=365*N,R={second:1,seconds:1,minute:60,minutes:60,hour:T,hours:T,day:N,days:N,week:y,weeks:y,month:A,months:A,quarter:M,quarters:M,year:F,years:F};function d(e){const{_cache:t=m(),_formatters:r=g(t),formats:n,locale:o,onError:i=c,timeZone:u}=e;function f(e){return e?.timeZone||(u?e={...e,timeZone:u}:i(new a(s.ENVIRONMENT_FALLBACK,void 0))),e}function l(e,t,r,n,o){let u;try{u=function(e,t,r){let n;if(\"string\"==typeof t){const r=t;if(n=e?.[r],!n){const e=new a(s.MISSING_FORMAT,void 0);throw i(e),e}}else n=t;return r&&(n={...n,...r}),n}(r,e,t)}catch{return o()}try{return n(u)}catch(e){return i(new a(s.FORMATTING_ERROR,e.message)),o()}}function I(e,t,a){return l(t,a,n?.dateTime,(t=>(t=f(t),r.getDateTimeFormat(o,t).format(e))),(()=>String(e)))}function E(){return e.now?e.now:(i(new a(s.ENVIRONMENT_FALLBACK,void 0)),new Date)}return{dateTime:I,number:function(e,t,a){return l(t,a,n?.number,(t=>r.getNumberFormat(o,t).format(e)),(()=>String(e)))},relativeTime:function(e,t){try{let n,a;const s={};t instanceof Date||\"number\"==typeof t?n=new Date(t):t&&(n=null!=t.now?new Date(t.now):E(),a=t.unit,s.style=t.style,s.numberingSystem=t.numberingSystem),n||(n=E());const i=(new Date(e).getTime()-n.getTime())/1e3;a||(a=function(e){const t=Math.abs(e);return t<60?\"second\":t<T?\"minute\":t<N?\"hour\":t<y?\"day\":t<A?\"week\":t<F?\"month\":\"year\"}(i)),s.numeric=\"second\"===a?\"auto\":\"always\";const u=function(e,t){return Math.round(e/R[t])}(i,a);return r.getRelativeTimeFormat(o,s).format(u,a)}catch(t){return i(new a(s.FORMATTING_ERROR,t.message)),String(e)}},list:function(e,t,a){const s=[],i=new Map;let u=0;for(const t of e){let e;\"object\"==typeof t?(e=String(u),i.set(e,t)):e=String(t),s.push(e),u++}return l(t,a,n?.list,(e=>{const t=r.getListFormat(o,e).formatToParts(s).map((e=>\"literal\"===e.type?e.value:i.get(e.value)||e.value));return i.size>0?t:t.join(\"\")}),(()=>String(e)))},dateTimeRange:function(e,t,a,s){return l(a,s,n?.dateTime,(n=>(n=f(n),r.getDateTimeFormat(o,n).formatRange(e,t))),(()=>[I(e),I(t)].join(\" – \")))}}}function h({formats:e,getMessageFallback:t,messages:r,onError:n,...o}){return{...o,formats:e||void 0,messages:r||void 0,onError:n||c,getMessageFallback:t||u}}export{a as I,s as a,g as b,d as c,m as d,E as e,u as f,c as g,h as i,S as r};\n","import{createContext as e,useContext as r,useMemo as o,useState as t,useEffect as n}from\"react\";import{d as a,b as s,i as c,r as i,I as m,a as f,e as l,c as u}from\"./initializeConfig-JxT5lzW-.js\";import{jsx as g}from\"react/jsx-runtime\";const d=e(void 0);function w({children:e,formats:t,getMessageFallback:n,locale:i,messages:m,now:f,onError:l,timeZone:u}){const w=r(d),v=o((()=>w?.cache||a()),[i,w?.cache]),E=o((()=>w?.formatters||s(v)),[v,w?.formatters]),h=o((()=>({...c({locale:i,formats:void 0===t?w?.formats:t,getMessageFallback:n||w?.getMessageFallback,messages:void 0===m?w?.messages:m,now:f||w?.now,onError:l||w?.onError,timeZone:u||w?.timeZone}),formatters:E,cache:v})),[v,t,E,n,i,m,f,l,w,u]);return g(d.Provider,{value:h,children:e})}function v(){const e=r(d);if(!e)throw new Error(void 0);return e}let E=!1;const h=\"undefined\"==typeof window;function p(e){return function(e,r,t){const{cache:n,formats:a,formatters:s,getMessageFallback:c,locale:u,onError:g,timeZone:d}=v(),w=e[t],p=i(r,t);return d||E||!h||(E=!0,g(new m(f.ENVIRONMENT_FALLBACK,void 0))),o((()=>l({cache:n,formatters:s,getMessageFallback:c,messages:w,namespace:p,onError:g,formats:a,locale:u,timeZone:d})),[n,s,c,w,p,g,a,u,d])}({\"!\":v().messages},e?`!.${e}`:\"!\",\"!\")}function Z(){return v().locale}function b(){return new Date}function F(e){const r=e?.updateInterval,{now:o}=v(),[a,s]=t(o||b());return n((()=>{if(!r)return;const e=setInterval((()=>{s(b())}),r);return()=>{clearInterval(e)}}),[o,r]),null==r&&o?o:a}function M(){return v().timeZone}function k(){const e=v();if(!e.messages)throw new Error(void 0);return e.messages}function I(){const{formats:e,formatters:r,locale:t,now:n,onError:a,timeZone:s}=v();return o((()=>u({formats:e,locale:t,now:n,onError:a,timeZone:s,_formatters:r})),[e,r,n,t,a,s])}export{w as IntlProvider,I as useFormatter,Z as useLocale,k as useMessages,F as useNow,M as useTimeZone,p as useTranslations};\n","import{useFormatter as r,useTranslations as t}from\"use-intl\";export*from\"use-intl\";function o(r,t){return(...r)=>{try{return t(...r)}catch{throw new Error(void 0)}}}const e=o(0,t),n=o(0,r);export{n as useFormatter,e as useTranslations};\n","/**\n * Translation Hooks\n * \n * Type-safe hooks for accessing translations in components.\n * These hooks wrap next-intl's useTranslations hook with domain-specific namespaces.\n */\n\nimport { useTranslations } from 'next-intl';\n\n/**\n * Hook for common translations (buttons, labels, messages, navigation, etc.)\n */\nexport function useCommonTranslations() {\n  return useTranslations('common');\n}\n\n/**\n * Hook for authentication translations (login, register, password, etc.)\n */\nexport function useAuthTranslations() {\n  return useTranslations('auth');\n}\n\n/**\n * Hook for dashboard translations (stats, charts, activities, etc.)\n */\nexport function useDashboardTranslations() {\n  return useTranslations('dashboard');\n}\n\n/**\n * Hook for order management translations\n */\nexport function useOrderTranslations() {\n  return useTranslations('orders');\n}\n\n/**\n * Hook for product management translations\n */\nexport function useProductTranslations() {\n  return useTranslations('products');\n}\n\n/**\n * Hook for customer management translations\n */\nexport function useCustomerTranslations() {\n  return useTranslations('customers');\n}\n\n/**\n * Hook for settings page translations\n */\nexport function useSettingsTranslations() {\n  return useTranslations('settings');\n}\n\n/**\n * Hook for validation message translations\n */\nexport function useValidationTranslations() {\n  return useTranslations('validation');\n}\n\n/**\n * Hook for user management translations\n */\nexport function useUsersTranslations() {\n  return useTranslations('users');\n}\n\n/**\n * Hook for outlet management translations\n */\nexport function useOutletsTranslations() {\n  return useTranslations('outlets');\n}\n\n/**\n * Hook for category management translations\n */\nexport function useCategoriesTranslations() {\n  return useTranslations('categories');\n}\n\n/**\n * Hook for calendar translations\n */\nexport function useCalendarTranslations() {\n  return useTranslations('calendar');\n}\n\n/**\n * Hook for subscription plans translations\n */\nexport function usePlansTranslations() {\n  return useTranslations('plans');\n}\n\n/**\n * Hook for subscription management translations\n */\nexport function useSubscriptionTranslations() {\n  return useTranslations('subscription');\n}\n\n/**\n * Hook for API error message translations\n */\nexport function useErrorTranslations() {\n  return useTranslations('errors');\n}\n\n/**\n * Convenience type for translation function\n * Can be used to type the return value of useTranslations\n */\nexport type TranslationFunction = ReturnType<typeof useTranslations>;\n\n","/**\n * Locale Management Hook\n * \n * Provides functionality to switch between supported locales.\n * Uses cookies to persist locale preference across page reloads.\n * \n * WHY USE COOKIES?\n * - Server components can read cookies\n * - Allows server-side rendering with correct locale\n * - Persists across browser sessions\n */\n\n'use client';\n\nimport { useLocale as useNextIntlLocale } from 'next-intl';\nimport { useRouter, usePathname } from 'next/navigation';\nimport { useTransition } from 'react';\n\nexport type SupportedLocale = 'en' | 'vi';\n\n/**\n * Hook to get current locale and switch between locales\n * \n * @returns {Object} Object containing:\n *   - locale: Current locale ('en' or 'vi')\n *   - setLocale: Function to change locale\n *   - isPending: Whether locale change is in progress\n */\nexport function useLocale() {\n  const locale = useNextIntlLocale() as SupportedLocale;\n  const router = useRouter();\n  const pathname = usePathname();\n  const [isPending, startTransition] = useTransition();\n\n  /**\n   * Change the current locale\n   * \n   * HOW IT WORKS:\n   * 1. Set a cookie with the new locale\n   * 2. Refresh the page to apply the new locale\n   * \n   * WHY REFRESH?\n   * - next-intl needs to reload to apply new messages\n   * - Cookie is read server-side during next render\n   * \n   * @param newLocale - The locale to switch to ('en' or 'vi')\n   */\n  const setLocale = (newLocale: SupportedLocale) => {\n    // Set cookie that will be read by i18n.ts\n    document.cookie = `NEXT_LOCALE=${newLocale};path=/;max-age=31536000`; // 1 year\n    \n    startTransition(() => {\n      // Refresh the current page to apply new locale\n      router.refresh();\n    });\n  };\n\n  return {\n    locale,\n    setLocale,\n    isPending,\n  };\n}\n\n","'use client';\n\nimport { useAuth } from './useAuth';\n\n// ============================================================================\n// USER ROLE HOOK - Simplified role checking\n// ============================================================================\n\nexport interface UserRoleInfo {\n  role: string | undefined;\n  isAdmin: boolean;\n  isMerchant: boolean;\n  isOutletAdmin: boolean;\n  isOutletStaff: boolean;\n  canManageUsers: boolean;\n  canManageProducts: boolean;\n  canManageCategories: boolean;\n  canManageOutlets: boolean;\n  canManageSubscriptions: boolean;\n  canViewBilling: boolean;\n  canExportData: boolean;\n}\n\nexport function useUserRole(): UserRoleInfo {\n  const { user } = useAuth();\n  \n  const role = user?.role;\n  \n  return {\n    role,\n    isAdmin: role === 'ADMIN',\n    isMerchant: role === 'MERCHANT',\n    isOutletAdmin: role === 'OUTLET_ADMIN',\n    isOutletStaff: role === 'OUTLET_STAFF',\n    \n    // Permission checks\n    canManageUsers: role === 'ADMIN' || role === 'MERCHANT' || role === 'OUTLET_ADMIN',\n    canManageProducts: role === 'ADMIN' || role === 'MERCHANT' || role === 'OUTLET_ADMIN',\n    canManageCategories: role === 'ADMIN' || role === 'MERCHANT',\n    canManageOutlets: role === 'ADMIN' || role === 'MERCHANT',\n    canManageSubscriptions: role === 'ADMIN' || role === 'MERCHANT',\n    canViewBilling: role === 'ADMIN' || role === 'MERCHANT',\n    canExportData: role === 'ADMIN' || role === 'MERCHANT',\n  };\n}\n\n// ============================================================================\n// CONVENIENCE HOOKS FOR SPECIFIC PERMISSIONS\n// ============================================================================\n\nexport function useCanManageProducts(): boolean {\n  const { canManageProducts } = useUserRole();\n  return canManageProducts;\n}\n\nexport function useCanManageCategories(): boolean {\n  const { canManageCategories } = useUserRole();\n  return canManageCategories;\n}\n\nexport function useCanManageUsers(): boolean {\n  const { canManageUsers } = useUserRole();\n  return canManageUsers;\n}\n\nexport function useCanManageOutlets(): boolean {\n  const { canManageOutlets } = useUserRole();\n  return canManageOutlets;\n}\n\nexport function useCanManageSubscriptions(): boolean {\n  const { canManageSubscriptions } = useUserRole();\n  return canManageSubscriptions;\n}\n\nexport function useCanViewBilling(): boolean {\n  const { canViewBilling } = useUserRole();\n  return canViewBilling;\n}\n\nexport function useCanExportData(): boolean {\n  const { canExportData } = useUserRole();\n  return canExportData;\n}\n","'use client';\n\nimport { useDedupedApi } from '../utils/useDedupedApi';\nimport { usersApi } from '@rentalshop/utils';\nimport type { UserFilters, User } from '@rentalshop/types';\n\n// ============================================================================\n// TYPES\n// ============================================================================\n\nexport interface UsersDataResponse {\n  users: User[];\n  total: number;\n  page: number;\n  currentPage: number; // Alias for page\n  limit: number;\n  hasMore: boolean;\n  totalPages: number;\n}\n\nexport interface UseUsersDataOptions {\n  filters: UserFilters;\n  enabled?: boolean;\n}\n\nexport interface UseUsersDataReturn {\n  data: UsersDataResponse | null;\n  loading: boolean;\n  error: Error | null;\n  refetch: () => Promise<void>;\n  isStale: boolean;\n}\n\n// ============================================================================\n// HOOK\n// ============================================================================\n\n/**\n * ✅ MODERN USERS DATA HOOK\n * \n * Clean and simple wrapper around useDedupedApi for users\n * \n * Features:\n * - Automatic request deduplication\n * - Intelligent caching (30s stale time)\n * - Request cancellation and race condition protection\n * - Transform API response to consistent format\n * \n * Usage:\n * ```tsx\n * const { data, loading, error } = useUsersData({ \n *   filters: { page: 1, role: 'OUTLET_ADMIN' }\n * });\n * ```\n */\nexport function useUsersData(options: UseUsersDataOptions): UseUsersDataReturn {\n  const { filters, enabled = true } = options;\n  \n  const result = useDedupedApi({\n    filters,\n    fetchFn: async (filters: UserFilters) => {\n      console.log('👤 useUsersData: Fetching with filters:', filters);\n      \n      const response = await usersApi.searchUsers(filters);\n\n      if (!response.success || !response.data) {\n        throw new Error('Failed to fetch users');\n      }\n\n      // Transform API response to consistent format\n      const apiData = response.data as any;\n      \n      // Handle both array and object responses\n      let usersData: User[];\n      let total: number;\n      let page: number;\n      let limit: number;\n      let hasMore: boolean;\n      let totalPages: number;\n\n      if (Array.isArray(apiData)) {\n        // Direct array: { success: true, data: [...users], pagination: {...} }\n        const pagination = (response as any).pagination || {};\n        usersData = apiData;\n        total = pagination.total || apiData.length;\n        page = pagination.page || 1;\n        limit = pagination.limit || 25;\n        totalPages = Math.ceil(total / limit);\n        hasMore = pagination.hasMore !== undefined ? pagination.hasMore : page < totalPages;\n      } else {\n        // Nested object: { success: true, data: { users, total, page, ... } }\n        usersData = apiData.users || [];\n        total = apiData.total || 0;\n        page = apiData.page || 1;\n        limit = apiData.limit || 25;\n        totalPages = apiData.totalPages || Math.ceil(total / limit);\n        hasMore = apiData.hasMore !== undefined ? apiData.hasMore : page < totalPages;\n      }\n\n      const transformed: UsersDataResponse = {\n        users: usersData,\n        total,\n        page,\n        currentPage: page, // Alias for compatibility\n        limit,\n        hasMore,\n        totalPages\n      };\n      \n      console.log('✅ useUsersData: Success:', {\n        usersCount: transformed.users.length,\n        total: transformed.total,\n        page: transformed.page\n      });\n      \n      return transformed;\n    },\n    enabled,\n    staleTime: 30000, // 30 seconds cache\n    cacheTime: 300000, // 5 minutes\n    refetchOnWindowFocus: false\n  });\n\n  return result;\n}\n","import { useRouter } from 'next/navigation';\nimport { useState, useCallback, useRef, useEffect } from 'react';\n\ninterface UseOptimisticNavigationOptions {\n  onNavigateStart?: (path: string) => void;\n  onNavigateEnd?: (path: string) => void;\n}\n\n/**\n * Hook for instant navigation with immediate page transition\n * \n * Flow:\n * 1. User clicks → Navigate IMMEDIATELY (0ms, synchronous router.push)\n * 2. Page transitions → Next.js loading.tsx shows skeleton\n * 3. Data loads → Real content displays\n * \n * Key: Direct router.push for instant transitions, no overlay blocking\n */\nexport function useOptimisticNavigation(options: UseOptimisticNavigationOptions = {}) {\n  const router = useRouter();\n  const [navigatingTo, setNavigatingTo] = useState<string | null>(null);\n  const rafRef = useRef<number | null>(null);\n  const timeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      if (rafRef.current) {\n        cancelAnimationFrame(rafRef.current);\n      }\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n    };\n  }, []);\n\n  const navigate = useCallback((path: string) => {\n    // Clear any existing timers\n    if (rafRef.current) {\n      cancelAnimationFrame(rafRef.current);\n    }\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n\n    // 1. INSTANT (0ms): Navigate IMMEDIATELY - no delay, no overlay\n    // Direct router.push for instant page transition\n    options.onNavigateStart?.(path);\n    router.push(path);\n    \n    // 2. CLEANUP: Clear state after brief moment\n    timeoutRef.current = setTimeout(() => {\n      setNavigatingTo(null);\n      options.onNavigateEnd?.(path);\n    }, 100); // Short timeout since we're not showing overlay\n  }, [router, options]);\n\n  return {\n    navigate,\n    navigatingTo,\n    isNavigating: navigatingTo !== null\n  };\n}\n\n","/**\n * useApiError Hook\n * Hook để translate API error/success messages dựa trên error codes\n * \n * @example\n * const { translateError, translateSuccess } = useApiError();\n * \n * try {\n *   const response = await api.createCustomer(data);\n *   toast.success(translateSuccess(response));\n * } catch (error) {\n *   toast.error(translateError(error));\n * }\n */\n\nimport { useErrorTranslations } from './useTranslation';\n\ninterface ApiResponse {\n  success: boolean;\n  code?: string;\n  message?: string;\n  data?: any;\n  error?: any;\n}\n\nexport function useApiError() {\n  const t = useErrorTranslations();\n\n  /**\n   * Translate error response từ API\n   * Ưu tiên dùng code để translate, fallback sang message\n   */\n  const translateError = (response: any): string => {\n    // Handle axios error response\n    if (response?.response?.data) {\n      return translateError(response.response.data);\n    }\n\n    // Handle API error response với code\n    if (response?.code) {\n      const translated = t(response.code);\n      // Nếu translation key không tồn tại, fallback sang message\n      if (translated === response.code && response.message) {\n        return response.message;\n      }\n      return translated;\n    }\n\n    // Handle error object với message\n    if (response?.message) {\n      return response.message;\n    }\n\n    // Handle string error\n    if (typeof response === 'string') {\n      return response;\n    }\n\n    // Default fallback\n    return t('UNKNOWN_ERROR');\n  };\n\n  /**\n   * Translate success response từ API\n   * Ưu tiên dùng code để translate, fallback sang message\n   */\n  const translateSuccess = (response: any): string => {\n    // Handle API success response với code\n    if (response?.code) {\n      const translated = t(response.code);\n      // Nếu translation key không tồn tại, fallback sang message\n      if (translated === response.code && response.message) {\n        return response.message;\n      }\n      return translated;\n    }\n\n    // Handle success response với message\n    if (response?.message) {\n      return response.message;\n    }\n\n    // Default fallback\n    return t('UNKNOWN_ERROR');\n  };\n\n  /**\n   * Translate response (auto-detect error/success)\n   */\n  const translateResponse = (response: any): string => {\n    if (response?.success === false) {\n      return translateError(response);\n    }\n    return translateSuccess(response);\n  };\n\n  /**\n   * Check if response is error\n   */\n  const isError = (response: any): boolean => {\n    return response?.success === false || !!response?.error || !!response?.response?.data?.error;\n  };\n\n  /**\n   * Extract error code từ response\n   */\n  const getErrorCode = (response: any): string | null => {\n    if (response?.response?.data?.code) {\n      return response.response.data.code;\n    }\n    if (response?.code) {\n      return response.code;\n    }\n    return null;\n  };\n\n  return {\n    translateError,\n    translateSuccess,\n    translateResponse,\n    isError,\n    getErrorCode,\n  };\n}\n\n/**\n * Standalone helper functions (không cần hook)\n * Hữu ích khi sử dụng ngoài React components\n */\n\n/**\n * Extract error message từ API response hoặc error object\n * @param error - API response hoặc error object\n * @returns Error message string\n */\nexport function extractErrorMessage(error: any): string {\n  // Axios error response\n  if (error?.response?.data) {\n    const data = error.response.data;\n    return data.message || data.error || 'An error occurred';\n  }\n\n  // API error response\n  if (error?.message) {\n    return error.message;\n  }\n\n  // String error\n  if (typeof error === 'string') {\n    return error;\n  }\n\n  return 'An unknown error occurred';\n}\n\n/**\n * Extract error code từ API response\n * @param error - API response hoặc error object\n * @returns Error code string hoặc null\n */\nexport function extractErrorCode(error: any): string | null {\n  // Axios error response\n  if (error?.response?.data?.code) {\n    return error.response.data.code;\n  }\n\n  // API error response\n  if (error?.code) {\n    return error.code;\n  }\n\n  return null;\n}\n\n/**\n * Check if error is specific type\n * @param error - API response hoặc error object\n * @param code - Error code to check\n * @returns Boolean\n */\nexport function isErrorCode(error: any, code: string): boolean {\n  return extractErrorCode(error) === code;\n}\n\n/**\n * Common error code checkers\n */\nexport const ErrorCheckers = {\n  isUnauthorized: (error: any) => isErrorCode(error, 'UNAUTHORIZED') || isErrorCode(error, 'INVALID_TOKEN'),\n  isForbidden: (error: any) => isErrorCode(error, 'FORBIDDEN'),\n  isNotFound: (error: any) => isErrorCode(error, 'NOT_FOUND') || extractErrorCode(error)?.includes('_NOT_FOUND'),\n  isValidationError: (error: any) => isErrorCode(error, 'VALIDATION_ERROR'),\n  isDuplicateEntry: (error: any) => isErrorCode(error, 'DUPLICATE_ENTRY') || extractErrorCode(error)?.includes('_EXISTS'),\n  isNetworkError: (error: any) => isErrorCode(error, 'NETWORK_ERROR') || error?.message?.includes('Network'),\n};\n\n","'use client';\n\nimport { useDedupedApi } from '../utils/useDedupedApi';\nimport { outletsApi, categoriesApi } from '@rentalshop/utils';\nimport type { OutletFilters, CategoryFilters, Outlet, Category } from '@rentalshop/types';\n\n// ============================================================================\n// TYPES\n// ============================================================================\n\n// Simple version (no filters)\nexport interface OutletsResponse {\n  outlets: Outlet[];\n}\n\nexport interface CategoriesResponse extends Array<Category> {}\n\n// Full version (with filters and pagination)\nexport interface OutletsDataResponse {\n  outlets: Outlet[];\n  total: number;\n  totalPages: number;\n  currentPage: number;\n  limit: number;\n  hasMore: boolean;\n}\n\nexport interface CategoriesDataResponse {\n  categories: Category[];\n  total: number;\n  currentPage: number;\n  totalPages: number;\n  limit: number;\n  hasMore: boolean;\n}\n\nexport interface UseOutletsDataOptions {\n  filters: OutletFilters;\n  enabled?: boolean;\n  debounceSearch?: boolean;\n  debounceMs?: number;\n}\n\nexport interface UseCategoriesDataOptions {\n  filters: CategoryFilters;\n  enabled?: boolean;\n  debounceSearch?: boolean;\n  debounceMs?: number;\n}\n\n// ============================================================================\n// SIMPLE HOOKS (No Filters - For Dropdowns)\n// ============================================================================\n\n/**\n * ✅ MODERN OUTLETS DATA HOOK (Simple)\n * - For dropdown filters\n * - No filters, just fetch all outlets\n * - Long cache time (5 minutes)\n */\nexport function useOutletsData() {\n  const { data, loading, error } = useDedupedApi({\n    filters: {}, // No filters needed for outlets\n    fetchFn: async () => {\n      console.log('🔍 useOutletsData: Fetching outlets...');\n      const response = await outletsApi.getOutlets();\n      \n      if (response.success && response.data) {\n        // Handle response structure\n        const outletsData = (response.data as any).outlets || [];\n        \n        console.log('✅ useOutletsData: Transformed data:', {\n          isArray: Array.isArray(outletsData),\n          count: outletsData.length\n        });\n        \n        return { outlets: outletsData };\n      }\n      \n      throw new Error('Failed to fetch outlets');\n    },\n    enabled: true,\n    staleTime: 300000, // 5 minutes - outlets don't change often\n    cacheTime: 600000, // 10 minutes\n    refetchOnMount: false, // Don't refetch on every mount\n    refetchOnWindowFocus: false\n  });\n\n  return {\n    outlets: data?.outlets || [],\n    loading,\n    error\n  };\n}\n\n/**\n * ✅ MODERN CATEGORIES DATA HOOK (Simple)\n * - For dropdown filters\n * - No filters, just fetch all categories\n * - Long cache time (5 minutes)\n */\nexport function useCategoriesData() {\n  const { data, loading, error } = useDedupedApi({\n    filters: {}, // No filters needed for categories\n    fetchFn: async () => {\n      console.log('🔍 useCategoriesData: Fetching categories...');\n      const response = await categoriesApi.getCategories();\n      \n      if (response.success && response.data) {\n        // response.data is already an array from API\n        const categoriesData = response.data;\n        \n        console.log('✅ useCategoriesData: API response data:', {\n          isArray: Array.isArray(categoriesData),\n          count: categoriesData.length\n        });\n        \n        return categoriesData;\n      }\n      \n      throw new Error('Failed to fetch categories');\n    },\n    enabled: true,\n    staleTime: 300000, // 5 minutes - categories don't change often\n    cacheTime: 600000, // 10 minutes\n    refetchOnMount: false, // Don't refetch on every mount\n    refetchOnWindowFocus: false\n  });\n\n  console.log('🔍 useCategoriesData return:', {\n    data,\n    isArray: Array.isArray(data),\n    type: typeof data,\n    length: data?.length\n  });\n\n  // Ensure we always return an array\n  const categories = Array.isArray(data) ? data : [];\n  \n  return {\n    categories,\n    loading,\n    error\n  };\n}\n\n// ============================================================================\n// FULL HOOKS (With Filters - For Pages)\n// ============================================================================\n\n/**\n * ✅ MODERN OUTLETS DATA HOOK (Full)\n * - For outlets page with filters\n * - Pagination, search, sorting\n */\nexport function useOutletsWithFilters(options: UseOutletsDataOptions) {\n  const { filters, enabled = true, debounceSearch = true, debounceMs = 500 } = options;\n\n  const { data, loading, error, refetch } = useDedupedApi({\n    filters,\n    fetchFn: async (filters: OutletFilters) => {\n      console.log('🔍 useOutletsWithFilters: Fetching with filters:', filters);\n      const response = await outletsApi.getOutlets(filters);\n      \n      if (response.success && response.data) {\n        const apiData = response.data as any;\n        \n        return {\n          outlets: apiData.outlets || [],\n          total: apiData.total || 0,\n          totalPages: apiData.totalPages || 1,\n          currentPage: apiData.page || 1,\n          limit: apiData.limit || 25,\n          hasMore: apiData.hasMore || false\n        };\n      }\n      \n      throw new Error('Failed to fetch outlets');\n    },\n    enabled,\n    staleTime: debounceSearch ? 5000 : 30000,\n    cacheTime: 300000,\n    refetchOnMount: true,\n    refetchOnWindowFocus: false\n  });\n\n  return {\n    data,\n    loading,\n    error,\n    refetch\n  };\n}\n\n/**\n * ✅ MODERN CATEGORIES DATA HOOK (Full)\n * - For categories page with filters\n * - Pagination, search, sorting\n */\nexport function useCategoriesWithFilters(options: UseCategoriesDataOptions) {\n  const { filters, enabled = true, debounceSearch = false, debounceMs = 0 } = options;\n\n  const { data, loading, error, refetch } = useDedupedApi({\n    filters,\n    fetchFn: async (filters: CategoryFilters) => {\n      console.log('🔍 useCategoriesWithFilters: Fetching with filters:', filters);\n      const response = await categoriesApi.searchCategories(filters);\n      \n      if (response.success && response.data) {\n        const apiData = response.data as any;\n        \n        return {\n          categories: apiData.categories || [],\n          total: apiData.total || 0,\n          currentPage: apiData.page || 1,\n          totalPages: apiData.totalPages || 1,\n          limit: apiData.limit || 25,\n          hasMore: apiData.hasMore || false\n        };\n      }\n      \n      throw new Error('Failed to fetch categories');\n    },\n    enabled,\n    staleTime: debounceSearch ? 5000 : 30000,\n    cacheTime: 300000,\n    refetchOnMount: true,\n    refetchOnWindowFocus: false\n  });\n\n  return {\n    data,\n    loading,\n    error,\n    refetch\n  };\n}"],"mappings":"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A,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,MAAM;AAAA,IACF;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,UAAU;AAAA,IACN;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,UAAU;AAAA,IACN;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AAAA,EACA,SAAS;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AACJ;;;ACh4CO,SAAS,eAAe,UAAU,QAAQ;AAC7C,MAAI,eAAe;AACnB,WAAS,aAAa,GAAG,aAAa,SAAS,QAAQ,cAAc;AACjE,QAAI,cAAc,SAAS,OAAO,UAAU;AAC5C,QAAI,gBAAgB,KAAK;AACrB,UAAI,cAAc;AAClB,aAAO,aAAa,IAAI,SAAS,UAC7B,SAAS,OAAO,aAAa,CAAC,MAAM,aAAa;AACjD;AACA;AAAA,MACJ;AACA,UAAI,UAAU,KAAK,cAAc;AACjC,UAAI,eAAe,cAAc,IAAI,IAAI,KAAK,eAAe;AAC7D,UAAI,gBAAgB;AACpB,UAAI,WAAW,+BAA+B,MAAM;AACpD,UAAI,YAAY,OAAO,YAAY,KAAK;AACpC,uBAAe;AAAA,MACnB;AACA,aAAO,iBAAiB,GAAG;AACvB,wBAAgB;AAAA,MACpB;AACA,aAAO,YAAY,GAAG;AAClB,uBAAe,WAAW;AAAA,MAC9B;AAAA,IACJ,WACS,gBAAgB,KAAK;AAC1B,sBAAgB;AAAA,IACpB,OACK;AACD,sBAAgB;AAAA,IACpB;AAAA,EACJ;AACA,SAAO;AACX;AAMA,SAAS,+BAA+B,QAAQ;AAC5C,MAAI,YAAY,OAAO;AACvB,MAAI,cAAc;AAAA,EAEd,OAAO;AAAA,EAEP,OAAO,WAAW,QAAQ;AAE1B,gBAAY,OAAO,WAAW,CAAC;AAAA,EACnC;AACA,MAAI,WAAW;AACX,YAAQ,WAAW;AAAA,MACf,KAAK;AACD,eAAO;AAAA,MACX,KAAK;AACD,eAAO;AAAA,MACX,KAAK;AACD,eAAO;AAAA,MACX,KAAK;AACD,eAAO;AAAA,MACX;AACI,cAAM,IAAI,MAAM,mBAAmB;AAAA,IAC3C;AAAA,EACJ;AAEA,MAAI,cAAc,OAAO;AACzB,MAAI;AACJ,MAAI,gBAAgB,QAAQ;AACxB,gBAAY,OAAO,SAAS,EAAE;AAAA,EAClC;AACA,MAAI,aAAa,SAAS,aAAa,EAAE,KACrC,SAAS,eAAe,EAAE,KAC1B,SAAS,GAAG,OAAO,aAAa,MAAM,CAAC,KACvC,SAAS,KAAK;AAClB,SAAO,WAAW,CAAC;AACvB;;;AClFA,IAAI;AAOJ,IAAI,8BAA8B,IAAI,OAAO,IAAI,OAAO,sBAAsB,QAAQ,GAAG,CAAC;AAC1F,IAAI,4BAA4B,IAAI,OAAO,GAAG,OAAO,sBAAsB,QAAQ,IAAI,CAAC;AACxF,SAAS,eAAe,OAAO,KAAK;AAChC,SAAO,EAAE,OAAc,IAAS;AACpC;AAGA,IAAI,sBAAsB,CAAC,CAAC,OAAO,UAAU,cAAc,KAAK,WAAW,KAAK,CAAC;AACjF,IAAI,yBAAyB,CAAC,CAAC,OAAO;AACtC,IAAI,uBAAuB,CAAC,CAAC,OAAO;AACpC,IAAI,uBAAuB,CAAC,CAAC,OAAO,UAAU;AAC9C,IAAI,eAAe,CAAC,CAAC,OAAO,UAAU;AACtC,IAAI,aAAa,CAAC,CAAC,OAAO,UAAU;AACpC,IAAI,yBAAyB,CAAC,CAAC,OAAO;AACtC,IAAI,gBAAgB,yBACd,OAAO,gBACP,SAAUE,IAAG;AACX,SAAQ,OAAOA,OAAM,YACjB,SAASA,EAAC,KACV,KAAK,MAAMA,EAAC,MAAMA,MAClB,KAAK,IAAIA,EAAC,KAAK;AACvB;AAEJ,IAAI,yBAAyB;AAC7B,IAAI;AACI,OAAK,GAAG,6CAA6C,IAAI;AAO7D,6BAA2B,KAAK,GAAG,KAAK,GAAG,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,CAAC,OAAO;AAClG,SACO,GAAG;AACN,2BAAyB;AAC7B;AAXQ;AAYR,IAAI,aAAa;AAAA;AAAA,EAET,SAASC,YAAWC,IAAG,QAAQ,UAAU;AACrC,WAAOA,GAAE,WAAW,QAAQ,QAAQ;AAAA,EACxC;AAAA;AAAA;AAAA,EAEA,SAASD,YAAWC,IAAG,QAAQ,UAAU;AACrC,WAAOA,GAAE,MAAM,UAAU,WAAW,OAAO,MAAM,MAAM;AAAA,EAC3D;AAAA;AACR,IAAI,gBAAgB,yBACd,OAAO;AAAA;AAAA,EAEL,SAASC,iBAAgB;AACrB,QAAI,aAAa,CAAC;AAClB,aAAS,KAAK,GAAG,KAAK,UAAU,QAAQ,MAAM;AAC1C,iBAAW,EAAE,IAAI,UAAU,EAAE;AAAA,IACjC;AACA,QAAI,WAAW;AACf,QAAI,SAAS,WAAW;AACxB,QAAIC,KAAI;AACR,QAAI;AACJ,WAAO,SAASA,IAAG;AACf,aAAO,WAAWA,IAAG;AACrB,UAAI,OAAO;AACP,cAAM,WAAW,OAAO,4BAA4B;AACxD,kBACI,OAAO,QACD,OAAO,aAAa,IAAI,IACxB,OAAO,eAAe,QAAQ,UAAY,MAAM,OAAS,OAAO,OAAS,KAAM;AAAA,IAC7F;AACA,WAAO;AAAA,EACX;AAAA;AACR,IAAI;AAAA;AAAA,EAEJ,uBACM,OAAO;AAAA;AAAA,IAEL,SAASC,aAAY,SAAS;AAC1B,UAAI,MAAM,CAAC;AACX,eAAS,KAAK,GAAG,YAAY,SAAS,KAAK,UAAU,QAAQ,MAAM;AAC/D,YAAIC,MAAK,UAAU,EAAE,GAAGC,KAAID,IAAG,CAAC,GAAGE,KAAIF,IAAG,CAAC;AAC3C,YAAIC,EAAC,IAAIC;AAAA,MACb;AACA,aAAO;AAAA,IACX;AAAA;AAAA;AACR,IAAI,cAAc;AAAA;AAAA,EAEV,SAASC,aAAYP,IAAG,OAAO;AAC3B,WAAOA,GAAE,YAAY,KAAK;AAAA,EAC9B;AAAA;AAAA;AAAA,EAEA,SAASO,aAAYP,IAAG,OAAO;AAC3B,QAAI,OAAOA,GAAE;AACb,QAAI,QAAQ,KAAK,SAAS,MAAM;AAC5B,aAAO;AAAA,IACX;AACA,QAAI,QAAQA,GAAE,WAAW,KAAK;AAC9B,QAAI;AACJ,WAAO,QAAQ,SACX,QAAQ,SACR,QAAQ,MAAM,SACb,SAASA,GAAE,WAAW,QAAQ,CAAC,KAAK,SACrC,SAAS,QACP,SACE,QAAQ,SAAW,OAAO,SAAS,SAAU;AAAA,EACzD;AAAA;AACR,IAAI,YAAY;AAAA;AAAA,EAER,SAASQ,WAAUR,IAAG;AAClB,WAAOA,GAAE,UAAU;AAAA,EACvB;AAAA;AAAA;AAAA,EAEA,SAASQ,WAAUR,IAAG;AAClB,WAAOA,GAAE,QAAQ,6BAA6B,EAAE;AAAA,EACpD;AAAA;AACR,IAAI,UAAU;AAAA;AAAA,EAEN,SAASS,SAAQT,IAAG;AAChB,WAAOA,GAAE,QAAQ;AAAA,EACrB;AAAA;AAAA;AAAA,EAEA,SAASS,SAAQT,IAAG;AAChB,WAAOA,GAAE,QAAQ,2BAA2B,EAAE;AAAA,EAClD;AAAA;AAER,SAAS,GAAGA,IAAG,MAAM;AACjB,SAAO,IAAI,OAAOA,IAAG,IAAI;AAC7B;AAEA,IAAI;AACJ,IAAI,wBAAwB;AAEpB,2BAAyB,GAAG,6CAA6C,IAAI;AACjF,2BAAyB,SAASU,wBAAuBV,IAAG,OAAO;AAC/D,QAAII;AACJ,2BAAuB,YAAY;AACnC,QAAI,QAAQ,uBAAuB,KAAKJ,EAAC;AACzC,YAAQI,MAAK,MAAM,CAAC,OAAO,QAAQA,QAAO,SAASA,MAAK;AAAA,EAC5D;AACJ,OACK;AAED,2BAAyB,SAASM,wBAAuBV,IAAG,OAAO;AAC/D,QAAI,QAAQ,CAAC;AACb,WAAO,MAAM;AACT,UAAIW,KAAI,YAAYX,IAAG,KAAK;AAC5B,UAAIW,OAAM,UAAa,cAAcA,EAAC,KAAK,iBAAiBA,EAAC,GAAG;AAC5D;AAAA,MACJ;AACA,YAAM,KAAKA,EAAC;AACZ,eAASA,MAAK,QAAU,IAAI;AAAA,IAChC;AACA,WAAO,cAAc,MAAM,QAAQ,KAAK;AAAA,EAC5C;AACJ;AAtBQ;AAuBR,IAAI;AAAA;AAAA,EAAwB,WAAY;AACpC,aAASC,QAAO,SAAS,SAAS;AAC9B,UAAI,YAAY,QAAQ;AAAE,kBAAU,CAAC;AAAA,MAAG;AACxC,WAAK,UAAU;AACf,WAAK,WAAW,EAAE,QAAQ,GAAG,MAAM,GAAG,QAAQ,EAAE;AAChD,WAAK,YAAY,CAAC,CAAC,QAAQ;AAC3B,WAAK,SAAS,QAAQ;AACtB,WAAK,sBAAsB,CAAC,CAAC,QAAQ;AACrC,WAAK,uBAAuB,CAAC,CAAC,QAAQ;AAAA,IAC1C;AACA,IAAAA,QAAO,UAAU,QAAQ,WAAY;AACjC,UAAI,KAAK,OAAO,MAAM,GAAG;AACrB,cAAM,MAAM,8BAA8B;AAAA,MAC9C;AACA,aAAO,KAAK,aAAa,GAAG,IAAI,KAAK;AAAA,IACzC;AACA,IAAAA,QAAO,UAAU,eAAe,SAAU,cAAc,eAAe,mBAAmB;AACtF,UAAI,WAAW,CAAC;AAChB,aAAO,CAAC,KAAK,MAAM,GAAG;AAClB,YAAI,OAAO,KAAK,KAAK;AACrB,YAAI,SAAS,KAAe;AACxB,cAAI,SAAS,KAAK,cAAc,cAAc,iBAAiB;AAC/D,cAAI,OAAO,KAAK;AACZ,mBAAO;AAAA,UACX;AACA,mBAAS,KAAK,OAAO,GAAG;AAAA,QAC5B,WACS,SAAS,OAAiB,eAAe,GAAG;AACjD;AAAA,QACJ,WACS,SAAS,OACb,kBAAkB,YAAY,kBAAkB,kBAAkB;AACnE,cAAI,WAAW,KAAK,cAAc;AAClC,eAAK,KAAK;AACV,mBAAS,KAAK;AAAA,YACV,MAAM,KAAK;AAAA,YACX,UAAU,eAAe,UAAU,KAAK,cAAc,CAAC;AAAA,UAC3D,CAAC;AAAA,QACL,WACS,SAAS,MACd,CAAC,KAAK,aACN,KAAK,KAAK,MAAM,IAClB;AACE,cAAI,mBAAmB;AACnB;AAAA,UACJ,OACK;AACD,mBAAO,KAAK,MAAM,UAAU,uBAAuB,eAAe,KAAK,cAAc,GAAG,KAAK,cAAc,CAAC,CAAC;AAAA,UACjH;AAAA,QACJ,WACS,SAAS,MACd,CAAC,KAAK,aACN,SAAS,KAAK,KAAK,KAAK,CAAC,GAAG;AAC5B,cAAI,SAAS,KAAK,SAAS,cAAc,aAAa;AACtD,cAAI,OAAO,KAAK;AACZ,mBAAO;AAAA,UACX;AACA,mBAAS,KAAK,OAAO,GAAG;AAAA,QAC5B,OACK;AACD,cAAI,SAAS,KAAK,aAAa,cAAc,aAAa;AAC1D,cAAI,OAAO,KAAK;AACZ,mBAAO;AAAA,UACX;AACA,mBAAS,KAAK,OAAO,GAAG;AAAA,QAC5B;AAAA,MACJ;AACA,aAAO,EAAE,KAAK,UAAU,KAAK,KAAK;AAAA,IACtC;AAmBA,IAAAA,QAAO,UAAU,WAAW,SAAU,cAAc,eAAe;AAC/D,UAAI,gBAAgB,KAAK,cAAc;AACvC,WAAK,KAAK;AACV,UAAI,UAAU,KAAK,aAAa;AAChC,WAAK,UAAU;AACf,UAAI,KAAK,OAAO,IAAI,GAAG;AAEnB,eAAO;AAAA,UACH,KAAK;AAAA,YACD,MAAM,KAAK;AAAA,YACX,OAAO,IAAI,OAAO,SAAS,IAAI;AAAA,YAC/B,UAAU,eAAe,eAAe,KAAK,cAAc,CAAC;AAAA,UAChE;AAAA,UACA,KAAK;AAAA,QACT;AAAA,MACJ,WACS,KAAK,OAAO,GAAG,GAAG;AACvB,YAAI,iBAAiB,KAAK,aAAa,eAAe,GAAG,eAAe,IAAI;AAC5E,YAAI,eAAe,KAAK;AACpB,iBAAO;AAAA,QACX;AACA,YAAI,WAAW,eAAe;AAE9B,YAAI,sBAAsB,KAAK,cAAc;AAC7C,YAAI,KAAK,OAAO,IAAI,GAAG;AACnB,cAAI,KAAK,MAAM,KAAK,CAAC,SAAS,KAAK,KAAK,CAAC,GAAG;AACxC,mBAAO,KAAK,MAAM,UAAU,aAAa,eAAe,qBAAqB,KAAK,cAAc,CAAC,CAAC;AAAA,UACtG;AACA,cAAI,8BAA8B,KAAK,cAAc;AACrD,cAAI,iBAAiB,KAAK,aAAa;AACvC,cAAI,YAAY,gBAAgB;AAC5B,mBAAO,KAAK,MAAM,UAAU,uBAAuB,eAAe,6BAA6B,KAAK,cAAc,CAAC,CAAC;AAAA,UACxH;AACA,eAAK,UAAU;AACf,cAAI,CAAC,KAAK,OAAO,GAAG,GAAG;AACnB,mBAAO,KAAK,MAAM,UAAU,aAAa,eAAe,qBAAqB,KAAK,cAAc,CAAC,CAAC;AAAA,UACtG;AACA,iBAAO;AAAA,YACH,KAAK;AAAA,cACD,MAAM,KAAK;AAAA,cACX,OAAO;AAAA,cACP;AAAA,cACA,UAAU,eAAe,eAAe,KAAK,cAAc,CAAC;AAAA,YAChE;AAAA,YACA,KAAK;AAAA,UACT;AAAA,QACJ,OACK;AACD,iBAAO,KAAK,MAAM,UAAU,cAAc,eAAe,eAAe,KAAK,cAAc,CAAC,CAAC;AAAA,QACjG;AAAA,MACJ,OACK;AACD,eAAO,KAAK,MAAM,UAAU,aAAa,eAAe,eAAe,KAAK,cAAc,CAAC,CAAC;AAAA,MAChG;AAAA,IACJ;AAIA,IAAAA,QAAO,UAAU,eAAe,WAAY;AACxC,UAAI,cAAc,KAAK,OAAO;AAC9B,WAAK,KAAK;AACV,aAAO,CAAC,KAAK,MAAM,KAAK,4BAA4B,KAAK,KAAK,CAAC,GAAG;AAC9D,aAAK,KAAK;AAAA,MACd;AACA,aAAO,KAAK,QAAQ,MAAM,aAAa,KAAK,OAAO,CAAC;AAAA,IACxD;AACA,IAAAA,QAAO,UAAU,eAAe,SAAU,cAAc,eAAe;AACnE,UAAI,QAAQ,KAAK,cAAc;AAC/B,UAAI,QAAQ;AACZ,aAAO,MAAM;AACT,YAAI,mBAAmB,KAAK,cAAc,aAAa;AACvD,YAAI,kBAAkB;AAClB,mBAAS;AACT;AAAA,QACJ;AACA,YAAI,sBAAsB,KAAK,iBAAiB,cAAc,aAAa;AAC3E,YAAI,qBAAqB;AACrB,mBAAS;AACT;AAAA,QACJ;AACA,YAAI,uBAAuB,KAAK,yBAAyB;AACzD,YAAI,sBAAsB;AACtB,mBAAS;AACT;AAAA,QACJ;AACA;AAAA,MACJ;AACA,UAAI,WAAW,eAAe,OAAO,KAAK,cAAc,CAAC;AACzD,aAAO;AAAA,QACH,KAAK,EAAE,MAAM,KAAK,SAAS,OAAc,SAAmB;AAAA,QAC5D,KAAK;AAAA,MACT;AAAA,IACJ;AACA,IAAAA,QAAO,UAAU,2BAA2B,WAAY;AACpD,UAAI,CAAC,KAAK,MAAM,KACZ,KAAK,KAAK,MAAM,OACf,KAAK;AAAA,MAEF,CAAC,gBAAgB,KAAK,KAAK,KAAK,CAAC,IAAI;AACzC,aAAK,KAAK;AACV,eAAO;AAAA,MACX;AACA,aAAO;AAAA,IACX;AAMA,IAAAA,QAAO,UAAU,gBAAgB,SAAU,eAAe;AACtD,UAAI,KAAK,MAAM,KAAK,KAAK,KAAK,MAAM,IAAc;AAC9C,eAAO;AAAA,MACX;AAGA,cAAQ,KAAK,KAAK,GAAG;AAAA,QACjB,KAAK;AAED,eAAK,KAAK;AACV,eAAK,KAAK;AACV,iBAAO;AAAA,QAEX,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACD;AAAA,QACJ,KAAK;AACD,cAAI,kBAAkB,YAAY,kBAAkB,iBAAiB;AACjE;AAAA,UACJ;AACA,iBAAO;AAAA,QACX;AACI,iBAAO;AAAA,MACf;AACA,WAAK,KAAK;AACV,UAAI,aAAa,CAAC,KAAK,KAAK,CAAC;AAC7B,WAAK,KAAK;AAEV,aAAO,CAAC,KAAK,MAAM,GAAG;AAClB,YAAI,KAAK,KAAK,KAAK;AACnB,YAAI,OAAO,IAAc;AACrB,cAAI,KAAK,KAAK,MAAM,IAAc;AAC9B,uBAAW,KAAK,EAAE;AAElB,iBAAK,KAAK;AAAA,UACd,OACK;AAED,iBAAK,KAAK;AACV;AAAA,UACJ;AAAA,QACJ,OACK;AACD,qBAAW,KAAK,EAAE;AAAA,QACtB;AACA,aAAK,KAAK;AAAA,MACd;AACA,aAAO,cAAc,MAAM,QAAQ,UAAU;AAAA,IACjD;AACA,IAAAA,QAAO,UAAU,mBAAmB,SAAU,cAAc,eAAe;AACvE,UAAI,KAAK,MAAM,GAAG;AACd,eAAO;AAAA,MACX;AACA,UAAI,KAAK,KAAK,KAAK;AACnB,UAAI,OAAO,MACP,OAAO,OACN,OAAO,OACH,kBAAkB,YAAY,kBAAkB,oBACpD,OAAO,OAAiB,eAAe,GAAI;AAC5C,eAAO;AAAA,MACX,OACK;AACD,aAAK,KAAK;AACV,eAAO,cAAc,EAAE;AAAA,MAC3B;AAAA,IACJ;AACA,IAAAA,QAAO,UAAU,gBAAgB,SAAU,cAAc,mBAAmB;AACxE,UAAI,uBAAuB,KAAK,cAAc;AAC9C,WAAK,KAAK;AACV,WAAK,UAAU;AACf,UAAI,KAAK,MAAM,GAAG;AACd,eAAO,KAAK,MAAM,UAAU,+BAA+B,eAAe,sBAAsB,KAAK,cAAc,CAAC,CAAC;AAAA,MACzH;AACA,UAAI,KAAK,KAAK,MAAM,KAAe;AAC/B,aAAK,KAAK;AACV,eAAO,KAAK,MAAM,UAAU,gBAAgB,eAAe,sBAAsB,KAAK,cAAc,CAAC,CAAC;AAAA,MAC1G;AAEA,UAAI,QAAQ,KAAK,0BAA0B,EAAE;AAC7C,UAAI,CAAC,OAAO;AACR,eAAO,KAAK,MAAM,UAAU,oBAAoB,eAAe,sBAAsB,KAAK,cAAc,CAAC,CAAC;AAAA,MAC9G;AACA,WAAK,UAAU;AACf,UAAI,KAAK,MAAM,GAAG;AACd,eAAO,KAAK,MAAM,UAAU,+BAA+B,eAAe,sBAAsB,KAAK,cAAc,CAAC,CAAC;AAAA,MACzH;AACA,cAAQ,KAAK,KAAK,GAAG;AAAA,QAEjB,KAAK,KAAe;AAChB,eAAK,KAAK;AACV,iBAAO;AAAA,YACH,KAAK;AAAA,cACD,MAAM,KAAK;AAAA;AAAA,cAEX;AAAA,cACA,UAAU,eAAe,sBAAsB,KAAK,cAAc,CAAC;AAAA,YACvE;AAAA,YACA,KAAK;AAAA,UACT;AAAA,QACJ;AAAA,QAEA,KAAK,IAAc;AACf,eAAK,KAAK;AACV,eAAK,UAAU;AACf,cAAI,KAAK,MAAM,GAAG;AACd,mBAAO,KAAK,MAAM,UAAU,+BAA+B,eAAe,sBAAsB,KAAK,cAAc,CAAC,CAAC;AAAA,UACzH;AACA,iBAAO,KAAK,qBAAqB,cAAc,mBAAmB,OAAO,oBAAoB;AAAA,QACjG;AAAA,QACA;AACI,iBAAO,KAAK,MAAM,UAAU,oBAAoB,eAAe,sBAAsB,KAAK,cAAc,CAAC,CAAC;AAAA,MAClH;AAAA,IACJ;AAKA,IAAAA,QAAO,UAAU,4BAA4B,WAAY;AACrD,UAAI,mBAAmB,KAAK,cAAc;AAC1C,UAAI,cAAc,KAAK,OAAO;AAC9B,UAAI,QAAQ,uBAAuB,KAAK,SAAS,WAAW;AAC5D,UAAI,YAAY,cAAc,MAAM;AACpC,WAAK,OAAO,SAAS;AACrB,UAAI,cAAc,KAAK,cAAc;AACrC,UAAI,WAAW,eAAe,kBAAkB,WAAW;AAC3D,aAAO,EAAE,OAAc,SAAmB;AAAA,IAC9C;AACA,IAAAA,QAAO,UAAU,uBAAuB,SAAU,cAAc,mBAAmB,OAAO,sBAAsB;AAC5G,UAAIR;AAIJ,UAAI,oBAAoB,KAAK,cAAc;AAC3C,UAAI,UAAU,KAAK,0BAA0B,EAAE;AAC/C,UAAI,kBAAkB,KAAK,cAAc;AACzC,cAAQ,SAAS;AAAA,QACb,KAAK;AAED,iBAAO,KAAK,MAAM,UAAU,sBAAsB,eAAe,mBAAmB,eAAe,CAAC;AAAA,QACxG,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK,QAAQ;AAIT,eAAK,UAAU;AACf,cAAI,mBAAmB;AACvB,cAAI,KAAK,OAAO,GAAG,GAAG;AAClB,iBAAK,UAAU;AACf,gBAAI,qBAAqB,KAAK,cAAc;AAC5C,gBAAI,SAAS,KAAK,8BAA8B;AAChD,gBAAI,OAAO,KAAK;AACZ,qBAAO;AAAA,YACX;AACA,gBAAI,QAAQ,QAAQ,OAAO,GAAG;AAC9B,gBAAI,MAAM,WAAW,GAAG;AACpB,qBAAO,KAAK,MAAM,UAAU,uBAAuB,eAAe,KAAK,cAAc,GAAG,KAAK,cAAc,CAAC,CAAC;AAAA,YACjH;AACA,gBAAI,gBAAgB,eAAe,oBAAoB,KAAK,cAAc,CAAC;AAC3E,+BAAmB,EAAE,OAAc,cAA6B;AAAA,UACpE;AACA,cAAI,iBAAiB,KAAK,sBAAsB,oBAAoB;AACpE,cAAI,eAAe,KAAK;AACpB,mBAAO;AAAA,UACX;AACA,cAAI,aAAa,eAAe,sBAAsB,KAAK,cAAc,CAAC;AAE1E,cAAI,oBAAoB,WAAW,qBAAqB,QAAQ,qBAAqB,SAAS,SAAS,iBAAiB,OAAO,MAAM,CAAC,GAAG;AAErI,gBAAI,WAAW,UAAU,iBAAiB,MAAM,MAAM,CAAC,CAAC;AACxD,gBAAI,YAAY,UAAU;AACtB,kBAAI,SAAS,KAAK,8BAA8B,UAAU,iBAAiB,aAAa;AACxF,kBAAI,OAAO,KAAK;AACZ,uBAAO;AAAA,cACX;AACA,qBAAO;AAAA,gBACH,KAAK,EAAE,MAAM,KAAK,QAAQ,OAAc,UAAU,YAAY,OAAO,OAAO,IAAI;AAAA,gBAChF,KAAK;AAAA,cACT;AAAA,YACJ,OACK;AACD,kBAAI,SAAS,WAAW,GAAG;AACvB,uBAAO,KAAK,MAAM,UAAU,2BAA2B,UAAU;AAAA,cACrE;AACA,kBAAI,kBAAkB;AAItB,kBAAI,KAAK,QAAQ;AACb,kCAAkB,eAAe,UAAU,KAAK,MAAM;AAAA,cAC1D;AACA,kBAAI,QAAQ;AAAA,gBACR,MAAM,cAAc;AAAA,gBACpB,SAAS;AAAA,gBACT,UAAU,iBAAiB;AAAA,gBAC3B,eAAe,KAAK,uBACd,sBAAsB,eAAe,IACrC,CAAC;AAAA,cACX;AACA,kBAAI,OAAO,YAAY,SAAS,KAAK,OAAO,KAAK;AACjD,qBAAO;AAAA,gBACH,KAAK,EAAE,MAAY,OAAc,UAAU,YAAY,MAAa;AAAA,gBACpE,KAAK;AAAA,cACT;AAAA,YACJ;AAAA,UACJ;AAEA,iBAAO;AAAA,YACH,KAAK;AAAA,cACD,MAAM,YAAY,WACZ,KAAK,SACL,YAAY,SACR,KAAK,OACL,KAAK;AAAA,cACf;AAAA,cACA,UAAU;AAAA,cACV,QAAQA,MAAK,qBAAqB,QAAQ,qBAAqB,SAAS,SAAS,iBAAiB,WAAW,QAAQA,QAAO,SAASA,MAAK;AAAA,YAC9I;AAAA,YACA,KAAK;AAAA,UACT;AAAA,QACJ;AAAA,QACA,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK,UAAU;AAIX,cAAI,oBAAoB,KAAK,cAAc;AAC3C,eAAK,UAAU;AACf,cAAI,CAAC,KAAK,OAAO,GAAG,GAAG;AACnB,mBAAO,KAAK,MAAM,UAAU,gCAAgC,eAAe,mBAAmB,SAAS,CAAC,GAAG,iBAAiB,CAAC,CAAC;AAAA,UAClI;AACA,eAAK,UAAU;AASf,cAAI,wBAAwB,KAAK,0BAA0B;AAC3D,cAAI,eAAe;AACnB,cAAI,YAAY,YAAY,sBAAsB,UAAU,UAAU;AAClE,gBAAI,CAAC,KAAK,OAAO,GAAG,GAAG;AACnB,qBAAO,KAAK,MAAM,UAAU,qCAAqC,eAAe,KAAK,cAAc,GAAG,KAAK,cAAc,CAAC,CAAC;AAAA,YAC/H;AACA,iBAAK,UAAU;AACf,gBAAI,SAAS,KAAK,uBAAuB,UAAU,qCAAqC,UAAU,oCAAoC;AACtI,gBAAI,OAAO,KAAK;AACZ,qBAAO;AAAA,YACX;AAEA,iBAAK,UAAU;AACf,oCAAwB,KAAK,0BAA0B;AACvD,2BAAe,OAAO;AAAA,UAC1B;AACA,cAAI,gBAAgB,KAAK,8BAA8B,cAAc,SAAS,mBAAmB,qBAAqB;AACtH,cAAI,cAAc,KAAK;AACnB,mBAAO;AAAA,UACX;AACA,cAAI,iBAAiB,KAAK,sBAAsB,oBAAoB;AACpE,cAAI,eAAe,KAAK;AACpB,mBAAO;AAAA,UACX;AACA,cAAI,aAAa,eAAe,sBAAsB,KAAK,cAAc,CAAC;AAC1E,cAAI,YAAY,UAAU;AACtB,mBAAO;AAAA,cACH,KAAK;AAAA,gBACD,MAAM,KAAK;AAAA,gBACX;AAAA,gBACA,SAAS,YAAY,cAAc,GAAG;AAAA,gBACtC,UAAU;AAAA,cACd;AAAA,cACA,KAAK;AAAA,YACT;AAAA,UACJ,OACK;AACD,mBAAO;AAAA,cACH,KAAK;AAAA,gBACD,MAAM,KAAK;AAAA,gBACX;AAAA,gBACA,SAAS,YAAY,cAAc,GAAG;AAAA,gBACtC,QAAQ;AAAA,gBACR,YAAY,YAAY,WAAW,aAAa;AAAA,gBAChD,UAAU;AAAA,cACd;AAAA,cACA,KAAK;AAAA,YACT;AAAA,UACJ;AAAA,QACJ;AAAA,QACA;AACI,iBAAO,KAAK,MAAM,UAAU,uBAAuB,eAAe,mBAAmB,eAAe,CAAC;AAAA,MAC7G;AAAA,IACJ;AACA,IAAAQ,QAAO,UAAU,wBAAwB,SAAU,sBAAsB;AAGrE,UAAI,KAAK,MAAM,KAAK,KAAK,KAAK,MAAM,KAAe;AAC/C,eAAO,KAAK,MAAM,UAAU,+BAA+B,eAAe,sBAAsB,KAAK,cAAc,CAAC,CAAC;AAAA,MACzH;AACA,WAAK,KAAK;AACV,aAAO,EAAE,KAAK,MAAM,KAAK,KAAK;AAAA,IAClC;AAIA,IAAAA,QAAO,UAAU,gCAAgC,WAAY;AACzD,UAAI,eAAe;AACnB,UAAI,gBAAgB,KAAK,cAAc;AACvC,aAAO,CAAC,KAAK,MAAM,GAAG;AAClB,YAAI,KAAK,KAAK,KAAK;AACnB,gBAAQ,IAAI;AAAA,UACR,KAAK,IAAc;AAGf,iBAAK,KAAK;AACV,gBAAI,qBAAqB,KAAK,cAAc;AAC5C,gBAAI,CAAC,KAAK,UAAU,GAAG,GAAG;AACtB,qBAAO,KAAK,MAAM,UAAU,kCAAkC,eAAe,oBAAoB,KAAK,cAAc,CAAC,CAAC;AAAA,YAC1H;AACA,iBAAK,KAAK;AACV;AAAA,UACJ;AAAA,UACA,KAAK,KAAe;AAChB,4BAAgB;AAChB,iBAAK,KAAK;AACV;AAAA,UACJ;AAAA,UACA,KAAK,KAAe;AAChB,gBAAI,eAAe,GAAG;AAClB,8BAAgB;AAAA,YACpB,OACK;AACD,qBAAO;AAAA,gBACH,KAAK,KAAK,QAAQ,MAAM,cAAc,QAAQ,KAAK,OAAO,CAAC;AAAA,gBAC3D,KAAK;AAAA,cACT;AAAA,YACJ;AACA;AAAA,UACJ;AAAA,UACA;AACI,iBAAK,KAAK;AACV;AAAA,QACR;AAAA,MACJ;AACA,aAAO;AAAA,QACH,KAAK,KAAK,QAAQ,MAAM,cAAc,QAAQ,KAAK,OAAO,CAAC;AAAA,QAC3D,KAAK;AAAA,MACT;AAAA,IACJ;AACA,IAAAA,QAAO,UAAU,gCAAgC,SAAU,UAAU,UAAU;AAC3E,UAAI,SAAS,CAAC;AACd,UAAI;AACA,iBAAS,8BAA8B,QAAQ;AAAA,MACnD,SACOC,IAAG;AACN,eAAO,KAAK,MAAM,UAAU,yBAAyB,QAAQ;AAAA,MACjE;AACA,aAAO;AAAA,QACH,KAAK;AAAA,UACD,MAAM,cAAc;AAAA,UACpB;AAAA,UACA;AAAA,UACA,eAAe,KAAK,uBACd,oBAAoB,MAAM,IAC1B,CAAC;AAAA,QACX;AAAA,QACA,KAAK;AAAA,MACT;AAAA,IACJ;AAWA,IAAAD,QAAO,UAAU,gCAAgC,SAAU,cAAc,eAAe,gBAAgB,uBAAuB;AAC3H,UAAIR;AACJ,UAAI,iBAAiB;AACrB,UAAI,UAAU,CAAC;AACf,UAAI,kBAAkB,oBAAI,IAAI;AAC9B,UAAI,WAAW,sBAAsB,OAAO,mBAAmB,sBAAsB;AAIrF,aAAO,MAAM;AACT,YAAI,SAAS,WAAW,GAAG;AACvB,cAAI,gBAAgB,KAAK,cAAc;AACvC,cAAI,kBAAkB,YAAY,KAAK,OAAO,GAAG,GAAG;AAEhD,gBAAI,SAAS,KAAK,uBAAuB,UAAU,iCAAiC,UAAU,gCAAgC;AAC9H,gBAAI,OAAO,KAAK;AACZ,qBAAO;AAAA,YACX;AACA,+BAAmB,eAAe,eAAe,KAAK,cAAc,CAAC;AACrE,uBAAW,KAAK,QAAQ,MAAM,cAAc,QAAQ,KAAK,OAAO,CAAC;AAAA,UACrE,OACK;AACD;AAAA,UACJ;AAAA,QACJ;AAEA,YAAI,gBAAgB,IAAI,QAAQ,GAAG;AAC/B,iBAAO,KAAK,MAAM,kBAAkB,WAC9B,UAAU,qCACV,UAAU,oCAAoC,gBAAgB;AAAA,QACxE;AACA,YAAI,aAAa,SAAS;AACtB,2BAAiB;AAAA,QACrB;AAIA,aAAK,UAAU;AACf,YAAI,uBAAuB,KAAK,cAAc;AAC9C,YAAI,CAAC,KAAK,OAAO,GAAG,GAAG;AACnB,iBAAO,KAAK,MAAM,kBAAkB,WAC9B,UAAU,2CACV,UAAU,0CAA0C,eAAe,KAAK,cAAc,GAAG,KAAK,cAAc,CAAC,CAAC;AAAA,QACxH;AACA,YAAI,iBAAiB,KAAK,aAAa,eAAe,GAAG,eAAe,cAAc;AACtF,YAAI,eAAe,KAAK;AACpB,iBAAO;AAAA,QACX;AACA,YAAI,iBAAiB,KAAK,sBAAsB,oBAAoB;AACpE,YAAI,eAAe,KAAK;AACpB,iBAAO;AAAA,QACX;AACA,gBAAQ,KAAK;AAAA,UACT;AAAA,UACA;AAAA,YACI,OAAO,eAAe;AAAA,YACtB,UAAU,eAAe,sBAAsB,KAAK,cAAc,CAAC;AAAA,UACvE;AAAA,QACJ,CAAC;AAED,wBAAgB,IAAI,QAAQ;AAE5B,aAAK,UAAU;AACf,QAACA,MAAK,KAAK,0BAA0B,GAAG,WAAWA,IAAG,OAAO,mBAAmBA,IAAG;AAAA,MACvF;AACA,UAAI,QAAQ,WAAW,GAAG;AACtB,eAAO,KAAK,MAAM,kBAAkB,WAC9B,UAAU,kCACV,UAAU,iCAAiC,eAAe,KAAK,cAAc,GAAG,KAAK,cAAc,CAAC,CAAC;AAAA,MAC/G;AACA,UAAI,KAAK,uBAAuB,CAAC,gBAAgB;AAC7C,eAAO,KAAK,MAAM,UAAU,sBAAsB,eAAe,KAAK,cAAc,GAAG,KAAK,cAAc,CAAC,CAAC;AAAA,MAChH;AACA,aAAO,EAAE,KAAK,SAAS,KAAK,KAAK;AAAA,IACrC;AACA,IAAAQ,QAAO,UAAU,yBAAyB,SAAU,mBAAmB,oBAAoB;AACvF,UAAI,OAAO;AACX,UAAI,mBAAmB,KAAK,cAAc;AAC1C,UAAI,KAAK,OAAO,GAAG,GAAG;AAAA,MACtB,WACS,KAAK,OAAO,GAAG,GAAG;AACvB,eAAO;AAAA,MACX;AACA,UAAI,YAAY;AAChB,UAAI,UAAU;AACd,aAAO,CAAC,KAAK,MAAM,GAAG;AAClB,YAAI,KAAK,KAAK,KAAK;AACnB,YAAI,MAAM,MAAgB,MAAM,IAAc;AAC1C,sBAAY;AACZ,oBAAU,UAAU,MAAM,KAAK;AAC/B,eAAK,KAAK;AAAA,QACd,OACK;AACD;AAAA,QACJ;AAAA,MACJ;AACA,UAAI,WAAW,eAAe,kBAAkB,KAAK,cAAc,CAAC;AACpE,UAAI,CAAC,WAAW;AACZ,eAAO,KAAK,MAAM,mBAAmB,QAAQ;AAAA,MACjD;AACA,iBAAW;AACX,UAAI,CAAC,cAAc,OAAO,GAAG;AACzB,eAAO,KAAK,MAAM,oBAAoB,QAAQ;AAAA,MAClD;AACA,aAAO,EAAE,KAAK,SAAS,KAAK,KAAK;AAAA,IACrC;AACA,IAAAA,QAAO,UAAU,SAAS,WAAY;AAClC,aAAO,KAAK,SAAS;AAAA,IACzB;AACA,IAAAA,QAAO,UAAU,QAAQ,WAAY;AACjC,aAAO,KAAK,OAAO,MAAM,KAAK,QAAQ;AAAA,IAC1C;AACA,IAAAA,QAAO,UAAU,gBAAgB,WAAY;AAEzC,aAAO;AAAA,QACH,QAAQ,KAAK,SAAS;AAAA,QACtB,MAAM,KAAK,SAAS;AAAA,QACpB,QAAQ,KAAK,SAAS;AAAA,MAC1B;AAAA,IACJ;AAKA,IAAAA,QAAO,UAAU,OAAO,WAAY;AAChC,UAAI,SAAS,KAAK,SAAS;AAC3B,UAAI,UAAU,KAAK,QAAQ,QAAQ;AAC/B,cAAM,MAAM,cAAc;AAAA,MAC9B;AACA,UAAI,OAAO,YAAY,KAAK,SAAS,MAAM;AAC3C,UAAI,SAAS,QAAW;AACpB,cAAM,MAAM,UAAU,OAAO,QAAQ,0CAA0C,CAAC;AAAA,MACpF;AACA,aAAO;AAAA,IACX;AACA,IAAAA,QAAO,UAAU,QAAQ,SAAU,MAAM,UAAU;AAC/C,aAAO;AAAA,QACH,KAAK;AAAA,QACL,KAAK;AAAA,UACD;AAAA,UACA,SAAS,KAAK;AAAA,UACd;AAAA,QACJ;AAAA,MACJ;AAAA,IACJ;AAEA,IAAAA,QAAO,UAAU,OAAO,WAAY;AAChC,UAAI,KAAK,MAAM,GAAG;AACd;AAAA,MACJ;AACA,UAAI,OAAO,KAAK,KAAK;AACrB,UAAI,SAAS,IAAe;AACxB,aAAK,SAAS,QAAQ;AACtB,aAAK,SAAS,SAAS;AACvB,aAAK,SAAS,UAAU;AAAA,MAC5B,OACK;AACD,aAAK,SAAS,UAAU;AAExB,aAAK,SAAS,UAAU,OAAO,QAAU,IAAI;AAAA,MACjD;AAAA,IACJ;AAOA,IAAAA,QAAO,UAAU,SAAS,SAAU,QAAQ;AACxC,UAAI,WAAW,KAAK,SAAS,QAAQ,KAAK,OAAO,CAAC,GAAG;AACjD,iBAASV,KAAI,GAAGA,KAAI,OAAO,QAAQA,MAAK;AACpC,eAAK,KAAK;AAAA,QACd;AACA,eAAO;AAAA,MACX;AACA,aAAO;AAAA,IACX;AAKA,IAAAU,QAAO,UAAU,YAAY,SAAU,SAAS;AAC5C,UAAI,gBAAgB,KAAK,OAAO;AAChC,UAAI,QAAQ,KAAK,QAAQ,QAAQ,SAAS,aAAa;AACvD,UAAI,SAAS,GAAG;AACZ,aAAK,OAAO,KAAK;AACjB,eAAO;AAAA,MACX,OACK;AACD,aAAK,OAAO,KAAK,QAAQ,MAAM;AAC/B,eAAO;AAAA,MACX;AAAA,IACJ;AAKA,IAAAA,QAAO,UAAU,SAAS,SAAU,cAAc;AAC9C,UAAI,KAAK,OAAO,IAAI,cAAc;AAC9B,cAAM,MAAM,gBAAgB,OAAO,cAAc,uDAAuD,EAAE,OAAO,KAAK,OAAO,CAAC,CAAC;AAAA,MACnI;AACA,qBAAe,KAAK,IAAI,cAAc,KAAK,QAAQ,MAAM;AACzD,aAAO,MAAM;AACT,YAAI,SAAS,KAAK,OAAO;AACzB,YAAI,WAAW,cAAc;AACzB;AAAA,QACJ;AACA,YAAI,SAAS,cAAc;AACvB,gBAAM,MAAM,gBAAgB,OAAO,cAAc,0CAA0C,CAAC;AAAA,QAChG;AACA,aAAK,KAAK;AACV,YAAI,KAAK,MAAM,GAAG;AACd;AAAA,QACJ;AAAA,MACJ;AAAA,IACJ;AAEA,IAAAA,QAAO,UAAU,YAAY,WAAY;AACrC,aAAO,CAAC,KAAK,MAAM,KAAK,cAAc,KAAK,KAAK,CAAC,GAAG;AAChD,aAAK,KAAK;AAAA,MACd;AAAA,IACJ;AAKA,IAAAA,QAAO,UAAU,OAAO,WAAY;AAChC,UAAI,KAAK,MAAM,GAAG;AACd,eAAO;AAAA,MACX;AACA,UAAI,OAAO,KAAK,KAAK;AACrB,UAAI,SAAS,KAAK,OAAO;AACzB,UAAI,WAAW,KAAK,QAAQ,WAAW,UAAU,QAAQ,QAAU,IAAI,EAAE;AACzE,aAAO,aAAa,QAAQ,aAAa,SAAS,WAAW;AAAA,IACjE;AACA,WAAOA;AAAA,EACX,EAAE;AAAA;AAOF,SAAS,SAAS,WAAW;AACzB,SAAS,aAAa,MAAM,aAAa,OACpC,aAAa,MAAM,aAAa;AACzC;AACA,SAAS,gBAAgB,WAAW;AAChC,SAAO,SAAS,SAAS,KAAK,cAAc;AAChD;AAEA,SAAS,4BAA4BE,IAAG;AACpC,SAAQA,OAAM,MACVA,OAAM,MACLA,MAAK,MAAMA,MAAK,MACjBA,OAAM,MACLA,MAAK,MAAMA,MAAK,OAChBA,MAAK,MAAMA,MAAK,MACjBA,MAAK,OACJA,MAAK,OAAQA,MAAK,OAClBA,MAAK,OAAQA,MAAK,OAClBA,MAAK,OAAQA,MAAK,OAClBA,MAAK,OAASA,MAAK,QACnBA,MAAK,QAAUA,MAAK,QACpBA,MAAK,QAAUA,MAAK,QACpBA,MAAK,QAAUA,MAAK,QACpBA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAWA,MAAK;AAC9B;AAKA,SAAS,cAAcA,IAAG;AACtB,SAASA,MAAK,KAAUA,MAAK,MACzBA,OAAM,MACNA,OAAM,OACLA,MAAK,QAAUA,MAAK,QACrBA,OAAM,QACNA,OAAM;AACd;AAKA,SAAS,iBAAiBA,IAAG;AACzB,SAASA,MAAK,MAAUA,MAAK,MACzBA,OAAM,MACLA,MAAK,MAAUA,MAAK,MACrBA,OAAM,MACNA,OAAM,MACNA,OAAM,MACNA,OAAM,MACNA,OAAM,MACNA,OAAM,MACLA,MAAK,MAAUA,MAAK,MACpBA,MAAK,MAAUA,MAAK,MACpBA,MAAK,MAAUA,MAAK,MACpBA,MAAK,MAAUA,MAAK,MACrBA,OAAM,MACNA,OAAM,MACNA,OAAM,MACNA,OAAM,MACNA,OAAM,MACNA,OAAM,OACNA,OAAM,OACNA,OAAM,OACNA,OAAM,OACNA,OAAM,OACLA,MAAK,OAAUA,MAAK,OACrBA,OAAM,OACNA,OAAM,OACNA,OAAM,OACNA,OAAM,OACNA,OAAM,OACNA,OAAM,OACNA,OAAM,OACNA,OAAM,OACNA,OAAM,OACNA,OAAM,OACNA,OAAM,OACNA,OAAM,OACNA,OAAM,OACLA,MAAK,QAAUA,MAAK,QACpBA,MAAK,QAAUA,MAAK,QACrBA,OAAM,QACNA,OAAM,QACNA,OAAM,QACLA,MAAK,QAAUA,MAAK,QACrBA,OAAM,QACNA,OAAM,QACNA,OAAM,QACLA,MAAK,QAAUA,MAAK,QACpBA,MAAK,QAAUA,MAAK,QACrBA,OAAM,QACNA,OAAM,QACLA,MAAK,QAAUA,MAAK,QACpBA,MAAK,QAAUA,MAAK,QACrBA,OAAM,QACNA,OAAM,QACNA,OAAM,QACLA,MAAK,QAAUA,MAAK,QACrBA,OAAM,QACNA,OAAM,QACLA,MAAK,QAAUA,MAAK,QACpBA,MAAK,QAAUA,MAAK,QACpBA,MAAK,QAAUA,MAAK,QACpBA,MAAK,QAAUA,MAAK,QACpBA,MAAK,QAAUA,MAAK,QACrBA,OAAM,QACLA,MAAK,QAAUA,MAAK,QACrBA,OAAM,QACLA,MAAK,QAAUA,MAAK,QACrBA,OAAM,QACLA,MAAK,QAAUA,MAAK,QACrBA,OAAM,QACLA,MAAK,QAAUA,MAAK,QACpBA,MAAK,QAAUA,MAAK,QACpBA,MAAK,QAAUA,MAAK,QACrBA,OAAM,QACNA,OAAM,QACNA,OAAM,QACLA,MAAK,QAAUA,MAAK,QACpBA,MAAK,QAAUA,MAAK,QACpBA,MAAK,QAAUA,MAAK,QACrBA,OAAM,QACNA,OAAM,QACNA,OAAM,QACNA,OAAM,QACLA,MAAK,QAAUA,MAAK,QACpBA,MAAK,QAAUA,MAAK,QACpBA,MAAK,QAAUA,MAAK,OACrBA,OAAM,QACNA,OAAM,QACLA,MAAK,QAAUA,MAAK,QACrBA,OAAM,QACLA,MAAK,QAAUA,MAAK,QACpBA,MAAK,QAAUA,MAAK,QACpBA,MAAK,QAAUA,MAAK,QACpBA,MAAK,QAAUA,MAAK,QACpBA,MAAK,QAAUA,MAAK,QACpBA,MAAK,QAAUA,MAAK,QACpBA,MAAK,QAAUA,MAAK,QACpBA,MAAK,QAAUA,MAAK,QACpBA,MAAK,QAAUA,MAAK,QACrBA,OAAM,QACLA,MAAK,QAAUA,MAAK,QACrBA,OAAM,QACLA,MAAK,QAAUA,MAAK,QACpBA,MAAK,QAAUA,MAAK,QACpBA,MAAK,QAAUA,MAAK,QACrBA,OAAM,QACLA,MAAK,QAAUA,MAAK,SACrBA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACLA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAUA,MAAK,SACrBA,OAAM,SACNA,OAAM,SACLA,MAAK,SAAUA,MAAK,SACrBA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACLA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAUA,MAAK,SACrBA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACLA,MAAK,SAAUA,MAAK,SACrBA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACLA,MAAK,SAAUA,MAAK,SACrBA,OAAM,SACNA,OAAM,SACLA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAUA,MAAK,SACrBA,OAAM,SACLA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAUA,MAAK,SACrBA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACLA,MAAK,SAAUA,MAAK,SACrBA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACLA,MAAK,SAAUA,MAAK,SACrBA,OAAM,SACLA,MAAK,SAAUA,MAAK,SACrBA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACLA,MAAK,SAAUA,MAAK,SACrBA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACLA,MAAK,SAAUA,MAAK,SACrBA,OAAM,SACLA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAUA,MAAK,SACrBA,OAAM,SACNA,OAAM,SACNA,OAAM,SACLA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAUA,MAAK,SACrBA,OAAM,SACLA,MAAK,SAAUA,MAAK,SACpBA,MAAK,SAAUA,MAAK,SACrBA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACLA,MAAK,SAAUA,MAAK,SACrBA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACLA,MAAK,SAAUA,MAAK,SACrBA,OAAM,SACNA,OAAM,SACNA,OAAM,SACNA,OAAM,SACLA,MAAK,SAAUA,MAAK;AAC7B;;;ACvvCA,SAAS,cAAc,KAAK;AACxB,MAAI,QAAQ,SAAU,IAAI;AACtB,WAAO,GAAG;AACV,QAAI,gBAAgB,EAAE,KAAK,gBAAgB,EAAE,GAAG;AAC5C,eAASC,MAAK,GAAG,SAAS;AACtB,eAAO,GAAG,QAAQA,EAAC,EAAE;AACrB,sBAAc,GAAG,QAAQA,EAAC,EAAE,KAAK;AAAA,MACrC;AAAA,IACJ,WACS,gBAAgB,EAAE,KAAK,iBAAiB,GAAG,KAAK,GAAG;AACxD,aAAO,GAAG,MAAM;AAAA,IACpB,YACU,cAAc,EAAE,KAAK,cAAc,EAAE,MAC3C,mBAAmB,GAAG,KAAK,GAAG;AAC9B,aAAO,GAAG,MAAM;AAAA,IACpB,WACS,aAAa,EAAE,GAAG;AACvB,oBAAc,GAAG,QAAQ;AAAA,IAC7B;AAAA,EACJ,CAAC;AACL;AACO,SAAS,MAAM,SAAS,MAAM;AACjC,MAAI,SAAS,QAAQ;AAAE,WAAO,CAAC;AAAA,EAAG;AAClC,SAAO,SAAS,EAAE,sBAAsB,MAAM,qBAAqB,KAAK,GAAG,IAAI;AAC/E,MAAI,SAAS,IAAI,OAAO,SAAS,IAAI,EAAE,MAAM;AAC7C,MAAI,OAAO,KAAK;AACZ,QAAI,QAAQ,YAAY,UAAU,OAAO,IAAI,IAAI,CAAC;AAElD,UAAM,WAAW,OAAO,IAAI;AAE5B,UAAM,kBAAkB,OAAO,IAAI;AACnC,UAAM;AAAA,EACV;AACA,MAAI,EAAE,SAAS,QAAQ,SAAS,SAAS,SAAS,KAAK,kBAAkB;AACrE,kBAAc,OAAO,GAAG;AAAA,EAC5B;AACA,SAAO,OAAO;AAClB;;;ACxCO,IAAI;AAAA,CACV,SAAUC,YAAW;AAElB,EAAAA,WAAU,eAAe,IAAI;AAE7B,EAAAA,WAAU,eAAe,IAAI;AAE7B,EAAAA,WAAU,kBAAkB,IAAI;AACpC,GAAG,cAAc,YAAY,CAAC,EAAE;AAChC,IAAI;AAAA;AAAA,EAA6B,SAAU,QAAQ;AAC/C,cAAUC,cAAa,MAAM;AAC7B,aAASA,aAAY,KAAK,MAAM,iBAAiB;AAC7C,UAAI,QAAQ,OAAO,KAAK,MAAM,GAAG,KAAK;AACtC,YAAM,OAAO;AACb,YAAM,kBAAkB;AACxB,aAAO;AAAA,IACX;AACA,IAAAA,aAAY,UAAU,WAAW,WAAY;AACzC,aAAO,oBAAoB,OAAO,KAAK,MAAM,IAAI,EAAE,OAAO,KAAK,OAAO;AAAA,IAC1E;AACA,WAAOA;AAAA,EACX,EAAE,KAAK;AAAA;AAEP,IAAI;AAAA;AAAA,EAAmC,SAAU,QAAQ;AACrD,cAAUC,oBAAmB,MAAM;AACnC,aAASA,mBAAkB,YAAY,OAAO,SAAS,iBAAiB;AACpE,aAAO,OAAO,KAAK,MAAM,uBAAwB,OAAO,YAAY,MAAQ,EAAE,OAAO,OAAO,kBAAoB,EAAE,OAAO,OAAO,KAAK,OAAO,EAAE,KAAK,MAAM,GAAG,GAAI,GAAG,UAAU,eAAe,eAAe,KAAK;AAAA,IACpN;AACA,WAAOA;AAAA,EACX,EAAE,WAAW;AAAA;AAEb,IAAI;AAAA;AAAA,EAAuC,SAAU,QAAQ;AACzD,cAAUC,wBAAuB,MAAM;AACvC,aAASA,uBAAsB,OAAO,MAAM,iBAAiB;AACzD,aAAO,OAAO,KAAK,MAAM,cAAe,OAAO,OAAO,oBAAqB,EAAE,OAAO,IAAI,GAAG,UAAU,eAAe,eAAe,KAAK;AAAA,IAC5I;AACA,WAAOA;AAAA,EACX,EAAE,WAAW;AAAA;AAEb,IAAI;AAAA;AAAA,EAAmC,SAAU,QAAQ;AACrD,cAAUC,oBAAmB,MAAM;AACnC,aAASA,mBAAkB,YAAY,iBAAiB;AACpD,aAAO,OAAO,KAAK,MAAM,qCAAsC,OAAO,YAAY,oCAAsC,EAAE,OAAO,iBAAiB,GAAI,GAAG,UAAU,eAAe,eAAe,KAAK;AAAA,IAC1M;AACA,WAAOA;AAAA,EACX,EAAE,WAAW;AAAA;;;AC5CN,IAAI;AAAA,CACV,SAAUC,YAAW;AAClB,EAAAA,WAAUA,WAAU,SAAS,IAAI,CAAC,IAAI;AACtC,EAAAA,WAAUA,WAAU,QAAQ,IAAI,CAAC,IAAI;AACzC,GAAG,cAAc,YAAY,CAAC,EAAE;AAChC,SAAS,aAAa,OAAO;AACzB,MAAI,MAAM,SAAS,GAAG;AAClB,WAAO;AAAA,EACX;AACA,SAAO,MAAM,OAAO,SAAU,KAAK,MAAM;AACrC,QAAI,WAAW,IAAI,IAAI,SAAS,CAAC;AACjC,QAAI,CAAC,YACD,SAAS,SAAS,UAAU,WAC5B,KAAK,SAAS,UAAU,SAAS;AACjC,UAAI,KAAK,IAAI;AAAA,IACjB,OACK;AACD,eAAS,SAAS,KAAK;AAAA,IAC3B;AACA,WAAO;AAAA,EACX,GAAG,CAAC,CAAC;AACT;AACO,SAAS,qBAAqB,IAAI;AACrC,SAAO,OAAO,OAAO;AACzB;AAEO,SAAS,cAAc,KAAK,SAAS,YAAY,SAAS,QAAQ,oBAEzE,iBAAiB;AAEb,MAAI,IAAI,WAAW,KAAK,iBAAiB,IAAI,CAAC,CAAC,GAAG;AAC9C,WAAO;AAAA,MACH;AAAA,QACI,MAAM,UAAU;AAAA,QAChB,OAAO,IAAI,CAAC,EAAE;AAAA,MAClB;AAAA,IACJ;AAAA,EACJ;AACA,MAAI,SAAS,CAAC;AACd,WAAS,KAAK,GAAG,QAAQ,KAAK,KAAK,MAAM,QAAQ,MAAM;AACnD,QAAI,KAAK,MAAM,EAAE;AAEjB,QAAI,iBAAiB,EAAE,GAAG;AACtB,aAAO,KAAK;AAAA,QACR,MAAM,UAAU;AAAA,QAChB,OAAO,GAAG;AAAA,MACd,CAAC;AACD;AAAA,IACJ;AAGA,QAAI,eAAe,EAAE,GAAG;AACpB,UAAI,OAAO,uBAAuB,UAAU;AACxC,eAAO,KAAK;AAAA,UACR,MAAM,UAAU;AAAA,UAChB,OAAO,WAAW,gBAAgB,OAAO,EAAE,OAAO,kBAAkB;AAAA,QACxE,CAAC;AAAA,MACL;AACA;AAAA,IACJ;AACA,QAAI,UAAU,GAAG;AAEjB,QAAI,EAAE,UAAU,WAAW,SAAS;AAChC,YAAM,IAAI,kBAAkB,SAAS,eAAe;AAAA,IACxD;AACA,QAAI,QAAQ,OAAO,OAAO;AAC1B,QAAI,kBAAkB,EAAE,GAAG;AACvB,UAAI,CAAC,SAAS,OAAO,UAAU,YAAY,OAAO,UAAU,UAAU;AAClE,gBACI,OAAO,UAAU,YAAY,OAAO,UAAU,WACxC,OAAO,KAAK,IACZ;AAAA,MACd;AACA,aAAO,KAAK;AAAA,QACR,MAAM,OAAO,UAAU,WAAW,UAAU,UAAU,UAAU;AAAA,QAChE;AAAA,MACJ,CAAC;AACD;AAAA,IACJ;AAIA,QAAI,cAAc,EAAE,GAAG;AACnB,UAAI,QAAQ,OAAO,GAAG,UAAU,WAC1B,QAAQ,KAAK,GAAG,KAAK,IACrB,mBAAmB,GAAG,KAAK,IACvB,GAAG,MAAM,gBACT;AACV,aAAO,KAAK;AAAA,QACR,MAAM,UAAU;AAAA,QAChB,OAAO,WACF,kBAAkB,SAAS,KAAK,EAChC,OAAO,KAAK;AAAA,MACrB,CAAC;AACD;AAAA,IACJ;AACA,QAAI,cAAc,EAAE,GAAG;AACnB,UAAI,QAAQ,OAAO,GAAG,UAAU,WAC1B,QAAQ,KAAK,GAAG,KAAK,IACrB,mBAAmB,GAAG,KAAK,IACvB,GAAG,MAAM,gBACT,QAAQ,KAAK;AACvB,aAAO,KAAK;AAAA,QACR,MAAM,UAAU;AAAA,QAChB,OAAO,WACF,kBAAkB,SAAS,KAAK,EAChC,OAAO,KAAK;AAAA,MACrB,CAAC;AACD;AAAA,IACJ;AACA,QAAI,gBAAgB,EAAE,GAAG;AACrB,UAAI,QAAQ,OAAO,GAAG,UAAU,WAC1B,QAAQ,OAAO,GAAG,KAAK,IACvB,iBAAiB,GAAG,KAAK,IACrB,GAAG,MAAM,gBACT;AACV,UAAI,SAAS,MAAM,OAAO;AACtB,gBACI,SACK,MAAM,SAAS;AAAA,MAC5B;AACA,aAAO,KAAK;AAAA,QACR,MAAM,UAAU;AAAA,QAChB,OAAO,WACF,gBAAgB,SAAS,KAAK,EAC9B,OAAO,KAAK;AAAA,MACrB,CAAC;AACD;AAAA,IACJ;AACA,QAAI,aAAa,EAAE,GAAG;AAClB,UAAI,WAAW,GAAG,UAAU,UAAU,GAAG;AACzC,UAAI,WAAW,OAAO,OAAO;AAC7B,UAAI,CAAC,qBAAqB,QAAQ,GAAG;AACjC,cAAM,IAAI,sBAAsB,SAAS,YAAY,eAAe;AAAA,MACxE;AACA,UAAI,QAAQ,cAAc,UAAU,SAAS,YAAY,SAAS,QAAQ,kBAAkB;AAC5F,UAAI,SAAS,SAAS,MAAM,IAAI,SAAUC,IAAG;AAAE,eAAOA,GAAE;AAAA,MAAO,CAAC,CAAC;AACjE,UAAI,CAAC,MAAM,QAAQ,MAAM,GAAG;AACxB,iBAAS,CAAC,MAAM;AAAA,MACpB;AACA,aAAO,KAAK,MAAM,QAAQ,OAAO,IAAI,SAAUC,IAAG;AAC9C,eAAO;AAAA,UACH,MAAM,OAAOA,OAAM,WAAW,UAAU,UAAU,UAAU;AAAA,UAC5D,OAAOA;AAAA,QACX;AAAA,MACJ,CAAC,CAAC;AAAA,IACN;AACA,QAAI,gBAAgB,EAAE,GAAG;AACrB,UAAI,MAAM,GAAG,QAAQ,KAAK,KAAK,GAAG,QAAQ;AAC1C,UAAI,CAAC,KAAK;AACN,cAAM,IAAI,kBAAkB,GAAG,OAAO,OAAO,OAAO,KAAK,GAAG,OAAO,GAAG,eAAe;AAAA,MACzF;AACA,aAAO,KAAK,MAAM,QAAQ,cAAc,IAAI,OAAO,SAAS,YAAY,SAAS,MAAM,CAAC;AACxF;AAAA,IACJ;AACA,QAAI,gBAAgB,EAAE,GAAG;AACrB,UAAI,MAAM,GAAG,QAAQ,IAAI,OAAO,KAAK,CAAC;AACtC,UAAI,CAAC,KAAK;AACN,YAAI,CAAC,KAAK,aAAa;AACnB,gBAAM,IAAI,YAAY,mHAAqH,UAAU,kBAAkB,eAAe;AAAA,QAC1L;AACA,YAAI,OAAO,WACN,eAAe,SAAS,EAAE,MAAM,GAAG,WAAW,CAAC,EAC/C,OAAO,SAAS,GAAG,UAAU,EAAE;AACpC,cAAM,GAAG,QAAQ,IAAI,KAAK,GAAG,QAAQ;AAAA,MACzC;AACA,UAAI,CAAC,KAAK;AACN,cAAM,IAAI,kBAAkB,GAAG,OAAO,OAAO,OAAO,KAAK,GAAG,OAAO,GAAG,eAAe;AAAA,MACzF;AACA,aAAO,KAAK,MAAM,QAAQ,cAAc,IAAI,OAAO,SAAS,YAAY,SAAS,QAAQ,SAAS,GAAG,UAAU,EAAE,CAAC;AAClH;AAAA,IACJ;AAAA,EACJ;AACA,SAAO,aAAa,MAAM;AAC9B;;;ACtKA,SAAS,YAAY,IAAI,IAAI;AACzB,MAAI,CAAC,IAAI;AACL,WAAO;AAAA,EACX;AACA,SAAO,SAAS,SAAS,SAAS,CAAC,GAAI,MAAM,CAAC,CAAE,GAAI,MAAM,CAAC,CAAE,GAAG,OAAO,KAAK,EAAE,EAAE,OAAO,SAAU,KAAKC,IAAG;AACrG,QAAIA,EAAC,IAAI,SAAS,SAAS,CAAC,GAAG,GAAGA,EAAC,CAAC,GAAI,GAAGA,EAAC,KAAK,CAAC,CAAE;AACpD,WAAO;AAAA,EACX,GAAG,CAAC,CAAC,CAAC;AACV;AACA,SAAS,aAAa,eAAe,SAAS;AAC1C,MAAI,CAAC,SAAS;AACV,WAAO;AAAA,EACX;AACA,SAAO,OAAO,KAAK,aAAa,EAAE,OAAO,SAAU,KAAKA,IAAG;AACvD,QAAIA,EAAC,IAAI,YAAY,cAAcA,EAAC,GAAG,QAAQA,EAAC,CAAC;AACjD,WAAO;AAAA,EACX,GAAG,SAAS,CAAC,GAAG,aAAa,CAAC;AAClC;AACA,SAAS,uBAAuB,OAAO;AACnC,SAAO;AAAA,IACH,QAAQ,WAAY;AAChB,aAAO;AAAA,QACH,KAAK,SAAU,KAAK;AAChB,iBAAO,MAAM,GAAG;AAAA,QACpB;AAAA,QACA,KAAK,SAAU,KAAK,OAAO;AACvB,gBAAM,GAAG,IAAI;AAAA,QACjB;AAAA,MACJ;AAAA,IACJ;AAAA,EACJ;AACJ;AACA,SAAS,wBAAwB,OAAO;AACpC,MAAI,UAAU,QAAQ;AAAE,YAAQ;AAAA,MAC5B,QAAQ,CAAC;AAAA,MACT,UAAU,CAAC;AAAA,MACX,aAAa,CAAC;AAAA,IAClB;AAAA,EAAG;AACH,SAAO;AAAA,IACH,iBAAiB,QAAQ,WAAY;AACjC,UAAIC;AACJ,UAAI,OAAO,CAAC;AACZ,eAAS,KAAK,GAAG,KAAK,UAAU,QAAQ,MAAM;AAC1C,aAAK,EAAE,IAAI,UAAU,EAAE;AAAA,MAC3B;AACA,aAAO,MAAMA,MAAK,KAAK,cAAc,KAAK,MAAMA,KAAI,cAAc,CAAC,MAAM,GAAG,MAAM,KAAK,CAAC,GAAG;AAAA,IAC/F,GAAG;AAAA,MACC,OAAO,uBAAuB,MAAM,MAAM;AAAA,MAC1C,UAAU,WAAW;AAAA,IACzB,CAAC;AAAA,IACD,mBAAmB,QAAQ,WAAY;AACnC,UAAIA;AACJ,UAAI,OAAO,CAAC;AACZ,eAAS,KAAK,GAAG,KAAK,UAAU,QAAQ,MAAM;AAC1C,aAAK,EAAE,IAAI,UAAU,EAAE;AAAA,MAC3B;AACA,aAAO,MAAMA,MAAK,KAAK,gBAAgB,KAAK,MAAMA,KAAI,cAAc,CAAC,MAAM,GAAG,MAAM,KAAK,CAAC,GAAG;AAAA,IACjG,GAAG;AAAA,MACC,OAAO,uBAAuB,MAAM,QAAQ;AAAA,MAC5C,UAAU,WAAW;AAAA,IACzB,CAAC;AAAA,IACD,gBAAgB,QAAQ,WAAY;AAChC,UAAIA;AACJ,UAAI,OAAO,CAAC;AACZ,eAAS,KAAK,GAAG,KAAK,UAAU,QAAQ,MAAM;AAC1C,aAAK,EAAE,IAAI,UAAU,EAAE;AAAA,MAC3B;AACA,aAAO,MAAMA,MAAK,KAAK,aAAa,KAAK,MAAMA,KAAI,cAAc,CAAC,MAAM,GAAG,MAAM,KAAK,CAAC,GAAG;AAAA,IAC9F,GAAG;AAAA,MACC,OAAO,uBAAuB,MAAM,WAAW;AAAA,MAC/C,UAAU,WAAW;AAAA,IACzB,CAAC;AAAA,EACL;AACJ;AACA,IAAI;AAAA;AAAA,EAAmC,WAAY;AAC/C,aAASC,mBAAkB,SAAS,SAAS,iBAAiB,MAAM;AAChE,UAAI,YAAY,QAAQ;AAAE,kBAAUA,mBAAkB;AAAA,MAAe;AACrE,UAAI,QAAQ;AACZ,WAAK,iBAAiB;AAAA,QAClB,QAAQ,CAAC;AAAA,QACT,UAAU,CAAC;AAAA,QACX,aAAa,CAAC;AAAA,MAClB;AACA,WAAK,SAAS,SAAU,QAAQ;AAC5B,YAAI,QAAQ,MAAM,cAAc,MAAM;AAEtC,YAAI,MAAM,WAAW,GAAG;AACpB,iBAAO,MAAM,CAAC,EAAE;AAAA,QACpB;AACA,YAAI,SAAS,MAAM,OAAO,SAAU,KAAK,MAAM;AAC3C,cAAI,CAAC,IAAI,UACL,KAAK,SAAS,UAAU,WACxB,OAAO,IAAI,IAAI,SAAS,CAAC,MAAM,UAAU;AACzC,gBAAI,KAAK,KAAK,KAAK;AAAA,UACvB,OACK;AACD,gBAAI,IAAI,SAAS,CAAC,KAAK,KAAK;AAAA,UAChC;AACA,iBAAO;AAAA,QACX,GAAG,CAAC,CAAC;AACL,YAAI,OAAO,UAAU,GAAG;AACpB,iBAAO,OAAO,CAAC,KAAK;AAAA,QACxB;AACA,eAAO;AAAA,MACX;AACA,WAAK,gBAAgB,SAAU,QAAQ;AACnC,eAAO,cAAc,MAAM,KAAK,MAAM,SAAS,MAAM,YAAY,MAAM,SAAS,QAAQ,QAAW,MAAM,OAAO;AAAA,MACpH;AACA,WAAK,kBAAkB,WAAY;AAC/B,YAAID;AACJ,eAAQ;AAAA,UACJ,UAAUA,MAAK,MAAM,oBAAoB,QAAQA,QAAO,SAAS,SAASA,IAAG,SAAS,MAClF,KAAK,aAAa,mBAAmB,MAAM,OAAO,EAAE,CAAC;AAAA,QAC7D;AAAA,MACJ;AACA,WAAK,SAAS,WAAY;AAAE,eAAO,MAAM;AAAA,MAAK;AAE9C,WAAK,UAAU;AACf,WAAK,iBAAiBC,mBAAkB,cAAc,OAAO;AAC7D,UAAI,OAAO,YAAY,UAAU;AAC7B,aAAK,UAAU;AACf,YAAI,CAACA,mBAAkB,SAAS;AAC5B,gBAAM,IAAI,UAAU,6EAA6E;AAAA,QACrG;AACA,YAAID,MAAK,QAAQ,CAAC,GAAG,aAAaA,IAAG,YAAY,YAAY,OAAOA,KAAI,CAAC,YAAY,CAAC;AAEtF,aAAK,MAAMC,mBAAkB,QAAQ,SAAS,SAAS,SAAS,CAAC,GAAG,SAAS,GAAG,EAAE,QAAQ,KAAK,eAAe,CAAC,CAAC;AAAA,MACpH,OACK;AACD,aAAK,MAAM;AAAA,MACf;AACA,UAAI,CAAC,MAAM,QAAQ,KAAK,GAAG,GAAG;AAC1B,cAAM,IAAI,UAAU,gDAAgD;AAAA,MACxE;AAGA,WAAK,UAAU,aAAaA,mBAAkB,SAAS,eAAe;AACtE,WAAK,aACA,QAAQ,KAAK,cAAe,wBAAwB,KAAK,cAAc;AAAA,IAChF;AACA,WAAO,eAAeA,oBAAmB,iBAAiB;AAAA,MACtD,KAAK,WAAY;AACb,YAAI,CAACA,mBAAkB,uBAAuB;AAC1C,UAAAA,mBAAkB,wBACd,IAAI,KAAK,aAAa,EAAE,gBAAgB,EAAE;AAAA,QAClD;AACA,eAAOA,mBAAkB;AAAA,MAC7B;AAAA,MACA,YAAY;AAAA,MACZ,cAAc;AAAA,IAClB,CAAC;AACD,IAAAA,mBAAkB,wBAAwB;AAC1C,IAAAA,mBAAkB,gBAAgB,SAAU,SAAS;AACjD,UAAI,OAAO,KAAK,WAAW,aAAa;AACpC;AAAA,MACJ;AACA,UAAI,mBAAmB,KAAK,aAAa,mBAAmB,OAAO;AACnE,UAAI,iBAAiB,SAAS,GAAG;AAC7B,eAAO,IAAI,KAAK,OAAO,iBAAiB,CAAC,CAAC;AAAA,MAC9C;AACA,aAAO,IAAI,KAAK,OAAO,OAAO,YAAY,WAAW,UAAU,QAAQ,CAAC,CAAC;AAAA,IAC7E;AACA,IAAAA,mBAAkB,UAAU;AAI5B,IAAAA,mBAAkB,UAAU;AAAA,MACxB,QAAQ;AAAA,QACJ,SAAS;AAAA,UACL,uBAAuB;AAAA,QAC3B;AAAA,QACA,UAAU;AAAA,UACN,OAAO;AAAA,QACX;AAAA,QACA,SAAS;AAAA,UACL,OAAO;AAAA,QACX;AAAA,MACJ;AAAA,MACA,MAAM;AAAA,QACF,OAAO;AAAA,UACH,OAAO;AAAA,UACP,KAAK;AAAA,UACL,MAAM;AAAA,QACV;AAAA,QACA,QAAQ;AAAA,UACJ,OAAO;AAAA,UACP,KAAK;AAAA,UACL,MAAM;AAAA,QACV;AAAA,QACA,MAAM;AAAA,UACF,OAAO;AAAA,UACP,KAAK;AAAA,UACL,MAAM;AAAA,QACV;AAAA,QACA,MAAM;AAAA,UACF,SAAS;AAAA,UACT,OAAO;AAAA,UACP,KAAK;AAAA,UACL,MAAM;AAAA,QACV;AAAA,MACJ;AAAA,MACA,MAAM;AAAA,QACF,OAAO;AAAA,UACH,MAAM;AAAA,UACN,QAAQ;AAAA,QACZ;AAAA,QACA,QAAQ;AAAA,UACJ,MAAM;AAAA,UACN,QAAQ;AAAA,UACR,QAAQ;AAAA,QACZ;AAAA,QACA,MAAM;AAAA,UACF,MAAM;AAAA,UACN,QAAQ;AAAA,UACR,QAAQ;AAAA,UACR,cAAc;AAAA,QAClB;AAAA,QACA,MAAM;AAAA,UACF,MAAM;AAAA,UACN,QAAQ;AAAA,UACR,QAAQ;AAAA,UACR,cAAc;AAAA,QAClB;AAAA,MACJ;AAAA,IACJ;AACA,WAAOA;AAAA,EACX,EAAE;AAAA;;;AC5OqD,IAAAC,iBAAiD;AAAyE,IAAM,IAAN,cAAgB,MAAK;AAAA,EAAC,YAAYC,IAAEC,IAAE;AAAC,QAAIC,KAAEF;AAAE,IAAAC,OAAIC,MAAG,OAAKD,KAAG,MAAMC,EAAC,GAAE,KAAK,OAAKF,IAAEC,OAAI,KAAK,kBAAgBA;AAAA,EAAE;AAAC;AAAC,IAAI,IAAE,SAASD,IAAE;AAAC,SAAOA,GAAE,kBAAgB,mBAAkBA,GAAE,iBAAe,kBAAiBA,GAAE,uBAAqB,wBAAuBA,GAAE,oBAAkB,qBAAoBA,GAAE,kBAAgB,mBAAkBA,GAAE,cAAY,eAAcA,GAAE,mBAAiB,oBAAmBA;AAAC,EAAE,KAAG,CAAC,CAAC;AAAE,SAAS,KAAKA,IAAE;AAAC,SAAOA,GAAE,OAAO,OAAO,EAAE,KAAK,GAAG;AAAC;AAAC,SAAS,EAAEA,IAAE;AAAC,SAAO,EAAEA,GAAE,WAAUA,GAAE,GAAG;AAAC;AAAC,SAAS,EAAEA,IAAE;AAAC,UAAQ,MAAMA,EAAC;AAAC;AAAC,SAAS,IAAG;AAAC,SAAM,EAAC,UAAS,CAAC,GAAE,QAAO,CAAC,GAAE,SAAQ,CAAC,GAAE,cAAa,CAAC,GAAE,aAAY,CAAC,GAAE,MAAK,CAAC,GAAE,cAAa,CAAC,EAAC;AAAC;AAAC,SAAS,EAAEA,IAAEC,IAAE;AAAC,SAAO,QAAED,IAAE,EAAC,QAAOE,KAAED,IAAE,EAAC,QAAO,OAAK,EAAC,KAAI,CAAAD,OAAGE,GAAEF,EAAC,GAAE,IAAIA,IAAEC,IAAE;AAAC,IAAAC,GAAEF,EAAC,IAAEC;AAAA,EAAC,EAAC,GAAE,IAAG,UAAS,WAAE,SAAQ,CAAC;AAAE,MAAIC;AAAC;AAAC,SAAS,EAAEF,IAAEC,IAAE;AAAC,SAAO,EAAG,IAAIA,OAAI,IAAID,GAAE,GAAGC,EAAC,GAAGA,EAAC;AAAC;AAAC,SAAS,EAAED,IAAE;AAAC,SAAM,EAAC,mBAAkB,EAAE,KAAK,gBAAeA,GAAE,QAAQ,GAAE,iBAAgB,EAAE,KAAK,cAAaA,GAAE,MAAM,GAAE,gBAAe,EAAE,KAAK,aAAYA,GAAE,WAAW,GAAE,uBAAsB,EAAE,KAAK,oBAAmBA,GAAE,YAAY,GAAE,eAAc,EAAE,KAAK,YAAWA,GAAE,IAAI,GAAE,iBAAgB,EAAE,KAAK,cAAaA,GAAE,YAAY,EAAC;AAAC;AAAC,SAAS,EAAEA,IAAEC,IAAEC,IAAEC,IAAE;AAAC,QAAMC,KAAE,EAAED,IAAED,EAAC;AAAE,MAAG,CAACD;AAAE,UAAM,IAAI,MAAMG,EAAC;AAAE,MAAIC,KAAEJ;AAAE,SAAOC,GAAE,MAAM,GAAG,EAAE,QAAS,CAAAD,OAAG;AAAC,UAAMC,KAAEG,GAAEJ,EAAC;AAAE,QAAG,QAAMA,MAAG,QAAMC;AAAE,YAAM,IAAI,MAAME,KAAE,KAAKJ,EAAC,GAAG;AAAE,IAAAK,KAAEH;AAAA,EAAC,CAAE,GAAEG;AAAC;AAAC,SAAS,EAAEF,IAAE;AAAC,QAAMC,KAAE,SAASJ,IAAEC,IAAEC,IAAEC,KAAE,GAAE;AAAC,QAAG;AAAC,UAAG,CAACF;AAAE,cAAM,IAAI,MAAM,MAAM;AAAE,YAAME,KAAED,KAAE,EAAEF,IAAEC,IAAEC,EAAC,IAAED;AAAE,UAAG,CAACE;AAAE,cAAM,IAAI,MAAMD,EAAC;AAAE,aAAOC;AAAA,IAAC,SAAOH,IAAE;AAAC,YAAMC,KAAE,IAAI,EAAE,EAAE,iBAAgBD,GAAE,OAAO;AAAE,aAAOG,GAAEF,EAAC,GAAEA;AAAA,IAAC;AAAA,EAAC,EAAEE,GAAE,QAAOA,GAAE,UAASA,GAAE,WAAUA,GAAE,OAAO;AAAE,SAAO,SAAS,EAAC,OAAMA,IAAE,SAAQC,IAAE,YAAWE,IAAE,oBAAmBC,KAAE,GAAE,QAAOC,IAAE,iBAAgBC,IAAE,WAAUC,IAAE,SAAQC,IAAE,UAASC,GAAC,GAAE;AAAC,UAAMC,KAAEJ,cAAa;AAAE,aAASK,GAAEd,IAAEC,IAAEC,IAAE;AAAC,YAAMC,KAAE,IAAI,EAAEF,IAAEC,EAAC;AAAE,aAAOS,GAAER,EAAC,GAAEI,GAAE,EAAC,OAAMJ,IAAE,KAAIH,IAAE,WAAUU,GAAC,CAAC;AAAA,IAAC;AAAC,aAASK,GAAEV,IAAEW,IAAEL,IAAE;AAAC,UAAGE;AAAE,eAAON,GAAE,EAAC,OAAME,IAAE,KAAIJ,IAAE,WAAUK,GAAC,CAAC;AAAE,YAAMK,KAAEN;AAAE,UAAIQ,IAAEC;AAAE,UAAG;AAAC,QAAAD,KAAE,EAAET,IAAEO,IAAEV,IAAEK,EAAC;AAAA,MAAC,SAAOV,IAAE;AAAC,eAAOc,GAAET,IAAE,EAAE,iBAAgBL,GAAE,OAAO;AAAA,MAAC;AAAC,UAAG,YAAU,OAAOiB,IAAE;AAAC,YAAIjB,IAAEC;AAAE,eAAOD,KAAE,MAAM,QAAQiB,EAAC,IAAE,EAAE,kBAAgB,EAAE,mBAAkBH,GAAET,IAAEL,IAAEC,EAAC;AAAA,MAAC;AAAC,YAAMkB,KAAE,SAASnB,IAAEC,IAAE;AAAC,eAAOA,MAAG,QAAQ,KAAKD,EAAC,IAAE,SAAOA;AAAA,MAAC,EAAEiB,IAAED,EAAC;AAAE,UAAGG;AAAE,eAAOA;AAAE,MAAAb,GAAE,qBAAmBA,GAAE,mBAAiB,SAASL,IAAEC,IAAE;AAAC,eAAO,EAAG,IAAID,OAAI,IAAI,kBAAEA,GAAE,CAAC,GAAEA,GAAE,CAAC,GAAEA,GAAE,CAAC,GAAE,EAAC,YAAWC,IAAE,GAAGD,GAAE,CAAC,EAAC,CAAC,GAAGA,GAAE,OAAO;AAAA,MAAC,EAAEE,IAAEG,EAAC;AAAG,UAAG;AAAC,QAAAY,KAAEZ,GAAE,iBAAiBW,IAAET,IAAE,SAASP,IAAEC,IAAEC,IAAE;AAAC,gBAAMC,KAAE,kBAAE,QAAQ,MAAKC,KAAE,kBAAE,QAAQ,MAAKe,KAAE,EAAC,GAAGnB,IAAG,UAAS,GAAGC,IAAG,SAAQ,GAAEI,KAAE,EAAC,MAAK,EAAC,GAAGF,IAAE,GAAGgB,GAAC,GAAE,MAAK,EAAC,GAAGf,IAAE,GAAGe,GAAC,GAAE,QAAO,EAAC,GAAGnB,IAAG,QAAO,GAAGC,IAAG,OAAM,EAAC;AAAE,iBAAOC,MAAG,CAAC,QAAO,MAAM,EAAE,QAAS,CAAAH,OAAG;AAAC,kBAAMC,KAAEK,GAAEN,EAAC;AAAE,uBAAS,CAACA,IAAEE,EAAC,KAAI,OAAO,QAAQD,EAAC;AAAE,cAAAA,GAAED,EAAC,IAAE,EAAC,UAASG,IAAE,GAAGD,GAAC;AAAA,UAAC,CAAE,GAAEI;AAAA,QAAC,EAAEF,IAAEO,IAAEC,EAAC,GAAE,EAAC,YAAW,EAAC,GAAGN,IAAE,mBAAkB,CAACN,IAAEC,OAAIK,GAAE,kBAAkBN,IAAE,EAAC,UAASY,IAAE,GAAGX,GAAC,CAAC,EAAC,EAAC,CAAC;AAAA,MAAC,SAAOD,IAAE;AAAC,cAAMC,KAAED;AAAE,eAAOc,GAAET,IAAE,EAAE,iBAAgBJ,GAAE,OAAO;AAAA,MAAC;AAAC,UAAG;AAAC,cAAMD,KAAEkB,GAAE,OAAOF,KAAE,SAAShB,IAAE;AAAC,gBAAMG,KAAE,CAAC;AAAE,iBAAO,OAAO,KAAKH,EAAC,EAAE,QAAS,CAAAI,OAAG;AAAC,gBAAIC,KAAE;AAAE,kBAAMe,KAAEpB,GAAEI,EAAC;AAAE,gBAAIE;AAAE,YAAAA,KAAE,cAAY,OAAOc,KAAE,CAAApB,OAAG;AAAC,oBAAMG,KAAEiB,GAAEpB,EAAC;AAAE,yBAAO,eAAAC,gBAAEE,EAAC,QAAE,eAAAD,cAAEC,IAAE,EAAC,KAAIC,KAAEC,KAAG,CAAC,IAAEF;AAAA,YAAC,IAAEiB,IAAEjB,GAAEC,EAAC,IAAEE;AAAA,UAAC,CAAE,GAAEH;AAAA,QAAC,EAAEa,EAAC,IAAEA,EAAC;AAAE,YAAG,QAAMhB;AAAE,gBAAM,IAAI,MAAM,MAAM;AAAE,mBAAO,eAAAC,gBAAED,EAAC,KAAG,MAAM,QAAQA,EAAC,KAAG,YAAU,OAAOA,KAAEA,KAAE,OAAOA,EAAC;AAAA,MAAC,SAAOA,IAAE;AAAC,eAAOc,GAAET,IAAE,EAAE,kBAAiBL,GAAE,OAAO;AAAA,MAAC;AAAA,IAAC;AAAC,aAASiB,GAAEjB,IAAEC,IAAEC,IAAE;AAAC,YAAMC,KAAEY,GAAEf,IAAEC,IAAEC,EAAC;AAAE,aAAM,YAAU,OAAOC,KAAEW,GAAEd,IAAE,EAAE,iBAAgB,MAAM,IAAEG;AAAA,IAAC;AAAC,WAAOc,GAAE,OAAKF,IAAEE,GAAE,SAAO,CAACjB,IAAEC,IAAEC,OAAIa,GAAEf,IAAEC,IAAEC,EAAC,GAAEe,GAAE,MAAI,CAAAjB,OAAG;AAAC,UAAGa;AAAE,eAAON,GAAE,EAAC,OAAME,IAAE,KAAIT,IAAE,WAAUU,GAAC,CAAC;AAAE,YAAMT,KAAEQ;AAAE,UAAG;AAAC,eAAO,EAAED,IAAEP,IAAED,IAAEU,EAAC;AAAA,MAAC,SAAOT,IAAE;AAAC,eAAOa,GAAEd,IAAE,EAAE,iBAAgBC,GAAE,OAAO;AAAA,MAAC;AAAA,IAAC,GAAEgB,GAAE,MAAI,CAAAjB,OAAG;AAAC,UAAGa;AAAE,eAAM;AAAG,UAAG;AAAC,eAAO,EAAEL,IAAEC,IAAET,IAAEU,EAAC,GAAE;AAAA,MAAE,QAAM;AAAC,eAAM;AAAA,MAAE;AAAA,IAAC,GAAEO;AAAA,EAAC,EAAE,EAAC,GAAGd,IAAE,iBAAgBC,GAAC,CAAC;AAAC;AAAC,SAAS,EAAEJ,IAAEC,IAAE;AAAC,SAAOD,OAAIC,KAAE,SAAOD,GAAE,OAAOC,KAAE,KAAK,MAAM;AAAC;AAAC,IAAM,IAAE;AAAR,IAAa,IAAE;AAAf,IAAqB,IAAE,IAAE;AAAzB,IAA2B,IAAE;AAA7B,IAAoC,IAAE;AAAtC,IAA6C,IAAE,MAAI;AAAnD,IAAqD,IAAE,EAAC,QAAO,GAAE,SAAQ,GAAE,QAAO,IAAG,SAAQ,IAAG,MAAK,GAAE,OAAM,GAAE,KAAI,GAAE,MAAK,GAAE,MAAK,GAAE,OAAM,GAAE,OAAM,GAAE,QAAO,GAAE,SAAQ,GAAE,UAAS,GAAE,MAAK,GAAE,OAAM,EAAC;AAAE,SAAS,EAAED,IAAE;AAAC,QAAK,EAAC,QAAOC,KAAE,EAAE,GAAE,aAAYC,KAAE,EAAED,EAAC,GAAE,SAAQE,IAAE,QAAOC,IAAE,SAAQE,KAAE,GAAE,UAASU,GAAC,IAAEhB;AAAE,WAASqB,GAAErB,IAAE;AAAC,WAAOA,IAAG,aAAWgB,KAAEhB,KAAE,EAAC,GAAGA,IAAE,UAASgB,GAAC,IAAEV,GAAE,IAAI,EAAE,EAAE,sBAAqB,MAAM,CAAC,IAAGN;AAAA,EAAC;AAAC,WAASS,GAAET,IAAEC,IAAEC,IAAEC,IAAEC,IAAE;AAAC,QAAIY;AAAE,QAAG;AAAC,MAAAA,KAAE,SAAShB,IAAEC,IAAEC,IAAE;AAAC,YAAIC;AAAE,YAAG,YAAU,OAAOF,IAAE;AAAC,gBAAMC,KAAED;AAAE,cAAGE,KAAEH,KAAIE,EAAC,GAAE,CAACC,IAAE;AAAC,kBAAMH,KAAE,IAAI,EAAE,EAAE,gBAAe,MAAM;AAAE,kBAAMM,GAAEN,EAAC,GAAEA;AAAA,UAAC;AAAA,QAAC;AAAM,UAAAG,KAAEF;AAAE,eAAOC,OAAIC,KAAE,EAAC,GAAGA,IAAE,GAAGD,GAAC,IAAGC;AAAA,MAAC,EAAED,IAAEF,IAAEC,EAAC;AAAA,IAAC,QAAM;AAAC,aAAOG,GAAE;AAAA,IAAC;AAAC,QAAG;AAAC,aAAOD,GAAEa,EAAC;AAAA,IAAC,SAAOhB,IAAE;AAAC,aAAOM,GAAE,IAAI,EAAE,EAAE,kBAAiBN,GAAE,OAAO,CAAC,GAAEI,GAAE;AAAA,IAAC;AAAA,EAAC;AAAC,WAASkB,GAAEtB,IAAEC,IAAEI,IAAE;AAAC,WAAOI,GAAER,IAAEI,IAAEF,IAAG,UAAU,CAAAF,QAAIA,KAAEoB,GAAEpB,EAAC,GAAEC,GAAE,kBAAkBE,IAAEH,EAAC,EAAE,OAAOD,EAAC,IAAK,MAAI,OAAOA,EAAC,CAAE;AAAA,EAAC;AAAC,WAASW,KAAG;AAAC,WAAOX,GAAE,MAAIA,GAAE,OAAKM,GAAE,IAAI,EAAE,EAAE,sBAAqB,MAAM,CAAC,GAAE,oBAAI;AAAA,EAAK;AAAC,SAAM,EAAC,UAASgB,IAAE,QAAO,SAAStB,IAAEC,IAAEI,IAAE;AAAC,WAAOI,GAAER,IAAEI,IAAEF,IAAG,QAAQ,CAAAF,OAAGC,GAAE,gBAAgBE,IAAEH,EAAC,EAAE,OAAOD,EAAC,GAAI,MAAI,OAAOA,EAAC,CAAE;AAAA,EAAC,GAAE,cAAa,SAASA,IAAEC,IAAE;AAAC,QAAG;AAAC,UAAIE,IAAEE;AAAE,YAAMe,KAAE,CAAC;AAAE,MAAAnB,cAAa,QAAM,YAAU,OAAOA,KAAEE,KAAE,IAAI,KAAKF,EAAC,IAAEA,OAAIE,KAAE,QAAMF,GAAE,MAAI,IAAI,KAAKA,GAAE,GAAG,IAAEU,GAAE,GAAEN,KAAEJ,GAAE,MAAKmB,GAAE,QAAMnB,GAAE,OAAMmB,GAAE,kBAAgBnB,GAAE,kBAAiBE,OAAIA,KAAEQ,GAAE;AAAG,YAAML,MAAG,IAAI,KAAKN,EAAC,EAAE,QAAQ,IAAEG,GAAE,QAAQ,KAAG;AAAI,MAAAE,OAAIA,KAAE,SAASL,IAAE;AAAC,cAAMC,KAAE,KAAK,IAAID,EAAC;AAAE,eAAOC,KAAE,KAAG,WAASA,KAAE,IAAE,WAASA,KAAE,IAAE,SAAOA,KAAE,IAAE,QAAMA,KAAE,IAAE,SAAOA,KAAE,IAAE,UAAQ;AAAA,MAAM,EAAEK,EAAC,IAAGc,GAAE,UAAQ,aAAWf,KAAE,SAAO;AAAS,YAAMW,KAAE,SAAShB,IAAEC,IAAE;AAAC,eAAO,KAAK,MAAMD,KAAE,EAAEC,EAAC,CAAC;AAAA,MAAC,EAAEK,IAAED,EAAC;AAAE,aAAOH,GAAE,sBAAsBE,IAAEgB,EAAC,EAAE,OAAOJ,IAAEX,EAAC;AAAA,IAAC,SAAOJ,IAAE;AAAC,aAAOK,GAAE,IAAI,EAAE,EAAE,kBAAiBL,GAAE,OAAO,CAAC,GAAE,OAAOD,EAAC;AAAA,IAAC;AAAA,EAAC,GAAE,MAAK,SAASA,IAAEC,IAAEI,IAAE;AAAC,UAAMe,KAAE,CAAC,GAAEd,KAAE,oBAAI;AAAI,QAAIU,KAAE;AAAE,eAAUf,MAAKD,IAAE;AAAC,UAAIA;AAAE,kBAAU,OAAOC,MAAGD,KAAE,OAAOgB,EAAC,GAAEV,GAAE,IAAIN,IAAEC,EAAC,KAAGD,KAAE,OAAOC,EAAC,GAAEmB,GAAE,KAAKpB,EAAC,GAAEgB;AAAA,IAAG;AAAC,WAAOP,GAAER,IAAEI,IAAEF,IAAG,MAAM,CAAAH,OAAG;AAAC,YAAMC,KAAEC,GAAE,cAAcE,IAAEJ,EAAC,EAAE,cAAcoB,EAAC,EAAE,IAAK,CAAApB,OAAG,cAAYA,GAAE,OAAKA,GAAE,QAAMM,GAAE,IAAIN,GAAE,KAAK,KAAGA,GAAE,KAAM;AAAE,aAAOM,GAAE,OAAK,IAAEL,KAAEA,GAAE,KAAK,EAAE;AAAA,IAAC,GAAI,MAAI,OAAOD,EAAC,CAAE;AAAA,EAAC,GAAE,eAAc,SAASA,IAAEC,IAAEI,IAAEe,IAAE;AAAC,WAAOX,GAAEJ,IAAEe,IAAEjB,IAAG,UAAU,CAAAA,QAAIA,KAAEkB,GAAElB,EAAC,GAAED,GAAE,kBAAkBE,IAAED,EAAC,EAAE,YAAYH,IAAEC,EAAC,IAAK,MAAI,CAACqB,GAAEtB,EAAC,GAAEsB,GAAErB,EAAC,CAAC,EAAE,KAAK,oBAAK,CAAE;AAAA,EAAC,EAAC;AAAC;;;ACAvlL,IAAAsB,iBAAwF;AAA4G,yBAAoB;AAAoB,IAAMC,SAAE,eAAAC,eAAE,MAAM;AAA4e,SAAS,IAAG;AAAC,QAAMC,SAAE,eAAAC,YAAEC,EAAC;AAAE,MAAG,CAACF;AAAE,UAAM,IAAI,MAAM,MAAM;AAAE,SAAOA;AAAC;AAAC,IAAIG,KAAE;AAAG,IAAMC,KAAE,eAAa,OAAO;AAAO,SAAS,EAAEJ,IAAE;AAAC,SAAO,SAASA,IAAEC,IAAEI,IAAE;AAAC,UAAK,EAAC,OAAMC,IAAE,SAAQC,IAAE,YAAWC,IAAE,oBAAmBC,IAAE,QAAOC,IAAE,SAAQC,IAAE,UAAST,GAAC,IAAE,EAAE,GAAEU,KAAEZ,GAAEK,EAAC,GAAEQ,KAAE,EAAEZ,IAAEI,EAAC;AAAE,WAAOH,MAAGC,MAAG,CAACC,OAAID,KAAE,MAAGQ,GAAE,IAAI,EAAE,EAAE,sBAAqB,MAAM,CAAC,QAAG,eAAAG,SAAG,MAAI,EAAE,EAAC,OAAMR,IAAE,YAAWE,IAAE,oBAAmBC,IAAE,UAASG,IAAE,WAAUC,IAAE,SAAQF,IAAE,SAAQJ,IAAE,QAAOG,IAAE,UAASR,GAAC,CAAC,GAAG,CAACI,IAAEE,IAAEC,IAAEG,IAAEC,IAAEF,IAAEJ,IAAEG,IAAER,EAAC,CAAC;AAAA,EAAC,EAAE,EAAC,KAAI,EAAE,EAAE,SAAQ,GAAEF,KAAE,KAAKA,EAAC,KAAG,KAAI,GAAG;AAAC;AAAC,SAAS,IAAG;AAAC,SAAO,EAAE,EAAE;AAAM;AAA4U,SAASe,KAAG;AAAC,QAAK,EAAC,SAAQC,IAAE,YAAWC,IAAE,QAAOC,IAAE,KAAIC,IAAE,SAAQC,IAAE,UAASC,GAAC,IAAE,EAAE;AAAE,aAAO,eAAAC,SAAG,MAAI,EAAE,EAAC,SAAQN,IAAE,QAAOE,IAAE,KAAIC,IAAE,SAAQC,IAAE,UAASC,IAAE,aAAYJ,GAAC,CAAC,GAAG,CAACD,IAAEC,IAAEE,IAAED,IAAEE,IAAEC,EAAC,CAAC;AAAC;;;ACAlqD,SAASE,GAAEC,IAAEC,IAAE;AAAC,SAAM,IAAID,OAAI;AAAC,QAAG;AAAC,aAAOC,GAAE,GAAGD,EAAC;AAAA,IAAC,QAAM;AAAC,YAAM,IAAI,MAAM,MAAM;AAAA,IAAC;AAAA,EAAC;AAAC;AAAC,IAAME,KAAEH,GAAE,GAAE,CAAC;AAAb,IAAeI,KAAEJ,GAAE,GAAEK,EAAC;;;ACYpL,SAAS,wBAAwB;AACtC,SAAOC,GAAgB,QAAQ;AACjC;AAKO,SAAS,sBAAsB;AACpC,SAAOA,GAAgB,MAAM;AAC/B;AAKO,SAAS,2BAA2B;AACzC,SAAOA,GAAgB,WAAW;AACpC;AAKO,SAAS,uBAAuB;AACrC,SAAOA,GAAgB,QAAQ;AACjC;AAKO,SAAS,yBAAyB;AACvC,SAAOA,GAAgB,UAAU;AACnC;AAKO,SAAS,0BAA0B;AACxC,SAAOA,GAAgB,WAAW;AACpC;AAKO,SAAS,0BAA0B;AACxC,SAAOA,GAAgB,UAAU;AACnC;AAKO,SAAS,4BAA4B;AAC1C,SAAOA,GAAgB,YAAY;AACrC;AAKO,SAAS,uBAAuB;AACrC,SAAOA,GAAgB,OAAO;AAChC;AAKO,SAAS,yBAAyB;AACvC,SAAOA,GAAgB,SAAS;AAClC;AAKO,SAAS,4BAA4B;AAC1C,SAAOA,GAAgB,YAAY;AACrC;AAKO,SAAS,0BAA0B;AACxC,SAAOA,GAAgB,UAAU;AACnC;AAKO,SAAS,uBAAuB;AACrC,SAAOA,GAAgB,OAAO;AAChC;AAKO,SAAS,8BAA8B;AAC5C,SAAOA,GAAgB,cAAc;AACvC;AAKO,SAAS,uBAAuB;AACrC,SAAOA,GAAgB,QAAQ;AACjC;;;ACjGA,wBAAuC;AACvC,IAAAC,iBAA8B;AAYvB,SAAS,YAAY;AAC1B,QAAM,SAAS,EAAkB;AACjC,QAAM,aAAS,6BAAU;AACzB,QAAM,eAAW,+BAAY;AAC7B,QAAM,CAAC,WAAW,eAAe,QAAI,8BAAc;AAenD,QAAM,YAAY,CAAC,cAA+B;AAEhD,aAAS,SAAS,eAAe,SAAS;AAE1C,oBAAgB,MAAM;AAEpB,aAAO,QAAQ;AAAA,IACjB,CAAC;AAAA,EACH;AAEA,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACF;;;ACvCO,SAAS,cAA4B;AAC1C,QAAM,EAAE,KAAK,IAAI,QAAQ;AAEzB,QAAM,OAAO,MAAM;AAEnB,SAAO;AAAA,IACL;AAAA,IACA,SAAS,SAAS;AAAA,IAClB,YAAY,SAAS;AAAA,IACrB,eAAe,SAAS;AAAA,IACxB,eAAe,SAAS;AAAA;AAAA,IAGxB,gBAAgB,SAAS,WAAW,SAAS,cAAc,SAAS;AAAA,IACpE,mBAAmB,SAAS,WAAW,SAAS,cAAc,SAAS;AAAA,IACvE,qBAAqB,SAAS,WAAW,SAAS;AAAA,IAClD,kBAAkB,SAAS,WAAW,SAAS;AAAA,IAC/C,wBAAwB,SAAS,WAAW,SAAS;AAAA,IACrD,gBAAgB,SAAS,WAAW,SAAS;AAAA,IAC7C,eAAe,SAAS,WAAW,SAAS;AAAA,EAC9C;AACF;AAMO,SAAS,uBAAgC;AAC9C,QAAM,EAAE,kBAAkB,IAAI,YAAY;AAC1C,SAAO;AACT;AAEO,SAAS,yBAAkC;AAChD,QAAM,EAAE,oBAAoB,IAAI,YAAY;AAC5C,SAAO;AACT;AAEO,SAAS,oBAA6B;AAC3C,QAAM,EAAE,eAAe,IAAI,YAAY;AACvC,SAAO;AACT;AAEO,SAAS,sBAA+B;AAC7C,QAAM,EAAE,iBAAiB,IAAI,YAAY;AACzC,SAAO;AACT;AAEO,SAAS,4BAAqC;AACnD,QAAM,EAAE,uBAAuB,IAAI,YAAY;AAC/C,SAAO;AACT;AAEO,SAAS,oBAA6B;AAC3C,QAAM,EAAE,eAAe,IAAI,YAAY;AACvC,SAAO;AACT;AAEO,SAAS,mBAA4B;AAC1C,QAAM,EAAE,cAAc,IAAI,YAAY;AACtC,SAAO;AACT;;;AChFA,IAAAC,iBAAyB;AAoDlB,SAAS,aAAa,SAAkD;AAC7E,QAAM,EAAE,SAAS,UAAU,KAAK,IAAI;AAEpC,QAAM,SAAS,cAAc;AAAA,IAC3B;AAAA,IACA,SAAS,OAAOC,aAAyB;AACvC,cAAQ,IAAI,kDAA2CA,QAAO;AAE9D,YAAM,WAAW,MAAM,wBAAS,YAAYA,QAAO;AAEnD,UAAI,CAAC,SAAS,WAAW,CAAC,SAAS,MAAM;AACvC,cAAM,IAAI,MAAM,uBAAuB;AAAA,MACzC;AAGA,YAAM,UAAU,SAAS;AAGzB,UAAI;AACJ,UAAI;AACJ,UAAI;AACJ,UAAI;AACJ,UAAI;AACJ,UAAI;AAEJ,UAAI,MAAM,QAAQ,OAAO,GAAG;AAE1B,cAAM,aAAc,SAAiB,cAAc,CAAC;AACpD,oBAAY;AACZ,gBAAQ,WAAW,SAAS,QAAQ;AACpC,eAAO,WAAW,QAAQ;AAC1B,gBAAQ,WAAW,SAAS;AAC5B,qBAAa,KAAK,KAAK,QAAQ,KAAK;AACpC,kBAAU,WAAW,YAAY,SAAY,WAAW,UAAU,OAAO;AAAA,MAC3E,OAAO;AAEL,oBAAY,QAAQ,SAAS,CAAC;AAC9B,gBAAQ,QAAQ,SAAS;AACzB,eAAO,QAAQ,QAAQ;AACvB,gBAAQ,QAAQ,SAAS;AACzB,qBAAa,QAAQ,cAAc,KAAK,KAAK,QAAQ,KAAK;AAC1D,kBAAU,QAAQ,YAAY,SAAY,QAAQ,UAAU,OAAO;AAAA,MACrE;AAEA,YAAM,cAAiC;AAAA,QACrC,OAAO;AAAA,QACP;AAAA,QACA;AAAA,QACA,aAAa;AAAA;AAAA,QACb;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAEA,cAAQ,IAAI,iCAA4B;AAAA,QACtC,YAAY,YAAY,MAAM;AAAA,QAC9B,OAAO,YAAY;AAAA,QACnB,MAAM,YAAY;AAAA,MACpB,CAAC;AAED,aAAO;AAAA,IACT;AAAA,IACA;AAAA,IACA,WAAW;AAAA;AAAA,IACX,WAAW;AAAA;AAAA,IACX,sBAAsB;AAAA,EACxB,CAAC;AAED,SAAO;AACT;;;AC5HA,IAAAC,qBAA0B;AAC1B,IAAAC,iBAAyD;AAiBlD,SAAS,wBAAwB,UAA0C,CAAC,GAAG;AACpF,QAAM,aAAS,8BAAU;AACzB,QAAM,CAAC,cAAc,eAAe,QAAI,yBAAwB,IAAI;AACpE,QAAM,aAAS,uBAAsB,IAAI;AACzC,QAAM,iBAAa,uBAA8B,IAAI;AAGrD,gCAAU,MAAM;AACd,WAAO,MAAM;AACX,UAAI,OAAO,SAAS;AAClB,6BAAqB,OAAO,OAAO;AAAA,MACrC;AACA,UAAI,WAAW,SAAS;AACtB,qBAAa,WAAW,OAAO;AAAA,MACjC;AAAA,IACF;AAAA,EACF,GAAG,CAAC,CAAC;AAEL,QAAM,eAAW,4BAAY,CAAC,SAAiB;AAE7C,QAAI,OAAO,SAAS;AAClB,2BAAqB,OAAO,OAAO;AAAA,IACrC;AACA,QAAI,WAAW,SAAS;AACtB,mBAAa,WAAW,OAAO;AAAA,IACjC;AAIA,YAAQ,kBAAkB,IAAI;AAC9B,WAAO,KAAK,IAAI;AAGhB,eAAW,UAAU,WAAW,MAAM;AACpC,sBAAgB,IAAI;AACpB,cAAQ,gBAAgB,IAAI;AAAA,IAC9B,GAAG,GAAG;AAAA,EACR,GAAG,CAAC,QAAQ,OAAO,CAAC;AAEpB,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA,cAAc,iBAAiB;AAAA,EACjC;AACF;;;ACrCO,SAAS,cAAc;AAC5B,QAAMC,KAAI,qBAAqB;AAM/B,QAAM,iBAAiB,CAAC,aAA0B;AAEhD,QAAI,UAAU,UAAU,MAAM;AAC5B,aAAO,eAAe,SAAS,SAAS,IAAI;AAAA,IAC9C;AAGA,QAAI,UAAU,MAAM;AAClB,YAAM,aAAaA,GAAE,SAAS,IAAI;AAElC,UAAI,eAAe,SAAS,QAAQ,SAAS,SAAS;AACpD,eAAO,SAAS;AAAA,MAClB;AACA,aAAO;AAAA,IACT;AAGA,QAAI,UAAU,SAAS;AACrB,aAAO,SAAS;AAAA,IAClB;AAGA,QAAI,OAAO,aAAa,UAAU;AAChC,aAAO;AAAA,IACT;AAGA,WAAOA,GAAE,eAAe;AAAA,EAC1B;AAMA,QAAM,mBAAmB,CAAC,aAA0B;AAElD,QAAI,UAAU,MAAM;AAClB,YAAM,aAAaA,GAAE,SAAS,IAAI;AAElC,UAAI,eAAe,SAAS,QAAQ,SAAS,SAAS;AACpD,eAAO,SAAS;AAAA,MAClB;AACA,aAAO;AAAA,IACT;AAGA,QAAI,UAAU,SAAS;AACrB,aAAO,SAAS;AAAA,IAClB;AAGA,WAAOA,GAAE,eAAe;AAAA,EAC1B;AAKA,QAAM,oBAAoB,CAAC,aAA0B;AACnD,QAAI,UAAU,YAAY,OAAO;AAC/B,aAAO,eAAe,QAAQ;AAAA,IAChC;AACA,WAAO,iBAAiB,QAAQ;AAAA,EAClC;AAKA,QAAM,UAAU,CAAC,aAA2B;AAC1C,WAAO,UAAU,YAAY,SAAS,CAAC,CAAC,UAAU,SAAS,CAAC,CAAC,UAAU,UAAU,MAAM;AAAA,EACzF;AAKA,QAAM,eAAe,CAAC,aAAiC;AACrD,QAAI,UAAU,UAAU,MAAM,MAAM;AAClC,aAAO,SAAS,SAAS,KAAK;AAAA,IAChC;AACA,QAAI,UAAU,MAAM;AAClB,aAAO,SAAS;AAAA,IAClB;AACA,WAAO;AAAA,EACT;AAEA,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACF;AAYO,SAAS,oBAAoB,OAAoB;AAEtD,MAAI,OAAO,UAAU,MAAM;AACzB,UAAM,OAAO,MAAM,SAAS;AAC5B,WAAO,KAAK,WAAW,KAAK,SAAS;AAAA,EACvC;AAGA,MAAI,OAAO,SAAS;AAClB,WAAO,MAAM;AAAA,EACf;AAGA,MAAI,OAAO,UAAU,UAAU;AAC7B,WAAO;AAAA,EACT;AAEA,SAAO;AACT;AAOO,SAAS,iBAAiB,OAA2B;AAE1D,MAAI,OAAO,UAAU,MAAM,MAAM;AAC/B,WAAO,MAAM,SAAS,KAAK;AAAA,EAC7B;AAGA,MAAI,OAAO,MAAM;AACf,WAAO,MAAM;AAAA,EACf;AAEA,SAAO;AACT;AAQO,SAAS,YAAY,OAAY,MAAuB;AAC7D,SAAO,iBAAiB,KAAK,MAAM;AACrC;AAKO,IAAM,gBAAgB;AAAA,EAC3B,gBAAgB,CAAC,UAAe,YAAY,OAAO,cAAc,KAAK,YAAY,OAAO,eAAe;AAAA,EACxG,aAAa,CAAC,UAAe,YAAY,OAAO,WAAW;AAAA,EAC3D,YAAY,CAAC,UAAe,YAAY,OAAO,WAAW,KAAK,iBAAiB,KAAK,GAAG,SAAS,YAAY;AAAA,EAC7G,mBAAmB,CAAC,UAAe,YAAY,OAAO,kBAAkB;AAAA,EACxE,kBAAkB,CAAC,UAAe,YAAY,OAAO,iBAAiB,KAAK,iBAAiB,KAAK,GAAG,SAAS,SAAS;AAAA,EACtH,gBAAgB,CAAC,UAAe,YAAY,OAAO,eAAe,KAAK,OAAO,SAAS,SAAS,SAAS;AAC3G;;;AC/LA,IAAAC,iBAA0C;AAyDnC,SAAS,iBAAiB;AAC/B,QAAM,EAAE,MAAM,SAAS,MAAM,IAAI,cAAc;AAAA,IAC7C,SAAS,CAAC;AAAA;AAAA,IACV,SAAS,YAAY;AACnB,cAAQ,IAAI,+CAAwC;AACpD,YAAM,WAAW,MAAM,0BAAW,WAAW;AAE7C,UAAI,SAAS,WAAW,SAAS,MAAM;AAErC,cAAM,cAAe,SAAS,KAAa,WAAW,CAAC;AAEvD,gBAAQ,IAAI,4CAAuC;AAAA,UACjD,SAAS,MAAM,QAAQ,WAAW;AAAA,UAClC,OAAO,YAAY;AAAA,QACrB,CAAC;AAED,eAAO,EAAE,SAAS,YAAY;AAAA,MAChC;AAEA,YAAM,IAAI,MAAM,yBAAyB;AAAA,IAC3C;AAAA,IACA,SAAS;AAAA,IACT,WAAW;AAAA;AAAA,IACX,WAAW;AAAA;AAAA,IACX,gBAAgB;AAAA;AAAA,IAChB,sBAAsB;AAAA,EACxB,CAAC;AAED,SAAO;AAAA,IACL,SAAS,MAAM,WAAW,CAAC;AAAA,IAC3B;AAAA,IACA;AAAA,EACF;AACF;AAQO,SAAS,oBAAoB;AAClC,QAAM,EAAE,MAAM,SAAS,MAAM,IAAI,cAAc;AAAA,IAC7C,SAAS,CAAC;AAAA;AAAA,IACV,SAAS,YAAY;AACnB,cAAQ,IAAI,qDAA8C;AAC1D,YAAM,WAAW,MAAM,6BAAc,cAAc;AAEnD,UAAI,SAAS,WAAW,SAAS,MAAM;AAErC,cAAM,iBAAiB,SAAS;AAEhC,gBAAQ,IAAI,gDAA2C;AAAA,UACrD,SAAS,MAAM,QAAQ,cAAc;AAAA,UACrC,OAAO,eAAe;AAAA,QACxB,CAAC;AAED,eAAO;AAAA,MACT;AAEA,YAAM,IAAI,MAAM,4BAA4B;AAAA,IAC9C;AAAA,IACA,SAAS;AAAA,IACT,WAAW;AAAA;AAAA,IACX,WAAW;AAAA;AAAA,IACX,gBAAgB;AAAA;AAAA,IAChB,sBAAsB;AAAA,EACxB,CAAC;AAED,UAAQ,IAAI,uCAAgC;AAAA,IAC1C;AAAA,IACA,SAAS,MAAM,QAAQ,IAAI;AAAA,IAC3B,MAAM,OAAO;AAAA,IACb,QAAQ,MAAM;AAAA,EAChB,CAAC;AAGD,QAAM,aAAa,MAAM,QAAQ,IAAI,IAAI,OAAO,CAAC;AAEjD,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACF;AAWO,SAAS,sBAAsB,SAAgC;AACpE,QAAM,EAAE,SAAS,UAAU,MAAM,iBAAiB,MAAM,aAAa,IAAI,IAAI;AAE7E,QAAM,EAAE,MAAM,SAAS,OAAO,QAAQ,IAAI,cAAc;AAAA,IACtD;AAAA,IACA,SAAS,OAAOC,aAA2B;AACzC,cAAQ,IAAI,2DAAoDA,QAAO;AACvE,YAAM,WAAW,MAAM,0BAAW,WAAWA,QAAO;AAEpD,UAAI,SAAS,WAAW,SAAS,MAAM;AACrC,cAAM,UAAU,SAAS;AAEzB,eAAO;AAAA,UACL,SAAS,QAAQ,WAAW,CAAC;AAAA,UAC7B,OAAO,QAAQ,SAAS;AAAA,UACxB,YAAY,QAAQ,cAAc;AAAA,UAClC,aAAa,QAAQ,QAAQ;AAAA,UAC7B,OAAO,QAAQ,SAAS;AAAA,UACxB,SAAS,QAAQ,WAAW;AAAA,QAC9B;AAAA,MACF;AAEA,YAAM,IAAI,MAAM,yBAAyB;AAAA,IAC3C;AAAA,IACA;AAAA,IACA,WAAW,iBAAiB,MAAO;AAAA,IACnC,WAAW;AAAA,IACX,gBAAgB;AAAA,IAChB,sBAAsB;AAAA,EACxB,CAAC;AAED,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACF;AAOO,SAAS,yBAAyB,SAAmC;AAC1E,QAAM,EAAE,SAAS,UAAU,MAAM,iBAAiB,OAAO,aAAa,EAAE,IAAI;AAE5E,QAAM,EAAE,MAAM,SAAS,OAAO,QAAQ,IAAI,cAAc;AAAA,IACtD;AAAA,IACA,SAAS,OAAOA,aAA6B;AAC3C,cAAQ,IAAI,8DAAuDA,QAAO;AAC1E,YAAM,WAAW,MAAM,6BAAc,iBAAiBA,QAAO;AAE7D,UAAI,SAAS,WAAW,SAAS,MAAM;AACrC,cAAM,UAAU,SAAS;AAEzB,eAAO;AAAA,UACL,YAAY,QAAQ,cAAc,CAAC;AAAA,UACnC,OAAO,QAAQ,SAAS;AAAA,UACxB,aAAa,QAAQ,QAAQ;AAAA,UAC7B,YAAY,QAAQ,cAAc;AAAA,UAClC,OAAO,QAAQ,SAAS;AAAA,UACxB,SAAS,QAAQ,WAAW;AAAA,QAC9B;AAAA,MACF;AAEA,YAAM,IAAI,MAAM,4BAA4B;AAAA,IAC9C;AAAA,IACA;AAAA,IACA,WAAW,iBAAiB,MAAO;AAAA,IACnC,WAAW;AAAA,IACX,gBAAgB;AAAA,IAChB,sBAAsB;AAAA,EACxB,CAAC;AAED,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACF;","names":["import_react","import_utils","import_react","import_react","subscriptionsApi","isActive","isExpired","isTrial","error","action","import_react","import_utils","import_react","error","cached","import_utils","filters","import_utils","filters","m","a","import_utils","filters","import_react","import_utils","filters","p","a","import_utils","filters","p","a","import_react","import_utils","filters","import_utils","filters","import_react","error","import_react","import_react","import_utils","import_ui","d","b","p","__assign","t","s","i","n","e","i","l","ObjectWithoutPrototypeCache","ErrorKind","TYPE","SKELETON_TYPE","_a","g2","opt","n","startsWith","s","fromCodePoint","i","fromEntries","_a","k","v","codePointAt","trimStart","trimEnd","matchIdentifierAtIndex","c","Parser","e","c","k","ErrorCode","FormatError","InvalidValueError","InvalidValueTypeError","MissingValueError","PART_TYPE","p","c","k","_a","IntlMessageFormat","import_react","e","t","r","n","o","a","i","c","m","l","g","E","S","T","N","y","u","A","M","F","s","f","I","import_react","d","e","e","r","d","E","h","t","n","a","s","c","u","g","w","p","o","I","e","r","t","n","a","s","o","o","r","t","e","n","I","e","import_react","import_utils","filters","import_navigation","import_react","t","import_utils","filters"]}